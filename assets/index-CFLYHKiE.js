(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:t,type:i,key:u,ref:o!==void 0?o:null,props:l}}return reactJsxRuntime_production.Fragment=e,reactJsxRuntime_production.jsx=n,reactJsxRuntime_production.jsxs=n,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),E=Symbol.iterator;function A(oe){return oe===null||typeof oe!="object"?null:(oe=E&&oe[E]||oe["@@iterator"],typeof oe=="function"?oe:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,j={};function q(oe,de,xe){this.props=oe,this.context=de,this.refs=j,this.updater=xe||R}q.prototype.isReactComponent={},q.prototype.setState=function(oe,de){if(typeof oe!="object"&&typeof oe!="function"&&oe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,oe,de,"setState")},q.prototype.forceUpdate=function(oe){this.updater.enqueueForceUpdate(this,oe,"forceUpdate")};function L(){}L.prototype=q.prototype;function z(oe,de,xe){this.props=oe,this.context=de,this.refs=j,this.updater=xe||R}var U=z.prototype=new L;U.constructor=z,I(U,q.prototype),U.isPureReactComponent=!0;var W=Array.isArray,H={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function Y(oe,de,xe,Ee,Ae,Ce){return xe=Ce.ref,{$$typeof:t,type:oe,key:de,ref:xe!==void 0?xe:null,props:Ce}}function J(oe,de){return Y(oe.type,de,void 0,void 0,void 0,oe.props)}function ne(oe){return typeof oe=="object"&&oe!==null&&oe.$$typeof===t}function ae(oe){var de={"=":"=0",":":"=2"};return"$"+oe.replace(/[=:]/g,function(xe){return de[xe]})}var se=/\/+/g;function ue(oe,de){return typeof oe=="object"&&oe!==null&&oe.key!=null?ae(""+oe.key):de.toString(36)}function fe(){}function _e(oe){switch(oe.status){case"fulfilled":return oe.value;case"rejected":throw oe.reason;default:switch(typeof oe.status=="string"?oe.then(fe,fe):(oe.status="pending",oe.then(function(de){oe.status==="pending"&&(oe.status="fulfilled",oe.value=de)},function(de){oe.status==="pending"&&(oe.status="rejected",oe.reason=de)})),oe.status){case"fulfilled":return oe.value;case"rejected":throw oe.reason}}throw oe}function ge(oe,de,xe,Ee,Ae){var Ce=typeof oe;(Ce==="undefined"||Ce==="boolean")&&(oe=null);var Oe=!1;if(oe===null)Oe=!0;else switch(Ce){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(oe.$$typeof){case t:case e:Oe=!0;break;case g:return Oe=oe._init,ge(Oe(oe._payload),de,xe,Ee,Ae)}}if(Oe)return Ae=Ae(oe),Oe=Ee===""?"."+ue(oe,0):Ee,W(Ae)?(xe="",Oe!=null&&(xe=Oe.replace(se,"$&/")+"/"),ge(Ae,de,xe,"",function(Ne){return Ne})):Ae!=null&&(ne(Ae)&&(Ae=J(Ae,xe+(Ae.key==null||oe&&oe.key===Ae.key?"":(""+Ae.key).replace(se,"$&/")+"/")+Oe)),de.push(Ae)),1;Oe=0;var We=Ee===""?".":Ee+":";if(W(oe))for(var qe=0;qe<oe.length;qe++)Ee=oe[qe],Ce=We+ue(Ee,qe),Oe+=ge(Ee,de,xe,Ce,Ae);else if(qe=A(oe),typeof qe=="function")for(oe=qe.call(oe),qe=0;!(Ee=oe.next()).done;)Ee=Ee.value,Ce=We+ue(Ee,qe++),Oe+=ge(Ee,de,xe,Ce,Ae);else if(Ce==="object"){if(typeof oe.then=="function")return ge(_e(oe),de,xe,Ee,Ae);throw de=String(oe),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(oe).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ce(oe,de,xe){if(oe==null)return oe;var Ee=[],Ae=0;return ge(oe,Ee,"","",function(Ce){return de.call(xe,Ce,Ae++)}),Ee}function me(oe){if(oe._status===-1){var de=oe._result;de=de(),de.then(function(xe){(oe._status===0||oe._status===-1)&&(oe._status=1,oe._result=xe)},function(xe){(oe._status===0||oe._status===-1)&&(oe._status=2,oe._result=xe)}),oe._status===-1&&(oe._status=0,oe._result=de)}if(oe._status===1)return oe._result.default;throw oe._result}var ee=typeof reportError=="function"?reportError:function(oe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof oe=="object"&&oe!==null&&typeof oe.message=="string"?String(oe.message):String(oe),error:oe});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",oe);return}console.error(oe)};function ie(){}return react_production.Children={map:ce,forEach:function(oe,de,xe){ce(oe,function(){de.apply(this,arguments)},xe)},count:function(oe){var de=0;return ce(oe,function(){de++}),de},toArray:function(oe){return ce(oe,function(de){return de})||[]},only:function(oe){if(!ne(oe))throw Error("React.Children.only expected to receive a single React element child.");return oe}},react_production.Component=q,react_production.Fragment=n,react_production.Profiler=o,react_production.PureComponent=z,react_production.StrictMode=i,react_production.Suspense=d,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,react_production.act=function(){throw Error("act(...) is not supported in production builds of React.")},react_production.cache=function(oe){return function(){return oe.apply(null,arguments)}},react_production.cloneElement=function(oe,de,xe){if(oe==null)throw Error("The argument must be a React element, but you passed "+oe+".");var Ee=I({},oe.props),Ae=oe.key,Ce=void 0;if(de!=null)for(Oe in de.ref!==void 0&&(Ce=void 0),de.key!==void 0&&(Ae=""+de.key),de)!Z.call(de,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&de.ref===void 0||(Ee[Oe]=de[Oe]);var Oe=arguments.length-2;if(Oe===1)Ee.children=xe;else if(1<Oe){for(var We=Array(Oe),qe=0;qe<Oe;qe++)We[qe]=arguments[qe+2];Ee.children=We}return Y(oe.type,Ae,void 0,void 0,Ce,Ee)},react_production.createContext=function(oe){return oe={$$typeof:u,_currentValue:oe,_currentValue2:oe,_threadCount:0,Provider:null,Consumer:null},oe.Provider=oe,oe.Consumer={$$typeof:l,_context:oe},oe},react_production.createElement=function(oe,de,xe){var Ee,Ae={},Ce=null;if(de!=null)for(Ee in de.key!==void 0&&(Ce=""+de.key),de)Z.call(de,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(Ae[Ee]=de[Ee]);var Oe=arguments.length-2;if(Oe===1)Ae.children=xe;else if(1<Oe){for(var We=Array(Oe),qe=0;qe<Oe;qe++)We[qe]=arguments[qe+2];Ae.children=We}if(oe&&oe.defaultProps)for(Ee in Oe=oe.defaultProps,Oe)Ae[Ee]===void 0&&(Ae[Ee]=Oe[Ee]);return Y(oe,Ce,void 0,void 0,null,Ae)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(oe){return{$$typeof:f,render:oe}},react_production.isValidElement=ne,react_production.lazy=function(oe){return{$$typeof:g,_payload:{_status:-1,_result:oe},_init:me}},react_production.memo=function(oe,de){return{$$typeof:p,type:oe,compare:de===void 0?null:de}},react_production.startTransition=function(oe){var de=H.T,xe={};H.T=xe;try{var Ee=oe(),Ae=H.S;Ae!==null&&Ae(xe,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(ie,ee)}catch(Ce){ee(Ce)}finally{H.T=de}},react_production.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},react_production.use=function(oe){return H.H.use(oe)},react_production.useActionState=function(oe,de,xe){return H.H.useActionState(oe,de,xe)},react_production.useCallback=function(oe,de){return H.H.useCallback(oe,de)},react_production.useContext=function(oe){return H.H.useContext(oe)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(oe,de){return H.H.useDeferredValue(oe,de)},react_production.useEffect=function(oe,de){return H.H.useEffect(oe,de)},react_production.useId=function(){return H.H.useId()},react_production.useImperativeHandle=function(oe,de,xe){return H.H.useImperativeHandle(oe,de,xe)},react_production.useInsertionEffect=function(oe,de){return H.H.useInsertionEffect(oe,de)},react_production.useLayoutEffect=function(oe,de){return H.H.useLayoutEffect(oe,de)},react_production.useMemo=function(oe,de){return H.H.useMemo(oe,de)},react_production.useOptimistic=function(oe,de){return H.H.useOptimistic(oe,de)},react_production.useReducer=function(oe,de,xe){return H.H.useReducer(oe,de,xe)},react_production.useRef=function(oe){return H.H.useRef(oe)},react_production.useState=function(oe){return H.H.useState(oe)},react_production.useSyncExternalStore=function(oe,de,xe){return H.H.useSyncExternalStore(oe,de,xe)},react_production.useTransition=function(){return H.H.useTransition()},react_production.version="19.0.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(t){function e(ce,me){var ee=ce.length;ce.push(me);e:for(;0<ee;){var ie=ee-1>>>1,oe=ce[ie];if(0<o(oe,me))ce[ie]=me,ce[ee]=oe,ee=ie;else break e}}function n(ce){return ce.length===0?null:ce[0]}function i(ce){if(ce.length===0)return null;var me=ce[0],ee=ce.pop();if(ee!==me){ce[0]=ee;e:for(var ie=0,oe=ce.length,de=oe>>>1;ie<de;){var xe=2*(ie+1)-1,Ee=ce[xe],Ae=xe+1,Ce=ce[Ae];if(0>o(Ee,ee))Ae<oe&&0>o(Ce,Ee)?(ce[ie]=Ce,ce[Ae]=ee,ie=Ae):(ce[ie]=Ee,ce[xe]=ee,ie=xe);else if(Ae<oe&&0>o(Ce,ee))ce[ie]=Ce,ce[Ae]=ee,ie=Ae;else break e}}return me}function o(ce,me){var ee=ce.sortIndex-me.sortIndex;return ee!==0?ee:ce.id-me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],p=[],g=1,E=null,A=3,R=!1,I=!1,j=!1,q=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function U(ce){for(var me=n(p);me!==null;){if(me.callback===null)i(p);else if(me.startTime<=ce)i(p),me.sortIndex=me.expirationTime,e(d,me);else break;me=n(p)}}function W(ce){if(j=!1,U(ce),!I)if(n(d)!==null)I=!0,_e();else{var me=n(p);me!==null&&ge(W,me.startTime-ce)}}var H=!1,Z=-1,Y=5,J=-1;function ne(){return!(t.unstable_now()-J<Y)}function ae(){if(H){var ce=t.unstable_now();J=ce;var me=!0;try{e:{I=!1,j&&(j=!1,L(Z),Z=-1),R=!0;var ee=A;try{t:{for(U(ce),E=n(d);E!==null&&!(E.expirationTime>ce&&ne());){var ie=E.callback;if(typeof ie=="function"){E.callback=null,A=E.priorityLevel;var oe=ie(E.expirationTime<=ce);if(ce=t.unstable_now(),typeof oe=="function"){E.callback=oe,U(ce),me=!0;break t}E===n(d)&&i(d),U(ce)}else i(d);E=n(d)}if(E!==null)me=!0;else{var de=n(p);de!==null&&ge(W,de.startTime-ce),me=!1}}break e}finally{E=null,A=ee,R=!1}me=void 0}}finally{me?se():H=!1}}}var se;if(typeof z=="function")se=function(){z(ae)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,fe=ue.port2;ue.port1.onmessage=ae,se=function(){fe.postMessage(null)}}else se=function(){q(ae,0)};function _e(){H||(H=!0,se())}function ge(ce,me){Z=q(function(){ce(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ce){ce.callback=null},t.unstable_continueExecution=function(){I||R||(I=!0,_e())},t.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<ce?Math.floor(1e3/ce):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ce){switch(A){case 1:case 2:case 3:var me=3;break;default:me=A}var ee=A;A=me;try{return ce()}finally{A=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ce,me){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var ee=A;A=ce;try{return me()}finally{A=ee}},t.unstable_scheduleCallback=function(ce,me,ee){var ie=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ie+ee:ie):ee=ie,ce){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ee+oe,ce={id:g++,callback:me,priorityLevel:ce,startTime:ee,expirationTime:oe,sortIndex:-1},ee>ie?(ce.sortIndex=ee,e(p,ce),n(d)===null&&ce===n(p)&&(j?(L(Z),Z=-1):j=!0,ge(W,ee-ie))):(ce.sortIndex=oe,e(d,ce),I||R||(I=!0,_e())),ce},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(ce){var me=A;return function(){var ee=A;A=me;try{return ce.apply(this,arguments)}finally{A=ee}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var t=requireReact();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,p,g){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:d,containerInfo:p,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,reactDom_production.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,g)},reactDom_production.flushSync=function(d){var p=u.T,g=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=g,i.d.f()}},reactDom_production.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},reactDom_production.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},reactDom_production.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,E=f(g,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:R}):g==="script"&&i.d.X(d,{crossOrigin:E,integrity:A,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},reactDom_production.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},reactDom_production.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,E=f(g,p.crossOrigin);i.d.L(d,g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},reactDom_production.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=f(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},reactDom_production.requestFormReset=function(d){i.d.r(d)},reactDom_production.unstable_batchedUpdates=function(d,p){return d(p)},reactDom_production.useFormState=function(d,p,g){return u.H.useFormState(d,p,g)},reactDom_production.useFormStatus=function(){return u.H.useHostTransitionStatus()},reactDom_production.version="19.0.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var t=requireScheduler(),e=requireReact(),n=requireReactDom();function i(m){var _="https://react.dev/errors/"+m;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+m+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function Z(m){return m===null||typeof m!="object"?null:(m=H&&m[H]||m["@@iterator"],typeof m=="function"?m:null)}var Y=Symbol.for("react.client.reference");function J(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===Y?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case d:return"Fragment";case f:return"Portal";case g:return"Profiler";case p:return"StrictMode";case j:return"Suspense";case q:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case R:return(m.displayName||"Context")+".Provider";case A:return(m._context.displayName||"Context")+".Consumer";case I:var _=m.render;return m=m.displayName,m||(m=_.displayName||_.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case L:return _=m.displayName||null,_!==null?_:J(m.type)||"Memo";case z:_=m._payload,m=m._init;try{return J(m(_))}catch{}}return null}var ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=Object.assign,se,ue;function fe(m){if(se===void 0)try{throw Error()}catch(T){var _=T.stack.trim().match(/\n( *(at )?)/);se=_&&_[1]||"",ue=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+m+ue}var _e=!1;function ge(m,_){if(!m||_e)return"";_e=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var V={DetermineComponentFrameRoot:function(){try{if(_){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch($e){var Ie=$e}Reflect.construct(m,[],Fe)}else{try{Fe.call()}catch($e){Ie=$e}m.call(Fe.prototype)}}else{try{throw Error()}catch($e){Ie=$e}(Fe=m())&&typeof Fe.catch=="function"&&Fe.catch(function(){})}}catch($e){if($e&&Ie&&typeof $e.stack=="string")return[$e.stack,Ie.stack]}return[null,null]}};V.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var K=Object.getOwnPropertyDescriptor(V.DetermineComponentFrameRoot,"name");K&&K.configurable&&Object.defineProperty(V.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var te=V.DetermineComponentFrameRoot(),pe=te[0],ye=te[1];if(pe&&ye){var be=pe.split(`
`),Te=ye.split(`
`);for(K=V=0;V<be.length&&!be[V].includes("DetermineComponentFrameRoot");)V++;for(;K<Te.length&&!Te[K].includes("DetermineComponentFrameRoot");)K++;if(V===be.length||K===Te.length)for(V=be.length-1,K=Te.length-1;1<=V&&0<=K&&be[V]!==Te[K];)K--;for(;1<=V&&0<=K;V--,K--)if(be[V]!==Te[K]){if(V!==1||K!==1)do if(V--,K--,0>K||be[V]!==Te[K]){var Le=`
`+be[V].replace(" at new "," at ");return m.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",m.displayName)),Le}while(1<=V&&0<=K);break}}}finally{_e=!1,Error.prepareStackTrace=T}return(T=m?m.displayName||m.name:"")?fe(T):""}function ce(m){switch(m.tag){case 26:case 27:case 5:return fe(m.type);case 16:return fe("Lazy");case 13:return fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return m=ge(m.type,!1),m;case 11:return m=ge(m.type.render,!1),m;case 1:return m=ge(m.type,!0),m;default:return""}}function me(m){try{var _="";do _+=ce(m),m=m.return;while(m);return _}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function ee(m){var _=m,T=m;if(m.alternate)for(;_.return;)_=_.return;else{m=_;do _=m,(_.flags&4098)!==0&&(T=_.return),m=_.return;while(m)}return _.tag===3?T:null}function ie(m){if(m.tag===13){var _=m.memoizedState;if(_===null&&(m=m.alternate,m!==null&&(_=m.memoizedState)),_!==null)return _.dehydrated}return null}function oe(m){if(ee(m)!==m)throw Error(i(188))}function de(m){var _=m.alternate;if(!_){if(_=ee(m),_===null)throw Error(i(188));return _!==m?null:m}for(var T=m,V=_;;){var K=T.return;if(K===null)break;var te=K.alternate;if(te===null){if(V=K.return,V!==null){T=V;continue}break}if(K.child===te.child){for(te=K.child;te;){if(te===T)return oe(K),m;if(te===V)return oe(K),_;te=te.sibling}throw Error(i(188))}if(T.return!==V.return)T=K,V=te;else{for(var pe=!1,ye=K.child;ye;){if(ye===T){pe=!0,T=K,V=te;break}if(ye===V){pe=!0,V=K,T=te;break}ye=ye.sibling}if(!pe){for(ye=te.child;ye;){if(ye===T){pe=!0,T=te,V=K;break}if(ye===V){pe=!0,V=te,T=K;break}ye=ye.sibling}if(!pe)throw Error(i(189))}}if(T.alternate!==V)throw Error(i(190))}if(T.tag!==3)throw Error(i(188));return T.stateNode.current===T?m:_}function xe(m){var _=m.tag;if(_===5||_===26||_===27||_===6)return m;for(m=m.child;m!==null;){if(_=xe(m),_!==null)return _;m=m.sibling}return null}var Ee=Array.isArray,Ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Oe=[],We=-1;function qe(m){return{current:m}}function Ne(m){0>We||(m.current=Oe[We],Oe[We]=null,We--)}function Me(m,_){We++,Oe[We]=m.current,m.current=_}var Be=qe(null),je=qe(null),ze=qe(null),ke=qe(null);function Ge(m,_){switch(Me(ze,_),Me(je,m),Me(Be,null),m=_.nodeType,m){case 9:case 11:_=(_=_.documentElement)&&(_=_.namespaceURI)?Ah(_):0;break;default:if(m=m===8?_.parentNode:_,_=m.tagName,m=m.namespaceURI)m=Ah(m),_=Sh(m,_);else switch(_){case"svg":_=1;break;case"math":_=2;break;default:_=0}}Ne(Be),Me(Be,_)}function He(){Ne(Be),Ne(je),Ne(ze)}function ct(m){m.memoizedState!==null&&Me(ke,m);var _=Be.current,T=Sh(_,m.type);_!==T&&(Me(je,m),Me(Be,T))}function tr(m){je.current===m&&(Ne(Be),Ne(je)),ke.current===m&&(Ne(ke),Po._currentValue=Ce)}var ar=Object.prototype.hasOwnProperty,vt=t.unstable_scheduleCallback,xt=t.unstable_cancelCallback,ur=t.unstable_shouldYield,yr=t.unstable_requestPaint,Mt=t.unstable_now,Sr=t.unstable_getCurrentPriorityLevel,Lt=t.unstable_ImmediatePriority,Ft=t.unstable_UserBlockingPriority,_r=t.unstable_NormalPriority,Wr=t.unstable_LowPriority,mn=t.unstable_IdlePriority,_n=t.log,Ln=t.unstable_setDisableYieldValue,xn=null,$r=null;function ti(m){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(xn,m,void 0,(m.current.flags&128)===128)}catch{}}function gn(m){if(typeof _n=="function"&&Ln(m),$r&&typeof $r.setStrictMode=="function")try{$r.setStrictMode(xn,m)}catch{}}var Br=Math.clz32?Math.clz32:bi,Vn=Math.log,Ki=Math.LN2;function bi(m){return m>>>=0,m===0?32:31-(Vn(m)/Ki|0)|0}var Rn=128,pr=4194304;function Ct(m){var _=m&42;if(_!==0)return _;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function At(m,_){var T=m.pendingLanes;if(T===0)return 0;var V=0,K=m.suspendedLanes,te=m.pingedLanes,pe=m.warmLanes;m=m.finishedLanes!==0;var ye=T&134217727;return ye!==0?(T=ye&~K,T!==0?V=Ct(T):(te&=ye,te!==0?V=Ct(te):m||(pe=ye&~pe,pe!==0&&(V=Ct(pe))))):(ye=T&~K,ye!==0?V=Ct(ye):te!==0?V=Ct(te):m||(pe=T&~pe,pe!==0&&(V=Ct(pe)))),V===0?0:_!==0&&_!==V&&(_&K)===0&&(K=V&-V,pe=_&-_,K>=pe||K===32&&(pe&4194176)!==0)?_:V}function Ir(m,_){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&_)===0}function pt(m,_){switch(m){case 1:case 2:case 4:case 8:return _+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dr(){var m=Rn;return Rn<<=1,(Rn&4194176)===0&&(Rn=128),m}function Lr(){var m=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),m}function un(m){for(var _=[],T=0;31>T;T++)_.push(m);return _}function yt(m,_){m.pendingLanes|=_,_!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function yn(m,_,T,V,K,te){var pe=m.pendingLanes;m.pendingLanes=T,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=T,m.entangledLanes&=T,m.errorRecoveryDisabledLanes&=T,m.shellSuspendCounter=0;var ye=m.entanglements,be=m.expirationTimes,Te=m.hiddenUpdates;for(T=pe&~T;0<T;){var Le=31-Br(T),Fe=1<<Le;ye[Le]=0,be[Le]=-1;var Ie=Te[Le];if(Ie!==null)for(Te[Le]=null,Le=0;Le<Ie.length;Le++){var $e=Ie[Le];$e!==null&&($e.lane&=-536870913)}T&=~Fe}V!==0&&Tr(m,V,0),te!==0&&K===0&&m.tag!==0&&(m.suspendedLanes|=te&~(pe&~_))}function Tr(m,_,T){m.pendingLanes|=_,m.suspendedLanes&=~_;var V=31-Br(_);m.entangledLanes|=_,m.entanglements[V]=m.entanglements[V]|1073741824|T&4194218}function Rr(m,_){var T=m.entangledLanes|=_;for(m=m.entanglements;T;){var V=31-Br(T),K=1<<V;K&_|m[V]&_&&(m[V]|=_),T&=~K}}function wn(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function Pn(){var m=Ae.p;return m!==0?m:(m=window.event,m===void 0?32:qh(m.type))}function Vr(m,_){var T=Ae.p;try{return Ae.p=m,_()}finally{Ae.p=T}}var Jr=Math.random().toString(36).slice(2),xr="__reactFiber$"+Jr,Or="__reactProps$"+Jr,ri="__reactContainer$"+Jr,Ai="__reactEvents$"+Jr,gt="__reactListeners$"+Jr,sr="__reactHandles$"+Jr,Er="__reactResources$"+Jr,qr="__reactMarker$"+Jr;function Hr(m){delete m[xr],delete m[Or],delete m[Ai],delete m[gt],delete m[sr]}function En(m){var _=m[xr];if(_)return _;for(var T=m.parentNode;T;){if(_=T[ri]||T[xr]){if(T=_.alternate,_.child!==null||T!==null&&T.child!==null)for(m=wh(m);m!==null;){if(T=m[xr])return T;m=wh(m)}return _}m=T,T=m.parentNode}return null}function ni(m){if(m=m[xr]||m[ri]){var _=m.tag;if(_===5||_===6||_===13||_===26||_===27||_===3)return m}return null}function li(m){var _=m.tag;if(_===5||_===26||_===27||_===6)return m.stateNode;throw Error(i(33))}function Yi(m){var _=m[Er];return _||(_=m[Er]={hoistableStyles:new Map,hoistableScripts:new Map}),_}function wr(m){m[qr]=!0}var Da=new Set,Ys={};function On(m,_){Cn(m,_),Cn(m+"Capture",_)}function Cn(m,_){for(Ys[m]=_,m=0;m<_.length;m++)Da.add(_[m])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Na={},Ma={};function ko(m){return ar.call(Ma,m)?!0:ar.call(Na,m)?!1:Hl.test(m)?Ma[m]=!0:(Na[m]=!0,!1)}function Qi(m,_,T){if(ko(_))if(T===null)m.removeAttribute(_);else{switch(typeof T){case"undefined":case"function":case"symbol":m.removeAttribute(_);return;case"boolean":var V=_.toLowerCase().slice(0,5);if(V!=="data-"&&V!=="aria-"){m.removeAttribute(_);return}}m.setAttribute(_,""+T)}}function Xi(m,_,T){if(T===null)m.removeAttribute(_);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(_);return}m.setAttribute(_,""+T)}}function Fn(m,_,T,V){if(V===null)m.removeAttribute(T);else{switch(typeof V){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(T);return}m.setAttributeNS(_,T,""+V)}}function bn(m){switch(typeof m){case"bigint":case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function Do(m){var _=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function Kl(m){var _=Do(m)?"checked":"value",T=Object.getOwnPropertyDescriptor(m.constructor.prototype,_),V=""+m[_];if(!m.hasOwnProperty(_)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var K=T.get,te=T.set;return Object.defineProperty(m,_,{configurable:!0,get:function(){return K.call(this)},set:function(pe){V=""+pe,te.call(this,pe)}}),Object.defineProperty(m,_,{enumerable:T.enumerable}),{getValue:function(){return V},setValue:function(pe){V=""+pe},stopTracking:function(){m._valueTracker=null,delete m[_]}}}}function Es(m){m._valueTracker||(m._valueTracker=Kl(m))}function $a(m){if(!m)return!1;var _=m._valueTracker;if(!_)return!0;var T=_.getValue(),V="";return m&&(V=Do(m)?m.checked?"true":"false":m.value),m=V,m!==T?(_.setValue(m),!0):!1}function Qs(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}var Si=/[\n"\\]/g;function jr(m){return m.replace(Si,function(_){return"\\"+_.charCodeAt(0).toString(16)+" "})}function Ji(m,_,T,V,K,te,pe,ye){m.name="",pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?m.type=pe:m.removeAttribute("type"),_!=null?pe==="number"?(_===0&&m.value===""||m.value!=_)&&(m.value=""+bn(_)):m.value!==""+bn(_)&&(m.value=""+bn(_)):pe!=="submit"&&pe!=="reset"||m.removeAttribute("value"),_!=null?Xs(m,pe,bn(_)):T!=null?Xs(m,pe,bn(T)):V!=null&&m.removeAttribute("value"),K==null&&te!=null&&(m.defaultChecked=!!te),K!=null&&(m.checked=K&&typeof K!="function"&&typeof K!="symbol"),ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"?m.name=""+bn(ye):m.removeAttribute("name")}function bs(m,_,T,V,K,te,pe,ye){if(te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(m.type=te),_!=null||T!=null){if(!(te!=="submit"&&te!=="reset"||_!=null))return;T=T!=null?""+bn(T):"",_=_!=null?""+bn(_):T,ye||_===m.value||(m.value=_),m.defaultValue=_}V=V??K,V=typeof V!="function"&&typeof V!="symbol"&&!!V,m.checked=ye?m.checked:!!V,m.defaultChecked=!!V,pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"&&(m.name=pe)}function Xs(m,_,T){_==="number"&&Qs(m.ownerDocument)===m||m.defaultValue===""+T||(m.defaultValue=""+T)}function or(m,_,T,V){if(m=m.options,_){_={};for(var K=0;K<T.length;K++)_["$"+T[K]]=!0;for(T=0;T<m.length;T++)K=_.hasOwnProperty("$"+m[T].value),m[T].selected!==K&&(m[T].selected=K),K&&V&&(m[T].defaultSelected=!0)}else{for(T=""+bn(T),_=null,K=0;K<m.length;K++){if(m[K].value===T){m[K].selected=!0,V&&(m[K].defaultSelected=!0);return}_!==null||m[K].disabled||(_=m[K])}_!==null&&(_.selected=!0)}}function As(m,_,T){if(_!=null&&(_=""+bn(_),_!==m.value&&(m.value=_),T==null)){m.defaultValue!==_&&(m.defaultValue=_);return}m.defaultValue=T!=null?""+bn(T):""}function Zi(m,_,T,V){if(_==null){if(V!=null){if(T!=null)throw Error(i(92));if(Ee(V)){if(1<V.length)throw Error(i(93));V=V[0]}T=V}T==null&&(T=""),_=T}T=bn(_),m.defaultValue=T,V=m.textContent,V===T&&V!==""&&V!==null&&(m.value=V)}function Bn(m,_){if(_){var T=m.firstChild;if(T&&T===m.lastChild&&T.nodeType===3){T.nodeValue=_;return}}m.textContent=_}var Yl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function La(m,_,T){var V=_.indexOf("--")===0;T==null||typeof T=="boolean"||T===""?V?m.setProperty(_,""):_==="float"?m.cssFloat="":m[_]="":V?m.setProperty(_,T):typeof T!="number"||T===0||Yl.has(_)?_==="float"?m.cssFloat=T:m[_]=(""+T).trim():m[_]=T+"px"}function No(m,_,T){if(_!=null&&typeof _!="object")throw Error(i(62));if(m=m.style,T!=null){for(var V in T)!T.hasOwnProperty(V)||_!=null&&_.hasOwnProperty(V)||(V.indexOf("--")===0?m.setProperty(V,""):V==="float"?m.cssFloat="":m[V]="");for(var K in _)V=_[K],_.hasOwnProperty(K)&&T[K]!==V&&La(m,K,V)}else for(var te in _)_.hasOwnProperty(te)&&La(m,te,_[te])}function Va(m){if(m.indexOf("-")===-1)return!1;switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ql=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ci(m){return Xl.test(""+m)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":m}var qn=null;function Js(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var Ti=null,Ri=null;function wi(m){var _=ni(m);if(_&&(m=_.stateNode)){var T=m[Or]||null;e:switch(m=_.stateNode,_.type){case"input":if(Ji(m,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name),_=T.name,T.type==="radio"&&_!=null){for(T=m;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll('input[name="'+jr(""+_)+'"][type="radio"]'),_=0;_<T.length;_++){var V=T[_];if(V!==m&&V.form===m.form){var K=V[Or]||null;if(!K)throw Error(i(90));Ji(V,K.value,K.defaultValue,K.defaultValue,K.checked,K.defaultChecked,K.type,K.name)}}for(_=0;_<T.length;_++)V=T[_],V.form===m.form&&$a(V)}break e;case"textarea":As(m,T.value,T.defaultValue);break e;case"select":_=T.value,_!=null&&or(m,!!T.multiple,_,!1)}}}var Fa=!1;function Mo(m,_,T){if(Fa)return m(_,T);Fa=!0;try{var V=m(_);return V}finally{if(Fa=!1,(Ti!==null||Ri!==null)&&(wl(),Ti&&(_=Ti,m=Ri,Ri=Ti=null,wi(_),m)))for(_=0;_<m.length;_++)wi(m[_])}}function Ss(m,_){var T=m.stateNode;if(T===null)return null;var V=T[Or]||null;if(V===null)return null;T=V[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(m=m.type,V=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!V;break e;default:m=!1}if(m)return null;if(T&&typeof T!="function")throw Error(i(231,_,typeof T));return T}var Un=!1;if(jn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Un=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Un=!1}var ui=null,es=null,Pi=null;function Ba(){if(Pi)return Pi;var m,_=es,T=_.length,V,K="value"in ui?ui.value:ui.textContent,te=K.length;for(m=0;m<T&&_[m]===K[m];m++);var pe=T-m;for(V=1;V<=pe&&_[T-V]===K[te-V];V++);return Pi=K.slice(m,1<V?1-V:void 0)}function fi(m){var _=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&_===13&&(m=13)):m=_,m===10&&(m=13),32<=m||m===13?m:0}function di(){return!0}function qa(){return!1}function Zr(m){function _(T,V,K,te,pe){this._reactName=T,this._targetInst=K,this.type=V,this.nativeEvent=te,this.target=pe,this.currentTarget=null;for(var ye in m)m.hasOwnProperty(ye)&&(T=m[ye],this[ye]=T?T(te):te[ye]);return this.isDefaultPrevented=(te.defaultPrevented!=null?te.defaultPrevented:te.returnValue===!1)?di:qa,this.isPropagationStopped=qa,this}return ae(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),_}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Zr(hr),Rs=ae({},hr,{view:0,detail:0}),$o=Zr(Rs),ea,ta,hi,ws=ae({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==hi&&(hi&&m.type==="mousemove"?(ea=m.screenX-hi.screenX,ta=m.screenY-hi.screenY):ta=ea=0,hi=m),ea)},movementY:function(m){return"movementY"in m?m.movementY:ta}}),zn=Zr(ws),Lo=ae({},ws,{dataTransfer:0}),Jl=Zr(Lo),Ps=ae({},Rs,{relatedTarget:0}),ra=Zr(Ps),Ua=ae({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),na=Zr(Ua),Vo=ae({},hr,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),ia=Zr(Vo),Zl=ae({},hr,{data:0}),za=Zr(Zl),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ga(m){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(m):(m=Bo[m])?!!_[m]:!1}function Is(){return Ga}var qo=ae({},Rs,{key:function(m){if(m.key){var _=Cs[m.key]||m.key;if(_!=="Unidentified")return _}return m.type==="keypress"?(m=fi(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Fo[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(m){return m.type==="keypress"?fi(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?fi(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),sa=Zr(qo),Uo=ae({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=Zr(Uo),Ci=ae({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),zo=Zr(Ci),Go=ae({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wo=Zr(Go),Ho=ae({},ws,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=Zr(Ho),An=ae({},hr,{newState:0,oldState:0}),Ko=Zr(An),Yo=[9,13,27,32],mi=jn&&"CompositionEvent"in window,G=null;jn&&"documentMode"in document&&(G=document.documentMode);var le=jn&&"TextEvent"in window&&!G,he=jn&&(!mi||G&&8<G&&11>=G),ve=" ",we=!1;function De(m,_){switch(m){case"keyup":return Yo.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ue(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var rr=!1;function Kr(m,_){switch(m){case"compositionend":return Ue(_);case"keypress":return _.which!==32?null:(we=!0,ve);case"textInput":return m=_.data,m===ve&&we?null:m;default:return null}}function nr(m,_){if(rr)return m==="compositionend"||!mi&&De(m,_)?(m=Ba(),Pi=es=ui=null,rr=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return he&&_.locale!=="ko"?null:_.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yr(m){var _=m&&m.nodeName&&m.nodeName.toLowerCase();return _==="input"?!!nn[m.type]:_==="textarea"}function Ii(m,_,T,V){Ti?Ri?Ri.push(V):Ri=[V]:Ti=V,_=jl(_,"onChange"),0<_.length&&(T=new Zs("onChange","change",null,T,V),m.push({event:T,listeners:_}))}var fn=null,gi=null;function Ha(m){yh(m,0)}function Qo(m){var _=li(m);if($a(_))return m}function zu(m,_){if(m==="change")return _}var Gu=!1;if(jn){var ec;if(jn){var tc="oninput"in document;if(!tc){var Wu=document.createElement("div");Wu.setAttribute("oninput","return;"),tc=typeof Wu.oninput=="function"}ec=tc}else ec=!1;Gu=ec&&(!document.documentMode||9<document.documentMode)}function Hu(){fn&&(fn.detachEvent("onpropertychange",Ku),gi=fn=null)}function Ku(m){if(m.propertyName==="value"&&Qo(gi)){var _=[];Ii(_,gi,m,Js(m)),Mo(Ha,_)}}function Yh(m,_,T){m==="focusin"?(Hu(),fn=_,gi=T,fn.attachEvent("onpropertychange",Ku)):m==="focusout"&&Hu()}function Qh(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return Qo(gi)}function Xh(m,_){if(m==="click")return Qo(_)}function Jh(m,_){if(m==="input"||m==="change")return Qo(_)}function Zh(m,_){return m===_&&(m!==0||1/m===1/_)||m!==m&&_!==_}var kn=typeof Object.is=="function"?Object.is:Zh;function Ka(m,_){if(kn(m,_))return!0;if(typeof m!="object"||m===null||typeof _!="object"||_===null)return!1;var T=Object.keys(m),V=Object.keys(_);if(T.length!==V.length)return!1;for(V=0;V<T.length;V++){var K=T[V];if(!ar.call(_,K)||!kn(m[K],_[K]))return!1}return!0}function Yu(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function Qu(m,_){var T=Yu(m);m=0;for(var V;T;){if(T.nodeType===3){if(V=m+T.textContent.length,m<=_&&V>=_)return{node:T,offset:_-m};m=V}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=Yu(T)}}function Xu(m,_){return m&&_?m===_?!0:m&&m.nodeType===3?!1:_&&_.nodeType===3?Xu(m,_.parentNode):"contains"in m?m.contains(_):m.compareDocumentPosition?!!(m.compareDocumentPosition(_)&16):!1:!1}function Ju(m){m=m!=null&&m.ownerDocument!=null&&m.ownerDocument.defaultView!=null?m.ownerDocument.defaultView:window;for(var _=Qs(m.document);_ instanceof m.HTMLIFrameElement;){try{var T=typeof _.contentWindow.location.href=="string"}catch{T=!1}if(T)m=_.contentWindow;else break;_=Qs(m.document)}return _}function rc(m){var _=m&&m.nodeName&&m.nodeName.toLowerCase();return _&&(_==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||_==="textarea"||m.contentEditable==="true")}function ep(m,_){var T=Ju(_);_=m.focusedElem;var V=m.selectionRange;if(T!==_&&_&&_.ownerDocument&&Xu(_.ownerDocument.documentElement,_)){if(V!==null&&rc(_)){if(m=V.start,T=V.end,T===void 0&&(T=m),"selectionStart"in _)_.selectionStart=m,_.selectionEnd=Math.min(T,_.value.length);else if(T=(m=_.ownerDocument||document)&&m.defaultView||window,T.getSelection){T=T.getSelection();var K=_.textContent.length,te=Math.min(V.start,K);V=V.end===void 0?te:Math.min(V.end,K),!T.extend&&te>V&&(K=V,V=te,te=K),K=Qu(_,te);var pe=Qu(_,V);K&&pe&&(T.rangeCount!==1||T.anchorNode!==K.node||T.anchorOffset!==K.offset||T.focusNode!==pe.node||T.focusOffset!==pe.offset)&&(m=m.createRange(),m.setStart(K.node,K.offset),T.removeAllRanges(),te>V?(T.addRange(m),T.extend(pe.node,pe.offset)):(m.setEnd(pe.node,pe.offset),T.addRange(m)))}}for(m=[],T=_;T=T.parentNode;)T.nodeType===1&&m.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<m.length;_++)T=m[_],T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}var tp=jn&&"documentMode"in document&&11>=document.documentMode,oa=null,nc=null,Ya=null,ic=!1;function Zu(m,_,T){var V=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;ic||oa==null||oa!==Qs(V)||(V=oa,"selectionStart"in V&&rc(V)?V={start:V.selectionStart,end:V.selectionEnd}:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection(),V={anchorNode:V.anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset}),Ya&&Ka(Ya,V)||(Ya=V,V=jl(nc,"onSelect"),0<V.length&&(_=new Zs("onSelect","select",null,_,T),m.push({event:_,listeners:V}),_.target=oa)))}function Os(m,_){var T={};return T[m.toLowerCase()]=_.toLowerCase(),T["Webkit"+m]="webkit"+_,T["Moz"+m]="moz"+_,T}var la={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},sc={},ef={};jn&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function js(m){if(sc[m])return sc[m];if(!la[m])return m;var _=la[m],T;for(T in _)if(_.hasOwnProperty(T)&&T in ef)return sc[m]=_[T];return m}var tf=js("animationend"),rf=js("animationiteration"),nf=js("animationstart"),rp=js("transitionrun"),np=js("transitionstart"),sp=js("transitioncancel"),sf=js("transitionend"),af=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ii(m,_){af.set(m,_),On(_,[m])}var Gn=[],ca=0,ac=0;function Xo(){for(var m=ca,_=ac=ca=0;_<m;){var T=Gn[_];Gn[_++]=null;var V=Gn[_];Gn[_++]=null;var K=Gn[_];Gn[_++]=null;var te=Gn[_];if(Gn[_++]=null,V!==null&&K!==null){var pe=V.pending;pe===null?K.next=K:(K.next=pe.next,pe.next=K),V.pending=K}te!==0&&lf(T,K,te)}}function Jo(m,_,T,V){Gn[ca++]=m,Gn[ca++]=_,Gn[ca++]=T,Gn[ca++]=V,ac|=V,m.lanes|=V,m=m.alternate,m!==null&&(m.lanes|=V)}function oc(m,_,T,V){return Jo(m,_,T,V),Zo(m)}function ts(m,_){return Jo(m,null,null,_),Zo(m)}function lf(m,_,T){m.lanes|=T;var V=m.alternate;V!==null&&(V.lanes|=T);for(var K=!1,te=m.return;te!==null;)te.childLanes|=T,V=te.alternate,V!==null&&(V.childLanes|=T),te.tag===22&&(m=te.stateNode,m===null||m._visibility&1||(K=!0)),m=te,te=te.return;K&&_!==null&&m.tag===3&&(te=m.stateNode,K=31-Br(T),te=te.hiddenUpdates,m=te[K],m===null?te[K]=[_]:m.push(_),_.lane=T|536870912)}function Zo(m){if(50<Eo)throw Eo=0,hu=null,Error(i(185));for(var _=m.return;_!==null;)m=_,_=m.return;return m.tag===3?m.stateNode:null}var ua={},cf=new WeakMap;function Wn(m,_){if(typeof m=="object"&&m!==null){var T=cf.get(m);return T!==void 0?T:(_={value:m,source:_,stack:me(_)},cf.set(m,_),_)}return{value:m,source:_,stack:me(_)}}var fa=[],da=0,el=null,tl=0,Hn=[],Kn=0,ks=null,Oi=1,ji="";function Ds(m,_){fa[da++]=tl,fa[da++]=el,el=m,tl=_}function uf(m,_,T){Hn[Kn++]=Oi,Hn[Kn++]=ji,Hn[Kn++]=ks,ks=m;var V=Oi;m=ji;var K=32-Br(V)-1;V&=~(1<<K),T+=1;var te=32-Br(_)+K;if(30<te){var pe=K-K%5;te=(V&(1<<pe)-1).toString(32),V>>=pe,K-=pe,Oi=1<<32-Br(_)+K|T<<K|V,ji=te+m}else Oi=1<<te|T<<K|V,ji=m}function lc(m){m.return!==null&&(Ds(m,1),uf(m,1,0))}function cc(m){for(;m===el;)el=fa[--da],fa[da]=null,tl=fa[--da],fa[da]=null;for(;m===ks;)ks=Hn[--Kn],Hn[Kn]=null,ji=Hn[--Kn],Hn[Kn]=null,Oi=Hn[--Kn],Hn[Kn]=null}var Sn=null,dn=null,lr=!1,si=null,yi=!1,uc=Error(i(519));function Ns(m){var _=Error(i(418,""));throw Ja(Wn(_,m)),uc}function ff(m){var _=m.stateNode,T=m.type,V=m.memoizedProps;switch(_[xr]=m,_[Or]=V,T){case"dialog":er("cancel",_),er("close",_);break;case"iframe":case"object":case"embed":er("load",_);break;case"video":case"audio":for(T=0;T<Ao.length;T++)er(Ao[T],_);break;case"source":er("error",_);break;case"img":case"image":case"link":er("error",_),er("load",_);break;case"details":er("toggle",_);break;case"input":er("invalid",_),bs(_,V.value,V.defaultValue,V.checked,V.defaultChecked,V.type,V.name,!0),Es(_);break;case"select":er("invalid",_);break;case"textarea":er("invalid",_),Zi(_,V.value,V.defaultValue,V.children),Es(_)}T=V.children,typeof T!="string"&&typeof T!="number"&&typeof T!="bigint"||_.textContent===""+T||V.suppressHydrationWarning===!0||bh(_.textContent,T)?(V.popover!=null&&(er("beforetoggle",_),er("toggle",_)),V.onScroll!=null&&er("scroll",_),V.onScrollEnd!=null&&er("scrollend",_),V.onClick!=null&&(_.onclick=kl),_=!0):_=!1,_||Ns(m)}function df(m){for(Sn=m.return;Sn;)switch(Sn.tag){case 3:case 27:yi=!0;return;case 5:case 13:yi=!1;return;default:Sn=Sn.return}}function Qa(m){if(m!==Sn)return!1;if(!lr)return df(m),lr=!0,!1;var _=!1,T;if((T=m.tag!==3&&m.tag!==27)&&((T=m.tag===5)&&(T=m.type,T=!(T!=="form"&&T!=="button")||Iu(m.type,m.memoizedProps)),T=!T),T&&(_=!0),_&&dn&&Ns(m),df(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));e:{for(m=m.nextSibling,_=0;m;){if(m.nodeType===8)if(T=m.data,T==="/$"){if(_===0){dn=oi(m.nextSibling);break e}_--}else T!=="$"&&T!=="$!"&&T!=="$?"||_++;m=m.nextSibling}dn=null}}else dn=Sn?oi(m.stateNode.nextSibling):null;return!0}function Xa(){dn=Sn=null,lr=!1}function Ja(m){si===null?si=[m]:si.push(m)}var Za=Error(i(460)),hf=Error(i(474)),fc={then:function(){}};function pf(m){return m=m.status,m==="fulfilled"||m==="rejected"}function rl(){}function mf(m,_,T){switch(T=m[T],T===void 0?m.push(_):T!==_&&(_.then(rl,rl),_=T),_.status){case"fulfilled":return _.value;case"rejected":throw m=_.reason,m===Za?Error(i(483)):m;default:if(typeof _.status=="string")_.then(rl,rl);else{if(m=br,m!==null&&100<m.shellSuspendCounter)throw Error(i(482));m=_,m.status="pending",m.then(function(V){if(_.status==="pending"){var K=_;K.status="fulfilled",K.value=V}},function(V){if(_.status==="pending"){var K=_;K.status="rejected",K.reason=V}})}switch(_.status){case"fulfilled":return _.value;case"rejected":throw m=_.reason,m===Za?Error(i(483)):m}throw eo=_,Za}}var eo=null;function gf(){if(eo===null)throw Error(i(459));var m=eo;return eo=null,m}var ha=null,to=0;function nl(m){var _=to;return to+=1,ha===null&&(ha=[]),mf(ha,m,_)}function ro(m,_){_=_.props.ref,m.ref=_!==void 0?_:null}function il(m,_){throw _.$$typeof===l?Error(i(525)):(m=Object.prototype.toString.call(_),Error(i(31,m==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":m)))}function yf(m){var _=m._init;return _(m._payload)}function vf(m){function _(Re,Se){if(m){var Pe=Re.deletions;Pe===null?(Re.deletions=[Se],Re.flags|=16):Pe.push(Se)}}function T(Re,Se){if(!m)return null;for(;Se!==null;)_(Re,Se),Se=Se.sibling;return null}function V(Re){for(var Se=new Map;Re!==null;)Re.key!==null?Se.set(Re.key,Re):Se.set(Re.index,Re),Re=Re.sibling;return Se}function K(Re,Se){return Re=hs(Re,Se),Re.index=0,Re.sibling=null,Re}function te(Re,Se,Pe){return Re.index=Pe,m?(Pe=Re.alternate,Pe!==null?(Pe=Pe.index,Pe<Se?(Re.flags|=33554434,Se):Pe):(Re.flags|=33554434,Se)):(Re.flags|=1048576,Se)}function pe(Re){return m&&Re.alternate===null&&(Re.flags|=33554434),Re}function ye(Re,Se,Pe,Ve){return Se===null||Se.tag!==6?(Se=su(Pe,Re.mode,Ve),Se.return=Re,Se):(Se=K(Se,Pe),Se.return=Re,Se)}function be(Re,Se,Pe,Ve){var Ke=Pe.type;return Ke===d?Le(Re,Se,Pe.props.children,Ve,Pe.key):Se!==null&&(Se.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===z&&yf(Ke)===Se.type)?(Se=K(Se,Pe.props),ro(Se,Pe),Se.return=Re,Se):(Se=bl(Pe.type,Pe.key,Pe.props,null,Re.mode,Ve),ro(Se,Pe),Se.return=Re,Se)}function Te(Re,Se,Pe,Ve){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Pe.containerInfo||Se.stateNode.implementation!==Pe.implementation?(Se=au(Pe,Re.mode,Ve),Se.return=Re,Se):(Se=K(Se,Pe.children||[]),Se.return=Re,Se)}function Le(Re,Se,Pe,Ve,Ke){return Se===null||Se.tag!==7?(Se=Gs(Pe,Re.mode,Ve,Ke),Se.return=Re,Se):(Se=K(Se,Pe),Se.return=Re,Se)}function Fe(Re,Se,Pe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=su(""+Se,Re.mode,Pe),Se.return=Re,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case u:return Pe=bl(Se.type,Se.key,Se.props,null,Re.mode,Pe),ro(Pe,Se),Pe.return=Re,Pe;case f:return Se=au(Se,Re.mode,Pe),Se.return=Re,Se;case z:var Ve=Se._init;return Se=Ve(Se._payload),Fe(Re,Se,Pe)}if(Ee(Se)||Z(Se))return Se=Gs(Se,Re.mode,Pe,null),Se.return=Re,Se;if(typeof Se.then=="function")return Fe(Re,nl(Se),Pe);if(Se.$$typeof===R)return Fe(Re,_l(Re,Se),Pe);il(Re,Se)}return null}function Ie(Re,Se,Pe,Ve){var Ke=Se!==null?Se.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Ke!==null?null:ye(Re,Se,""+Pe,Ve);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case u:return Pe.key===Ke?be(Re,Se,Pe,Ve):null;case f:return Pe.key===Ke?Te(Re,Se,Pe,Ve):null;case z:return Ke=Pe._init,Pe=Ke(Pe._payload),Ie(Re,Se,Pe,Ve)}if(Ee(Pe)||Z(Pe))return Ke!==null?null:Le(Re,Se,Pe,Ve,null);if(typeof Pe.then=="function")return Ie(Re,Se,nl(Pe),Ve);if(Pe.$$typeof===R)return Ie(Re,Se,_l(Re,Pe),Ve);il(Re,Pe)}return null}function $e(Re,Se,Pe,Ve,Ke){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Re=Re.get(Pe)||null,ye(Se,Re,""+Ve,Ke);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case u:return Re=Re.get(Ve.key===null?Pe:Ve.key)||null,be(Se,Re,Ve,Ke);case f:return Re=Re.get(Ve.key===null?Pe:Ve.key)||null,Te(Se,Re,Ve,Ke);case z:var Bt=Ve._init;return Ve=Bt(Ve._payload),$e(Re,Se,Pe,Ve,Ke)}if(Ee(Ve)||Z(Ve))return Re=Re.get(Pe)||null,Le(Se,Re,Ve,Ke,null);if(typeof Ve.then=="function")return $e(Re,Se,Pe,nl(Ve),Ke);if(Ve.$$typeof===R)return $e(Re,Se,Pe,_l(Se,Ve),Ke);il(Se,Ve)}return null}function Ye(Re,Se,Pe,Ve){for(var Ke=null,Bt=null,Qe=Se,Je=Se=0,cn=null;Qe!==null&&Je<Pe.length;Je++){Qe.index>Je?(cn=Qe,Qe=null):cn=Qe.sibling;var cr=Ie(Re,Qe,Pe[Je],Ve);if(cr===null){Qe===null&&(Qe=cn);break}m&&Qe&&cr.alternate===null&&_(Re,Qe),Se=te(cr,Se,Je),Bt===null?Ke=cr:Bt.sibling=cr,Bt=cr,Qe=cn}if(Je===Pe.length)return T(Re,Qe),lr&&Ds(Re,Je),Ke;if(Qe===null){for(;Je<Pe.length;Je++)Qe=Fe(Re,Pe[Je],Ve),Qe!==null&&(Se=te(Qe,Se,Je),Bt===null?Ke=Qe:Bt.sibling=Qe,Bt=Qe);return lr&&Ds(Re,Je),Ke}for(Qe=V(Qe);Je<Pe.length;Je++)cn=$e(Qe,Re,Je,Pe[Je],Ve),cn!==null&&(m&&cn.alternate!==null&&Qe.delete(cn.key===null?Je:cn.key),Se=te(cn,Se,Je),Bt===null?Ke=cn:Bt.sibling=cn,Bt=cn);return m&&Qe.forEach(function(xs){return _(Re,xs)}),lr&&Ds(Re,Je),Ke}function ut(Re,Se,Pe,Ve){if(Pe==null)throw Error(i(151));for(var Ke=null,Bt=null,Qe=Se,Je=Se=0,cn=null,cr=Pe.next();Qe!==null&&!cr.done;Je++,cr=Pe.next()){Qe.index>Je?(cn=Qe,Qe=null):cn=Qe.sibling;var xs=Ie(Re,Qe,cr.value,Ve);if(xs===null){Qe===null&&(Qe=cn);break}m&&Qe&&xs.alternate===null&&_(Re,Qe),Se=te(xs,Se,Je),Bt===null?Ke=xs:Bt.sibling=xs,Bt=xs,Qe=cn}if(cr.done)return T(Re,Qe),lr&&Ds(Re,Je),Ke;if(Qe===null){for(;!cr.done;Je++,cr=Pe.next())cr=Fe(Re,cr.value,Ve),cr!==null&&(Se=te(cr,Se,Je),Bt===null?Ke=cr:Bt.sibling=cr,Bt=cr);return lr&&Ds(Re,Je),Ke}for(Qe=V(Qe);!cr.done;Je++,cr=Pe.next())cr=$e(Qe,Re,Je,cr.value,Ve),cr!==null&&(m&&cr.alternate!==null&&Qe.delete(cr.key===null?Je:cr.key),Se=te(cr,Se,Je),Bt===null?Ke=cr:Bt.sibling=cr,Bt=cr);return m&&Qe.forEach(function(Em){return _(Re,Em)}),lr&&Ds(Re,Je),Ke}function Mr(Re,Se,Pe,Ve){if(typeof Pe=="object"&&Pe!==null&&Pe.type===d&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case u:e:{for(var Ke=Pe.key;Se!==null;){if(Se.key===Ke){if(Ke=Pe.type,Ke===d){if(Se.tag===7){T(Re,Se.sibling),Ve=K(Se,Pe.props.children),Ve.return=Re,Re=Ve;break e}}else if(Se.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===z&&yf(Ke)===Se.type){T(Re,Se.sibling),Ve=K(Se,Pe.props),ro(Ve,Pe),Ve.return=Re,Re=Ve;break e}T(Re,Se);break}else _(Re,Se);Se=Se.sibling}Pe.type===d?(Ve=Gs(Pe.props.children,Re.mode,Ve,Pe.key),Ve.return=Re,Re=Ve):(Ve=bl(Pe.type,Pe.key,Pe.props,null,Re.mode,Ve),ro(Ve,Pe),Ve.return=Re,Re=Ve)}return pe(Re);case f:e:{for(Ke=Pe.key;Se!==null;){if(Se.key===Ke)if(Se.tag===4&&Se.stateNode.containerInfo===Pe.containerInfo&&Se.stateNode.implementation===Pe.implementation){T(Re,Se.sibling),Ve=K(Se,Pe.children||[]),Ve.return=Re,Re=Ve;break e}else{T(Re,Se);break}else _(Re,Se);Se=Se.sibling}Ve=au(Pe,Re.mode,Ve),Ve.return=Re,Re=Ve}return pe(Re);case z:return Ke=Pe._init,Pe=Ke(Pe._payload),Mr(Re,Se,Pe,Ve)}if(Ee(Pe))return Ye(Re,Se,Pe,Ve);if(Z(Pe)){if(Ke=Z(Pe),typeof Ke!="function")throw Error(i(150));return Pe=Ke.call(Pe),ut(Re,Se,Pe,Ve)}if(typeof Pe.then=="function")return Mr(Re,Se,nl(Pe),Ve);if(Pe.$$typeof===R)return Mr(Re,Se,_l(Re,Pe),Ve);il(Re,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,Se!==null&&Se.tag===6?(T(Re,Se.sibling),Ve=K(Se,Pe),Ve.return=Re,Re=Ve):(T(Re,Se),Ve=su(Pe,Re.mode,Ve),Ve.return=Re,Re=Ve),pe(Re)):T(Re,Se)}return function(Re,Se,Pe,Ve){try{to=0;var Ke=Mr(Re,Se,Pe,Ve);return ha=null,Ke}catch(Qe){if(Qe===Za)throw Qe;var Bt=Jn(29,Qe,null,Re.mode);return Bt.lanes=Ve,Bt.return=Re,Bt}finally{}}}var Ms=vf(!0),_f=vf(!1),pa=qe(null),sl=qe(0);function xf(m,_){m=Ui,Me(sl,m),Me(pa,_),Ui=m|_.baseLanes}function dc(){Me(sl,Ui),Me(pa,pa.current)}function hc(){Ui=sl.current,Ne(pa),Ne(sl)}var Yn=qe(null),vi=null;function rs(m){var _=m.alternate;Me(Qr,Qr.current&1),Me(Yn,m),vi===null&&(_===null||pa.current!==null||_.memoizedState!==null)&&(vi=m)}function Ef(m){if(m.tag===22){if(Me(Qr,Qr.current),Me(Yn,m),vi===null){var _=m.alternate;_!==null&&_.memoizedState!==null&&(vi=m)}}else ns()}function ns(){Me(Qr,Qr.current),Me(Yn,Yn.current)}function ki(m){Ne(Yn),vi===m&&(vi=null),Ne(Qr)}var Qr=qe(0);function al(m){for(var _=m;_!==null;){if(_.tag===13){var T=_.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||T.data==="$?"||T.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if((_.flags&128)!==0)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===m)break;for(;_.sibling===null;){if(_.return===null||_.return===m)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var ap=typeof AbortController<"u"?AbortController:function(){var m=[],_=this.signal={aborted:!1,addEventListener:function(T,V){m.push(V)}};this.abort=function(){_.aborted=!0,m.forEach(function(T){return T()})}},lp=t.unstable_scheduleCallback,cp=t.unstable_NormalPriority,Xr={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pc(){return{controller:new ap,data:new Map,refCount:0}}function no(m){m.refCount--,m.refCount===0&&lp(cp,function(){m.controller.abort()})}var io=null,mc=0,ma=0,ga=null;function up(m,_){if(io===null){var T=io=[];mc=0,ma=Eu(),ga={status:"pending",value:void 0,then:function(V){T.push(V)}}}return mc++,_.then(bf,bf),_}function bf(){if(--mc===0&&io!==null){ga!==null&&(ga.status="fulfilled");var m=io;io=null,ma=0,ga=null;for(var _=0;_<m.length;_++)(0,m[_])()}}function fp(m,_){var T=[],V={status:"pending",value:null,reason:null,then:function(K){T.push(K)}};return m.then(function(){V.status="fulfilled",V.value=_;for(var K=0;K<T.length;K++)(0,T[K])(_)},function(K){for(V.status="rejected",V.reason=K,K=0;K<T.length;K++)(0,T[K])(void 0)}),V}var Af=ne.S;ne.S=function(m,_){typeof _=="object"&&_!==null&&typeof _.then=="function"&&up(m,_),Af!==null&&Af(m,_)};var $s=qe(null);function gc(){var m=$s.current;return m!==null?m:br.pooledCache}function ol(m,_){_===null?Me($s,$s.current):Me($s,_.pool)}function Sf(){var m=gc();return m===null?null:{parent:Xr._currentValue,pool:m}}var is=0,kt=null,mr=null,Ur=null,ll=!1,ya=!1,Ls=!1,cl=0,so=0,va=null,dp=0;function Fr(){throw Error(i(321))}function yc(m,_){if(_===null)return!1;for(var T=0;T<_.length&&T<m.length;T++)if(!kn(m[T],_[T]))return!1;return!0}function vc(m,_,T,V,K,te){return is=te,kt=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,ne.H=m===null||m.memoizedState===null?Vs:ss,Ls=!1,te=T(V,K),Ls=!1,ya&&(te=Rf(_,T,V,K)),Tf(m),te}function Tf(m){ne.H=_i;var _=mr!==null&&mr.next!==null;if(is=0,Ur=mr=kt=null,ll=!1,so=0,va=null,_)throw Error(i(300));m===null||an||(m=m.dependencies,m!==null&&vl(m)&&(an=!0))}function Rf(m,_,T,V){kt=m;var K=0;do{if(ya&&(va=null),so=0,ya=!1,25<=K)throw Error(i(301));if(K+=1,Ur=mr=null,m.updateQueue!=null){var te=m.updateQueue;te.lastEffect=null,te.events=null,te.stores=null,te.memoCache!=null&&(te.memoCache.index=0)}ne.H=Fs,te=_(T,V)}while(ya);return te}function hp(){var m=ne.H,_=m.useState()[0];return _=typeof _.then=="function"?ao(_):_,m=m.useState()[0],(mr!==null?mr.memoizedState:null)!==m&&(kt.flags|=1024),_}function _c(){var m=cl!==0;return cl=0,m}function xc(m,_,T){_.updateQueue=m.updateQueue,_.flags&=-2053,m.lanes&=~T}function Ec(m){if(ll){for(m=m.memoizedState;m!==null;){var _=m.queue;_!==null&&(_.pending=null),m=m.next}ll=!1}is=0,Ur=mr=kt=null,ya=!1,so=cl=0,va=null}function In(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?kt.memoizedState=Ur=m:Ur=Ur.next=m,Ur}function zr(){if(mr===null){var m=kt.alternate;m=m!==null?m.memoizedState:null}else m=mr.next;var _=Ur===null?kt.memoizedState:Ur.next;if(_!==null)Ur=_,mr=m;else{if(m===null)throw kt.alternate===null?Error(i(467)):Error(i(310));mr=m,m={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},Ur===null?kt.memoizedState=Ur=m:Ur=Ur.next=m}return Ur}var ul;ul=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ao(m){var _=so;return so+=1,va===null&&(va=[]),m=mf(va,m,_),_=kt,(Ur===null?_.memoizedState:Ur.next)===null&&(_=_.alternate,ne.H=_===null||_.memoizedState===null?Vs:ss),m}function fl(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return ao(m);if(m.$$typeof===R)return vn(m)}throw Error(i(438,String(m)))}function bc(m){var _=null,T=kt.updateQueue;if(T!==null&&(_=T.memoCache),_==null){var V=kt.alternate;V!==null&&(V=V.updateQueue,V!==null&&(V=V.memoCache,V!=null&&(_={data:V.data.map(function(K){return K.slice()}),index:0})))}if(_==null&&(_={data:[],index:0}),T===null&&(T=ul(),kt.updateQueue=T),T.memoCache=_,T=_.data[_.index],T===void 0)for(T=_.data[_.index]=Array(m),V=0;V<m;V++)T[V]=W;return _.index++,T}function Di(m,_){return typeof _=="function"?_(m):_}function dl(m){var _=zr();return Ac(_,mr,m)}function Ac(m,_,T){var V=m.queue;if(V===null)throw Error(i(311));V.lastRenderedReducer=T;var K=m.baseQueue,te=V.pending;if(te!==null){if(K!==null){var pe=K.next;K.next=te.next,te.next=pe}_.baseQueue=K=te,V.pending=null}if(te=m.baseState,K===null)m.memoizedState=te;else{_=K.next;var ye=pe=null,be=null,Te=_,Le=!1;do{var Fe=Te.lane&-536870913;if(Fe!==Te.lane?(ir&Fe)===Fe:(is&Fe)===Fe){var Ie=Te.revertLane;if(Ie===0)be!==null&&(be=be.next={lane:0,revertLane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Fe===ma&&(Le=!0);else if((is&Ie)===Ie){Te=Te.next,Ie===ma&&(Le=!0);continue}else Fe={lane:0,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},be===null?(ye=be=Fe,pe=te):be=be.next=Fe,kt.lanes|=Ie,ps|=Ie;Fe=Te.action,Ls&&T(te,Fe),te=Te.hasEagerState?Te.eagerState:T(te,Fe)}else Ie={lane:Fe,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},be===null?(ye=be=Ie,pe=te):be=be.next=Ie,kt.lanes|=Fe,ps|=Fe;Te=Te.next}while(Te!==null&&Te!==_);if(be===null?pe=te:be.next=ye,!kn(te,m.memoizedState)&&(an=!0,Le&&(T=ga,T!==null)))throw T;m.memoizedState=te,m.baseState=pe,m.baseQueue=be,V.lastRenderedState=te}return K===null&&(V.lanes=0),[m.memoizedState,V.dispatch]}function Sc(m){var _=zr(),T=_.queue;if(T===null)throw Error(i(311));T.lastRenderedReducer=m;var V=T.dispatch,K=T.pending,te=_.memoizedState;if(K!==null){T.pending=null;var pe=K=K.next;do te=m(te,pe.action),pe=pe.next;while(pe!==K);kn(te,_.memoizedState)||(an=!0),_.memoizedState=te,_.baseQueue===null&&(_.baseState=te),T.lastRenderedState=te}return[te,V]}function wf(m,_,T){var V=kt,K=zr(),te=lr;if(te){if(T===void 0)throw Error(i(407));T=T()}else T=_();var pe=!kn((mr||K).memoizedState,T);if(pe&&(K.memoizedState=T,an=!0),K=K.queue,wc(If.bind(null,V,K,m),[m]),K.getSnapshot!==_||pe||Ur!==null&&Ur.memoizedState.tag&1){if(V.flags|=2048,_a(9,Cf.bind(null,V,K,T,_),{destroy:void 0},null),br===null)throw Error(i(349));te||(is&60)!==0||Pf(V,_,T)}return T}function Pf(m,_,T){m.flags|=16384,m={getSnapshot:_,value:T},_=kt.updateQueue,_===null?(_=ul(),kt.updateQueue=_,_.stores=[m]):(T=_.stores,T===null?_.stores=[m]:T.push(m))}function Cf(m,_,T,V){_.value=T,_.getSnapshot=V,Of(_)&&jf(m)}function If(m,_,T){return T(function(){Of(_)&&jf(m)})}function Of(m){var _=m.getSnapshot;m=m.value;try{var T=_();return!kn(m,T)}catch{return!0}}function jf(m){var _=ts(m,2);_!==null&&Tn(_,m,2)}function Tc(m){var _=In();if(typeof m=="function"){var T=m;if(m=T(),Ls){gn(!0);try{T()}finally{gn(!1)}}}return _.memoizedState=_.baseState=m,_.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:m},_}function kf(m,_,T,V){return m.baseState=T,Ac(m,mr,typeof V=="function"?V:Di)}function pp(m,_,T,V,K){if(ml(m))throw Error(i(485));if(m=_.action,m!==null){var te={payload:K,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(pe){te.listeners.push(pe)}};ne.T!==null?T(!0):te.isTransition=!1,V(te),T=_.pending,T===null?(te.next=_.pending=te,Df(_,te)):(te.next=T.next,_.pending=T.next=te)}}function Df(m,_){var T=_.action,V=_.payload,K=m.state;if(_.isTransition){var te=ne.T,pe={};ne.T=pe;try{var ye=T(K,V),be=ne.S;be!==null&&be(pe,ye),Nf(m,_,ye)}catch(Te){Rc(m,_,Te)}finally{ne.T=te}}else try{te=T(K,V),Nf(m,_,te)}catch(Te){Rc(m,_,Te)}}function Nf(m,_,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(V){Mf(m,_,V)},function(V){return Rc(m,_,V)}):Mf(m,_,T)}function Mf(m,_,T){_.status="fulfilled",_.value=T,$f(_),m.state=T,_=m.pending,_!==null&&(T=_.next,T===_?m.pending=null:(T=T.next,_.next=T,Df(m,T)))}function Rc(m,_,T){var V=m.pending;if(m.pending=null,V!==null){V=V.next;do _.status="rejected",_.reason=T,$f(_),_=_.next;while(_!==V)}m.action=null}function $f(m){m=m.listeners;for(var _=0;_<m.length;_++)(0,m[_])()}function Lf(m,_){return _}function Vf(m,_){if(lr){var T=br.formState;if(T!==null){e:{var V=kt;if(lr){if(dn){t:{for(var K=dn,te=yi;K.nodeType!==8;){if(!te){K=null;break t}if(K=oi(K.nextSibling),K===null){K=null;break t}}te=K.data,K=te==="F!"||te==="F"?K:null}if(K){dn=oi(K.nextSibling),V=K.data==="F!";break e}}Ns(V)}V=!1}V&&(_=T[0])}}return T=In(),T.memoizedState=T.baseState=_,V={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:_},T.queue=V,T=nd.bind(null,kt,V),V.dispatch=T,V=Tc(!1),te=jc.bind(null,kt,!1,V.queue),V=In(),K={state:_,dispatch:null,action:m,pending:null},V.queue=K,T=pp.bind(null,kt,K,te,T),K.dispatch=T,V.memoizedState=m,[_,T,!1]}function Ff(m){var _=zr();return Bf(_,mr,m)}function Bf(m,_,T){_=Ac(m,_,Lf)[0],m=dl(Di)[0],_=typeof _=="object"&&_!==null&&typeof _.then=="function"?ao(_):_;var V=zr(),K=V.queue,te=K.dispatch;return T!==V.memoizedState&&(kt.flags|=2048,_a(9,mp.bind(null,K,T),{destroy:void 0},null)),[_,te,m]}function mp(m,_){m.action=_}function qf(m){var _=zr(),T=mr;if(T!==null)return Bf(_,T,m);zr(),_=_.memoizedState,T=zr();var V=T.queue.dispatch;return T.memoizedState=m,[_,V,!1]}function _a(m,_,T,V){return m={tag:m,create:_,inst:T,deps:V,next:null},_=kt.updateQueue,_===null&&(_=ul(),kt.updateQueue=_),T=_.lastEffect,T===null?_.lastEffect=m.next=m:(V=T.next,T.next=m,m.next=V,_.lastEffect=m),m}function Uf(){return zr().memoizedState}function hl(m,_,T,V){var K=In();kt.flags|=m,K.memoizedState=_a(1|_,T,{destroy:void 0},V===void 0?null:V)}function pl(m,_,T,V){var K=zr();V=V===void 0?null:V;var te=K.memoizedState.inst;mr!==null&&V!==null&&yc(V,mr.memoizedState.deps)?K.memoizedState=_a(_,T,te,V):(kt.flags|=m,K.memoizedState=_a(1|_,T,te,V))}function zf(m,_){hl(8390656,8,m,_)}function wc(m,_){pl(2048,8,m,_)}function Gf(m,_){return pl(4,2,m,_)}function Wf(m,_){return pl(4,4,m,_)}function Hf(m,_){if(typeof _=="function"){m=m();var T=_(m);return function(){typeof T=="function"?T():_(null)}}if(_!=null)return m=m(),_.current=m,function(){_.current=null}}function Kf(m,_,T){T=T!=null?T.concat([m]):null,pl(4,4,Hf.bind(null,_,m),T)}function Pc(){}function Yf(m,_){var T=zr();_=_===void 0?null:_;var V=T.memoizedState;return _!==null&&yc(_,V[1])?V[0]:(T.memoizedState=[m,_],m)}function Qf(m,_){var T=zr();_=_===void 0?null:_;var V=T.memoizedState;if(_!==null&&yc(_,V[1]))return V[0];if(V=m(),Ls){gn(!0);try{m()}finally{gn(!1)}}return T.memoizedState=[V,_],V}function Cc(m,_,T){return T===void 0||(is&1073741824)!==0?m.memoizedState=_:(m.memoizedState=T,m=Zd(),kt.lanes|=m,ps|=m,T)}function Xf(m,_,T,V){return kn(T,_)?T:pa.current!==null?(m=Cc(m,T,V),kn(m,_)||(an=!0),m):(is&42)===0?(an=!0,m.memoizedState=T):(m=Zd(),kt.lanes|=m,ps|=m,_)}function Jf(m,_,T,V,K){var te=Ae.p;Ae.p=te!==0&&8>te?te:8;var pe=ne.T,ye={};ne.T=ye,jc(m,!1,_,T);try{var be=K(),Te=ne.S;if(Te!==null&&Te(ye,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var Le=fp(be,V);oo(m,_,Le,$n(m))}else oo(m,_,V,$n(m))}catch(Fe){oo(m,_,{then:function(){},status:"rejected",reason:Fe},$n())}finally{Ae.p=te,ne.T=pe}}function gp(){}function Ic(m,_,T,V){if(m.tag!==5)throw Error(i(476));var K=Zf(m).queue;Jf(m,K,_,Ce,T===null?gp:function(){return ed(m),T(V)})}function Zf(m){var _=m.memoizedState;if(_!==null)return _;_={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:Ce},next:null};var T={};return _.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:T},next:null},m.memoizedState=_,m=m.alternate,m!==null&&(m.memoizedState=_),_}function ed(m){var _=Zf(m).next.queue;oo(m,_,{},$n())}function Oc(){return vn(Po)}function td(){return zr().memoizedState}function rd(){return zr().memoizedState}function yp(m){for(var _=m.return;_!==null;){switch(_.tag){case 24:case 3:var T=$n();m=ls(T);var V=cs(_,m,T);V!==null&&(Tn(V,_,T),uo(V,_,T)),_={cache:pc()},m.payload=_;return}_=_.return}}function vp(m,_,T){var V=$n();T={lane:V,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null},ml(m)?sd(_,T):(T=oc(m,_,T,V),T!==null&&(Tn(T,m,V),ad(T,_,V)))}function nd(m,_,T){var V=$n();oo(m,_,T,V)}function oo(m,_,T,V){var K={lane:V,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null};if(ml(m))sd(_,K);else{var te=m.alternate;if(m.lanes===0&&(te===null||te.lanes===0)&&(te=_.lastRenderedReducer,te!==null))try{var pe=_.lastRenderedState,ye=te(pe,T);if(K.hasEagerState=!0,K.eagerState=ye,kn(ye,pe))return Jo(m,_,K,0),br===null&&Xo(),!1}catch{}finally{}if(T=oc(m,_,K,V),T!==null)return Tn(T,m,V),ad(T,_,V),!0}return!1}function jc(m,_,T,V){if(V={lane:2,revertLane:Eu(),action:V,hasEagerState:!1,eagerState:null,next:null},ml(m)){if(_)throw Error(i(479))}else _=oc(m,T,V,2),_!==null&&Tn(_,m,2)}function ml(m){var _=m.alternate;return m===kt||_!==null&&_===kt}function sd(m,_){ya=ll=!0;var T=m.pending;T===null?_.next=_:(_.next=T.next,T.next=_),m.pending=_}function ad(m,_,T){if((T&4194176)!==0){var V=_.lanes;V&=m.pendingLanes,T|=V,_.lanes=T,Rr(m,T)}}var _i={readContext:vn,use:fl,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useLayoutEffect:Fr,useInsertionEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useSyncExternalStore:Fr,useId:Fr};_i.useCacheRefresh=Fr,_i.useMemoCache=Fr,_i.useHostTransitionStatus=Fr,_i.useFormState=Fr,_i.useActionState=Fr,_i.useOptimistic=Fr;var Vs={readContext:vn,use:fl,useCallback:function(m,_){return In().memoizedState=[m,_===void 0?null:_],m},useContext:vn,useEffect:zf,useImperativeHandle:function(m,_,T){T=T!=null?T.concat([m]):null,hl(4194308,4,Hf.bind(null,_,m),T)},useLayoutEffect:function(m,_){return hl(4194308,4,m,_)},useInsertionEffect:function(m,_){hl(4,2,m,_)},useMemo:function(m,_){var T=In();_=_===void 0?null:_;var V=m();if(Ls){gn(!0);try{m()}finally{gn(!1)}}return T.memoizedState=[V,_],V},useReducer:function(m,_,T){var V=In();if(T!==void 0){var K=T(_);if(Ls){gn(!0);try{T(_)}finally{gn(!1)}}}else K=_;return V.memoizedState=V.baseState=K,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:K},V.queue=m,m=m.dispatch=vp.bind(null,kt,m),[V.memoizedState,m]},useRef:function(m){var _=In();return m={current:m},_.memoizedState=m},useState:function(m){m=Tc(m);var _=m.queue,T=nd.bind(null,kt,_);return _.dispatch=T,[m.memoizedState,T]},useDebugValue:Pc,useDeferredValue:function(m,_){var T=In();return Cc(T,m,_)},useTransition:function(){var m=Tc(!1);return m=Jf.bind(null,kt,m.queue,!0,!1),In().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,_,T){var V=kt,K=In();if(lr){if(T===void 0)throw Error(i(407));T=T()}else{if(T=_(),br===null)throw Error(i(349));(ir&60)!==0||Pf(V,_,T)}K.memoizedState=T;var te={value:T,getSnapshot:_};return K.queue=te,zf(If.bind(null,V,te,m),[m]),V.flags|=2048,_a(9,Cf.bind(null,V,te,T,_),{destroy:void 0},null),T},useId:function(){var m=In(),_=br.identifierPrefix;if(lr){var T=ji,V=Oi;T=(V&~(1<<32-Br(V)-1)).toString(32)+T,_=":"+_+"R"+T,T=cl++,0<T&&(_+="H"+T.toString(32)),_+=":"}else T=dp++,_=":"+_+"r"+T.toString(32)+":";return m.memoizedState=_},useCacheRefresh:function(){return In().memoizedState=yp.bind(null,kt)}};Vs.useMemoCache=bc,Vs.useHostTransitionStatus=Oc,Vs.useFormState=Vf,Vs.useActionState=Vf,Vs.useOptimistic=function(m){var _=In();_.memoizedState=_.baseState=m;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return _.queue=T,_=jc.bind(null,kt,!0,T),T.dispatch=_,[m,_]};var ss={readContext:vn,use:fl,useCallback:Yf,useContext:vn,useEffect:wc,useImperativeHandle:Kf,useInsertionEffect:Gf,useLayoutEffect:Wf,useMemo:Qf,useReducer:dl,useRef:Uf,useState:function(){return dl(Di)},useDebugValue:Pc,useDeferredValue:function(m,_){var T=zr();return Xf(T,mr.memoizedState,m,_)},useTransition:function(){var m=dl(Di)[0],_=zr().memoizedState;return[typeof m=="boolean"?m:ao(m),_]},useSyncExternalStore:wf,useId:td};ss.useCacheRefresh=rd,ss.useMemoCache=bc,ss.useHostTransitionStatus=Oc,ss.useFormState=Ff,ss.useActionState=Ff,ss.useOptimistic=function(m,_){var T=zr();return kf(T,mr,m,_)};var Fs={readContext:vn,use:fl,useCallback:Yf,useContext:vn,useEffect:wc,useImperativeHandle:Kf,useInsertionEffect:Gf,useLayoutEffect:Wf,useMemo:Qf,useReducer:Sc,useRef:Uf,useState:function(){return Sc(Di)},useDebugValue:Pc,useDeferredValue:function(m,_){var T=zr();return mr===null?Cc(T,m,_):Xf(T,mr.memoizedState,m,_)},useTransition:function(){var m=Sc(Di)[0],_=zr().memoizedState;return[typeof m=="boolean"?m:ao(m),_]},useSyncExternalStore:wf,useId:td};Fs.useCacheRefresh=rd,Fs.useMemoCache=bc,Fs.useHostTransitionStatus=Oc,Fs.useFormState=qf,Fs.useActionState=qf,Fs.useOptimistic=function(m,_){var T=zr();return mr!==null?kf(T,mr,m,_):(T.baseState=m,[m,T.queue.dispatch])};function kc(m,_,T,V){_=m.memoizedState,T=T(V,_),T=T==null?_:ae({},_,T),m.memoizedState=T,m.lanes===0&&(m.updateQueue.baseState=T)}var Dc={isMounted:function(m){return(m=m._reactInternals)?ee(m)===m:!1},enqueueSetState:function(m,_,T){m=m._reactInternals;var V=$n(),K=ls(V);K.payload=_,T!=null&&(K.callback=T),_=cs(m,K,V),_!==null&&(Tn(_,m,V),uo(_,m,V))},enqueueReplaceState:function(m,_,T){m=m._reactInternals;var V=$n(),K=ls(V);K.tag=1,K.payload=_,T!=null&&(K.callback=T),_=cs(m,K,V),_!==null&&(Tn(_,m,V),uo(_,m,V))},enqueueForceUpdate:function(m,_){m=m._reactInternals;var T=$n(),V=ls(T);V.tag=2,_!=null&&(V.callback=_),_=cs(m,V,T),_!==null&&(Tn(_,m,T),uo(_,m,T))}};function od(m,_,T,V,K,te,pe){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(V,te,pe):_.prototype&&_.prototype.isPureReactComponent?!Ka(T,V)||!Ka(K,te):!0}function ld(m,_,T,V){m=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(T,V),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(T,V),_.state!==m&&Dc.enqueueReplaceState(_,_.state,null)}function Bs(m,_){var T=_;if("ref"in _){T={};for(var V in _)V!=="ref"&&(T[V]=_[V])}if(m=m.defaultProps){T===_&&(T=ae({},T));for(var K in m)T[K]===void 0&&(T[K]=m[K])}return T}var gl=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)};function cd(m){gl(m)}function ud(m){console.error(m)}function fd(m){gl(m)}function yl(m,_){try{var T=m.onUncaughtError;T(_.value,{componentStack:_.stack})}catch(V){setTimeout(function(){throw V})}}function dd(m,_,T){try{var V=m.onCaughtError;V(T.value,{componentStack:T.stack,errorBoundary:_.tag===1?_.stateNode:null})}catch(K){setTimeout(function(){throw K})}}function Nc(m,_,T){return T=ls(T),T.tag=3,T.payload={element:null},T.callback=function(){yl(m,_)},T}function hd(m){return m=ls(m),m.tag=3,m}function pd(m,_,T,V){var K=T.type.getDerivedStateFromError;if(typeof K=="function"){var te=V.value;m.payload=function(){return K(te)},m.callback=function(){dd(_,T,V)}}var pe=T.stateNode;pe!==null&&typeof pe.componentDidCatch=="function"&&(m.callback=function(){dd(_,T,V),typeof K!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var ye=V.stack;this.componentDidCatch(V.value,{componentStack:ye!==null?ye:""})})}function _p(m,_,T,V,K){if(T.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){if(_=T.alternate,_!==null&&co(_,T,K,!0),T=Yn.current,T!==null){switch(T.tag){case 13:return vi===null?gu():T.alternate===null&&Nr===0&&(Nr=3),T.flags&=-257,T.flags|=65536,T.lanes=K,V===fc?T.flags|=16384:(_=T.updateQueue,_===null?T.updateQueue=new Set([V]):_.add(V),vu(m,V,K)),!1;case 22:return T.flags|=65536,V===fc?T.flags|=16384:(_=T.updateQueue,_===null?(_={transitions:null,markerInstances:null,retryQueue:new Set([V])},T.updateQueue=_):(T=_.retryQueue,T===null?_.retryQueue=new Set([V]):T.add(V)),vu(m,V,K)),!1}throw Error(i(435,T.tag))}return vu(m,V,K),gu(),!1}if(lr)return _=Yn.current,_!==null?((_.flags&65536)===0&&(_.flags|=256),_.flags|=65536,_.lanes=K,V!==uc&&(m=Error(i(422),{cause:V}),Ja(Wn(m,T)))):(V!==uc&&(_=Error(i(423),{cause:V}),Ja(Wn(_,T))),m=m.current.alternate,m.flags|=65536,K&=-K,m.lanes|=K,V=Wn(V,T),K=Nc(m.stateNode,V,K),Qc(m,K),Nr!==4&&(Nr=2)),!1;var te=Error(i(520),{cause:V});if(te=Wn(te,T),_o===null?_o=[te]:_o.push(te),Nr!==4&&(Nr=2),_===null)return!0;V=Wn(V,T),T=_;do{switch(T.tag){case 3:return T.flags|=65536,m=K&-K,T.lanes|=m,m=Nc(T.stateNode,V,m),Qc(T,m),!1;case 1:if(_=T.type,te=T.stateNode,(T.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(ms===null||!ms.has(te))))return T.flags|=65536,K&=-K,T.lanes|=K,K=hd(K),pd(K,m,T,V),Qc(T,K),!1}T=T.return}while(T!==null);return!1}var md=Error(i(461)),an=!1;function hn(m,_,T,V){_.child=m===null?_f(_,null,T,V):Ms(_,m.child,T,V)}function gd(m,_,T,V,K){T=T.render;var te=_.ref;if("ref"in V){var pe={};for(var ye in V)ye!=="ref"&&(pe[ye]=V[ye])}else pe=V;return Us(_),V=vc(m,_,T,pe,te,K),ye=_c(),m!==null&&!an?(xc(m,_,K),Ni(m,_,K)):(lr&&ye&&lc(_),_.flags|=1,hn(m,_,V,K),_.child)}function yd(m,_,T,V,K){if(m===null){var te=T.type;return typeof te=="function"&&!iu(te)&&te.defaultProps===void 0&&T.compare===null?(_.tag=15,_.type=te,vd(m,_,te,V,K)):(m=bl(T.type,null,V,_,_.mode,K),m.ref=_.ref,m.return=_,_.child=m)}if(te=m.child,!zc(m,K)){var pe=te.memoizedProps;if(T=T.compare,T=T!==null?T:Ka,T(pe,V)&&m.ref===_.ref)return Ni(m,_,K)}return _.flags|=1,m=hs(te,V),m.ref=_.ref,m.return=_,_.child=m}function vd(m,_,T,V,K){if(m!==null){var te=m.memoizedProps;if(Ka(te,V)&&m.ref===_.ref)if(an=!1,_.pendingProps=V=te,zc(m,K))(m.flags&131072)!==0&&(an=!0);else return _.lanes=m.lanes,Ni(m,_,K)}return Mc(m,_,T,V,K)}function _d(m,_,T){var V=_.pendingProps,K=V.children,te=(_.stateNode._pendingVisibility&2)!==0,pe=m!==null?m.memoizedState:null;if(lo(m,_),V.mode==="hidden"||te){if((_.flags&128)!==0){if(V=pe!==null?pe.baseLanes|T:T,m!==null){for(K=_.child=m.child,te=0;K!==null;)te=te|K.lanes|K.childLanes,K=K.sibling;_.childLanes=te&~V}else _.childLanes=0,_.child=null;return xd(m,_,V,T)}if((T&536870912)!==0)_.memoizedState={baseLanes:0,cachePool:null},m!==null&&ol(_,pe!==null?pe.cachePool:null),pe!==null?xf(_,pe):dc(),Ef(_);else return _.lanes=_.childLanes=536870912,xd(m,_,pe!==null?pe.baseLanes|T:T,T)}else pe!==null?(ol(_,pe.cachePool),xf(_,pe),ns(),_.memoizedState=null):(m!==null&&ol(_,null),dc(),ns());return hn(m,_,K,T),_.child}function xd(m,_,T,V){var K=gc();return K=K===null?null:{parent:Xr._currentValue,pool:K},_.memoizedState={baseLanes:T,cachePool:K},m!==null&&ol(_,null),dc(),Ef(_),m!==null&&co(m,_,V,!0),null}function lo(m,_){var T=_.ref;if(T===null)m!==null&&m.ref!==null&&(_.flags|=2097664);else{if(typeof T!="function"&&typeof T!="object")throw Error(i(284));(m===null||m.ref!==T)&&(_.flags|=2097664)}}function Mc(m,_,T,V,K){return Us(_),T=vc(m,_,T,V,void 0,K),V=_c(),m!==null&&!an?(xc(m,_,K),Ni(m,_,K)):(lr&&V&&lc(_),_.flags|=1,hn(m,_,T,K),_.child)}function Ed(m,_,T,V,K,te){return Us(_),_.updateQueue=null,T=Rf(_,V,T,K),Tf(m),V=_c(),m!==null&&!an?(xc(m,_,te),Ni(m,_,te)):(lr&&V&&lc(_),_.flags|=1,hn(m,_,T,te),_.child)}function bd(m,_,T,V,K){if(Us(_),_.stateNode===null){var te=ua,pe=T.contextType;typeof pe=="object"&&pe!==null&&(te=vn(pe)),te=new T(V,te),_.memoizedState=te.state!==null&&te.state!==void 0?te.state:null,te.updater=Dc,_.stateNode=te,te._reactInternals=_,te=_.stateNode,te.props=V,te.state=_.memoizedState,te.refs={},Kc(_),pe=T.contextType,te.context=typeof pe=="object"&&pe!==null?vn(pe):ua,te.state=_.memoizedState,pe=T.getDerivedStateFromProps,typeof pe=="function"&&(kc(_,T,pe,V),te.state=_.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof te.getSnapshotBeforeUpdate=="function"||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(pe=te.state,typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount(),pe!==te.state&&Dc.enqueueReplaceState(te,te.state,null),ho(_,V,te,K),fo(),te.state=_.memoizedState),typeof te.componentDidMount=="function"&&(_.flags|=4194308),V=!0}else if(m===null){te=_.stateNode;var ye=_.memoizedProps,be=Bs(T,ye);te.props=be;var Te=te.context,Le=T.contextType;pe=ua,typeof Le=="object"&&Le!==null&&(pe=vn(Le));var Fe=T.getDerivedStateFromProps;Le=typeof Fe=="function"||typeof te.getSnapshotBeforeUpdate=="function",ye=_.pendingProps!==ye,Le||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(ye||Te!==pe)&&ld(_,te,V,pe),os=!1;var Ie=_.memoizedState;te.state=Ie,ho(_,V,te,K),fo(),Te=_.memoizedState,ye||Ie!==Te||os?(typeof Fe=="function"&&(kc(_,T,Fe,V),Te=_.memoizedState),(be=os||od(_,T,be,V,Ie,Te,pe))?(Le||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount()),typeof te.componentDidMount=="function"&&(_.flags|=4194308)):(typeof te.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=V,_.memoizedState=Te),te.props=V,te.state=Te,te.context=pe,V=be):(typeof te.componentDidMount=="function"&&(_.flags|=4194308),V=!1)}else{te=_.stateNode,Yc(m,_),pe=_.memoizedProps,Le=Bs(T,pe),te.props=Le,Fe=_.pendingProps,Ie=te.context,Te=T.contextType,be=ua,typeof Te=="object"&&Te!==null&&(be=vn(Te)),ye=T.getDerivedStateFromProps,(Te=typeof ye=="function"||typeof te.getSnapshotBeforeUpdate=="function")||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(pe!==Fe||Ie!==be)&&ld(_,te,V,be),os=!1,Ie=_.memoizedState,te.state=Ie,ho(_,V,te,K),fo();var $e=_.memoizedState;pe!==Fe||Ie!==$e||os||m!==null&&m.dependencies!==null&&vl(m.dependencies)?(typeof ye=="function"&&(kc(_,T,ye,V),$e=_.memoizedState),(Le=os||od(_,T,Le,V,Ie,$e,be)||m!==null&&m.dependencies!==null&&vl(m.dependencies))?(Te||typeof te.UNSAFE_componentWillUpdate!="function"&&typeof te.componentWillUpdate!="function"||(typeof te.componentWillUpdate=="function"&&te.componentWillUpdate(V,$e,be),typeof te.UNSAFE_componentWillUpdate=="function"&&te.UNSAFE_componentWillUpdate(V,$e,be)),typeof te.componentDidUpdate=="function"&&(_.flags|=4),typeof te.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof te.componentDidUpdate!="function"||pe===m.memoizedProps&&Ie===m.memoizedState||(_.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||pe===m.memoizedProps&&Ie===m.memoizedState||(_.flags|=1024),_.memoizedProps=V,_.memoizedState=$e),te.props=V,te.state=$e,te.context=be,V=Le):(typeof te.componentDidUpdate!="function"||pe===m.memoizedProps&&Ie===m.memoizedState||(_.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||pe===m.memoizedProps&&Ie===m.memoizedState||(_.flags|=1024),V=!1)}return te=V,lo(m,_),V=(_.flags&128)!==0,te||V?(te=_.stateNode,T=V&&typeof T.getDerivedStateFromError!="function"?null:te.render(),_.flags|=1,m!==null&&V?(_.child=Ms(_,m.child,null,K),_.child=Ms(_,null,T,K)):hn(m,_,T,K),_.memoizedState=te.state,m=_.child):m=Ni(m,_,K),m}function Ad(m,_,T,V){return Xa(),_.flags|=256,hn(m,_,T,V),_.child}var $c={dehydrated:null,treeContext:null,retryLane:0};function Lc(m){return{baseLanes:m,cachePool:Sf()}}function Vc(m,_,T){return m=m!==null?m.childLanes&~T:0,_&&(m|=Zn),m}function Sd(m,_,T){var V=_.pendingProps,K=!1,te=(_.flags&128)!==0,pe;if((pe=te)||(pe=m!==null&&m.memoizedState===null?!1:(Qr.current&2)!==0),pe&&(K=!0,_.flags&=-129),pe=(_.flags&32)!==0,_.flags&=-33,m===null){if(lr){if(K?rs(_):ns(),lr){var ye=dn,be;if(be=ye){e:{for(be=ye,ye=yi;be.nodeType!==8;){if(!ye){ye=null;break e}if(be=oi(be.nextSibling),be===null){ye=null;break e}}ye=be}ye!==null?(_.memoizedState={dehydrated:ye,treeContext:ks!==null?{id:Oi,overflow:ji}:null,retryLane:536870912},be=Jn(18,null,null,0),be.stateNode=ye,be.return=_,_.child=be,Sn=_,dn=null,be=!0):be=!1}be||Ns(_)}if(ye=_.memoizedState,ye!==null&&(ye=ye.dehydrated,ye!==null))return ye.data==="$!"?_.lanes=16:_.lanes=536870912,null;ki(_)}return ye=V.children,V=V.fallback,K?(ns(),K=_.mode,ye=Bc({mode:"hidden",children:ye},K),V=Gs(V,K,T,null),ye.return=_,V.return=_,ye.sibling=V,_.child=ye,K=_.child,K.memoizedState=Lc(T),K.childLanes=Vc(m,pe,T),_.memoizedState=$c,V):(rs(_),Fc(_,ye))}if(be=m.memoizedState,be!==null&&(ye=be.dehydrated,ye!==null)){if(te)_.flags&256?(rs(_),_.flags&=-257,_=qc(m,_,T)):_.memoizedState!==null?(ns(),_.child=m.child,_.flags|=128,_=null):(ns(),K=V.fallback,ye=_.mode,V=Bc({mode:"visible",children:V.children},ye),K=Gs(K,ye,T,null),K.flags|=2,V.return=_,K.return=_,V.sibling=K,_.child=V,Ms(_,m.child,null,T),V=_.child,V.memoizedState=Lc(T),V.childLanes=Vc(m,pe,T),_.memoizedState=$c,_=K);else if(rs(_),ye.data==="$!"){if(pe=ye.nextSibling&&ye.nextSibling.dataset,pe)var Te=pe.dgst;pe=Te,V=Error(i(419)),V.stack="",V.digest=pe,Ja({value:V,source:null,stack:null}),_=qc(m,_,T)}else if(an||co(m,_,T,!1),pe=(T&m.childLanes)!==0,an||pe){if(pe=br,pe!==null){if(V=T&-T,(V&42)!==0)V=1;else switch(V){case 2:V=1;break;case 8:V=4;break;case 32:V=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:V=64;break;case 268435456:V=134217728;break;default:V=0}if(V=(V&(pe.suspendedLanes|T))!==0?0:V,V!==0&&V!==be.retryLane)throw be.retryLane=V,ts(m,V),Tn(pe,m,V),md}ye.data==="$?"||gu(),_=qc(m,_,T)}else ye.data==="$?"?(_.flags|=128,_.child=m.child,_=Dp.bind(null,m),ye._reactRetry=_,_=null):(m=be.treeContext,dn=oi(ye.nextSibling),Sn=_,lr=!0,si=null,yi=!1,m!==null&&(Hn[Kn++]=Oi,Hn[Kn++]=ji,Hn[Kn++]=ks,Oi=m.id,ji=m.overflow,ks=_),_=Fc(_,V.children),_.flags|=4096);return _}return K?(ns(),K=V.fallback,ye=_.mode,be=m.child,Te=be.sibling,V=hs(be,{mode:"hidden",children:V.children}),V.subtreeFlags=be.subtreeFlags&31457280,Te!==null?K=hs(Te,K):(K=Gs(K,ye,T,null),K.flags|=2),K.return=_,V.return=_,V.sibling=K,_.child=V,V=K,K=_.child,ye=m.child.memoizedState,ye===null?ye=Lc(T):(be=ye.cachePool,be!==null?(Te=Xr._currentValue,be=be.parent!==Te?{parent:Te,pool:Te}:be):be=Sf(),ye={baseLanes:ye.baseLanes|T,cachePool:be}),K.memoizedState=ye,K.childLanes=Vc(m,pe,T),_.memoizedState=$c,V):(rs(_),T=m.child,m=T.sibling,T=hs(T,{mode:"visible",children:V.children}),T.return=_,T.sibling=null,m!==null&&(pe=_.deletions,pe===null?(_.deletions=[m],_.flags|=16):pe.push(m)),_.child=T,_.memoizedState=null,T)}function Fc(m,_){return _=Bc({mode:"visible",children:_},m.mode),_.return=m,m.child=_}function Bc(m,_){return Qd(m,_,0,null)}function qc(m,_,T){return Ms(_,m.child,null,T),m=Fc(_,_.pendingProps.children),m.flags|=2,_.memoizedState=null,m}function Td(m,_,T){m.lanes|=_;var V=m.alternate;V!==null&&(V.lanes|=_),Wc(m.return,_,T)}function Uc(m,_,T,V,K){var te=m.memoizedState;te===null?m.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:V,tail:T,tailMode:K}:(te.isBackwards=_,te.rendering=null,te.renderingStartTime=0,te.last=V,te.tail=T,te.tailMode=K)}function Rd(m,_,T){var V=_.pendingProps,K=V.revealOrder,te=V.tail;if(hn(m,_,V.children,T),V=Qr.current,(V&2)!==0)V=V&1|2,_.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=_.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&Td(m,T,_);else if(m.tag===19)Td(m,T,_);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===_)break e;for(;m.sibling===null;){if(m.return===null||m.return===_)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}V&=1}switch(Me(Qr,V),K){case"forwards":for(T=_.child,K=null;T!==null;)m=T.alternate,m!==null&&al(m)===null&&(K=T),T=T.sibling;T=K,T===null?(K=_.child,_.child=null):(K=T.sibling,T.sibling=null),Uc(_,!1,K,T,te);break;case"backwards":for(T=null,K=_.child,_.child=null;K!==null;){if(m=K.alternate,m!==null&&al(m)===null){_.child=K;break}m=K.sibling,K.sibling=T,T=K,K=m}Uc(_,!0,T,null,te);break;case"together":Uc(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function Ni(m,_,T){if(m!==null&&(_.dependencies=m.dependencies),ps|=_.lanes,(T&_.childLanes)===0)if(m!==null){if(co(m,_,T,!1),(T&_.childLanes)===0)return null}else return null;if(m!==null&&_.child!==m.child)throw Error(i(153));if(_.child!==null){for(m=_.child,T=hs(m,m.pendingProps),_.child=T,T.return=_;m.sibling!==null;)m=m.sibling,T=T.sibling=hs(m,m.pendingProps),T.return=_;T.sibling=null}return _.child}function zc(m,_){return(m.lanes&_)!==0?!0:(m=m.dependencies,!!(m!==null&&vl(m)))}function xp(m,_,T){switch(_.tag){case 3:Ge(_,_.stateNode.containerInfo),as(_,Xr,m.memoizedState.cache),Xa();break;case 27:case 5:ct(_);break;case 4:Ge(_,_.stateNode.containerInfo);break;case 10:as(_,_.type,_.memoizedProps.value);break;case 13:var V=_.memoizedState;if(V!==null)return V.dehydrated!==null?(rs(_),_.flags|=128,null):(T&_.child.childLanes)!==0?Sd(m,_,T):(rs(_),m=Ni(m,_,T),m!==null?m.sibling:null);rs(_);break;case 19:var K=(m.flags&128)!==0;if(V=(T&_.childLanes)!==0,V||(co(m,_,T,!1),V=(T&_.childLanes)!==0),K){if(V)return Rd(m,_,T);_.flags|=128}if(K=_.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Me(Qr,Qr.current),V)break;return null;case 22:case 23:return _.lanes=0,_d(m,_,T);case 24:as(_,Xr,m.memoizedState.cache)}return Ni(m,_,T)}function wd(m,_,T){if(m!==null)if(m.memoizedProps!==_.pendingProps)an=!0;else{if(!zc(m,T)&&(_.flags&128)===0)return an=!1,xp(m,_,T);an=(m.flags&131072)!==0}else an=!1,lr&&(_.flags&1048576)!==0&&uf(_,tl,_.index);switch(_.lanes=0,_.tag){case 16:e:{m=_.pendingProps;var V=_.elementType,K=V._init;if(V=K(V._payload),_.type=V,typeof V=="function")iu(V)?(m=Bs(V,m),_.tag=1,_=bd(null,_,V,m,T)):(_.tag=0,_=Mc(null,_,V,m,T));else{if(V!=null){if(K=V.$$typeof,K===I){_.tag=11,_=gd(null,_,V,m,T);break e}else if(K===L){_.tag=14,_=yd(null,_,V,m,T);break e}}throw _=J(V)||V,Error(i(306,_,""))}}return _;case 0:return Mc(m,_,_.type,_.pendingProps,T);case 1:return V=_.type,K=Bs(V,_.pendingProps),bd(m,_,V,K,T);case 3:e:{if(Ge(_,_.stateNode.containerInfo),m===null)throw Error(i(387));var te=_.pendingProps;K=_.memoizedState,V=K.element,Yc(m,_),ho(_,te,null,T);var pe=_.memoizedState;if(te=pe.cache,as(_,Xr,te),te!==K.cache&&Hc(_,[Xr],T,!0),fo(),te=pe.element,K.isDehydrated)if(K={element:te,isDehydrated:!1,cache:pe.cache},_.updateQueue.baseState=K,_.memoizedState=K,_.flags&256){_=Ad(m,_,te,T);break e}else if(te!==V){V=Wn(Error(i(424)),_),Ja(V),_=Ad(m,_,te,T);break e}else for(dn=oi(_.stateNode.containerInfo.firstChild),Sn=_,lr=!0,si=null,yi=!0,T=_f(_,null,te,T),_.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(Xa(),te===V){_=Ni(m,_,T);break e}hn(m,_,te,T)}_=_.child}return _;case 26:return lo(m,_),m===null?(T=Oh(_.type,null,_.pendingProps,null))?_.memoizedState=T:lr||(T=_.type,m=_.pendingProps,V=Dl(ze.current).createElement(T),V[xr]=_,V[Or]=m,pn(V,T,m),wr(V),_.stateNode=V):_.memoizedState=Oh(_.type,m.memoizedProps,_.pendingProps,m.memoizedState),null;case 27:return ct(_),m===null&&lr&&(V=_.stateNode=Ph(_.type,_.pendingProps,ze.current),Sn=_,yi=!0,dn=oi(V.firstChild)),V=_.pendingProps.children,m!==null||lr?hn(m,_,V,T):_.child=Ms(_,null,V,T),lo(m,_),_.child;case 5:return m===null&&lr&&((K=V=dn)&&(V=Qp(V,_.type,_.pendingProps,yi),V!==null?(_.stateNode=V,Sn=_,dn=oi(V.firstChild),yi=!1,K=!0):K=!1),K||Ns(_)),ct(_),K=_.type,te=_.pendingProps,pe=m!==null?m.memoizedProps:null,V=te.children,Iu(K,te)?V=null:pe!==null&&Iu(K,pe)&&(_.flags|=32),_.memoizedState!==null&&(K=vc(m,_,hp,null,null,T),Po._currentValue=K),lo(m,_),hn(m,_,V,T),_.child;case 6:return m===null&&lr&&((m=T=dn)&&(T=Xp(T,_.pendingProps,yi),T!==null?(_.stateNode=T,Sn=_,dn=null,m=!0):m=!1),m||Ns(_)),null;case 13:return Sd(m,_,T);case 4:return Ge(_,_.stateNode.containerInfo),V=_.pendingProps,m===null?_.child=Ms(_,null,V,T):hn(m,_,V,T),_.child;case 11:return gd(m,_,_.type,_.pendingProps,T);case 7:return hn(m,_,_.pendingProps,T),_.child;case 8:return hn(m,_,_.pendingProps.children,T),_.child;case 12:return hn(m,_,_.pendingProps.children,T),_.child;case 10:return V=_.pendingProps,as(_,_.type,V.value),hn(m,_,V.children,T),_.child;case 9:return K=_.type._context,V=_.pendingProps.children,Us(_),K=vn(K),V=V(K),_.flags|=1,hn(m,_,V,T),_.child;case 14:return yd(m,_,_.type,_.pendingProps,T);case 15:return vd(m,_,_.type,_.pendingProps,T);case 19:return Rd(m,_,T);case 22:return _d(m,_,T);case 24:return Us(_),V=vn(Xr),m===null?(K=gc(),K===null&&(K=br,te=pc(),K.pooledCache=te,te.refCount++,te!==null&&(K.pooledCacheLanes|=T),K=te),_.memoizedState={parent:V,cache:K},Kc(_),as(_,Xr,K)):((m.lanes&T)!==0&&(Yc(m,_),ho(_,null,null,T),fo()),K=m.memoizedState,te=_.memoizedState,K.parent!==V?(K={parent:V,cache:V},_.memoizedState=K,_.lanes===0&&(_.memoizedState=_.updateQueue.baseState=K),as(_,Xr,V)):(V=te.cache,as(_,Xr,V),V!==K.cache&&Hc(_,[Xr],T,!0))),hn(m,_,_.pendingProps.children,T),_.child;case 29:throw _.pendingProps}throw Error(i(156,_.tag))}var Gc=qe(null),qs=null,Mi=null;function as(m,_,T){Me(Gc,_._currentValue),_._currentValue=T}function $i(m){m._currentValue=Gc.current,Ne(Gc)}function Wc(m,_,T){for(;m!==null;){var V=m.alternate;if((m.childLanes&_)!==_?(m.childLanes|=_,V!==null&&(V.childLanes|=_)):V!==null&&(V.childLanes&_)!==_&&(V.childLanes|=_),m===T)break;m=m.return}}function Hc(m,_,T,V){var K=m.child;for(K!==null&&(K.return=m);K!==null;){var te=K.dependencies;if(te!==null){var pe=K.child;te=te.firstContext;e:for(;te!==null;){var ye=te;te=K;for(var be=0;be<_.length;be++)if(ye.context===_[be]){te.lanes|=T,ye=te.alternate,ye!==null&&(ye.lanes|=T),Wc(te.return,T,m),V||(pe=null);break e}te=ye.next}}else if(K.tag===18){if(pe=K.return,pe===null)throw Error(i(341));pe.lanes|=T,te=pe.alternate,te!==null&&(te.lanes|=T),Wc(pe,T,m),pe=null}else pe=K.child;if(pe!==null)pe.return=K;else for(pe=K;pe!==null;){if(pe===m){pe=null;break}if(K=pe.sibling,K!==null){K.return=pe.return,pe=K;break}pe=pe.return}K=pe}}function co(m,_,T,V){m=null;for(var K=_,te=!1;K!==null;){if(!te){if((K.flags&524288)!==0)te=!0;else if((K.flags&262144)!==0)break}if(K.tag===10){var pe=K.alternate;if(pe===null)throw Error(i(387));if(pe=pe.memoizedProps,pe!==null){var ye=K.type;kn(K.pendingProps.value,pe.value)||(m!==null?m.push(ye):m=[ye])}}else if(K===ke.current){if(pe=K.alternate,pe===null)throw Error(i(387));pe.memoizedState.memoizedState!==K.memoizedState.memoizedState&&(m!==null?m.push(Po):m=[Po])}K=K.return}m!==null&&Hc(_,m,T,V),_.flags|=262144}function vl(m){for(m=m.firstContext;m!==null;){if(!kn(m.context._currentValue,m.memoizedValue))return!0;m=m.next}return!1}function Us(m){qs=m,Mi=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function vn(m){return Pd(qs,m)}function _l(m,_){return qs===null&&Us(m),Pd(m,_)}function Pd(m,_){var T=_._currentValue;if(_={context:_,memoizedValue:T,next:null},Mi===null){if(m===null)throw Error(i(308));Mi=_,m.dependencies={lanes:0,firstContext:_},m.flags|=524288}else Mi=Mi.next=_;return T}var os=!1;function Kc(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yc(m,_){m=m.updateQueue,_.updateQueue===m&&(_.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function ls(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function cs(m,_,T){var V=m.updateQueue;if(V===null)return null;if(V=V.shared,(Cr&2)!==0){var K=V.pending;return K===null?_.next=_:(_.next=K.next,K.next=_),V.pending=_,_=Zo(m),lf(m,null,T),_}return Jo(m,V,_,T),Zo(m)}function uo(m,_,T){if(_=_.updateQueue,_!==null&&(_=_.shared,(T&4194176)!==0)){var V=_.lanes;V&=m.pendingLanes,T|=V,_.lanes=T,Rr(m,T)}}function Qc(m,_){var T=m.updateQueue,V=m.alternate;if(V!==null&&(V=V.updateQueue,T===V)){var K=null,te=null;if(T=T.firstBaseUpdate,T!==null){do{var pe={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};te===null?K=te=pe:te=te.next=pe,T=T.next}while(T!==null);te===null?K=te=_:te=te.next=_}else K=te=_;T={baseState:V.baseState,firstBaseUpdate:K,lastBaseUpdate:te,shared:V.shared,callbacks:V.callbacks},m.updateQueue=T;return}m=T.lastBaseUpdate,m===null?T.firstBaseUpdate=_:m.next=_,T.lastBaseUpdate=_}var Xc=!1;function fo(){if(Xc){var m=ga;if(m!==null)throw m}}function ho(m,_,T,V){Xc=!1;var K=m.updateQueue;os=!1;var te=K.firstBaseUpdate,pe=K.lastBaseUpdate,ye=K.shared.pending;if(ye!==null){K.shared.pending=null;var be=ye,Te=be.next;be.next=null,pe===null?te=Te:pe.next=Te,pe=be;var Le=m.alternate;Le!==null&&(Le=Le.updateQueue,ye=Le.lastBaseUpdate,ye!==pe&&(ye===null?Le.firstBaseUpdate=Te:ye.next=Te,Le.lastBaseUpdate=be))}if(te!==null){var Fe=K.baseState;pe=0,Le=Te=be=null,ye=te;do{var Ie=ye.lane&-536870913,$e=Ie!==ye.lane;if($e?(ir&Ie)===Ie:(V&Ie)===Ie){Ie!==0&&Ie===ma&&(Xc=!0),Le!==null&&(Le=Le.next={lane:0,tag:ye.tag,payload:ye.payload,callback:null,next:null});e:{var Ye=m,ut=ye;Ie=_;var Mr=T;switch(ut.tag){case 1:if(Ye=ut.payload,typeof Ye=="function"){Fe=Ye.call(Mr,Fe,Ie);break e}Fe=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=ut.payload,Ie=typeof Ye=="function"?Ye.call(Mr,Fe,Ie):Ye,Ie==null)break e;Fe=ae({},Fe,Ie);break e;case 2:os=!0}}Ie=ye.callback,Ie!==null&&(m.flags|=64,$e&&(m.flags|=8192),$e=K.callbacks,$e===null?K.callbacks=[Ie]:$e.push(Ie))}else $e={lane:Ie,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Le===null?(Te=Le=$e,be=Fe):Le=Le.next=$e,pe|=Ie;if(ye=ye.next,ye===null){if(ye=K.shared.pending,ye===null)break;$e=ye,ye=$e.next,$e.next=null,K.lastBaseUpdate=$e,K.shared.pending=null}}while(!0);Le===null&&(be=Fe),K.baseState=be,K.firstBaseUpdate=Te,K.lastBaseUpdate=Le,te===null&&(K.shared.lanes=0),ps|=pe,m.lanes=pe,m.memoizedState=Fe}}function Cd(m,_){if(typeof m!="function")throw Error(i(191,m));m.call(_)}function Id(m,_){var T=m.callbacks;if(T!==null)for(m.callbacks=null,m=0;m<T.length;m++)Cd(T[m],_)}function po(m,_){try{var T=_.updateQueue,V=T!==null?T.lastEffect:null;if(V!==null){var K=V.next;T=K;do{if((T.tag&m)===m){V=void 0;var te=T.create,pe=T.inst;V=te(),pe.destroy=V}T=T.next}while(T!==K)}}catch(ye){vr(_,_.return,ye)}}function us(m,_,T){try{var V=_.updateQueue,K=V!==null?V.lastEffect:null;if(K!==null){var te=K.next;V=te;do{if((V.tag&m)===m){var pe=V.inst,ye=pe.destroy;if(ye!==void 0){pe.destroy=void 0,K=_;var be=T;try{ye()}catch(Te){vr(K,be,Te)}}}V=V.next}while(V!==te)}}catch(Te){vr(_,_.return,Te)}}function Od(m){var _=m.updateQueue;if(_!==null){var T=m.stateNode;try{Id(_,T)}catch(V){vr(m,m.return,V)}}}function jd(m,_,T){T.props=Bs(m.type,m.memoizedProps),T.state=m.memoizedState;try{T.componentWillUnmount()}catch(V){vr(m,_,V)}}function zs(m,_){try{var T=m.ref;if(T!==null){var V=m.stateNode;switch(m.tag){case 26:case 27:case 5:var K=V;break;default:K=V}typeof T=="function"?m.refCleanup=T(K):T.current=K}}catch(te){vr(m,_,te)}}function Dn(m,_){var T=m.ref,V=m.refCleanup;if(T!==null)if(typeof V=="function")try{V()}catch(K){vr(m,_,K)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(K){vr(m,_,K)}else T.current=null}function kd(m){var _=m.type,T=m.memoizedProps,V=m.stateNode;try{e:switch(_){case"button":case"input":case"select":case"textarea":T.autoFocus&&V.focus();break e;case"img":T.src?V.src=T.src:T.srcSet&&(V.srcset=T.srcSet)}}catch(K){vr(m,m.return,K)}}function Dd(m,_,T){try{var V=m.stateNode;Gp(V,m.type,T,_),V[Or]=_}catch(K){vr(m,m.return,K)}}function Nd(m){return m.tag===5||m.tag===3||m.tag===26||m.tag===27||m.tag===4}function Jc(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||Nd(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==27&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Zc(m,_,T){var V=m.tag;if(V===5||V===6)m=m.stateNode,_?T.nodeType===8?T.parentNode.insertBefore(m,_):T.insertBefore(m,_):(T.nodeType===8?(_=T.parentNode,_.insertBefore(m,T)):(_=T,_.appendChild(m)),T=T._reactRootContainer,T!=null||_.onclick!==null||(_.onclick=kl));else if(V!==4&&V!==27&&(m=m.child,m!==null))for(Zc(m,_,T),m=m.sibling;m!==null;)Zc(m,_,T),m=m.sibling}function xl(m,_,T){var V=m.tag;if(V===5||V===6)m=m.stateNode,_?T.insertBefore(m,_):T.appendChild(m);else if(V!==4&&V!==27&&(m=m.child,m!==null))for(xl(m,_,T),m=m.sibling;m!==null;)xl(m,_,T),m=m.sibling}var Li=!1,Dr=!1,eu=!1,Md=typeof WeakSet=="function"?WeakSet:Set,on=null,$d=!1;function Ep(m,_){if(m=m.containerInfo,Pu=Fl,m=Ju(m),rc(m)){if("selectionStart"in m)var T={start:m.selectionStart,end:m.selectionEnd};else e:{T=(T=m.ownerDocument)&&T.defaultView||window;var V=T.getSelection&&T.getSelection();if(V&&V.rangeCount!==0){T=V.anchorNode;var K=V.anchorOffset,te=V.focusNode;V=V.focusOffset;try{T.nodeType,te.nodeType}catch{T=null;break e}var pe=0,ye=-1,be=-1,Te=0,Le=0,Fe=m,Ie=null;t:for(;;){for(var $e;Fe!==T||K!==0&&Fe.nodeType!==3||(ye=pe+K),Fe!==te||V!==0&&Fe.nodeType!==3||(be=pe+V),Fe.nodeType===3&&(pe+=Fe.nodeValue.length),($e=Fe.firstChild)!==null;)Ie=Fe,Fe=$e;for(;;){if(Fe===m)break t;if(Ie===T&&++Te===K&&(ye=pe),Ie===te&&++Le===V&&(be=pe),($e=Fe.nextSibling)!==null)break;Fe=Ie,Ie=Fe.parentNode}Fe=$e}T=ye===-1||be===-1?null:{start:ye,end:be}}else T=null}T=T||{start:0,end:0}}else T=null;for(Cu={focusedElem:m,selectionRange:T},Fl=!1,on=_;on!==null;)if(_=on,m=_.child,(_.subtreeFlags&1028)!==0&&m!==null)m.return=_,on=m;else for(;on!==null;){switch(_=on,te=_.alternate,m=_.flags,_.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&te!==null){m=void 0,T=_,K=te.memoizedProps,te=te.memoizedState,V=T.stateNode;try{var Ye=Bs(T.type,K,T.elementType===T.type);m=V.getSnapshotBeforeUpdate(Ye,te),V.__reactInternalSnapshotBeforeUpdate=m}catch(ut){vr(T,T.return,ut)}}break;case 3:if((m&1024)!==0){if(m=_.stateNode.containerInfo,T=m.nodeType,T===9)ku(m);else if(T===1)switch(m.nodeName){case"HEAD":case"HTML":case"BODY":ku(m);break;default:m.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(i(163))}if(m=_.sibling,m!==null){m.return=_.return,on=m;break}on=_.return}return Ye=$d,$d=!1,Ye}function Ld(m,_,T){var V=T.flags;switch(T.tag){case 0:case 11:case 15:Fi(m,T),V&4&&po(5,T);break;case 1:if(Fi(m,T),V&4)if(m=T.stateNode,_===null)try{m.componentDidMount()}catch(ye){vr(T,T.return,ye)}else{var K=Bs(T.type,_.memoizedProps);_=_.memoizedState;try{m.componentDidUpdate(K,_,m.__reactInternalSnapshotBeforeUpdate)}catch(ye){vr(T,T.return,ye)}}V&64&&Od(T),V&512&&zs(T,T.return);break;case 3:if(Fi(m,T),V&64&&(V=T.updateQueue,V!==null)){if(m=null,T.child!==null)switch(T.child.tag){case 27:case 5:m=T.child.stateNode;break;case 1:m=T.child.stateNode}try{Id(V,m)}catch(ye){vr(T,T.return,ye)}}break;case 26:Fi(m,T),V&512&&zs(T,T.return);break;case 27:case 5:Fi(m,T),_===null&&V&4&&kd(T),V&512&&zs(T,T.return);break;case 12:Fi(m,T);break;case 13:Fi(m,T),V&4&&Bd(m,T);break;case 22:if(K=T.memoizedState!==null||Li,!K){_=_!==null&&_.memoizedState!==null||Dr;var te=Li,pe=Dr;Li=K,(Dr=_)&&!pe?fs(m,T,(T.subtreeFlags&8772)!==0):Fi(m,T),Li=te,Dr=pe}V&512&&(T.memoizedProps.mode==="manual"?zs(T,T.return):Dn(T,T.return));break;default:Fi(m,T)}}function Vd(m){var _=m.alternate;_!==null&&(m.alternate=null,Vd(_)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(_=m.stateNode,_!==null&&Hr(_)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}var Gr=null,Nn=!1;function Vi(m,_,T){for(T=T.child;T!==null;)Fd(m,_,T),T=T.sibling}function Fd(m,_,T){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(xn,T)}catch{}switch(T.tag){case 26:Dr||Dn(T,_),Vi(m,_,T),T.memoizedState?T.memoizedState.count--:T.stateNode&&(T=T.stateNode,T.parentNode.removeChild(T));break;case 27:Dr||Dn(T,_);var V=Gr,K=Nn;for(Gr=T.stateNode,Vi(m,_,T),T=T.stateNode,_=T.attributes;_.length;)T.removeAttributeNode(_[0]);Hr(T),Gr=V,Nn=K;break;case 5:Dr||Dn(T,_);case 6:K=Gr;var te=Nn;if(Gr=null,Vi(m,_,T),Gr=K,Nn=te,Gr!==null)if(Nn)try{m=Gr,V=T.stateNode,m.nodeType===8?m.parentNode.removeChild(V):m.removeChild(V)}catch(pe){vr(T,_,pe)}else try{Gr.removeChild(T.stateNode)}catch(pe){vr(T,_,pe)}break;case 18:Gr!==null&&(Nn?(_=Gr,T=T.stateNode,_.nodeType===8?ju(_.parentNode,T):_.nodeType===1&&ju(_,T),jo(_)):ju(Gr,T.stateNode));break;case 4:V=Gr,K=Nn,Gr=T.stateNode.containerInfo,Nn=!0,Vi(m,_,T),Gr=V,Nn=K;break;case 0:case 11:case 14:case 15:Dr||us(2,T,_),Dr||us(4,T,_),Vi(m,_,T);break;case 1:Dr||(Dn(T,_),V=T.stateNode,typeof V.componentWillUnmount=="function"&&jd(T,_,V)),Vi(m,_,T);break;case 21:Vi(m,_,T);break;case 22:Dr||Dn(T,_),Dr=(V=Dr)||T.memoizedState!==null,Vi(m,_,T),Dr=V;break;default:Vi(m,_,T)}}function Bd(m,_){if(_.memoizedState===null&&(m=_.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{jo(m)}catch(T){vr(_,_.return,T)}}function bp(m){switch(m.tag){case 13:case 19:var _=m.stateNode;return _===null&&(_=m.stateNode=new Md),_;case 22:return m=m.stateNode,_=m._retryCache,_===null&&(_=m._retryCache=new Md),_;default:throw Error(i(435,m.tag))}}function tu(m,_){var T=bp(m);_.forEach(function(V){var K=Np.bind(null,m,V);T.has(V)||(T.add(V),V.then(K,K))})}function Qn(m,_){var T=_.deletions;if(T!==null)for(var V=0;V<T.length;V++){var K=T[V],te=m,pe=_,ye=pe;e:for(;ye!==null;){switch(ye.tag){case 27:case 5:Gr=ye.stateNode,Nn=!1;break e;case 3:Gr=ye.stateNode.containerInfo,Nn=!0;break e;case 4:Gr=ye.stateNode.containerInfo,Nn=!0;break e}ye=ye.return}if(Gr===null)throw Error(i(160));Fd(te,pe,K),Gr=null,Nn=!1,te=K.alternate,te!==null&&(te.return=null),K.return=null}if(_.subtreeFlags&13878)for(_=_.child;_!==null;)qd(_,m),_=_.sibling}var ai=null;function qd(m,_){var T=m.alternate,V=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:Qn(_,m),Xn(m),V&4&&(us(3,m,m.return),po(3,m),us(5,m,m.return));break;case 1:Qn(_,m),Xn(m),V&512&&(Dr||T===null||Dn(T,T.return)),V&64&&Li&&(m=m.updateQueue,m!==null&&(V=m.callbacks,V!==null&&(T=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=T===null?V:T.concat(V))));break;case 26:var K=ai;if(Qn(_,m),Xn(m),V&512&&(Dr||T===null||Dn(T,T.return)),V&4){var te=T!==null?T.memoizedState:null;if(V=m.memoizedState,T===null)if(V===null)if(m.stateNode===null){e:{V=m.type,T=m.memoizedProps,K=K.ownerDocument||K;t:switch(V){case"title":te=K.getElementsByTagName("title")[0],(!te||te[qr]||te[xr]||te.namespaceURI==="http://www.w3.org/2000/svg"||te.hasAttribute("itemprop"))&&(te=K.createElement(V),K.head.insertBefore(te,K.querySelector("head > title"))),pn(te,V,T),te[xr]=m,wr(te),V=te;break e;case"link":var pe=Dh("link","href",K).get(V+(T.href||""));if(pe){for(var ye=0;ye<pe.length;ye++)if(te=pe[ye],te.getAttribute("href")===(T.href==null?null:T.href)&&te.getAttribute("rel")===(T.rel==null?null:T.rel)&&te.getAttribute("title")===(T.title==null?null:T.title)&&te.getAttribute("crossorigin")===(T.crossOrigin==null?null:T.crossOrigin)){pe.splice(ye,1);break t}}te=K.createElement(V),pn(te,V,T),K.head.appendChild(te);break;case"meta":if(pe=Dh("meta","content",K).get(V+(T.content||""))){for(ye=0;ye<pe.length;ye++)if(te=pe[ye],te.getAttribute("content")===(T.content==null?null:""+T.content)&&te.getAttribute("name")===(T.name==null?null:T.name)&&te.getAttribute("property")===(T.property==null?null:T.property)&&te.getAttribute("http-equiv")===(T.httpEquiv==null?null:T.httpEquiv)&&te.getAttribute("charset")===(T.charSet==null?null:T.charSet)){pe.splice(ye,1);break t}}te=K.createElement(V),pn(te,V,T),K.head.appendChild(te);break;default:throw Error(i(468,V))}te[xr]=m,wr(te),V=te}m.stateNode=V}else Nh(K,m.type,m.stateNode);else m.stateNode=kh(K,V,m.memoizedProps);else te!==V?(te===null?T.stateNode!==null&&(T=T.stateNode,T.parentNode.removeChild(T)):te.count--,V===null?Nh(K,m.type,m.stateNode):kh(K,V,m.memoizedProps)):V===null&&m.stateNode!==null&&Dd(m,m.memoizedProps,T.memoizedProps)}break;case 27:if(V&4&&m.alternate===null){K=m.stateNode,te=m.memoizedProps;try{for(var be=K.firstChild;be;){var Te=be.nextSibling,Le=be.nodeName;be[qr]||Le==="HEAD"||Le==="BODY"||Le==="SCRIPT"||Le==="STYLE"||Le==="LINK"&&be.rel.toLowerCase()==="stylesheet"||K.removeChild(be),be=Te}for(var Fe=m.type,Ie=K.attributes;Ie.length;)K.removeAttributeNode(Ie[0]);pn(K,Fe,te),K[xr]=m,K[Or]=te}catch(Ye){vr(m,m.return,Ye)}}case 5:if(Qn(_,m),Xn(m),V&512&&(Dr||T===null||Dn(T,T.return)),m.flags&32){K=m.stateNode;try{Bn(K,"")}catch(Ye){vr(m,m.return,Ye)}}V&4&&m.stateNode!=null&&(K=m.memoizedProps,Dd(m,K,T!==null?T.memoizedProps:K)),V&1024&&(eu=!0);break;case 6:if(Qn(_,m),Xn(m),V&4){if(m.stateNode===null)throw Error(i(162));V=m.memoizedProps,T=m.stateNode;try{T.nodeValue=V}catch(Ye){vr(m,m.return,Ye)}}break;case 3:if($l=null,K=ai,ai=Nl(_.containerInfo),Qn(_,m),ai=K,Xn(m),V&4&&T!==null&&T.memoizedState.isDehydrated)try{jo(_.containerInfo)}catch(Ye){vr(m,m.return,Ye)}eu&&(eu=!1,Ud(m));break;case 4:V=ai,ai=Nl(m.stateNode.containerInfo),Qn(_,m),Xn(m),ai=V;break;case 12:Qn(_,m),Xn(m);break;case 13:Qn(_,m),Xn(m),m.child.flags&8192&&m.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(uu=Mt()),V&4&&(V=m.updateQueue,V!==null&&(m.updateQueue=null,tu(m,V)));break;case 22:if(V&512&&(Dr||T===null||Dn(T,T.return)),be=m.memoizedState!==null,Te=T!==null&&T.memoizedState!==null,Le=Li,Fe=Dr,Li=Le||be,Dr=Fe||Te,Qn(_,m),Dr=Fe,Li=Le,Xn(m),_=m.stateNode,_._current=m,_._visibility&=-3,_._visibility|=_._pendingVisibility&2,V&8192&&(_._visibility=be?_._visibility&-2:_._visibility|1,be&&(_=Li||Dr,T===null||Te||_||xa(m)),m.memoizedProps===null||m.memoizedProps.mode!=="manual"))e:for(T=null,_=m;;){if(_.tag===5||_.tag===26||_.tag===27){if(T===null){Te=T=_;try{if(K=Te.stateNode,be)te=K.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{pe=Te.stateNode,ye=Te.memoizedProps.style;var $e=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;pe.style.display=$e==null||typeof $e=="boolean"?"":(""+$e).trim()}}catch(Ye){vr(Te,Te.return,Ye)}}}else if(_.tag===6){if(T===null){Te=_;try{Te.stateNode.nodeValue=be?"":Te.memoizedProps}catch(Ye){vr(Te,Te.return,Ye)}}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===m)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===m)break e;for(;_.sibling===null;){if(_.return===null||_.return===m)break e;T===_&&(T=null),_=_.return}T===_&&(T=null),_.sibling.return=_.return,_=_.sibling}V&4&&(V=m.updateQueue,V!==null&&(T=V.retryQueue,T!==null&&(V.retryQueue=null,tu(m,T))));break;case 19:Qn(_,m),Xn(m),V&4&&(V=m.updateQueue,V!==null&&(m.updateQueue=null,tu(m,V)));break;case 21:break;default:Qn(_,m),Xn(m)}}function Xn(m){var _=m.flags;if(_&2){try{if(m.tag!==27){e:{for(var T=m.return;T!==null;){if(Nd(T)){var V=T;break e}T=T.return}throw Error(i(160))}switch(V.tag){case 27:var K=V.stateNode,te=Jc(m);xl(m,te,K);break;case 5:var pe=V.stateNode;V.flags&32&&(Bn(pe,""),V.flags&=-33);var ye=Jc(m);xl(m,ye,pe);break;case 3:case 4:var be=V.stateNode.containerInfo,Te=Jc(m);Zc(m,Te,be);break;default:throw Error(i(161))}}}catch(Le){vr(m,m.return,Le)}m.flags&=-3}_&4096&&(m.flags&=-4097)}function Ud(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var _=m;Ud(_),_.tag===5&&_.flags&1024&&_.stateNode.reset(),m=m.sibling}}function Fi(m,_){if(_.subtreeFlags&8772)for(_=_.child;_!==null;)Ld(m,_.alternate,_),_=_.sibling}function xa(m){for(m=m.child;m!==null;){var _=m;switch(_.tag){case 0:case 11:case 14:case 15:us(4,_,_.return),xa(_);break;case 1:Dn(_,_.return);var T=_.stateNode;typeof T.componentWillUnmount=="function"&&jd(_,_.return,T),xa(_);break;case 26:case 27:case 5:Dn(_,_.return),xa(_);break;case 22:Dn(_,_.return),_.memoizedState===null&&xa(_);break;default:xa(_)}m=m.sibling}}function fs(m,_,T){for(T=T&&(_.subtreeFlags&8772)!==0,_=_.child;_!==null;){var V=_.alternate,K=m,te=_,pe=te.flags;switch(te.tag){case 0:case 11:case 15:fs(K,te,T),po(4,te);break;case 1:if(fs(K,te,T),V=te,K=V.stateNode,typeof K.componentDidMount=="function")try{K.componentDidMount()}catch(Te){vr(V,V.return,Te)}if(V=te,K=V.updateQueue,K!==null){var ye=V.stateNode;try{var be=K.shared.hiddenCallbacks;if(be!==null)for(K.shared.hiddenCallbacks=null,K=0;K<be.length;K++)Cd(be[K],ye)}catch(Te){vr(V,V.return,Te)}}T&&pe&64&&Od(te),zs(te,te.return);break;case 26:case 27:case 5:fs(K,te,T),T&&V===null&&pe&4&&kd(te),zs(te,te.return);break;case 12:fs(K,te,T);break;case 13:fs(K,te,T),T&&pe&4&&Bd(K,te);break;case 22:te.memoizedState===null&&fs(K,te,T),zs(te,te.return);break;default:fs(K,te,T)}_=_.sibling}}function ru(m,_){var T=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),m=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(m=_.memoizedState.cachePool.pool),m!==T&&(m!=null&&m.refCount++,T!=null&&no(T))}function nu(m,_){m=null,_.alternate!==null&&(m=_.alternate.memoizedState.cache),_=_.memoizedState.cache,_!==m&&(_.refCount++,m!=null&&no(m))}function ds(m,_,T,V){if(_.subtreeFlags&10256)for(_=_.child;_!==null;)zd(m,_,T,V),_=_.sibling}function zd(m,_,T,V){var K=_.flags;switch(_.tag){case 0:case 11:case 15:ds(m,_,T,V),K&2048&&po(9,_);break;case 3:ds(m,_,T,V),K&2048&&(m=null,_.alternate!==null&&(m=_.alternate.memoizedState.cache),_=_.memoizedState.cache,_!==m&&(_.refCount++,m!=null&&no(m)));break;case 12:if(K&2048){ds(m,_,T,V),m=_.stateNode;try{var te=_.memoizedProps,pe=te.id,ye=te.onPostCommit;typeof ye=="function"&&ye(pe,_.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(be){vr(_,_.return,be)}}else ds(m,_,T,V);break;case 23:break;case 22:te=_.stateNode,_.memoizedState!==null?te._visibility&4?ds(m,_,T,V):mo(m,_):te._visibility&4?ds(m,_,T,V):(te._visibility|=4,Ea(m,_,T,V,(_.subtreeFlags&10256)!==0)),K&2048&&ru(_.alternate,_);break;case 24:ds(m,_,T,V),K&2048&&nu(_.alternate,_);break;default:ds(m,_,T,V)}}function Ea(m,_,T,V,K){for(K=K&&(_.subtreeFlags&10256)!==0,_=_.child;_!==null;){var te=m,pe=_,ye=T,be=V,Te=pe.flags;switch(pe.tag){case 0:case 11:case 15:Ea(te,pe,ye,be,K),po(8,pe);break;case 23:break;case 22:var Le=pe.stateNode;pe.memoizedState!==null?Le._visibility&4?Ea(te,pe,ye,be,K):mo(te,pe):(Le._visibility|=4,Ea(te,pe,ye,be,K)),K&&Te&2048&&ru(pe.alternate,pe);break;case 24:Ea(te,pe,ye,be,K),K&&Te&2048&&nu(pe.alternate,pe);break;default:Ea(te,pe,ye,be,K)}_=_.sibling}}function mo(m,_){if(_.subtreeFlags&10256)for(_=_.child;_!==null;){var T=m,V=_,K=V.flags;switch(V.tag){case 22:mo(T,V),K&2048&&ru(V.alternate,V);break;case 24:mo(T,V),K&2048&&nu(V.alternate,V);break;default:mo(T,V)}_=_.sibling}}var go=8192;function ba(m){if(m.subtreeFlags&go)for(m=m.child;m!==null;)Gd(m),m=m.sibling}function Gd(m){switch(m.tag){case 26:ba(m),m.flags&go&&m.memoizedState!==null&&fm(ai,m.memoizedState,m.memoizedProps);break;case 5:ba(m);break;case 3:case 4:var _=ai;ai=Nl(m.stateNode.containerInfo),ba(m),ai=_;break;case 22:m.memoizedState===null&&(_=m.alternate,_!==null&&_.memoizedState!==null?(_=go,go=16777216,ba(m),go=_):ba(m));break;default:ba(m)}}function Wd(m){var _=m.alternate;if(_!==null&&(m=_.child,m!==null)){_.child=null;do _=m.sibling,m.sibling=null,m=_;while(m!==null)}}function yo(m){var _=m.deletions;if((m.flags&16)!==0){if(_!==null)for(var T=0;T<_.length;T++){var V=_[T];on=V,Kd(V,m)}Wd(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Hd(m),m=m.sibling}function Hd(m){switch(m.tag){case 0:case 11:case 15:yo(m),m.flags&2048&&us(9,m,m.return);break;case 3:yo(m);break;case 12:yo(m);break;case 22:var _=m.stateNode;m.memoizedState!==null&&_._visibility&4&&(m.return===null||m.return.tag!==13)?(_._visibility&=-5,El(m)):yo(m);break;default:yo(m)}}function El(m){var _=m.deletions;if((m.flags&16)!==0){if(_!==null)for(var T=0;T<_.length;T++){var V=_[T];on=V,Kd(V,m)}Wd(m)}for(m=m.child;m!==null;){switch(_=m,_.tag){case 0:case 11:case 15:us(8,_,_.return),El(_);break;case 22:T=_.stateNode,T._visibility&4&&(T._visibility&=-5,El(_));break;default:El(_)}m=m.sibling}}function Kd(m,_){for(;on!==null;){var T=on;switch(T.tag){case 0:case 11:case 15:us(8,T,_);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var V=T.memoizedState.cachePool.pool;V!=null&&V.refCount++}break;case 24:no(T.memoizedState.cache)}if(V=T.child,V!==null)V.return=T,on=V;else e:for(T=m;on!==null;){V=on;var K=V.sibling,te=V.return;if(Vd(V),V===T){on=null;break e}if(K!==null){K.return=te,on=K;break e}on=te}}}function Ap(m,_,T,V){this.tag=m,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(m,_,T,V){return new Ap(m,_,T,V)}function iu(m){return m=m.prototype,!(!m||!m.isReactComponent)}function hs(m,_){var T=m.alternate;return T===null?(T=Jn(m.tag,_,m.key,m.mode),T.elementType=m.elementType,T.type=m.type,T.stateNode=m.stateNode,T.alternate=m,m.alternate=T):(T.pendingProps=_,T.type=m.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=m.flags&31457280,T.childLanes=m.childLanes,T.lanes=m.lanes,T.child=m.child,T.memoizedProps=m.memoizedProps,T.memoizedState=m.memoizedState,T.updateQueue=m.updateQueue,_=m.dependencies,T.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},T.sibling=m.sibling,T.index=m.index,T.ref=m.ref,T.refCleanup=m.refCleanup,T}function Yd(m,_){m.flags&=31457282;var T=m.alternate;return T===null?(m.childLanes=0,m.lanes=_,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=T.childLanes,m.lanes=T.lanes,m.child=T.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=T.memoizedProps,m.memoizedState=T.memoizedState,m.updateQueue=T.updateQueue,m.type=T.type,_=T.dependencies,m.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),m}function bl(m,_,T,V,K,te){var pe=0;if(V=m,typeof m=="function")iu(m)&&(pe=1);else if(typeof m=="string")pe=cm(m,T,Be.current)?26:m==="html"||m==="head"||m==="body"?27:5;else e:switch(m){case d:return Gs(T.children,K,te,_);case p:pe=8,K|=24;break;case g:return m=Jn(12,T,_,K|2),m.elementType=g,m.lanes=te,m;case j:return m=Jn(13,T,_,K),m.elementType=j,m.lanes=te,m;case q:return m=Jn(19,T,_,K),m.elementType=q,m.lanes=te,m;case U:return Qd(T,K,te,_);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case E:case R:pe=10;break e;case A:pe=9;break e;case I:pe=11;break e;case L:pe=14;break e;case z:pe=16,V=null;break e}pe=29,T=Error(i(130,m===null?"null":typeof m,"")),V=null}return _=Jn(pe,T,_,K),_.elementType=m,_.type=V,_.lanes=te,_}function Gs(m,_,T,V){return m=Jn(7,m,V,_),m.lanes=T,m}function Qd(m,_,T,V){m=Jn(22,m,V,_),m.elementType=U,m.lanes=T;var K={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var te=K._current;if(te===null)throw Error(i(456));if((K._pendingVisibility&2)===0){var pe=ts(te,2);pe!==null&&(K._pendingVisibility|=2,Tn(pe,te,2))}},attach:function(){var te=K._current;if(te===null)throw Error(i(456));if((K._pendingVisibility&2)!==0){var pe=ts(te,2);pe!==null&&(K._pendingVisibility&=-3,Tn(pe,te,2))}}};return m.stateNode=K,m}function su(m,_,T){return m=Jn(6,m,null,_),m.lanes=T,m}function au(m,_,T){return _=Jn(4,m.children!==null?m.children:[],m.key,_),_.lanes=T,_.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},_}function Bi(m){m.flags|=4}function Xd(m,_){if(_.type!=="stylesheet"||(_.state.loading&4)!==0)m.flags&=-16777217;else if(m.flags|=16777216,!Mh(_)){if(_=Yn.current,_!==null&&((ir&4194176)===ir?vi!==null:(ir&62914560)!==ir&&(ir&536870912)===0||_!==vi))throw eo=fc,hf;m.flags|=8192}}function Al(m,_){_!==null&&(m.flags|=4),m.flags&16384&&(_=m.tag!==22?Lr():536870912,m.lanes|=_,Sa|=_)}function vo(m,_){if(!lr)switch(m.tailMode){case"hidden":_=m.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?m.tail=null:T.sibling=null;break;case"collapsed":T=m.tail;for(var V=null;T!==null;)T.alternate!==null&&(V=T),T=T.sibling;V===null?_||m.tail===null?m.tail=null:m.tail.sibling=null:V.sibling=null}}function Pr(m){var _=m.alternate!==null&&m.alternate.child===m.child,T=0,V=0;if(_)for(var K=m.child;K!==null;)T|=K.lanes|K.childLanes,V|=K.subtreeFlags&31457280,V|=K.flags&31457280,K.return=m,K=K.sibling;else for(K=m.child;K!==null;)T|=K.lanes|K.childLanes,V|=K.subtreeFlags,V|=K.flags,K.return=m,K=K.sibling;return m.subtreeFlags|=V,m.childLanes=T,_}function Sp(m,_,T){var V=_.pendingProps;switch(cc(_),_.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(_),null;case 1:return Pr(_),null;case 3:return T=_.stateNode,V=null,m!==null&&(V=m.memoizedState.cache),_.memoizedState.cache!==V&&(_.flags|=2048),$i(Xr),He(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(m===null||m.child===null)&&(Qa(_)?Bi(_):m===null||m.memoizedState.isDehydrated&&(_.flags&256)===0||(_.flags|=1024,si!==null&&(pu(si),si=null))),Pr(_),null;case 26:return T=_.memoizedState,m===null?(Bi(_),T!==null?(Pr(_),Xd(_,T)):(Pr(_),_.flags&=-16777217)):T?T!==m.memoizedState?(Bi(_),Pr(_),Xd(_,T)):(Pr(_),_.flags&=-16777217):(m.memoizedProps!==V&&Bi(_),Pr(_),_.flags&=-16777217),null;case 27:tr(_),T=ze.current;var K=_.type;if(m!==null&&_.stateNode!=null)m.memoizedProps!==V&&Bi(_);else{if(!V){if(_.stateNode===null)throw Error(i(166));return Pr(_),null}m=Be.current,Qa(_)?ff(_):(m=Ph(K,V,T),_.stateNode=m,Bi(_))}return Pr(_),null;case 5:if(tr(_),T=_.type,m!==null&&_.stateNode!=null)m.memoizedProps!==V&&Bi(_);else{if(!V){if(_.stateNode===null)throw Error(i(166));return Pr(_),null}if(m=Be.current,Qa(_))ff(_);else{switch(K=Dl(ze.current),m){case 1:m=K.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:m=K.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":m=K.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":m=K.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":m=K.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof V.is=="string"?K.createElement("select",{is:V.is}):K.createElement("select"),V.multiple?m.multiple=!0:V.size&&(m.size=V.size);break;default:m=typeof V.is=="string"?K.createElement(T,{is:V.is}):K.createElement(T)}}m[xr]=_,m[Or]=V;e:for(K=_.child;K!==null;){if(K.tag===5||K.tag===6)m.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===_)break e;for(;K.sibling===null;){if(K.return===null||K.return===_)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}_.stateNode=m;e:switch(pn(m,T,V),T){case"button":case"input":case"select":case"textarea":m=!!V.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Bi(_)}}return Pr(_),_.flags&=-16777217,null;case 6:if(m&&_.stateNode!=null)m.memoizedProps!==V&&Bi(_);else{if(typeof V!="string"&&_.stateNode===null)throw Error(i(166));if(m=ze.current,Qa(_)){if(m=_.stateNode,T=_.memoizedProps,V=null,K=Sn,K!==null)switch(K.tag){case 27:case 5:V=K.memoizedProps}m[xr]=_,m=!!(m.nodeValue===T||V!==null&&V.suppressHydrationWarning===!0||bh(m.nodeValue,T)),m||Ns(_)}else m=Dl(m).createTextNode(V),m[xr]=_,_.stateNode=m}return Pr(_),null;case 13:if(V=_.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(K=Qa(_),V!==null&&V.dehydrated!==null){if(m===null){if(!K)throw Error(i(318));if(K=_.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error(i(317));K[xr]=_}else Xa(),(_.flags&128)===0&&(_.memoizedState=null),_.flags|=4;Pr(_),K=!1}else si!==null&&(pu(si),si=null),K=!0;if(!K)return _.flags&256?(ki(_),_):(ki(_),null)}if(ki(_),(_.flags&128)!==0)return _.lanes=T,_;if(T=V!==null,m=m!==null&&m.memoizedState!==null,T){V=_.child,K=null,V.alternate!==null&&V.alternate.memoizedState!==null&&V.alternate.memoizedState.cachePool!==null&&(K=V.alternate.memoizedState.cachePool.pool);var te=null;V.memoizedState!==null&&V.memoizedState.cachePool!==null&&(te=V.memoizedState.cachePool.pool),te!==K&&(V.flags|=2048)}return T!==m&&T&&(_.child.flags|=8192),Al(_,_.updateQueue),Pr(_),null;case 4:return He(),m===null&&Tu(_.stateNode.containerInfo),Pr(_),null;case 10:return $i(_.type),Pr(_),null;case 19:if(Ne(Qr),K=_.memoizedState,K===null)return Pr(_),null;if(V=(_.flags&128)!==0,te=K.rendering,te===null)if(V)vo(K,!1);else{if(Nr!==0||m!==null&&(m.flags&128)!==0)for(m=_.child;m!==null;){if(te=al(m),te!==null){for(_.flags|=128,vo(K,!1),m=te.updateQueue,_.updateQueue=m,Al(_,m),_.subtreeFlags=0,m=T,T=_.child;T!==null;)Yd(T,m),T=T.sibling;return Me(Qr,Qr.current&1|2),_.child}m=m.sibling}K.tail!==null&&Mt()>Sl&&(_.flags|=128,V=!0,vo(K,!1),_.lanes=4194304)}else{if(!V)if(m=al(te),m!==null){if(_.flags|=128,V=!0,m=m.updateQueue,_.updateQueue=m,Al(_,m),vo(K,!0),K.tail===null&&K.tailMode==="hidden"&&!te.alternate&&!lr)return Pr(_),null}else 2*Mt()-K.renderingStartTime>Sl&&T!==536870912&&(_.flags|=128,V=!0,vo(K,!1),_.lanes=4194304);K.isBackwards?(te.sibling=_.child,_.child=te):(m=K.last,m!==null?m.sibling=te:_.child=te,K.last=te)}return K.tail!==null?(_=K.tail,K.rendering=_,K.tail=_.sibling,K.renderingStartTime=Mt(),_.sibling=null,m=Qr.current,Me(Qr,V?m&1|2:m&1),_):(Pr(_),null);case 22:case 23:return ki(_),hc(),V=_.memoizedState!==null,m!==null?m.memoizedState!==null!==V&&(_.flags|=8192):V&&(_.flags|=8192),V?(T&536870912)!==0&&(_.flags&128)===0&&(Pr(_),_.subtreeFlags&6&&(_.flags|=8192)):Pr(_),T=_.updateQueue,T!==null&&Al(_,T.retryQueue),T=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),V=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(V=_.memoizedState.cachePool.pool),V!==T&&(_.flags|=2048),m!==null&&Ne($s),null;case 24:return T=null,m!==null&&(T=m.memoizedState.cache),_.memoizedState.cache!==T&&(_.flags|=2048),$i(Xr),Pr(_),null;case 25:return null}throw Error(i(156,_.tag))}function Tp(m,_){switch(cc(_),_.tag){case 1:return m=_.flags,m&65536?(_.flags=m&-65537|128,_):null;case 3:return $i(Xr),He(),m=_.flags,(m&65536)!==0&&(m&128)===0?(_.flags=m&-65537|128,_):null;case 26:case 27:case 5:return tr(_),null;case 13:if(ki(_),m=_.memoizedState,m!==null&&m.dehydrated!==null){if(_.alternate===null)throw Error(i(340));Xa()}return m=_.flags,m&65536?(_.flags=m&-65537|128,_):null;case 19:return Ne(Qr),null;case 4:return He(),null;case 10:return $i(_.type),null;case 22:case 23:return ki(_),hc(),m!==null&&Ne($s),m=_.flags,m&65536?(_.flags=m&-65537|128,_):null;case 24:return $i(Xr),null;case 25:return null;default:return null}}function Jd(m,_){switch(cc(_),_.tag){case 3:$i(Xr),He();break;case 26:case 27:case 5:tr(_);break;case 4:He();break;case 13:ki(_);break;case 19:Ne(Qr);break;case 10:$i(_.type);break;case 22:case 23:ki(_),hc(),m!==null&&Ne($s);break;case 24:$i(Xr)}}var Rp={getCacheForType:function(m){var _=vn(Xr),T=_.data.get(m);return T===void 0&&(T=m(),_.data.set(m,T)),T}},wp=typeof WeakMap=="function"?WeakMap:Map,Cr=0,br=null,qt=null,ir=0,Ar=0,Mn=null,qi=!1,Aa=!1,ou=!1,Ui=0,Nr=0,ps=0,Ws=0,lu=0,Zn=0,Sa=0,_o=null,xi=null,cu=!1,uu=0,Sl=1/0,Tl=null,ms=null,Rl=!1,Hs=null,xo=0,fu=0,du=null,Eo=0,hu=null;function $n(){if((Cr&2)!==0&&ir!==0)return ir&-ir;if(ne.T!==null){var m=ma;return m!==0?m:Eu()}return Pn()}function Zd(){Zn===0&&(Zn=(ir&536870912)===0||lr?dr():536870912);var m=Yn.current;return m!==null&&(m.flags|=32),Zn}function Tn(m,_,T){(m===br&&Ar===2||m.cancelPendingCommit!==null)&&(Ta(m,0),zi(m,ir,Zn,!1)),yt(m,T),((Cr&2)===0||m!==br)&&(m===br&&((Cr&2)===0&&(Ws|=T),Nr===4&&zi(m,ir,Zn,!1)),Ei(m))}function eh(m,_,T){if((Cr&6)!==0)throw Error(i(327));var V=!T&&(_&60)===0&&(_&m.expiredLanes)===0||Ir(m,_),K=V?Ip(m,_):yu(m,_,!0),te=V;do{if(K===0){Aa&&!V&&zi(m,_,0,!1);break}else if(K===6)zi(m,_,0,!qi);else{if(T=m.current.alternate,te&&!Pp(T)){K=yu(m,_,!1),te=!1;continue}if(K===2){if(te=_,m.errorRecoveryDisabledLanes&te)var pe=0;else pe=m.pendingLanes&-536870913,pe=pe!==0?pe:pe&536870912?536870912:0;if(pe!==0){_=pe;e:{var ye=m;K=_o;var be=ye.current.memoizedState.isDehydrated;if(be&&(Ta(ye,pe).flags|=256),pe=yu(ye,pe,!1),pe!==2){if(ou&&!be){ye.errorRecoveryDisabledLanes|=te,Ws|=te,K=4;break e}te=xi,xi=K,te!==null&&pu(te)}K=pe}if(te=!1,K!==2)continue}}if(K===1){Ta(m,0),zi(m,_,0,!0);break}e:{switch(V=m,K){case 0:case 1:throw Error(i(345));case 4:if((_&4194176)===_){zi(V,_,Zn,!qi);break e}break;case 2:xi=null;break;case 3:case 5:break;default:throw Error(i(329))}if(V.finishedWork=T,V.finishedLanes=_,(_&62914560)===_&&(te=uu+300-Mt(),10<te)){if(zi(V,_,Zn,!qi),At(V,0)!==0)break e;V.timeoutHandle=Th(th.bind(null,V,T,xi,Tl,cu,_,Zn,Ws,Sa,qi,2,-0,0),te);break e}th(V,T,xi,Tl,cu,_,Zn,Ws,Sa,qi,0,-0,0)}}break}while(!0);Ei(m)}function pu(m){xi===null?xi=m:xi.push.apply(xi,m)}function th(m,_,T,V,K,te,pe,ye,be,Te,Le,Fe,Ie){var $e=_.subtreeFlags;if(($e&8192||($e&16785408)===16785408)&&(wo={stylesheets:null,count:0,unsuspend:um},Gd(_),_=dm(),_!==null)){m.cancelPendingCommit=_(lh.bind(null,m,T,V,K,pe,ye,be,1,Fe,Ie)),zi(m,te,pe,!Te);return}lh(m,T,V,K,pe,ye,be,Le,Fe,Ie)}function Pp(m){for(var _=m;;){var T=_.tag;if((T===0||T===11||T===15)&&_.flags&16384&&(T=_.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var V=0;V<T.length;V++){var K=T[V],te=K.getSnapshot;K=K.value;try{if(!kn(te(),K))return!1}catch{return!1}}if(T=_.child,_.subtreeFlags&16384&&T!==null)T.return=_,_=T;else{if(_===m)break;for(;_.sibling===null;){if(_.return===null||_.return===m)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function zi(m,_,T,V){_&=~lu,_&=~Ws,m.suspendedLanes|=_,m.pingedLanes&=~_,V&&(m.warmLanes|=_),V=m.expirationTimes;for(var K=_;0<K;){var te=31-Br(K),pe=1<<te;V[te]=-1,K&=~pe}T!==0&&Tr(m,T,_)}function wl(){return(Cr&6)===0?(bo(0),!1):!0}function mu(){if(qt!==null){if(Ar===0)var m=qt.return;else m=qt,Mi=qs=null,Ec(m),ha=null,to=0,m=qt;for(;m!==null;)Jd(m.alternate,m),m=m.return;qt=null}}function Ta(m,_){m.finishedWork=null,m.finishedLanes=0;var T=m.timeoutHandle;T!==-1&&(m.timeoutHandle=-1,Hp(T)),T=m.cancelPendingCommit,T!==null&&(m.cancelPendingCommit=null,T()),mu(),br=m,qt=T=hs(m.current,null),ir=_,Ar=0,Mn=null,qi=!1,Aa=Ir(m,_),ou=!1,Sa=Zn=lu=Ws=ps=Nr=0,xi=_o=null,cu=!1,(_&8)!==0&&(_|=_&32);var V=m.entangledLanes;if(V!==0)for(m=m.entanglements,V&=_;0<V;){var K=31-Br(V),te=1<<K;_|=m[K],V&=~te}return Ui=_,Xo(),T}function rh(m,_){kt=null,ne.H=_i,_===Za?(_=gf(),Ar=3):_===hf?(_=gf(),Ar=4):Ar=_===md?8:_!==null&&typeof _=="object"&&typeof _.then=="function"?6:1,Mn=_,qt===null&&(Nr=1,yl(m,Wn(_,m.current)))}function nh(){var m=ne.H;return ne.H=_i,m===null?_i:m}function ih(){var m=ne.A;return ne.A=Rp,m}function gu(){Nr=4,qi||(ir&4194176)!==ir&&Yn.current!==null||(Aa=!0),(ps&134217727)===0&&(Ws&134217727)===0||br===null||zi(br,ir,Zn,!1)}function yu(m,_,T){var V=Cr;Cr|=2;var K=nh(),te=ih();(br!==m||ir!==_)&&(Tl=null,Ta(m,_)),_=!1;var pe=Nr;e:do try{if(Ar!==0&&qt!==null){var ye=qt,be=Mn;switch(Ar){case 8:mu(),pe=6;break e;case 3:case 2:case 6:Yn.current===null&&(_=!0);var Te=Ar;if(Ar=0,Mn=null,Ra(m,ye,be,Te),T&&Aa){pe=0;break e}break;default:Te=Ar,Ar=0,Mn=null,Ra(m,ye,be,Te)}}Cp(),pe=Nr;break}catch(Le){rh(m,Le)}while(!0);return _&&m.shellSuspendCounter++,Mi=qs=null,Cr=V,ne.H=K,ne.A=te,qt===null&&(br=null,ir=0,Xo()),pe}function Cp(){for(;qt!==null;)sh(qt)}function Ip(m,_){var T=Cr;Cr|=2;var V=nh(),K=ih();br!==m||ir!==_?(Tl=null,Sl=Mt()+500,Ta(m,_)):Aa=Ir(m,_);e:do try{if(Ar!==0&&qt!==null){_=qt;var te=Mn;t:switch(Ar){case 1:Ar=0,Mn=null,Ra(m,_,te,1);break;case 2:if(pf(te)){Ar=0,Mn=null,ah(_);break}_=function(){Ar===2&&br===m&&(Ar=7),Ei(m)},te.then(_,_);break e;case 3:Ar=7;break e;case 4:Ar=5;break e;case 7:pf(te)?(Ar=0,Mn=null,ah(_)):(Ar=0,Mn=null,Ra(m,_,te,7));break;case 5:var pe=null;switch(qt.tag){case 26:pe=qt.memoizedState;case 5:case 27:var ye=qt;if(!pe||Mh(pe)){Ar=0,Mn=null;var be=ye.sibling;if(be!==null)qt=be;else{var Te=ye.return;Te!==null?(qt=Te,Pl(Te)):qt=null}break t}}Ar=0,Mn=null,Ra(m,_,te,5);break;case 6:Ar=0,Mn=null,Ra(m,_,te,6);break;case 8:mu(),Nr=6;break e;default:throw Error(i(462))}}Op();break}catch(Le){rh(m,Le)}while(!0);return Mi=qs=null,ne.H=V,ne.A=K,Cr=T,qt!==null?0:(br=null,ir=0,Xo(),Nr)}function Op(){for(;qt!==null&&!ur();)sh(qt)}function sh(m){var _=wd(m.alternate,m,Ui);m.memoizedProps=m.pendingProps,_===null?Pl(m):qt=_}function ah(m){var _=m,T=_.alternate;switch(_.tag){case 15:case 0:_=Ed(T,_,_.pendingProps,_.type,void 0,ir);break;case 11:_=Ed(T,_,_.pendingProps,_.type.render,_.ref,ir);break;case 5:Ec(_);default:Jd(T,_),_=qt=Yd(_,Ui),_=wd(T,_,Ui)}m.memoizedProps=m.pendingProps,_===null?Pl(m):qt=_}function Ra(m,_,T,V){Mi=qs=null,Ec(_),ha=null,to=0;var K=_.return;try{if(_p(m,K,_,T,ir)){Nr=1,yl(m,Wn(T,m.current)),qt=null;return}}catch(te){if(K!==null)throw qt=K,te;Nr=1,yl(m,Wn(T,m.current)),qt=null;return}_.flags&32768?(lr||V===1?m=!0:Aa||(ir&536870912)!==0?m=!1:(qi=m=!0,(V===2||V===3||V===6)&&(V=Yn.current,V!==null&&V.tag===13&&(V.flags|=16384))),oh(_,m)):Pl(_)}function Pl(m){var _=m;do{if((_.flags&32768)!==0){oh(_,qi);return}m=_.return;var T=Sp(_.alternate,_,Ui);if(T!==null){qt=T;return}if(_=_.sibling,_!==null){qt=_;return}qt=_=m}while(_!==null);Nr===0&&(Nr=5)}function oh(m,_){do{var T=Tp(m.alternate,m);if(T!==null){T.flags&=32767,qt=T;return}if(T=m.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!_&&(m=m.sibling,m!==null)){qt=m;return}qt=m=T}while(m!==null);Nr=6,qt=null}function lh(m,_,T,V,K,te,pe,ye,be,Te){var Le=ne.T,Fe=Ae.p;try{Ae.p=2,ne.T=null,jp(m,_,T,V,Fe,K,te,pe,ye,be,Te)}finally{ne.T=Le,Ae.p=Fe}}function jp(m,_,T,V,K,te,pe,ye){do wa();while(Hs!==null);if((Cr&6)!==0)throw Error(i(327));var be=m.finishedWork;if(V=m.finishedLanes,be===null)return null;if(m.finishedWork=null,m.finishedLanes=0,be===m.current)throw Error(i(177));m.callbackNode=null,m.callbackPriority=0,m.cancelPendingCommit=null;var Te=be.lanes|be.childLanes;if(Te|=ac,yn(m,V,Te,te,pe,ye),m===br&&(qt=br=null,ir=0),(be.subtreeFlags&10256)===0&&(be.flags&10256)===0||Rl||(Rl=!0,fu=Te,du=T,Mp(_r,function(){return wa(),null})),T=(be.flags&15990)!==0,(be.subtreeFlags&15990)!==0||T?(T=ne.T,ne.T=null,te=Ae.p,Ae.p=2,pe=Cr,Cr|=4,Ep(m,be),qd(be,m),ep(Cu,m.containerInfo),Fl=!!Pu,Cu=Pu=null,m.current=be,Ld(m,be.alternate,be),yr(),Cr=pe,Ae.p=te,ne.T=T):m.current=be,Rl?(Rl=!1,Hs=m,xo=V):ch(m,Te),Te=m.pendingLanes,Te===0&&(ms=null),ti(be.stateNode),Ei(m),_!==null)for(K=m.onRecoverableError,be=0;be<_.length;be++)Te=_[be],K(Te.value,{componentStack:Te.stack});return(xo&3)!==0&&wa(),Te=m.pendingLanes,(V&4194218)!==0&&(Te&42)!==0?m===hu?Eo++:(Eo=0,hu=m):Eo=0,bo(0),null}function ch(m,_){(m.pooledCacheLanes&=_)===0&&(_=m.pooledCache,_!=null&&(m.pooledCache=null,no(_)))}function wa(){if(Hs!==null){var m=Hs,_=fu;fu=0;var T=wn(xo),V=ne.T,K=Ae.p;try{if(Ae.p=32>T?32:T,ne.T=null,Hs===null)var te=!1;else{T=du,du=null;var pe=Hs,ye=xo;if(Hs=null,xo=0,(Cr&6)!==0)throw Error(i(331));var be=Cr;if(Cr|=4,Hd(pe.current),zd(pe,pe.current,ye,T),Cr=be,bo(0,!1),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(xn,pe)}catch{}te=!0}return te}finally{Ae.p=K,ne.T=V,ch(m,_)}}return!1}function uh(m,_,T){_=Wn(T,_),_=Nc(m.stateNode,_,2),m=cs(m,_,2),m!==null&&(yt(m,2),Ei(m))}function vr(m,_,T){if(m.tag===3)uh(m,m,T);else for(;_!==null;){if(_.tag===3){uh(_,m,T);break}else if(_.tag===1){var V=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(ms===null||!ms.has(V))){m=Wn(T,m),T=hd(2),V=cs(_,T,2),V!==null&&(pd(T,V,_,m),yt(V,2),Ei(V));break}}_=_.return}}function vu(m,_,T){var V=m.pingCache;if(V===null){V=m.pingCache=new wp;var K=new Set;V.set(_,K)}else K=V.get(_),K===void 0&&(K=new Set,V.set(_,K));K.has(T)||(ou=!0,K.add(T),m=kp.bind(null,m,_,T),_.then(m,m))}function kp(m,_,T){var V=m.pingCache;V!==null&&V.delete(_),m.pingedLanes|=m.suspendedLanes&T,m.warmLanes&=~T,br===m&&(ir&T)===T&&(Nr===4||Nr===3&&(ir&62914560)===ir&&300>Mt()-uu?(Cr&2)===0&&Ta(m,0):lu|=T,Sa===ir&&(Sa=0)),Ei(m)}function fh(m,_){_===0&&(_=Lr()),m=ts(m,_),m!==null&&(yt(m,_),Ei(m))}function Dp(m){var _=m.memoizedState,T=0;_!==null&&(T=_.retryLane),fh(m,T)}function Np(m,_){var T=0;switch(m.tag){case 13:var V=m.stateNode,K=m.memoizedState;K!==null&&(T=K.retryLane);break;case 19:V=m.stateNode;break;case 22:V=m.stateNode._retryCache;break;default:throw Error(i(314))}V!==null&&V.delete(_),fh(m,T)}function Mp(m,_){return vt(m,_)}var Cl=null,Pa=null,_u=!1,Il=!1,xu=!1,Ks=0;function Ei(m){m!==Pa&&m.next===null&&(Pa===null?Cl=Pa=m:Pa=Pa.next=m),Il=!0,_u||(_u=!0,Lp($p))}function bo(m,_){if(!xu&&Il){xu=!0;do for(var T=!1,V=Cl;V!==null;){if(m!==0){var K=V.pendingLanes;if(K===0)var te=0;else{var pe=V.suspendedLanes,ye=V.pingedLanes;te=(1<<31-Br(42|m)+1)-1,te&=K&~(pe&~ye),te=te&201326677?te&201326677|1:te?te|2:0}te!==0&&(T=!0,ph(V,te))}else te=ir,te=At(V,V===br?te:0),(te&3)===0||Ir(V,te)||(T=!0,ph(V,te));V=V.next}while(T);xu=!1}}function $p(){Il=_u=!1;var m=0;Ks!==0&&(Wp()&&(m=Ks),Ks=0);for(var _=Mt(),T=null,V=Cl;V!==null;){var K=V.next,te=dh(V,_);te===0?(V.next=null,T===null?Cl=K:T.next=K,K===null&&(Pa=T)):(T=V,(m!==0||(te&3)!==0)&&(Il=!0)),V=K}bo(m)}function dh(m,_){for(var T=m.suspendedLanes,V=m.pingedLanes,K=m.expirationTimes,te=m.pendingLanes&-62914561;0<te;){var pe=31-Br(te),ye=1<<pe,be=K[pe];be===-1?((ye&T)===0||(ye&V)!==0)&&(K[pe]=pt(ye,_)):be<=_&&(m.expiredLanes|=ye),te&=~ye}if(_=br,T=ir,T=At(m,m===_?T:0),V=m.callbackNode,T===0||m===_&&Ar===2||m.cancelPendingCommit!==null)return V!==null&&V!==null&&xt(V),m.callbackNode=null,m.callbackPriority=0;if((T&3)===0||Ir(m,T)){if(_=T&-T,_===m.callbackPriority)return _;switch(V!==null&&xt(V),wn(T)){case 2:case 8:T=Ft;break;case 32:T=_r;break;case 268435456:T=mn;break;default:T=_r}return V=hh.bind(null,m),T=vt(T,V),m.callbackPriority=_,m.callbackNode=T,_}return V!==null&&V!==null&&xt(V),m.callbackPriority=2,m.callbackNode=null,2}function hh(m,_){var T=m.callbackNode;if(wa()&&m.callbackNode!==T)return null;var V=ir;return V=At(m,m===br?V:0),V===0?null:(eh(m,V,_),dh(m,Mt()),m.callbackNode!=null&&m.callbackNode===T?hh.bind(null,m):null)}function ph(m,_){if(wa())return null;eh(m,_,!0)}function Lp(m){Kp(function(){(Cr&6)!==0?vt(Lt,m):m()})}function Eu(){return Ks===0&&(Ks=dr()),Ks}function mh(m){return m==null||typeof m=="symbol"||typeof m=="boolean"?null:typeof m=="function"?m:ci(""+m)}function gh(m,_){var T=_.ownerDocument.createElement("input");return T.name=_.name,T.value=_.value,m.id&&T.setAttribute("form",m.id),_.parentNode.insertBefore(T,_),m=new FormData(m),T.parentNode.removeChild(T),m}function Vp(m,_,T,V,K){if(_==="submit"&&T&&T.stateNode===K){var te=mh((K[Or]||null).action),pe=V.submitter;pe&&(_=(_=pe[Or]||null)?mh(_.formAction):pe.getAttribute("formAction"),_!==null&&(te=_,pe=null));var ye=new Zs("action","action",null,V,K);m.push({event:ye,listeners:[{instance:null,listener:function(){if(V.defaultPrevented){if(Ks!==0){var be=pe?gh(K,pe):new FormData(K);Ic(T,{pending:!0,data:be,method:K.method,action:te},null,be)}}else typeof te=="function"&&(ye.preventDefault(),be=pe?gh(K,pe):new FormData(K),Ic(T,{pending:!0,data:be,method:K.method,action:te},te,be))},currentTarget:K}]})}}for(var bu=0;bu<of.length;bu++){var Au=of[bu],Fp=Au.toLowerCase(),Bp=Au[0].toUpperCase()+Au.slice(1);ii(Fp,"on"+Bp)}ii(tf,"onAnimationEnd"),ii(rf,"onAnimationIteration"),ii(nf,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(rp,"onTransitionRun"),ii(np,"onTransitionStart"),ii(sp,"onTransitionCancel"),ii(sf,"onTransitionEnd"),Cn("onMouseEnter",["mouseout","mouseover"]),Cn("onMouseLeave",["mouseout","mouseover"]),Cn("onPointerEnter",["pointerout","pointerover"]),Cn("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ao));function yh(m,_){_=(_&4)!==0;for(var T=0;T<m.length;T++){var V=m[T],K=V.event;V=V.listeners;e:{var te=void 0;if(_)for(var pe=V.length-1;0<=pe;pe--){var ye=V[pe],be=ye.instance,Te=ye.currentTarget;if(ye=ye.listener,be!==te&&K.isPropagationStopped())break e;te=ye,K.currentTarget=Te;try{te(K)}catch(Le){gl(Le)}K.currentTarget=null,te=be}else for(pe=0;pe<V.length;pe++){if(ye=V[pe],be=ye.instance,Te=ye.currentTarget,ye=ye.listener,be!==te&&K.isPropagationStopped())break e;te=ye,K.currentTarget=Te;try{te(K)}catch(Le){gl(Le)}K.currentTarget=null,te=be}}}}function er(m,_){var T=_[Ai];T===void 0&&(T=_[Ai]=new Set);var V=m+"__bubble";T.has(V)||(_h(_,m,2,!1),T.add(V))}function Su(m,_,T){var V=0;_&&(V|=4),_h(T,m,V,_)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function Tu(m){if(!m[Ol]){m[Ol]=!0,Da.forEach(function(T){T!=="selectionchange"&&(qp.has(T)||Su(T,!1,m),Su(T,!0,m))});var _=m.nodeType===9?m:m.ownerDocument;_===null||_[Ol]||(_[Ol]=!0,Su("selectionchange",!1,_))}}function _h(m,_,T,V){switch(qh(_)){case 2:var K=mm;break;case 8:K=gm;break;default:K=Lu}T=K.bind(null,_,T,m),K=void 0,!Un||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(K=!0),V?K!==void 0?m.addEventListener(_,T,{capture:!0,passive:K}):m.addEventListener(_,T,!0):K!==void 0?m.addEventListener(_,T,{passive:K}):m.addEventListener(_,T,!1)}function Ru(m,_,T,V,K){var te=V;if((_&1)===0&&(_&2)===0&&V!==null)e:for(;;){if(V===null)return;var pe=V.tag;if(pe===3||pe===4){var ye=V.stateNode.containerInfo;if(ye===K||ye.nodeType===8&&ye.parentNode===K)break;if(pe===4)for(pe=V.return;pe!==null;){var be=pe.tag;if((be===3||be===4)&&(be=pe.stateNode.containerInfo,be===K||be.nodeType===8&&be.parentNode===K))return;pe=pe.return}for(;ye!==null;){if(pe=En(ye),pe===null)return;if(be=pe.tag,be===5||be===6||be===26||be===27){V=te=pe;continue e}ye=ye.parentNode}}V=V.return}Mo(function(){var Te=te,Le=Js(T),Fe=[];e:{var Ie=af.get(m);if(Ie!==void 0){var $e=Zs,Ye=m;switch(m){case"keypress":if(fi(T)===0)break e;case"keydown":case"keyup":$e=sa;break;case"focusin":Ye="focus",$e=ra;break;case"focusout":Ye="blur",$e=ra;break;case"beforeblur":case"afterblur":$e=ra;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=zo;break;case tf:case rf:case nf:$e=na;break;case sf:$e=Wo;break;case"scroll":case"scrollend":$e=$o;break;case"wheel":$e=aa;break;case"copy":case"cut":case"paste":$e=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=Wa;break;case"toggle":case"beforetoggle":$e=Ko}var ut=(_&4)!==0,Mr=!ut&&(m==="scroll"||m==="scrollend"),Re=ut?Ie!==null?Ie+"Capture":null:Ie;ut=[];for(var Se=Te,Pe;Se!==null;){var Ve=Se;if(Pe=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Pe===null||Re===null||(Ve=Ss(Se,Re),Ve!=null&&ut.push(So(Se,Ve,Pe))),Mr)break;Se=Se.return}0<ut.length&&(Ie=new $e(Ie,Ye,null,T,Le),Fe.push({event:Ie,listeners:ut}))}}if((_&7)===0){e:{if(Ie=m==="mouseover"||m==="pointerover",$e=m==="mouseout"||m==="pointerout",Ie&&T!==qn&&(Ye=T.relatedTarget||T.fromElement)&&(En(Ye)||Ye[ri]))break e;if(($e||Ie)&&(Ie=Le.window===Le?Le:(Ie=Le.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,$e?(Ye=T.relatedTarget||T.toElement,$e=Te,Ye=Ye?En(Ye):null,Ye!==null&&(Mr=ee(Ye),ut=Ye.tag,Ye!==Mr||ut!==5&&ut!==27&&ut!==6)&&(Ye=null)):($e=null,Ye=Te),$e!==Ye)){if(ut=zn,Ve="onMouseLeave",Re="onMouseEnter",Se="mouse",(m==="pointerout"||m==="pointerover")&&(ut=Wa,Ve="onPointerLeave",Re="onPointerEnter",Se="pointer"),Mr=$e==null?Ie:li($e),Pe=Ye==null?Ie:li(Ye),Ie=new ut(Ve,Se+"leave",$e,T,Le),Ie.target=Mr,Ie.relatedTarget=Pe,Ve=null,En(Le)===Te&&(ut=new ut(Re,Se+"enter",Ye,T,Le),ut.target=Pe,ut.relatedTarget=Mr,Ve=ut),Mr=Ve,$e&&Ye)t:{for(ut=$e,Re=Ye,Se=0,Pe=ut;Pe;Pe=Ca(Pe))Se++;for(Pe=0,Ve=Re;Ve;Ve=Ca(Ve))Pe++;for(;0<Se-Pe;)ut=Ca(ut),Se--;for(;0<Pe-Se;)Re=Ca(Re),Pe--;for(;Se--;){if(ut===Re||Re!==null&&ut===Re.alternate)break t;ut=Ca(ut),Re=Ca(Re)}ut=null}else ut=null;$e!==null&&xh(Fe,Ie,$e,ut,!1),Ye!==null&&Mr!==null&&xh(Fe,Mr,Ye,ut,!0)}}e:{if(Ie=Te?li(Te):window,$e=Ie.nodeName&&Ie.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Ie.type==="file")var Ke=zu;else if(Yr(Ie))if(Gu)Ke=Jh;else{Ke=Qh;var Bt=Yh}else $e=Ie.nodeName,!$e||$e.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Te&&Va(Te.elementType)&&(Ke=zu):Ke=Xh;if(Ke&&(Ke=Ke(m,Te))){Ii(Fe,Ke,T,Le);break e}Bt&&Bt(m,Ie,Te),m==="focusout"&&Te&&Ie.type==="number"&&Te.memoizedProps.value!=null&&Xs(Ie,"number",Ie.value)}switch(Bt=Te?li(Te):window,m){case"focusin":(Yr(Bt)||Bt.contentEditable==="true")&&(oa=Bt,nc=Te,Ya=null);break;case"focusout":Ya=nc=oa=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,Zu(Fe,T,Le);break;case"selectionchange":if(tp)break;case"keydown":case"keyup":Zu(Fe,T,Le)}var Qe;if(mi)e:{switch(m){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else rr?De(m,T)&&(Je="onCompositionEnd"):m==="keydown"&&T.keyCode===229&&(Je="onCompositionStart");Je&&(he&&T.locale!=="ko"&&(rr||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&rr&&(Qe=Ba()):(ui=Le,es="value"in ui?ui.value:ui.textContent,rr=!0)),Bt=jl(Te,Je),0<Bt.length&&(Je=new za(Je,m,null,T,Le),Fe.push({event:Je,listeners:Bt}),Qe?Je.data=Qe:(Qe=Ue(T),Qe!==null&&(Je.data=Qe)))),(Qe=le?Kr(m,T):nr(m,T))&&(Je=jl(Te,"onBeforeInput"),0<Je.length&&(Bt=new za("onBeforeInput","beforeinput",null,T,Le),Fe.push({event:Bt,listeners:Je}),Bt.data=Qe)),Vp(Fe,m,Te,T,Le)}yh(Fe,_)})}function So(m,_,T){return{instance:m,listener:_,currentTarget:T}}function jl(m,_){for(var T=_+"Capture",V=[];m!==null;){var K=m,te=K.stateNode;K=K.tag,K!==5&&K!==26&&K!==27||te===null||(K=Ss(m,T),K!=null&&V.unshift(So(m,K,te)),K=Ss(m,_),K!=null&&V.push(So(m,K,te))),m=m.return}return V}function Ca(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5&&m.tag!==27);return m||null}function xh(m,_,T,V,K){for(var te=_._reactName,pe=[];T!==null&&T!==V;){var ye=T,be=ye.alternate,Te=ye.stateNode;if(ye=ye.tag,be!==null&&be===V)break;ye!==5&&ye!==26&&ye!==27||Te===null||(be=Te,K?(Te=Ss(T,te),Te!=null&&pe.unshift(So(T,Te,be))):K||(Te=Ss(T,te),Te!=null&&pe.push(So(T,Te,be)))),T=T.return}pe.length!==0&&m.push({event:_,listeners:pe})}var Up=/\r\n?/g,zp=/\u0000|\uFFFD/g;function Eh(m){return(typeof m=="string"?m:""+m).replace(Up,`
`).replace(zp,"")}function bh(m,_){return _=Eh(_),Eh(m)===_}function kl(){}function gr(m,_,T,V,K,te){switch(T){case"children":typeof V=="string"?_==="body"||_==="textarea"&&V===""||Bn(m,V):(typeof V=="number"||typeof V=="bigint")&&_!=="body"&&Bn(m,""+V);break;case"className":Xi(m,"class",V);break;case"tabIndex":Xi(m,"tabindex",V);break;case"dir":case"role":case"viewBox":case"width":case"height":Xi(m,T,V);break;case"style":No(m,V,te);break;case"data":if(_!=="object"){Xi(m,"data",V);break}case"src":case"href":if(V===""&&(_!=="a"||T!=="href")){m.removeAttribute(T);break}if(V==null||typeof V=="function"||typeof V=="symbol"||typeof V=="boolean"){m.removeAttribute(T);break}V=ci(""+V),m.setAttribute(T,V);break;case"action":case"formAction":if(typeof V=="function"){m.setAttribute(T,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof te=="function"&&(T==="formAction"?(_!=="input"&&gr(m,_,"name",K.name,K,null),gr(m,_,"formEncType",K.formEncType,K,null),gr(m,_,"formMethod",K.formMethod,K,null),gr(m,_,"formTarget",K.formTarget,K,null)):(gr(m,_,"encType",K.encType,K,null),gr(m,_,"method",K.method,K,null),gr(m,_,"target",K.target,K,null)));if(V==null||typeof V=="symbol"||typeof V=="boolean"){m.removeAttribute(T);break}V=ci(""+V),m.setAttribute(T,V);break;case"onClick":V!=null&&(m.onclick=kl);break;case"onScroll":V!=null&&er("scroll",m);break;case"onScrollEnd":V!=null&&er("scrollend",m);break;case"dangerouslySetInnerHTML":if(V!=null){if(typeof V!="object"||!("__html"in V))throw Error(i(61));if(T=V.__html,T!=null){if(K.children!=null)throw Error(i(60));m.innerHTML=T}}break;case"multiple":m.multiple=V&&typeof V!="function"&&typeof V!="symbol";break;case"muted":m.muted=V&&typeof V!="function"&&typeof V!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(V==null||typeof V=="function"||typeof V=="boolean"||typeof V=="symbol"){m.removeAttribute("xlink:href");break}T=ci(""+V),m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",T);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":V!=null&&typeof V!="function"&&typeof V!="symbol"?m.setAttribute(T,""+V):m.removeAttribute(T);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":V&&typeof V!="function"&&typeof V!="symbol"?m.setAttribute(T,""):m.removeAttribute(T);break;case"capture":case"download":V===!0?m.setAttribute(T,""):V!==!1&&V!=null&&typeof V!="function"&&typeof V!="symbol"?m.setAttribute(T,V):m.removeAttribute(T);break;case"cols":case"rows":case"size":case"span":V!=null&&typeof V!="function"&&typeof V!="symbol"&&!isNaN(V)&&1<=V?m.setAttribute(T,V):m.removeAttribute(T);break;case"rowSpan":case"start":V==null||typeof V=="function"||typeof V=="symbol"||isNaN(V)?m.removeAttribute(T):m.setAttribute(T,V);break;case"popover":er("beforetoggle",m),er("toggle",m),Qi(m,"popover",V);break;case"xlinkActuate":Fn(m,"http://www.w3.org/1999/xlink","xlink:actuate",V);break;case"xlinkArcrole":Fn(m,"http://www.w3.org/1999/xlink","xlink:arcrole",V);break;case"xlinkRole":Fn(m,"http://www.w3.org/1999/xlink","xlink:role",V);break;case"xlinkShow":Fn(m,"http://www.w3.org/1999/xlink","xlink:show",V);break;case"xlinkTitle":Fn(m,"http://www.w3.org/1999/xlink","xlink:title",V);break;case"xlinkType":Fn(m,"http://www.w3.org/1999/xlink","xlink:type",V);break;case"xmlBase":Fn(m,"http://www.w3.org/XML/1998/namespace","xml:base",V);break;case"xmlLang":Fn(m,"http://www.w3.org/XML/1998/namespace","xml:lang",V);break;case"xmlSpace":Fn(m,"http://www.w3.org/XML/1998/namespace","xml:space",V);break;case"is":Qi(m,"is",V);break;case"innerText":case"textContent":break;default:(!(2<T.length)||T[0]!=="o"&&T[0]!=="O"||T[1]!=="n"&&T[1]!=="N")&&(T=Ql.get(T)||T,Qi(m,T,V))}}function wu(m,_,T,V,K,te){switch(T){case"style":No(m,V,te);break;case"dangerouslySetInnerHTML":if(V!=null){if(typeof V!="object"||!("__html"in V))throw Error(i(61));if(T=V.__html,T!=null){if(K.children!=null)throw Error(i(60));m.innerHTML=T}}break;case"children":typeof V=="string"?Bn(m,V):(typeof V=="number"||typeof V=="bigint")&&Bn(m,""+V);break;case"onScroll":V!=null&&er("scroll",m);break;case"onScrollEnd":V!=null&&er("scrollend",m);break;case"onClick":V!=null&&(m.onclick=kl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(T))e:{if(T[0]==="o"&&T[1]==="n"&&(K=T.endsWith("Capture"),_=T.slice(2,K?T.length-7:void 0),te=m[Or]||null,te=te!=null?te[T]:null,typeof te=="function"&&m.removeEventListener(_,te,K),typeof V=="function")){typeof te!="function"&&te!==null&&(T in m?m[T]=null:m.hasAttribute(T)&&m.removeAttribute(T)),m.addEventListener(_,V,K);break e}T in m?m[T]=V:V===!0?m.setAttribute(T,""):Qi(m,T,V)}}}function pn(m,_,T){switch(_){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":er("error",m),er("load",m);var V=!1,K=!1,te;for(te in T)if(T.hasOwnProperty(te)){var pe=T[te];if(pe!=null)switch(te){case"src":V=!0;break;case"srcSet":K=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,_));default:gr(m,_,te,pe,T,null)}}K&&gr(m,_,"srcSet",T.srcSet,T,null),V&&gr(m,_,"src",T.src,T,null);return;case"input":er("invalid",m);var ye=te=pe=K=null,be=null,Te=null;for(V in T)if(T.hasOwnProperty(V)){var Le=T[V];if(Le!=null)switch(V){case"name":K=Le;break;case"type":pe=Le;break;case"checked":be=Le;break;case"defaultChecked":Te=Le;break;case"value":te=Le;break;case"defaultValue":ye=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,_));break;default:gr(m,_,V,Le,T,null)}}bs(m,te,ye,be,Te,pe,K,!1),Es(m);return;case"select":er("invalid",m),V=pe=te=null;for(K in T)if(T.hasOwnProperty(K)&&(ye=T[K],ye!=null))switch(K){case"value":te=ye;break;case"defaultValue":pe=ye;break;case"multiple":V=ye;default:gr(m,_,K,ye,T,null)}_=te,T=pe,m.multiple=!!V,_!=null?or(m,!!V,_,!1):T!=null&&or(m,!!V,T,!0);return;case"textarea":er("invalid",m),te=K=V=null;for(pe in T)if(T.hasOwnProperty(pe)&&(ye=T[pe],ye!=null))switch(pe){case"value":V=ye;break;case"defaultValue":K=ye;break;case"children":te=ye;break;case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(91));break;default:gr(m,_,pe,ye,T,null)}Zi(m,V,K,te),Es(m);return;case"option":for(be in T)if(T.hasOwnProperty(be)&&(V=T[be],V!=null))switch(be){case"selected":m.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:gr(m,_,be,V,T,null)}return;case"dialog":er("cancel",m),er("close",m);break;case"iframe":case"object":er("load",m);break;case"video":case"audio":for(V=0;V<Ao.length;V++)er(Ao[V],m);break;case"image":er("error",m),er("load",m);break;case"details":er("toggle",m);break;case"embed":case"source":case"link":er("error",m),er("load",m);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in T)if(T.hasOwnProperty(Te)&&(V=T[Te],V!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,_));default:gr(m,_,Te,V,T,null)}return;default:if(Va(_)){for(Le in T)T.hasOwnProperty(Le)&&(V=T[Le],V!==void 0&&wu(m,_,Le,V,T,void 0));return}}for(ye in T)T.hasOwnProperty(ye)&&(V=T[ye],V!=null&&gr(m,_,ye,V,T,null))}function Gp(m,_,T,V){switch(_){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var K=null,te=null,pe=null,ye=null,be=null,Te=null,Le=null;for($e in T){var Fe=T[$e];if(T.hasOwnProperty($e)&&Fe!=null)switch($e){case"checked":break;case"value":break;case"defaultValue":be=Fe;default:V.hasOwnProperty($e)||gr(m,_,$e,null,V,Fe)}}for(var Ie in V){var $e=V[Ie];if(Fe=T[Ie],V.hasOwnProperty(Ie)&&($e!=null||Fe!=null))switch(Ie){case"type":te=$e;break;case"name":K=$e;break;case"checked":Te=$e;break;case"defaultChecked":Le=$e;break;case"value":pe=$e;break;case"defaultValue":ye=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(i(137,_));break;default:$e!==Fe&&gr(m,_,Ie,$e,V,Fe)}}Ji(m,pe,ye,be,Te,Le,te,K);return;case"select":$e=pe=ye=Ie=null;for(te in T)if(be=T[te],T.hasOwnProperty(te)&&be!=null)switch(te){case"value":break;case"multiple":$e=be;default:V.hasOwnProperty(te)||gr(m,_,te,null,V,be)}for(K in V)if(te=V[K],be=T[K],V.hasOwnProperty(K)&&(te!=null||be!=null))switch(K){case"value":Ie=te;break;case"defaultValue":ye=te;break;case"multiple":pe=te;default:te!==be&&gr(m,_,K,te,V,be)}_=ye,T=pe,V=$e,Ie!=null?or(m,!!T,Ie,!1):!!V!=!!T&&(_!=null?or(m,!!T,_,!0):or(m,!!T,T?[]:"",!1));return;case"textarea":$e=Ie=null;for(ye in T)if(K=T[ye],T.hasOwnProperty(ye)&&K!=null&&!V.hasOwnProperty(ye))switch(ye){case"value":break;case"children":break;default:gr(m,_,ye,null,V,K)}for(pe in V)if(K=V[pe],te=T[pe],V.hasOwnProperty(pe)&&(K!=null||te!=null))switch(pe){case"value":Ie=K;break;case"defaultValue":$e=K;break;case"children":break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(91));break;default:K!==te&&gr(m,_,pe,K,V,te)}As(m,Ie,$e);return;case"option":for(var Ye in T)if(Ie=T[Ye],T.hasOwnProperty(Ye)&&Ie!=null&&!V.hasOwnProperty(Ye))switch(Ye){case"selected":m.selected=!1;break;default:gr(m,_,Ye,null,V,Ie)}for(be in V)if(Ie=V[be],$e=T[be],V.hasOwnProperty(be)&&Ie!==$e&&(Ie!=null||$e!=null))switch(be){case"selected":m.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:gr(m,_,be,Ie,V,$e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in T)Ie=T[ut],T.hasOwnProperty(ut)&&Ie!=null&&!V.hasOwnProperty(ut)&&gr(m,_,ut,null,V,Ie);for(Te in V)if(Ie=V[Te],$e=T[Te],V.hasOwnProperty(Te)&&Ie!==$e&&(Ie!=null||$e!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,_));break;default:gr(m,_,Te,Ie,V,$e)}return;default:if(Va(_)){for(var Mr in T)Ie=T[Mr],T.hasOwnProperty(Mr)&&Ie!==void 0&&!V.hasOwnProperty(Mr)&&wu(m,_,Mr,void 0,V,Ie);for(Le in V)Ie=V[Le],$e=T[Le],!V.hasOwnProperty(Le)||Ie===$e||Ie===void 0&&$e===void 0||wu(m,_,Le,Ie,V,$e);return}}for(var Re in T)Ie=T[Re],T.hasOwnProperty(Re)&&Ie!=null&&!V.hasOwnProperty(Re)&&gr(m,_,Re,null,V,Ie);for(Fe in V)Ie=V[Fe],$e=T[Fe],!V.hasOwnProperty(Fe)||Ie===$e||Ie==null&&$e==null||gr(m,_,Fe,Ie,V,$e)}var Pu=null,Cu=null;function Dl(m){return m.nodeType===9?m:m.ownerDocument}function Ah(m){switch(m){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sh(m,_){if(m===0)switch(_){case"svg":return 1;case"math":return 2;default:return 0}return m===1&&_==="foreignObject"?0:m}function Iu(m,_){return m==="textarea"||m==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.children=="bigint"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var Ou=null;function Wp(){var m=window.event;return m&&m.type==="popstate"?m===Ou?!1:(Ou=m,!0):(Ou=null,!1)}var Th=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,Kp=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(m){return Rh.resolve(null).then(m).catch(Yp)}:Th;function Yp(m){setTimeout(function(){throw m})}function ju(m,_){var T=_,V=0;do{var K=T.nextSibling;if(m.removeChild(T),K&&K.nodeType===8)if(T=K.data,T==="/$"){if(V===0){m.removeChild(K),jo(_);return}V--}else T!=="$"&&T!=="$?"&&T!=="$!"||V++;T=K}while(T);jo(_)}function ku(m){var _=m.firstChild;for(_&&_.nodeType===10&&(_=_.nextSibling);_;){var T=_;switch(_=_.nextSibling,T.nodeName){case"HTML":case"HEAD":case"BODY":ku(T),Hr(T);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(T.rel.toLowerCase()==="stylesheet")continue}m.removeChild(T)}}function Qp(m,_,T,V){for(;m.nodeType===1;){var K=T;if(m.nodeName.toLowerCase()!==_.toLowerCase()){if(!V&&(m.nodeName!=="INPUT"||m.type!=="hidden"))break}else if(V){if(!m[qr])switch(_){case"meta":if(!m.hasAttribute("itemprop"))break;return m;case"link":if(te=m.getAttribute("rel"),te==="stylesheet"&&m.hasAttribute("data-precedence"))break;if(te!==K.rel||m.getAttribute("href")!==(K.href==null?null:K.href)||m.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin)||m.getAttribute("title")!==(K.title==null?null:K.title))break;return m;case"style":if(m.hasAttribute("data-precedence"))break;return m;case"script":if(te=m.getAttribute("src"),(te!==(K.src==null?null:K.src)||m.getAttribute("type")!==(K.type==null?null:K.type)||m.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin))&&te&&m.hasAttribute("async")&&!m.hasAttribute("itemprop"))break;return m;default:return m}}else if(_==="input"&&m.type==="hidden"){var te=K.name==null?null:""+K.name;if(K.type==="hidden"&&m.getAttribute("name")===te)return m}else return m;if(m=oi(m.nextSibling),m===null)break}return null}function Xp(m,_,T){if(_==="")return null;for(;m.nodeType!==3;)if((m.nodeType!==1||m.nodeName!=="INPUT"||m.type!=="hidden")&&!T||(m=oi(m.nextSibling),m===null))return null;return m}function oi(m){for(;m!=null;m=m.nextSibling){var _=m.nodeType;if(_===1||_===3)break;if(_===8){if(_=m.data,_==="$"||_==="$!"||_==="$?"||_==="F!"||_==="F")break;if(_==="/$")return null}}return m}function wh(m){m=m.previousSibling;for(var _=0;m;){if(m.nodeType===8){var T=m.data;if(T==="$"||T==="$!"||T==="$?"){if(_===0)return m;_--}else T==="/$"&&_++}m=m.previousSibling}return null}function Ph(m,_,T){switch(_=Dl(T),m){case"html":if(m=_.documentElement,!m)throw Error(i(452));return m;case"head":if(m=_.head,!m)throw Error(i(453));return m;case"body":if(m=_.body,!m)throw Error(i(454));return m;default:throw Error(i(451))}}var ei=new Map,Ch=new Set;function Nl(m){return typeof m.getRootNode=="function"?m.getRootNode():m.ownerDocument}var Gi=Ae.d;Ae.d={f:Jp,r:Zp,D:em,C:tm,L:rm,m:im,X:am,S:sm,M:om};function Jp(){var m=Gi.f(),_=wl();return m||_}function Zp(m){var _=ni(m);_!==null&&_.tag===5&&_.type==="form"?ed(_):Gi.r(m)}var Ia=typeof document>"u"?null:document;function Ih(m,_,T){var V=Ia;if(V&&typeof _=="string"&&_){var K=jr(_);K='link[rel="'+m+'"][href="'+K+'"]',typeof T=="string"&&(K+='[crossorigin="'+T+'"]'),Ch.has(K)||(Ch.add(K),m={rel:m,crossOrigin:T,href:_},V.querySelector(K)===null&&(_=V.createElement("link"),pn(_,"link",m),wr(_),V.head.appendChild(_)))}}function em(m){Gi.D(m),Ih("dns-prefetch",m,null)}function tm(m,_){Gi.C(m,_),Ih("preconnect",m,_)}function rm(m,_,T){Gi.L(m,_,T);var V=Ia;if(V&&m&&_){var K='link[rel="preload"][as="'+jr(_)+'"]';_==="image"&&T&&T.imageSrcSet?(K+='[imagesrcset="'+jr(T.imageSrcSet)+'"]',typeof T.imageSizes=="string"&&(K+='[imagesizes="'+jr(T.imageSizes)+'"]')):K+='[href="'+jr(m)+'"]';var te=K;switch(_){case"style":te=Oa(m);break;case"script":te=ja(m)}ei.has(te)||(m=ae({rel:"preload",href:_==="image"&&T&&T.imageSrcSet?void 0:m,as:_},T),ei.set(te,m),V.querySelector(K)!==null||_==="style"&&V.querySelector(To(te))||_==="script"&&V.querySelector(Ro(te))||(_=V.createElement("link"),pn(_,"link",m),wr(_),V.head.appendChild(_)))}}function im(m,_){Gi.m(m,_);var T=Ia;if(T&&m){var V=_&&typeof _.as=="string"?_.as:"script",K='link[rel="modulepreload"][as="'+jr(V)+'"][href="'+jr(m)+'"]',te=K;switch(V){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":te=ja(m)}if(!ei.has(te)&&(m=ae({rel:"modulepreload",href:m},_),ei.set(te,m),T.querySelector(K)===null)){switch(V){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(T.querySelector(Ro(te)))return}V=T.createElement("link"),pn(V,"link",m),wr(V),T.head.appendChild(V)}}}function sm(m,_,T){Gi.S(m,_,T);var V=Ia;if(V&&m){var K=Yi(V).hoistableStyles,te=Oa(m);_=_||"default";var pe=K.get(te);if(!pe){var ye={loading:0,preload:null};if(pe=V.querySelector(To(te)))ye.loading=5;else{m=ae({rel:"stylesheet",href:m,"data-precedence":_},T),(T=ei.get(te))&&Du(m,T);var be=pe=V.createElement("link");wr(be),pn(be,"link",m),be._p=new Promise(function(Te,Le){be.onload=Te,be.onerror=Le}),be.addEventListener("load",function(){ye.loading|=1}),be.addEventListener("error",function(){ye.loading|=2}),ye.loading|=4,Ml(pe,_,V)}pe={type:"stylesheet",instance:pe,count:1,state:ye},K.set(te,pe)}}}function am(m,_){Gi.X(m,_);var T=Ia;if(T&&m){var V=Yi(T).hoistableScripts,K=ja(m),te=V.get(K);te||(te=T.querySelector(Ro(K)),te||(m=ae({src:m,async:!0},_),(_=ei.get(K))&&Nu(m,_),te=T.createElement("script"),wr(te),pn(te,"link",m),T.head.appendChild(te)),te={type:"script",instance:te,count:1,state:null},V.set(K,te))}}function om(m,_){Gi.M(m,_);var T=Ia;if(T&&m){var V=Yi(T).hoistableScripts,K=ja(m),te=V.get(K);te||(te=T.querySelector(Ro(K)),te||(m=ae({src:m,async:!0,type:"module"},_),(_=ei.get(K))&&Nu(m,_),te=T.createElement("script"),wr(te),pn(te,"link",m),T.head.appendChild(te)),te={type:"script",instance:te,count:1,state:null},V.set(K,te))}}function Oh(m,_,T,V){var K=(K=ze.current)?Nl(K):null;if(!K)throw Error(i(446));switch(m){case"meta":case"title":return null;case"style":return typeof T.precedence=="string"&&typeof T.href=="string"?(_=Oa(T.href),T=Yi(K).hoistableStyles,V=T.get(_),V||(V={type:"style",instance:null,count:0,state:null},T.set(_,V)),V):{type:"void",instance:null,count:0,state:null};case"link":if(T.rel==="stylesheet"&&typeof T.href=="string"&&typeof T.precedence=="string"){m=Oa(T.href);var te=Yi(K).hoistableStyles,pe=te.get(m);if(pe||(K=K.ownerDocument||K,pe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},te.set(m,pe),(te=K.querySelector(To(m)))&&!te._p&&(pe.instance=te,pe.state.loading=5),ei.has(m)||(T={rel:"preload",as:"style",href:T.href,crossOrigin:T.crossOrigin,integrity:T.integrity,media:T.media,hrefLang:T.hrefLang,referrerPolicy:T.referrerPolicy},ei.set(m,T),te||lm(K,m,T,pe.state))),_&&V===null)throw Error(i(528,""));return pe}if(_&&V!==null)throw Error(i(529,""));return null;case"script":return _=T.async,T=T.src,typeof T=="string"&&_&&typeof _!="function"&&typeof _!="symbol"?(_=ja(T),T=Yi(K).hoistableScripts,V=T.get(_),V||(V={type:"script",instance:null,count:0,state:null},T.set(_,V)),V):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,m))}}function Oa(m){return'href="'+jr(m)+'"'}function To(m){return'link[rel="stylesheet"]['+m+"]"}function jh(m){return ae({},m,{"data-precedence":m.precedence,precedence:null})}function lm(m,_,T,V){m.querySelector('link[rel="preload"][as="style"]['+_+"]")?V.loading=1:(_=m.createElement("link"),V.preload=_,_.addEventListener("load",function(){return V.loading|=1}),_.addEventListener("error",function(){return V.loading|=2}),pn(_,"link",T),wr(_),m.head.appendChild(_))}function ja(m){return'[src="'+jr(m)+'"]'}function Ro(m){return"script[async]"+m}function kh(m,_,T){if(_.count++,_.instance===null)switch(_.type){case"style":var V=m.querySelector('style[data-href~="'+jr(T.href)+'"]');if(V)return _.instance=V,wr(V),V;var K=ae({},T,{"data-href":T.href,"data-precedence":T.precedence,href:null,precedence:null});return V=(m.ownerDocument||m).createElement("style"),wr(V),pn(V,"style",K),Ml(V,T.precedence,m),_.instance=V;case"stylesheet":K=Oa(T.href);var te=m.querySelector(To(K));if(te)return _.state.loading|=4,_.instance=te,wr(te),te;V=jh(T),(K=ei.get(K))&&Du(V,K),te=(m.ownerDocument||m).createElement("link"),wr(te);var pe=te;return pe._p=new Promise(function(ye,be){pe.onload=ye,pe.onerror=be}),pn(te,"link",V),_.state.loading|=4,Ml(te,T.precedence,m),_.instance=te;case"script":return te=ja(T.src),(K=m.querySelector(Ro(te)))?(_.instance=K,wr(K),K):(V=T,(K=ei.get(te))&&(V=ae({},T),Nu(V,K)),m=m.ownerDocument||m,K=m.createElement("script"),wr(K),pn(K,"link",V),m.head.appendChild(K),_.instance=K);case"void":return null;default:throw Error(i(443,_.type))}else _.type==="stylesheet"&&(_.state.loading&4)===0&&(V=_.instance,_.state.loading|=4,Ml(V,T.precedence,m));return _.instance}function Ml(m,_,T){for(var V=T.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),K=V.length?V[V.length-1]:null,te=K,pe=0;pe<V.length;pe++){var ye=V[pe];if(ye.dataset.precedence===_)te=ye;else if(te!==K)break}te?te.parentNode.insertBefore(m,te.nextSibling):(_=T.nodeType===9?T.head:T,_.insertBefore(m,_.firstChild))}function Du(m,_){m.crossOrigin==null&&(m.crossOrigin=_.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=_.referrerPolicy),m.title==null&&(m.title=_.title)}function Nu(m,_){m.crossOrigin==null&&(m.crossOrigin=_.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=_.referrerPolicy),m.integrity==null&&(m.integrity=_.integrity)}var $l=null;function Dh(m,_,T){if($l===null){var V=new Map,K=$l=new Map;K.set(T,V)}else K=$l,V=K.get(T),V||(V=new Map,K.set(T,V));if(V.has(m))return V;for(V.set(m,null),T=T.getElementsByTagName(m),K=0;K<T.length;K++){var te=T[K];if(!(te[qr]||te[xr]||m==="link"&&te.getAttribute("rel")==="stylesheet")&&te.namespaceURI!=="http://www.w3.org/2000/svg"){var pe=te.getAttribute(_)||"";pe=m+pe;var ye=V.get(pe);ye?ye.push(te):V.set(pe,[te])}}return V}function Nh(m,_,T){m=m.ownerDocument||m,m.head.insertBefore(T,_==="title"?m.querySelector("head > title"):null)}function cm(m,_,T){if(T===1||_.itemProp!=null)return!1;switch(m){case"meta":case"title":return!0;case"style":if(typeof _.precedence!="string"||typeof _.href!="string"||_.href==="")break;return!0;case"link":if(typeof _.rel!="string"||typeof _.href!="string"||_.href===""||_.onLoad||_.onError)break;switch(_.rel){case"stylesheet":return m=_.disabled,typeof _.precedence=="string"&&m==null;default:return!0}case"script":if(_.async&&typeof _.async!="function"&&typeof _.async!="symbol"&&!_.onLoad&&!_.onError&&_.src&&typeof _.src=="string")return!0}return!1}function Mh(m){return!(m.type==="stylesheet"&&(m.state.loading&3)===0)}var wo=null;function um(){}function fm(m,_,T){if(wo===null)throw Error(i(475));var V=wo;if(_.type==="stylesheet"&&(typeof T.media!="string"||matchMedia(T.media).matches!==!1)&&(_.state.loading&4)===0){if(_.instance===null){var K=Oa(T.href),te=m.querySelector(To(K));if(te){m=te._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(V.count++,V=Ll.bind(V),m.then(V,V)),_.state.loading|=4,_.instance=te,wr(te);return}te=m.ownerDocument||m,T=jh(T),(K=ei.get(K))&&Du(T,K),te=te.createElement("link"),wr(te);var pe=te;pe._p=new Promise(function(ye,be){pe.onload=ye,pe.onerror=be}),pn(te,"link",T),_.instance=te}V.stylesheets===null&&(V.stylesheets=new Map),V.stylesheets.set(_,m),(m=_.state.preload)&&(_.state.loading&3)===0&&(V.count++,_=Ll.bind(V),m.addEventListener("load",_),m.addEventListener("error",_))}}function dm(){if(wo===null)throw Error(i(475));var m=wo;return m.stylesheets&&m.count===0&&Mu(m,m.stylesheets),0<m.count?function(_){var T=setTimeout(function(){if(m.stylesheets&&Mu(m,m.stylesheets),m.unsuspend){var V=m.unsuspend;m.unsuspend=null,V()}},6e4);return m.unsuspend=_,function(){m.unsuspend=null,clearTimeout(T)}}:null}function Ll(){if(this.count--,this.count===0){if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var m=this.unsuspend;this.unsuspend=null,m()}}}var Vl=null;function Mu(m,_){m.stylesheets=null,m.unsuspend!==null&&(m.count++,Vl=new Map,_.forEach(hm,m),Vl=null,Ll.call(m))}function hm(m,_){if(!(_.state.loading&4)){var T=Vl.get(m);if(T)var V=T.get(null);else{T=new Map,Vl.set(m,T);for(var K=m.querySelectorAll("link[data-precedence],style[data-precedence]"),te=0;te<K.length;te++){var pe=K[te];(pe.nodeName==="LINK"||pe.getAttribute("media")!=="not all")&&(T.set(pe.dataset.precedence,pe),V=pe)}V&&T.set(null,V)}K=_.instance,pe=K.getAttribute("data-precedence"),te=T.get(pe)||V,te===V&&T.set(null,K),T.set(pe,K),this.count++,V=Ll.bind(this),K.addEventListener("load",V),K.addEventListener("error",V),te?te.parentNode.insertBefore(K,te.nextSibling):(m=m.nodeType===9?m.head:m,m.insertBefore(K,m.firstChild)),_.state.loading|=4}}var Po={$$typeof:R,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function pm(m,_,T,V,K,te,pe,ye){this.tag=1,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=un(0),this.hiddenUpdates=un(null),this.identifierPrefix=V,this.onUncaughtError=K,this.onCaughtError=te,this.onRecoverableError=pe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ye,this.incompleteTransitions=new Map}function $h(m,_,T,V,K,te,pe,ye,be,Te,Le,Fe){return m=new pm(m,_,T,pe,ye,be,Te,Fe),_=1,te===!0&&(_|=24),te=Jn(3,null,null,_),m.current=te,te.stateNode=m,_=pc(),_.refCount++,m.pooledCache=_,_.refCount++,te.memoizedState={element:V,isDehydrated:T,cache:_},Kc(te),m}function Lh(m){return m?(m=ua,m):ua}function Vh(m,_,T,V,K,te){K=Lh(K),V.context===null?V.context=K:V.pendingContext=K,V=ls(_),V.payload={element:T},te=te===void 0?null:te,te!==null&&(V.callback=te),T=cs(m,V,_),T!==null&&(Tn(T,m,_),uo(T,m,_))}function Fh(m,_){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var T=m.retryLane;m.retryLane=T!==0&&T<_?T:_}}function $u(m,_){Fh(m,_),(m=m.alternate)&&Fh(m,_)}function Bh(m){if(m.tag===13){var _=ts(m,67108864);_!==null&&Tn(_,m,67108864),$u(m,67108864)}}var Fl=!0;function mm(m,_,T,V){var K=ne.T;ne.T=null;var te=Ae.p;try{Ae.p=2,Lu(m,_,T,V)}finally{Ae.p=te,ne.T=K}}function gm(m,_,T,V){var K=ne.T;ne.T=null;var te=Ae.p;try{Ae.p=8,Lu(m,_,T,V)}finally{Ae.p=te,ne.T=K}}function Lu(m,_,T,V){if(Fl){var K=Vu(V);if(K===null)Ru(m,_,V,Bl,T),Uh(m,V);else if(vm(K,m,_,T,V))V.stopPropagation();else if(Uh(m,V),_&4&&-1<ym.indexOf(m)){for(;K!==null;){var te=ni(K);if(te!==null)switch(te.tag){case 3:if(te=te.stateNode,te.current.memoizedState.isDehydrated){var pe=Ct(te.pendingLanes);if(pe!==0){var ye=te;for(ye.pendingLanes|=2,ye.entangledLanes|=2;pe;){var be=1<<31-Br(pe);ye.entanglements[1]|=be,pe&=~be}Ei(te),(Cr&6)===0&&(Sl=Mt()+500,bo(0))}}break;case 13:ye=ts(te,2),ye!==null&&Tn(ye,te,2),wl(),$u(te,2)}if(te=Vu(V),te===null&&Ru(m,_,V,Bl,T),te===K)break;K=te}K!==null&&V.stopPropagation()}else Ru(m,_,V,null,T)}}function Vu(m){return m=Js(m),Fu(m)}var Bl=null;function Fu(m){if(Bl=null,m=En(m),m!==null){var _=ee(m);if(_===null)m=null;else{var T=_.tag;if(T===13){if(m=ie(_),m!==null)return m;m=null}else if(T===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;m=null}else _!==m&&(m=null)}}return Bl=m,null}function qh(m){switch(m){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case Lt:return 2;case Ft:return 8;case _r:case Wr:return 32;case mn:return 268435456;default:return 32}default:return 32}}var Bu=!1,gs=null,ys=null,vs=null,Co=new Map,Io=new Map,_s=[],ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uh(m,_){switch(m){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Co.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(_.pointerId)}}function Oo(m,_,T,V,K,te){return m===null||m.nativeEvent!==te?(m={blockedOn:_,domEventName:T,eventSystemFlags:V,nativeEvent:te,targetContainers:[K]},_!==null&&(_=ni(_),_!==null&&Bh(_)),m):(m.eventSystemFlags|=V,_=m.targetContainers,K!==null&&_.indexOf(K)===-1&&_.push(K),m)}function vm(m,_,T,V,K){switch(_){case"focusin":return gs=Oo(gs,m,_,T,V,K),!0;case"dragenter":return ys=Oo(ys,m,_,T,V,K),!0;case"mouseover":return vs=Oo(vs,m,_,T,V,K),!0;case"pointerover":var te=K.pointerId;return Co.set(te,Oo(Co.get(te)||null,m,_,T,V,K)),!0;case"gotpointercapture":return te=K.pointerId,Io.set(te,Oo(Io.get(te)||null,m,_,T,V,K)),!0}return!1}function zh(m){var _=En(m.target);if(_!==null){var T=ee(_);if(T!==null){if(_=T.tag,_===13){if(_=ie(T),_!==null){m.blockedOn=_,Vr(m.priority,function(){if(T.tag===13){var V=$n(),K=ts(T,V);K!==null&&Tn(K,T,V),$u(T,V)}});return}}else if(_===3&&T.stateNode.current.memoizedState.isDehydrated){m.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}m.blockedOn=null}function ql(m){if(m.blockedOn!==null)return!1;for(var _=m.targetContainers;0<_.length;){var T=Vu(m.nativeEvent);if(T===null){T=m.nativeEvent;var V=new T.constructor(T.type,T);qn=V,T.target.dispatchEvent(V),qn=null}else return _=ni(T),_!==null&&Bh(_),m.blockedOn=T,!1;_.shift()}return!0}function Gh(m,_,T){ql(m)&&T.delete(_)}function _m(){Bu=!1,gs!==null&&ql(gs)&&(gs=null),ys!==null&&ql(ys)&&(ys=null),vs!==null&&ql(vs)&&(vs=null),Co.forEach(Gh),Io.forEach(Gh)}function Ul(m,_){m.blockedOn===_&&(m.blockedOn=null,Bu||(Bu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_m)))}var zl=null;function Wh(m){zl!==m&&(zl=m,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zl===m&&(zl=null);for(var _=0;_<m.length;_+=3){var T=m[_],V=m[_+1],K=m[_+2];if(typeof V!="function"){if(Fu(V||T)===null)continue;break}var te=ni(T);te!==null&&(m.splice(_,3),_-=3,Ic(te,{pending:!0,data:K,method:T.method,action:V},V,K))}}))}function jo(m){function _(be){return Ul(be,m)}gs!==null&&Ul(gs,m),ys!==null&&Ul(ys,m),vs!==null&&Ul(vs,m),Co.forEach(_),Io.forEach(_);for(var T=0;T<_s.length;T++){var V=_s[T];V.blockedOn===m&&(V.blockedOn=null)}for(;0<_s.length&&(T=_s[0],T.blockedOn===null);)zh(T),T.blockedOn===null&&_s.shift();if(T=(m.ownerDocument||m).$$reactFormReplay,T!=null)for(V=0;V<T.length;V+=3){var K=T[V],te=T[V+1],pe=K[Or]||null;if(typeof te=="function")pe||Wh(T);else if(pe){var ye=null;if(te&&te.hasAttribute("formAction")){if(K=te,pe=te[Or]||null)ye=pe.formAction;else if(Fu(K)!==null)continue}else ye=pe.action;typeof ye=="function"?T[V+1]=ye:(T.splice(V,3),V-=3),Wh(T)}}}function qu(m){this._internalRoot=m}Gl.prototype.render=qu.prototype.render=function(m){var _=this._internalRoot;if(_===null)throw Error(i(409));var T=_.current,V=$n();Vh(T,V,m,_,null,null)},Gl.prototype.unmount=qu.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var _=m.containerInfo;m.tag===0&&wa(),Vh(m.current,2,null,m,null,null),wl(),_[ri]=null}};function Gl(m){this._internalRoot=m}Gl.prototype.unstable_scheduleHydration=function(m){if(m){var _=Pn();m={blockedOn:null,target:m,priority:_};for(var T=0;T<_s.length&&_!==0&&_<_s[T].priority;T++);_s.splice(T,0,m),T===0&&zh(m)}};var Hh=e.version;if(Hh!=="19.0.0")throw Error(i(527,Hh,"19.0.0"));Ae.findDOMNode=function(m){var _=m._reactInternals;if(_===void 0)throw typeof m.render=="function"?Error(i(188)):(m=Object.keys(m).join(","),Error(i(268,m)));return m=de(_),m=m!==null?xe(m):null,m=m===null?null:m.stateNode,m};var xm={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,findFiberByHostInstance:En,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{xn=Wl.inject(xm),$r=Wl}catch{}}return reactDomClient_production.createRoot=function(m,_){if(!o(m))throw Error(i(299));var T=!1,V="",K=cd,te=ud,pe=fd,ye=null;return _!=null&&(_.unstable_strictMode===!0&&(T=!0),_.identifierPrefix!==void 0&&(V=_.identifierPrefix),_.onUncaughtError!==void 0&&(K=_.onUncaughtError),_.onCaughtError!==void 0&&(te=_.onCaughtError),_.onRecoverableError!==void 0&&(pe=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(ye=_.unstable_transitionCallbacks)),_=$h(m,1,!1,null,null,T,V,K,te,pe,ye,null),m[ri]=_.current,Tu(m.nodeType===8?m.parentNode:m),new qu(_)},reactDomClient_production.hydrateRoot=function(m,_,T){if(!o(m))throw Error(i(299));var V=!1,K="",te=cd,pe=ud,ye=fd,be=null,Te=null;return T!=null&&(T.unstable_strictMode===!0&&(V=!0),T.identifierPrefix!==void 0&&(K=T.identifierPrefix),T.onUncaughtError!==void 0&&(te=T.onUncaughtError),T.onCaughtError!==void 0&&(pe=T.onCaughtError),T.onRecoverableError!==void 0&&(ye=T.onRecoverableError),T.unstable_transitionCallbacks!==void 0&&(be=T.unstable_transitionCallbacks),T.formState!==void 0&&(Te=T.formState)),_=$h(m,1,!0,_,T??null,V,K,te,pe,ye,be,Te),_.context=Lh(null),T=_.current,V=$n(),K=ls(V),K.callback=null,cs(T,K,V),_.current.lanes=V,yt(_,V),Ei(_),m[ri]=_.current,Tu(m),new Gl(_)},reactDomClient_production.version="19.0.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient(),dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=u,dist.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function u(A,R){const I=new l,j=A.length;if(j<2)return I;const q=(R==null?void 0:R.decode)||g;let L=0;do{const z=A.indexOf("=",L);if(z===-1)break;const U=A.indexOf(";",L),W=U===-1?j:U;if(z>W){L=A.lastIndexOf(";",z-1)+1;continue}const H=f(A,L,z),Z=d(A,z,H),Y=A.slice(H,Z);if(I[Y]===void 0){let J=f(A,z+1,W),ne=d(A,W,J);const ae=q(A.slice(J,ne));I[Y]=ae}L=W+1}while(L<j);return I}function f(A,R,I){do{const j=A.charCodeAt(R);if(j!==32&&j!==9)return R}while(++R<I);return I}function d(A,R,I){for(;R>I;){const j=A.charCodeAt(--R);if(j!==32&&j!==9)return R+1}return I}function p(A,R,I){const j=(I==null?void 0:I.encode)||encodeURIComponent;if(!t.test(A))throw new TypeError(`argument name is invalid: ${A}`);const q=j(R);if(!e.test(q))throw new TypeError(`argument val is invalid: ${R}`);let L=A+"="+q;if(!I)return L;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);L+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);L+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);L+="; Path="+I.path}if(I.expires){if(!E(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);L+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(L+="; HttpOnly"),I.secure&&(L+="; Secure"),I.partitioned&&(L+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return L}function g(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function E(A){return o.call(A)==="[object Date]"}return dist}requireDist();var PopStateEventType="popstate";function createBrowserHistory(t={}){function e(i,o){let{pathname:l,search:u,hash:f}=i.location;return createLocation("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:createPath(o)}return getUrlBasedHistory(e,n,null,t)}function invariant$2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function warning$1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(t,e){return{usr:t.state,key:t.key,idx:e}}function createLocation(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?parsePath(e):e,state:n,key:e&&e.key||i||createKey()}}function createPath({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function parsePath(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function getUrlBasedHistory(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,f="POP",d=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function E(){f="POP";let q=g(),L=q==null?null:q-p;p=q,d&&d({action:f,location:j.location,delta:L})}function A(q,L){f="PUSH";let z=createLocation(j.location,q,L);p=g()+1;let U=getHistoryState(z,p),W=j.createHref(z);try{u.pushState(U,"",W)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;o.location.assign(W)}l&&d&&d({action:f,location:j.location,delta:1})}function R(q,L){f="REPLACE";let z=createLocation(j.location,q,L);p=g();let U=getHistoryState(z,p),W=j.createHref(z);u.replaceState(U,"",W),l&&d&&d({action:f,location:j.location,delta:0})}function I(q){let L=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof q=="string"?q:createPath(q);return z=z.replace(/ $/,"%20"),invariant$2(L,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,L)}let j={get action(){return f},get location(){return t(o,u)},listen(q){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,E),d=q,()=>{o.removeEventListener(PopStateEventType,E),d=null}},createHref(q){return e(o,q)},createURL:I,encodeLocation(q){let L=I(q);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:A,replace:R,go(q){return u.go(q)}};return j}function matchRoutes(t,e,n="/"){return matchRoutesImpl(t,e,n,!1)}function matchRoutesImpl(t,e,n,i){let o=typeof e=="string"?parsePath(e):e,l=stripBasename(o.pathname||"/",n);if(l==null)return null;let u=flattenRoutes(t);rankRouteBranches(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let p=decodePath$1(l);f=matchRouteBranch(u[d],p,i)}return f}function flattenRoutes(t,e=[],n=[],i=""){let o=(l,u,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(invariant$2(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let p=joinPaths([i,d.relativePath]),g=n.concat(d);l.children&&l.children.length>0&&(invariant$2(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),flattenRoutes(l.children,e,g,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:computeScore(p,l.index),routesMeta:g})};return t.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,u);else for(let d of explodeOptionalSegments(l.path))o(l,u,d)}),e}function explodeOptionalSegments(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=explodeOptionalSegments(i.join("/")),f=[];return f.push(...u.map(d=>d===""?l:[l,d].join("/"))),o&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function rankRouteBranches(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:compareIndexes(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,e){let n=t.split("/"),i=n.length;return n.some(isSplat)&&(i+=splatPenalty),e&&(i+=indexRouteValue),n.filter(o=>!isSplat(o)).reduce((o,l)=>o+(paramRe.test(l)?dynamicSegmentValue:l===""?emptySegmentValue:staticSegmentValue),i)}function compareIndexes(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function matchRouteBranch(t,e,n=!1){let{routesMeta:i}=t,o={},l="/",u=[];for(let f=0;f<i.length;++f){let d=i[f],p=f===i.length-1,g=l==="/"?e:e.slice(l.length)||"/",E=matchPath({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),A=d.route;if(!E&&p&&n&&!i[i.length-1].route.index&&(E=matchPath({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:joinPaths([l,E.pathname]),pathnameBase:normalizePathname(joinPaths([l,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(l=joinPaths([l,E.pathnameBase]))}return u}function matchPath(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=compilePath(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:E},A)=>{if(g==="*"){let I=f[A]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const R=f[A];return E&&!R?p[g]=void 0:p[g]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function compilePath(t,e=!1,n=!0){warning$1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function decodePath$1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning$1(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function stripBasename(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function resolvePath(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?parsePath(t):t;return{pathname:n?n.startsWith("/")?n:resolvePathname(n,e):e,search:normalizeSearch(i),hash:normalizeHash(o)}}function resolvePathname(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(t){let e=getPathContributingMatches(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function resolveTo(t,e,n,i=!1){let o;typeof t=="string"?o=parsePath(t):(o={...t},invariant$2(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant$2(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant$2(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=n;else{let E=e.length-1;if(!i&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}f=E>=0?e[E]:"/"}let d=resolvePath(o,f),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(t,{relative:e}={}){invariant$2(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=reactExports.useContext(NavigationContext),{hash:o,pathname:l,search:u}=useResolvedPath(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:joinPaths([n,l])),i.createHref({pathname:f,search:u,hash:o})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$2(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$3(t){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$2(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let t=reactExports.useContext(DataRouterContext),{basename:e,navigator:n}=reactExports.useContext(NavigationContext),{matches:i}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),l=JSON.stringify(getResolveToMatches(i)),u=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{u.current=!0}),reactExports.useCallback((d,p={})=>{if(warning$1(u.current,navigateEffectWarning),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=resolveTo(d,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:joinPaths([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,o,t])}var OutletContext=reactExports.createContext(null);function useOutlet(t){let e=reactExports.useContext(RouteContext).outlet;return e&&reactExports.createElement(OutletContext.Provider,{value:t},e)}function useParams(){let{matches:t}=reactExports.useContext(RouteContext),e=t[t.length-1];return e?e.params:{}}function useResolvedPath(t,{relative:e}={}){let{matches:n}=reactExports.useContext(RouteContext),{pathname:i}=useLocation(),o=JSON.stringify(getResolveToMatches(n));return reactExports.useMemo(()=>resolveTo(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function useRoutes(t,e){return useRoutesImpl(t,e)}function useRoutesImpl(t,e,n,i){var z;invariant$2(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=reactExports.useContext(NavigationContext),{matches:u}=reactExports.useContext(RouteContext),f=u[u.length-1],d=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let U=E&&E.path||"";warningOnce(p,!E||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let A=useLocation(),R;if(e){let U=typeof e=="string"?parsePath(e):e;invariant$2(g==="/"||((z=U.pathname)==null?void 0:z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),R=U}else R=A;let I=R.pathname||"/",j=I;if(g!=="/"){let U=g.replace(/^\//,"").split("/");j="/"+I.replace(/^\//,"").split("/").slice(U.length).join("/")}let q=!l&&n&&n.matches&&n.matches.length>0?n.matches:matchRoutes(t,{pathname:j});warning$1(E||q!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),warning$1(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=_renderMatches(q&&q.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:joinPaths([g,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:joinPaths([g,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,n,i);return e&&L?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},L):L}function DefaultErrorComponent(){let t=useRouteError(),e=isRouteErrorResponse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"💿 Hey developer 👋"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:l},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:l},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),n?reactExports.createElement("pre",{style:o},n):null,u)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:t,match:e,children:n}){let i=reactExports.useContext(DataRouterContext);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),reactExports.createElement(RouteContext.Provider,{value:t},n)}function _renderMatches(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n==null?void 0:n.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);invariant$2(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=d),p.route.id){let{loaderData:g,errors:E}=n,A=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||A){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,p,g)=>{let E,A=!1,R=null,I=null;n&&(E=l&&p.route.id?l[p.route.id]:void 0,R=p.route.errorElement||defaultErrorElement,u&&(f<0&&g===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,I=null):f===g&&(A=!0,I=p.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,g+1)),q=()=>{let L;return E?L=R:A?L=I:p.route.Component?L=reactExports.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=d,reactExports.createElement(RenderedRoute,{match:p,routeContext:{outlet:d,matches:j,isDataRoute:n!=null},children:L})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:q(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):q()},null)}function getDataRouterConsoleError(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(t){let e=reactExports.useContext(DataRouterContext);return invariant$2(e,getDataRouterConsoleError(t)),e}function useDataRouterState(t){let e=reactExports.useContext(DataRouterStateContext);return invariant$2(e,getDataRouterConsoleError(t)),e}function useRouteContext(t){let e=reactExports.useContext(RouteContext);return invariant$2(e,getDataRouterConsoleError(t)),e}function useCurrentRouteId(t){let e=useRouteContext(t),n=e.matches[e.matches.length-1];return invariant$2(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var i;let t=reactExports.useContext(RouteErrorContext),e=useDataRouterState("useRouteError"),n=useCurrentRouteId("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function useNavigateStable(){let{router:t}=useDataRouterContext("useNavigate"),e=useCurrentRouteId("useNavigate"),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{n.current=!0}),reactExports.useCallback(async(o,l={})=>{warning$1(n.current,navigateEffectWarning),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var alreadyWarned={};function warningOnce(t,e,n){!e&&!alreadyWarned[t]&&(alreadyWarned[t]=!0,warning$1(!1,n))}reactExports.memo(DataRoutes);function DataRoutes({routes:t,future:e,state:n}){return useRoutesImpl(t,void 0,n,e)}function Outlet(t){return useOutlet(t.context)}function Route(t){invariant$2(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){invariant$2(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=reactExports.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof n=="string"&&(n=parsePath(n));let{pathname:d="/",search:p="",hash:g="",state:E=null,key:A="default"}=n,R=reactExports.useMemo(()=>{let I=stripBasename(d,u);return I==null?null:{location:{pathname:I,search:p,hash:g,state:E,key:A},navigationType:i}},[u,d,p,g,E,A,i]);return warning$1(R!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:reactExports.createElement(NavigationContext.Provider,{value:f},reactExports.createElement(LocationContext.Provider,{children:e,value:R}))}function Routes({children:t,location:e}){return useRoutes(createRoutesFromChildren(t),e)}function createRoutesFromChildren(t,e=[]){let n=[];return reactExports.Children.forEach(t,(i,o)=>{if(!reactExports.isValidElement(i))return;let l=[...e,o];if(i.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(i.props.children,l));return}invariant$2(i.type===Route,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$2(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=createRoutesFromChildren(i.props.children,l)),n.push(u)}),n}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(t){return t!=null&&typeof t.tagName=="string"}function isButtonElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="button"}function isFormElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="form"}function isInputElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="input"}function isModifiedEvent$1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,e){return t.button===0&&(!e||e==="_self")&&!isModifiedEvent$1(t)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(t){return t!=null&&!supportedFormEncTypes.has(t)?(warning$1(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):t}function getFormSubmissionInfo(t,e){let n,i,o,l,u;if(isFormElement(t)){let f=t.getAttribute("action");i=f?stripBasename(f,e):null,n=t.getAttribute("method")||defaultMethod,o=getFormEncType(t.getAttribute("enctype"))||defaultEncType,l=new FormData(t)}else if(isButtonElement(t)||isInputElement(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(i=d?stripBasename(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||defaultMethod,o=getFormEncType(t.getAttribute("formenctype"))||getFormEncType(f.getAttribute("enctype"))||defaultEncType,l=new FormData(f,t),!isFormDataSubmitterSupported()){let{name:p,type:g,value:E}=t;if(g==="image"){let A=p?`${p}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else p&&l.append(p,E)}}else{if(isHtmlElement(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=defaultMethod,i=null,o=defaultEncType,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:u}}function invariant2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function loadRouteModule(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function getKeyedPrefetchLinks(t,e,n){let i=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await loadRouteModule(l,n);return u.links?u.links():[]}return[]}));return dedupeLinkDescriptors(i.flat(1).filter(isHtmlLinkDescriptor).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function getNewMatchesForLinks(t,e,n,i,o,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,f=(d,p)=>{var g;return n[p].pathname!==d.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>u(d,p)||f(d,p)):l==="data"?e.filter((d,p)=>{var E;let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let A=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function getModuleLinkHrefs(t,e,{includeHydrateFallback:n}={}){return dedupeHrefs(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function dedupeHrefs(t){return[...new Set(t)]}function sortKeys(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function dedupeLinkDescriptors(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let l=JSON.stringify(sortKeys(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}var NO_BODY_STATUS_CODES=new Set([100,101,204,205]);function singleFetchUrl(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&stripBasename(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function useDataRouterContext2(){let t=reactExports.useContext(DataRouterContext);return invariant2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function useDataRouterStateContext(){let t=reactExports.useContext(DataRouterStateContext);return invariant2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let t=reactExports.useContext(FrameworkContext);return invariant2(t,"You must render this element inside a <HydratedRouter> element"),t}function usePrefetchBehavior(t,e){let n=reactExports.useContext(FrameworkContext),[i,o]=reactExports.useState(!1),[l,u]=reactExports.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:E}=e,A=reactExports.useRef(null);reactExports.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=L=>{L.forEach(z=>{u(z.isIntersecting)})},q=new IntersectionObserver(j,{threshold:.5});return A.current&&q.observe(A.current),()=>{q.disconnect()}}},[t]),reactExports.useEffect(()=>{if(i){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[i]);let R=()=>{o(!0)},I=()=>{o(!1),u(!1)};return n?t!=="intent"?[l,A,{}]:[l,A,{onFocus:composeEventHandlers(f,R),onBlur:composeEventHandlers(d,I),onMouseEnter:composeEventHandlers(p,R),onMouseLeave:composeEventHandlers(g,I),onTouchStart:composeEventHandlers(E,R)}]:[!1,A,{}]}function composeEventHandlers(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function PrefetchPageLinks({page:t,...e}){let{router:n}=useDataRouterContext2(),i=reactExports.useMemo(()=>matchRoutes(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?reactExports.createElement(PrefetchPageLinksImpl,{page:t,matches:i,...e}):null}function useKeyedPrefetchLinks(t){let{manifest:e,routeModules:n}=useFrameworkContext(),[i,o]=reactExports.useState([]);return reactExports.useEffect(()=>{let l=!1;return getKeyedPrefetchLinks(t,e,n).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,n]),i}function PrefetchPageLinksImpl({page:t,matches:e,...n}){let i=useLocation(),{manifest:o,routeModules:l}=useFrameworkContext(),{basename:u}=useDataRouterContext2(),{loaderData:f,matches:d}=useDataRouterStateContext(),p=reactExports.useMemo(()=>getNewMatchesForLinks(t,e,d,o,i,"data"),[t,e,d,o,i]),g=reactExports.useMemo(()=>getNewMatchesForLinks(t,e,d,o,i,"assets"),[t,e,d,o,i]),E=reactExports.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,j=!1;if(e.forEach(L=>{var U;let z=o.routes[L.route.id];!z||!z.hasLoader||(!p.some(W=>W.route.id===L.route.id)&&L.route.id in f&&((U=l[L.route.id])!=null&&U.shouldRevalidate)||z.hasClientLoader?j=!0:I.add(L.route.id))}),I.size===0)return[];let q=singleFetchUrl(t,u);return j&&I.size>0&&q.searchParams.set("_routes",e.filter(L=>I.has(L.route.id)).map(L=>L.route.id).join(",")),[q.pathname+q.search]},[u,f,i,o,p,e,t,l]),A=reactExports.useMemo(()=>getModuleLinkHrefs(g,o),[g,o]),R=useKeyedPrefetchLinks(g);return reactExports.createElement(reactExports.Fragment,null,E.map(I=>reactExports.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),A.map(I=>reactExports.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),R.map(({key:I,link:j})=>reactExports.createElement("link",{key:I,...j})))}function mergeRefs$2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$1&&(window.__reactRouterVersion="7.5.3")}catch{}function BrowserRouter({basename:t,children:e,window:n}){let i=reactExports.useRef();i.current==null&&(i.current=createBrowserHistory({window:n,v5Compat:!0}));let o=i.current,[l,u]=reactExports.useState({action:o.action,location:o.location}),f=reactExports.useCallback(d=>{reactExports.startTransition(()=>u(d))},[u]);return reactExports.useLayoutEffect(()=>o.listen(f),[o,f]),reactExports.createElement(Router,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:f,target:d,to:p,preventScrollReset:g,viewTransition:E,...A},R){let{basename:I}=reactExports.useContext(NavigationContext),j=typeof p=="string"&&ABSOLUTE_URL_REGEX2.test(p),q,L=!1;if(typeof p=="string"&&j&&(q=p,isBrowser$1))try{let ne=new URL(window.location.href),ae=p.startsWith("//")?new URL(ne.protocol+p):new URL(p),se=stripBasename(ae.pathname,I);ae.origin===ne.origin&&se!=null?p=se+ae.search+ae.hash:L=!0}catch{warning$1(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=useHref(p,{relative:o}),[U,W,H]=usePrefetchBehavior(i,A),Z=useLinkClickHandler(p,{replace:u,state:f,target:d,preventScrollReset:g,relative:o,viewTransition:E});function Y(ne){e&&e(ne),ne.defaultPrevented||Z(ne)}let J=reactExports.createElement("a",{...A,...H,href:q||z,onClick:L||l?e:Y,ref:mergeRefs$2(R,W),target:d,"data-discover":!j&&n==="render"?"true":void 0});return U&&!j?reactExports.createElement(reactExports.Fragment,null,J,reactExports.createElement(PrefetchPageLinks,{page:z})):J});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:f,children:d,...p},g){let E=useResolvedPath(u,{relative:p.relative}),A=useLocation(),R=reactExports.useContext(DataRouterStateContext),{navigator:I,basename:j}=reactExports.useContext(NavigationContext),q=R!=null&&useViewTransitionState(E)&&f===!0,L=I.encodeLocation?I.encodeLocation(E).pathname:E.pathname,z=A.pathname,U=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(z=z.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&j&&(U=stripBasename(U,j)||U);const W=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let H=z===L||!o&&z.startsWith(L)&&z.charAt(W)==="/",Z=U!=null&&(U===L||!o&&U.startsWith(L)&&U.charAt(L.length)==="/"),Y={isActive:H,isPending:Z,isTransitioning:q},J=H?e:void 0,ne;typeof i=="function"?ne=i(Y):ne=[i,H?"active":null,Z?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let ae=typeof l=="function"?l(Y):l;return reactExports.createElement(Link,{...p,"aria-current":J,className:ne,ref:g,style:ae,to:u,viewTransition:f},typeof d=="function"?d(Y):d)});NavLink.displayName="NavLink";var Form$2=reactExports.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:l,method:u=defaultMethod,action:f,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:E,...A},R)=>{let I=useSubmit(),j=useFormAction(f,{relative:p}),q=u.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&ABSOLUTE_URL_REGEX2.test(f),z=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let W=U.nativeEvent.submitter,H=(W==null?void 0:W.getAttribute("formmethod"))||u;I(W||U.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:o,state:l,relative:p,preventScrollReset:g,viewTransition:E})};return reactExports.createElement("form",{ref:R,method:q,action:j,onSubmit:i?d:z,...A,"data-discover":!L&&t==="render"?"true":void 0})});Form$2.displayName="Form";function getDataRouterConsoleError2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(t){let e=reactExports.useContext(DataRouterContext);return invariant$2(e,getDataRouterConsoleError2(t)),e}function useLinkClickHandler(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let f=useNavigate(),d=useLocation(),p=useResolvedPath(t,{relative:l});return reactExports.useCallback(g=>{if(shouldProcessLinkClick(g,e)){g.preventDefault();let E=n!==void 0?n:createPath(d)===createPath(p);f(t,{replace:E,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[d,f,p,n,i,e,t,o,l,u])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:t}=useDataRouterContext3("useSubmit"),{basename:e}=reactExports.useContext(NavigationContext),n=useRouteId();return reactExports.useCallback(async(i,o={})=>{let{action:l,method:u,encType:f,formData:d,body:p}=getFormSubmissionInfo(i,e);if(o.navigate===!1){let g=o.fetcherKey||getUniqueFetcherId();await t.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function useFormAction(t,{relative:e}={}){let{basename:n}=reactExports.useContext(NavigationContext),i=reactExports.useContext(RouteContext);invariant$2(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...useResolvedPath(t||".",{relative:e})},u=useLocation();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(g=>g==="")){f.delete("index"),d.filter(E=>E).forEach(E=>f.append("index",E));let g=f.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:joinPaths([n,l.pathname])),createPath(l)}function useViewTransitionState(t,e={}){let n=reactExports.useContext(ViewTransitionContext);invariant$2(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=useDataRouterContext3("useViewTransitionState"),o=useResolvedPath(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=stripBasename(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=stripBasename(n.nextLocation.pathname,i)||n.nextLocation.pathname;return matchPath(o.pathname,u)!=null||matchPath(o.pathname,l)!=null}new TextEncoder;[...NO_BODY_STATUS_CODES];var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function isObject$6(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function extend$4(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:isObject$6(e[i])&&isObject$6(t[i])&&Object.keys(e[i]).length>0&&extend$4(t[i],e[i])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument$1(){const t=typeof document<"u"?document:{};return extend$4(t,ssrDocument),t}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function getWindow$2(){const t=typeof window<"u"?window:{};return extend$4(t,ssrWindow),t}function classesToTokens(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function deleteProps(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function nextTick(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function now$1(){return Date.now()}function getComputedStyle$4(t){const e=getWindow$2();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function getTranslate(t,e){e===void 0&&(e="x");const n=getWindow$2();let i,o,l;const u=getComputedStyle$4(t);return n.WebKitCSSMatrix?(o=u.transform||u.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(f=>f.replace(",",".")).join(", ")),l=new n.WebKitCSSMatrix(o==="none"?"":o)):(l=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=l.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?o=l.m41:i.length===16?o=parseFloat(i[12]):o=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?o=l.m42:i.length===16?o=parseFloat(i[13]):o=parseFloat(i[5])),o||0}function isObject$5(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function isNode$2(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function extend$3(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!isNode$2(i)){const o=Object.keys(Object(i)).filter(l=>e.indexOf(l)<0);for(let l=0,u=o.length;l<u;l+=1){const f=o[l],d=Object.getOwnPropertyDescriptor(i,f);d!==void 0&&d.enumerable&&(isObject$5(t[f])&&isObject$5(i[f])?i[f].__swiper__?t[f]=i[f]:extend$3(t[f],i[f]):!isObject$5(t[f])&&isObject$5(i[f])?(t[f]={},i[f].__swiper__?t[f]=i[f]:extend$3(t[f],i[f])):t[f]=i[f])}}}return t}function setCSSProperty(t,e,n){t.style.setProperty(e,n)}function animateCSSModeScroll(t){let{swiper:e,targetPosition:n,side:i}=t;const o=getWindow$2(),l=-e.translate;let u=null,f;const d=e.params.speed;e.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(e.cssModeFrameID);const p=n>l?"next":"prev",g=(A,R)=>p==="next"&&A>=R||p==="prev"&&A<=R,E=()=>{f=new Date().getTime(),u===null&&(u=f);const A=Math.max(Math.min((f-u)/d,1),0),R=.5-Math.cos(A*Math.PI)/2;let I=l+R*(n-l);if(g(I,n)&&(I=n),e.wrapperEl.scrollTo({[i]:I}),g(I,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:I})}),o.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=o.requestAnimationFrame(E)};E()}function getSlideTransformEl(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function elementChildren(t,e){e===void 0&&(e="");const n=getWindow$2(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(o=>o.matches(e)):i}function elementIsChildOfSlot(t,e){const n=[e];for(;n.length>0;){const i=n.shift();if(t===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function elementIsChildOf(t,e){const n=getWindow$2();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=elementIsChildOfSlot(t,e))),i}function showWarning(t){try{console.warn(t);return}catch{}}function createElement(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:classesToTokens(e)),n}function elementPrevAll(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function elementNextAll(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function elementStyle(t,e){return getWindow$2().getComputedStyle(t,null).getPropertyValue(e)}function elementIndex(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function elementParents(t,e){const n=[];let i=t.parentElement;for(;i;)n.push(i),i=i.parentElement;return n}function elementTransitionEnd(t,e){function n(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function elementOuterSize(t,e,n){const i=getWindow$2();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function makeElementsArray(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function setInnerHTML(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let support;function calcSupport(){const t=getWindow$2(),e=getDocument$1();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function getSupport(){return support||(support=calcSupport()),support}let deviceCached;function calcDevice(t){let{userAgent:e}=t===void 0?{}:t;const n=getSupport(),i=getWindow$2(),o=i.navigator.platform,l=e||i.navigator.userAgent,u={ios:!1,android:!1},f=i.screen.width,d=i.screen.height,p=l.match(/(Android);?[\s\/]+([\d.]+)?/);let g=l.match(/(iPad).*OS\s([\d_]+)/);const E=l.match(/(iPod)(.*OS\s([\d_]+))?/),A=!g&&l.match(/(iPhone\sOS|iOS)\s([\d_]+)/),R=o==="Win32";let I=o==="MacIntel";const j=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&I&&n.touch&&j.indexOf(`${f}x${d}`)>=0&&(g=l.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),I=!1),p&&!R&&(u.os="android",u.android=!0),(g||A||E)&&(u.os="ios",u.ios=!0),u}function getDevice(t){return t===void 0&&(t={}),deviceCached||(deviceCached=calcDevice(t)),deviceCached}let browser$1;function calcBrowser(){const t=getWindow$2(),e=getDevice();let n=!1;function i(){const f=t.navigator.userAgent.toLowerCase();return f.indexOf("safari")>=0&&f.indexOf("chrome")<0&&f.indexOf("android")<0}if(i()){const f=String(t.navigator.userAgent);if(f.includes("Version/")){const[d,p]=f.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));n=d<16||d===16&&p<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),l=i(),u=l||o&&e.ios;return{isSafari:n||l,needPerspectiveFix:n,need3dFix:u,isWebView:o}}function getBrowser(){return browser$1||(browser$1=calcBrowser()),browser$1}function Resize(t){let{swiper:e,on:n,emit:i}=t;const o=getWindow$2();let l=null,u=null;const f=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},d=()=>{!e||e.destroyed||!e.initialized||(l=new ResizeObserver(E=>{u=o.requestAnimationFrame(()=>{const{width:A,height:R}=e;let I=A,j=R;E.forEach(q=>{let{contentBoxSize:L,contentRect:z,target:U}=q;U&&U!==e.el||(I=z?z.width:(L[0]||L).inlineSize,j=z?z.height:(L[0]||L).blockSize)}),(I!==A||j!==R)&&f()})}),l.observe(e.el))},p=()=>{u&&o.cancelAnimationFrame(u),l&&l.unobserve&&e.el&&(l.unobserve(e.el),l=null)},g=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof o.ResizeObserver<"u"){d();return}o.addEventListener("resize",f),o.addEventListener("orientationchange",g)}),n("destroy",()=>{p(),o.removeEventListener("resize",f),o.removeEventListener("orientationchange",g)})}function Observer(t){let{swiper:e,extendParams:n,on:i,emit:o}=t;const l=[],u=getWindow$2(),f=function(g,E){E===void 0&&(E={});const A=u.MutationObserver||u.WebkitMutationObserver,R=new A(I=>{if(e.__preventObserver__)return;if(I.length===1){o("observerUpdate",I[0]);return}const j=function(){o("observerUpdate",I[0])};u.requestAnimationFrame?u.requestAnimationFrame(j):u.setTimeout(j,0)});R.observe(g,{attributes:typeof E.attributes>"u"?!0:E.attributes,childList:e.isElement||(typeof E.childList>"u"?!0:E).childList,characterData:typeof E.characterData>"u"?!0:E.characterData}),l.push(R)},d=()=>{if(e.params.observer){if(e.params.observeParents){const g=elementParents(e.hostEl);for(let E=0;E<g.length;E+=1)f(g[E])}f(e.hostEl,{childList:e.params.observeSlideChildren}),f(e.wrapperEl,{attributes:!1})}},p=()=>{l.forEach(g=>{g.disconnect()}),l.splice(0,l.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",d),i("destroy",p)}var eventsEmitter={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const o=n?"unshift":"push";return t.split(" ").forEach(l=>{i.eventsListeners[l]||(i.eventsListeners[l]=[]),i.eventsListeners[l][o](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function o(){i.off(t,o),o.__emitterProxy&&delete o.__emitterProxy;for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];e.apply(i,u)}return o.__emitterProxy=e,i.on(t,o,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((o,l)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&n.eventsListeners[i].splice(l,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return typeof l[0]=="string"||Array.isArray(l[0])?(e=l[0],n=l.slice(1,l.length),i=t):(e=l[0].events,n=l[0].data,i=l[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(d=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(p=>{p.apply(i,[d,...n])}),t.eventsListeners&&t.eventsListeners[d]&&t.eventsListeners[d].forEach(p=>{p.apply(i,n)})}),t}};function updateSize(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(elementStyle(i,"padding-left")||0,10)-parseInt(elementStyle(i,"padding-right")||0,10),n=n-parseInt(elementStyle(i,"padding-top")||0,10)-parseInt(elementStyle(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function updateSlides(){const t=this;function e(ae,se){return parseFloat(ae.getPropertyValue(t.getDirectionLabel(se))||0)}const n=t.params,{wrapperEl:i,slidesEl:o,size:l,rtlTranslate:u,wrongRTL:f}=t,d=t.virtual&&n.virtual.enabled,p=d?t.virtual.slides.length:t.slides.length,g=elementChildren(o,`.${t.params.slideClass}, swiper-slide`),E=d?t.virtual.slides.length:g.length;let A=[];const R=[],I=[];let j=n.slidesOffsetBefore;typeof j=="function"&&(j=n.slidesOffsetBefore.call(t));let q=n.slidesOffsetAfter;typeof q=="function"&&(q=n.slidesOffsetAfter.call(t));const L=t.snapGrid.length,z=t.slidesGrid.length;let U=n.spaceBetween,W=-j,H=0,Z=0;if(typeof l>"u")return;typeof U=="string"&&U.indexOf("%")>=0?U=parseFloat(U.replace("%",""))/100*l:typeof U=="string"&&(U=parseFloat(U)),t.virtualSize=-U,g.forEach(ae=>{u?ae.style.marginLeft="":ae.style.marginRight="",ae.style.marginBottom="",ae.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(setCSSProperty(i,"--swiper-centered-offset-before",""),setCSSProperty(i,"--swiper-centered-offset-after",""));const Y=n.grid&&n.grid.rows>1&&t.grid;Y?t.grid.initSlides(g):t.grid&&t.grid.unsetSlides();let J;const ne=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(ae=>typeof n.breakpoints[ae].slidesPerView<"u").length>0;for(let ae=0;ae<E;ae+=1){J=0;let se;if(g[ae]&&(se=g[ae]),Y&&t.grid.updateSlide(ae,se,g),!(g[ae]&&elementStyle(se,"display")==="none")){if(n.slidesPerView==="auto"){ne&&(g[ae].style[t.getDirectionLabel("width")]="");const ue=getComputedStyle(se),fe=se.style.transform,_e=se.style.webkitTransform;if(fe&&(se.style.transform="none"),_e&&(se.style.webkitTransform="none"),n.roundLengths)J=t.isHorizontal()?elementOuterSize(se,"width"):elementOuterSize(se,"height");else{const ge=e(ue,"width"),ce=e(ue,"padding-left"),me=e(ue,"padding-right"),ee=e(ue,"margin-left"),ie=e(ue,"margin-right"),oe=ue.getPropertyValue("box-sizing");if(oe&&oe==="border-box")J=ge+ee+ie;else{const{clientWidth:de,offsetWidth:xe}=se;J=ge+ce+me+ee+ie+(xe-de)}}fe&&(se.style.transform=fe),_e&&(se.style.webkitTransform=_e),n.roundLengths&&(J=Math.floor(J))}else J=(l-(n.slidesPerView-1)*U)/n.slidesPerView,n.roundLengths&&(J=Math.floor(J)),g[ae]&&(g[ae].style[t.getDirectionLabel("width")]=`${J}px`);g[ae]&&(g[ae].swiperSlideSize=J),I.push(J),n.centeredSlides?(W=W+J/2+H/2+U,H===0&&ae!==0&&(W=W-l/2-U),ae===0&&(W=W-l/2-U),Math.abs(W)<1/1e3&&(W=0),n.roundLengths&&(W=Math.floor(W)),Z%n.slidesPerGroup===0&&A.push(W),R.push(W)):(n.roundLengths&&(W=Math.floor(W)),(Z-Math.min(t.params.slidesPerGroupSkip,Z))%t.params.slidesPerGroup===0&&A.push(W),R.push(W),W=W+J+U),t.virtualSize+=J+U,H=J,Z+=1}}if(t.virtualSize=Math.max(t.virtualSize,l)+q,u&&f&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+U}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+U}px`),Y&&t.grid.updateWrapperSize(J,A),!n.centeredSlides){const ae=[];for(let se=0;se<A.length;se+=1){let ue=A[se];n.roundLengths&&(ue=Math.floor(ue)),A[se]<=t.virtualSize-l&&ae.push(ue)}A=ae,Math.floor(t.virtualSize-l)-Math.floor(A[A.length-1])>1&&A.push(t.virtualSize-l)}if(d&&n.loop){const ae=I[0]+U;if(n.slidesPerGroup>1){const se=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),ue=ae*n.slidesPerGroup;for(let fe=0;fe<se;fe+=1)A.push(A[A.length-1]+ue)}for(let se=0;se<t.virtual.slidesBefore+t.virtual.slidesAfter;se+=1)n.slidesPerGroup===1&&A.push(A[A.length-1]+ae),R.push(R[R.length-1]+ae),t.virtualSize+=ae}if(A.length===0&&(A=[0]),U!==0){const ae=t.isHorizontal()&&u?"marginLeft":t.getDirectionLabel("marginRight");g.filter((se,ue)=>!n.cssMode||n.loop?!0:ue!==g.length-1).forEach(se=>{se.style[ae]=`${U}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let ae=0;I.forEach(ue=>{ae+=ue+(U||0)}),ae-=U;const se=ae>l?ae-l:0;A=A.map(ue=>ue<=0?-j:ue>se?se+q:ue)}if(n.centerInsufficientSlides){let ae=0;I.forEach(ue=>{ae+=ue+(U||0)}),ae-=U;const se=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(ae+se<l){const ue=(l-ae-se)/2;A.forEach((fe,_e)=>{A[_e]=fe-ue}),R.forEach((fe,_e)=>{R[_e]=fe+ue})}}if(Object.assign(t,{slides:g,snapGrid:A,slidesGrid:R,slidesSizesGrid:I}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){setCSSProperty(i,"--swiper-centered-offset-before",`${-A[0]}px`),setCSSProperty(i,"--swiper-centered-offset-after",`${t.size/2-I[I.length-1]/2}px`);const ae=-t.snapGrid[0],se=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(ue=>ue+ae),t.slidesGrid=t.slidesGrid.map(ue=>ue+se)}if(E!==p&&t.emit("slidesLengthChange"),A.length!==L&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),R.length!==z&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!d&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const ae=`${n.containerModifierClass}backface-hidden`,se=t.el.classList.contains(ae);E<=n.maxBackfaceHiddenSlides?se||t.el.classList.add(ae):se&&t.el.classList.remove(ae)}}function updateAutoHeight(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let o=0,l;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const u=f=>i?e.slides[e.getSlideIndexByData(f)]:e.slides[f];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(f=>{n.push(f)});else for(l=0;l<Math.ceil(e.params.slidesPerView);l+=1){const f=e.activeIndex+l;if(f>e.slides.length&&!i)break;n.push(u(f))}else n.push(u(e.activeIndex));for(l=0;l<n.length;l+=1)if(typeof n[l]<"u"){const f=n[l].offsetHeight;o=f>o?f:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function updateSlidesOffset(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const toggleSlideClasses$1=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function updateSlidesProgress(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:o,snapGrid:l}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-t;o&&(u=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let f=n.spaceBetween;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*e.size:typeof f=="string"&&(f=parseFloat(f));for(let d=0;d<i.length;d+=1){const p=i[d];let g=p.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(g-=i[0].swiperSlideOffset);const E=(u+(n.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+f),A=(u-l[0]+(n.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+f),R=-(u-g),I=R+e.slidesSizesGrid[d],j=R>=0&&R<=e.size-e.slidesSizesGrid[d],q=R>=0&&R<e.size-1||I>1&&I<=e.size||R<=0&&I>=e.size;q&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(d)),toggleSlideClasses$1(p,q,n.slideVisibleClass),toggleSlideClasses$1(p,j,n.slideFullyVisibleClass),p.progress=o?-E:E,p.originalProgress=o?-A:A}}function updateProgress(t){const e=this;if(typeof t>"u"){const g=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*g||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:l,isEnd:u,progressLoop:f}=e;const d=l,p=u;if(i===0)o=0,l=!0,u=!0;else{o=(t-e.minTranslate())/i;const g=Math.abs(t-e.minTranslate())<1,E=Math.abs(t-e.maxTranslate())<1;l=g||o<=0,u=E||o>=1,g&&(o=0),E&&(o=1)}if(n.loop){const g=e.getSlideIndexByData(0),E=e.getSlideIndexByData(e.slides.length-1),A=e.slidesGrid[g],R=e.slidesGrid[E],I=e.slidesGrid[e.slidesGrid.length-1],j=Math.abs(t);j>=A?f=(j-A)/I:f=(j+I-R)/I,f>1&&(f-=1)}Object.assign(e,{progress:o,progressLoop:f,isBeginning:l,isEnd:u}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),l&&!d&&e.emit("reachBeginning toEdge"),u&&!p&&e.emit("reachEnd toEdge"),(d&&!l||p&&!u)&&e.emit("fromEdge"),e.emit("progress",o)}const toggleSlideClasses=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function updateSlidesClasses(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:o}=t,l=t.virtual&&n.virtual.enabled,u=t.grid&&n.grid&&n.grid.rows>1,f=E=>elementChildren(i,`.${n.slideClass}${E}, swiper-slide${E}`)[0];let d,p,g;if(l)if(n.loop){let E=o-t.virtual.slidesBefore;E<0&&(E=t.virtual.slides.length+E),E>=t.virtual.slides.length&&(E-=t.virtual.slides.length),d=f(`[data-swiper-slide-index="${E}"]`)}else d=f(`[data-swiper-slide-index="${o}"]`);else u?(d=e.find(E=>E.column===o),g=e.find(E=>E.column===o+1),p=e.find(E=>E.column===o-1)):d=e[o];d&&(u||(g=elementNextAll(d,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!g&&(g=e[0]),p=elementPrevAll(d,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(E=>{toggleSlideClasses(E,E===d,n.slideActiveClass),toggleSlideClasses(E,E===g,n.slideNextClass),toggleSlideClasses(E,E===p,n.slidePrevClass)}),t.emitSlidesClasses()}const processLazyPreloader=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let o=i.querySelector(`.${t.params.lazyPreloaderClass}`);!o&&t.isElement&&(i.shadowRoot?o=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(o=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),o&&o.remove())})),o&&o.remove()}},unlazy=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},preload=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),o=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const u=o,f=[u-e];f.push(...Array.from({length:e}).map((d,p)=>u+i+p)),t.slides.forEach((d,p)=>{f.includes(d.column)&&unlazy(t,p)});return}const l=o+i-1;if(t.params.rewind||t.params.loop)for(let u=o-e;u<=l+e;u+=1){const f=(u%n+n)%n;(f<o||f>l)&&unlazy(t,f)}else for(let u=Math.max(o-e,0);u<=Math.min(l+e,n-1);u+=1)u!==o&&(u>l||u<o)&&unlazy(t,u)};function getActiveIndexByTranslate(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let o;for(let l=0;l<e.length;l+=1)typeof e[l+1]<"u"?i>=e[l]&&i<e[l+1]-(e[l+1]-e[l])/2?o=l:i>=e[l]&&i<e[l+1]&&(o=l+1):i>=e[l]&&(o=l);return n.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function updateActiveIndex(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:o,activeIndex:l,realIndex:u,snapIndex:f}=e;let d=t,p;const g=R=>{let I=R-e.virtual.slidesBefore;return I<0&&(I=e.virtual.slides.length+I),I>=e.virtual.slides.length&&(I-=e.virtual.slides.length),I};if(typeof d>"u"&&(d=getActiveIndexByTranslate(e)),i.indexOf(n)>=0)p=i.indexOf(n);else{const R=Math.min(o.slidesPerGroupSkip,d);p=R+Math.floor((d-R)/o.slidesPerGroup)}if(p>=i.length&&(p=i.length-1),d===l&&!e.params.loop){p!==f&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(d===l&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=g(d);return}const E=e.grid&&o.grid&&o.grid.rows>1;let A;if(e.virtual&&o.virtual.enabled&&o.loop)A=g(d);else if(E){const R=e.slides.find(j=>j.column===d);let I=parseInt(R.getAttribute("data-swiper-slide-index"),10);Number.isNaN(I)&&(I=Math.max(e.slides.indexOf(R),0)),A=Math.floor(I/o.grid.rows)}else if(e.slides[d]){const R=e.slides[d].getAttribute("data-swiper-slide-index");R?A=parseInt(R,10):A=d}else A=d;Object.assign(e,{previousSnapIndex:f,snapIndex:p,previousRealIndex:u,realIndex:A,previousIndex:l,activeIndex:d}),e.initialized&&preload(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==A&&e.emit("realIndexChange"),e.emit("slideChange"))}function updateClickedSlide(t,e){const n=this,i=n.params;let o=t.closest(`.${i.slideClass}, swiper-slide`);!o&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(f=>{!o&&f.matches&&f.matches(`.${i.slideClass}, swiper-slide`)&&(o=f)});let l=!1,u;if(o){for(let f=0;f<n.slides.length;f+=1)if(n.slides[f]===o){l=!0,u=f;break}}if(o&&l)n.clickedSlide=o,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=u;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var update={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:o,wrapperEl:l}=e;if(n.virtualTranslate)return i?-o:o;if(n.cssMode)return o;let u=getTranslate(l,t);return u+=e.cssOverflowAdjustment(),i&&(u=-u),u||0}function setTranslate(t,e){const n=this,{rtlTranslate:i,params:o,wrapperEl:l,progress:u}=n;let f=0,d=0;const p=0;n.isHorizontal()?f=i?-t:t:d=t,o.roundLengths&&(f=Math.floor(f),d=Math.floor(d)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?f:d,o.cssMode?l[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-f:-d:o.virtualTranslate||(n.isHorizontal()?f-=n.cssOverflowAdjustment():d-=n.cssOverflowAdjustment(),l.style.transform=`translate3d(${f}px, ${d}px, ${p}px)`);let g;const E=n.maxTranslate()-n.minTranslate();E===0?g=0:g=(t-n.minTranslate())/E,g!==u&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(t,e,n,i,o){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const l=this,{params:u,wrapperEl:f}=l;if(l.animating&&u.preventInteractionOnTransition)return!1;const d=l.minTranslate(),p=l.maxTranslate();let g;if(i&&t>d?g=d:i&&t<p?g=p:g=t,l.updateProgress(g),u.cssMode){const E=l.isHorizontal();if(e===0)f[E?"scrollLeft":"scrollTop"]=-g;else{if(!l.support.smoothScroll)return animateCSSModeScroll({swiper:l,targetPosition:-g,side:E?"left":"top"}),!0;f.scrollTo({[E?"left":"top"]:-g,behavior:"smooth"})}return!0}return e===0?(l.setTransition(0),l.setTranslate(g),n&&(l.emit("beforeTransitionStart",e,o),l.emit("transitionEnd"))):(l.setTransition(e),l.setTranslate(g),n&&(l.emit("beforeTransitionStart",e,o),l.emit("transitionStart")),l.animating||(l.animating=!0,l.onTranslateToWrapperTransitionEnd||(l.onTranslateToWrapperTransitionEnd=function(A){!l||l.destroyed||A.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.onTranslateToWrapperTransitionEnd=null,delete l.onTranslateToWrapperTransitionEnd,l.animating=!1,n&&l.emit("transitionEnd"))}),l.wrapperEl.addEventListener("transitionend",l.onTranslateToWrapperTransitionEnd))),!0}var translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function transitionEmit(t){let{swiper:e,runCallbacks:n,direction:i,step:o}=t;const{activeIndex:l,previousIndex:u}=e;let f=i;f||(l>u?f="next":l<u?f="prev":f="reset"),e.emit(`transition${o}`),n&&f==="reset"?e.emit(`slideResetTransition${o}`):n&&l!==u&&(e.emit(`slideChangeTransition${o}`),f==="next"?e.emit(`slideNextTransition${o}`):e.emit(`slidePrevTransition${o}`))}function transitionStart(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),transitionEmit({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function transitionEnd$1(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),transitionEmit({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var transition={setTransition,transitionStart,transitionEnd:transitionEnd$1};function slideTo(t,e,n,i,o){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const l=this;let u=t;u<0&&(u=0);const{params:f,snapGrid:d,slidesGrid:p,previousIndex:g,activeIndex:E,rtlTranslate:A,wrapperEl:R,enabled:I}=l;if(!I&&!i&&!o||l.destroyed||l.animating&&f.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=l.params.speed);const j=Math.min(l.params.slidesPerGroupSkip,u);let q=j+Math.floor((u-j)/l.params.slidesPerGroup);q>=d.length&&(q=d.length-1);const L=-d[q];if(f.normalizeSlideIndex)for(let Y=0;Y<p.length;Y+=1){const J=-Math.floor(L*100),ne=Math.floor(p[Y]*100),ae=Math.floor(p[Y+1]*100);typeof p[Y+1]<"u"?J>=ne&&J<ae-(ae-ne)/2?u=Y:J>=ne&&J<ae&&(u=Y+1):J>=ne&&(u=Y)}if(l.initialized&&u!==E&&(!l.allowSlideNext&&(A?L>l.translate&&L>l.minTranslate():L<l.translate&&L<l.minTranslate())||!l.allowSlidePrev&&L>l.translate&&L>l.maxTranslate()&&(E||0)!==u))return!1;u!==(g||0)&&n&&l.emit("beforeSlideChangeStart"),l.updateProgress(L);let z;u>E?z="next":u<E?z="prev":z="reset";const U=l.virtual&&l.params.virtual.enabled;if(!(U&&o)&&(A&&-L===l.translate||!A&&L===l.translate))return l.updateActiveIndex(u),f.autoHeight&&l.updateAutoHeight(),l.updateSlidesClasses(),f.effect!=="slide"&&l.setTranslate(L),z!=="reset"&&(l.transitionStart(n,z),l.transitionEnd(n,z)),!1;if(f.cssMode){const Y=l.isHorizontal(),J=A?L:-L;if(e===0)U&&(l.wrapperEl.style.scrollSnapType="none",l._immediateVirtual=!0),U&&!l._cssModeVirtualInitialSet&&l.params.initialSlide>0?(l._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{R[Y?"scrollLeft":"scrollTop"]=J})):R[Y?"scrollLeft":"scrollTop"]=J,U&&requestAnimationFrame(()=>{l.wrapperEl.style.scrollSnapType="",l._immediateVirtual=!1});else{if(!l.support.smoothScroll)return animateCSSModeScroll({swiper:l,targetPosition:J,side:Y?"left":"top"}),!0;R.scrollTo({[Y?"left":"top"]:J,behavior:"smooth"})}return!0}const Z=getBrowser().isSafari;return U&&!o&&Z&&l.isElement&&l.virtual.update(!1,!1,u),l.setTransition(e),l.setTranslate(L),l.updateActiveIndex(u),l.updateSlidesClasses(),l.emit("beforeTransitionStart",e,i),l.transitionStart(n,z),e===0?l.transitionEnd(n,z):l.animating||(l.animating=!0,l.onSlideToWrapperTransitionEnd||(l.onSlideToWrapperTransitionEnd=function(J){!l||l.destroyed||J.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.onSlideToWrapperTransitionEnd=null,delete l.onSlideToWrapperTransitionEnd,l.transitionEnd(n,z))}),l.wrapperEl.addEventListener("transitionend",l.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const l=o.grid&&o.params.grid&&o.params.grid.rows>1;let u=t;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)u=u+o.virtual.slidesBefore;else{let f;if(l){const A=u*o.params.grid.rows;f=o.slides.find(R=>R.getAttribute("data-swiper-slide-index")*1===A).column}else f=o.getSlideIndexByData(u);const d=l?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:p}=o.params;let g=o.params.slidesPerView;g==="auto"?g=o.slidesPerViewDynamic():(g=Math.ceil(parseFloat(o.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let E=d-f<g;if(p&&(E=E||f<Math.ceil(g/2)),i&&p&&o.params.slidesPerView!=="auto"&&!l&&(E=!1),E){const A=p?f<o.activeIndex?"prev":"next":f-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:A,slideTo:!0,activeSlideIndex:A==="next"?f+1:f-d+1,slideRealIndex:A==="next"?o.realIndex:void 0})}if(l){const A=u*o.params.grid.rows;u=o.slides.find(R=>R.getAttribute("data-swiper-slide-index")*1===A).column}else u=o.getSlideIndexByData(u)}return requestAnimationFrame(()=>{o.slideTo(u,e,n,i)}),o}function slideNext(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:o,params:l,animating:u}=i;if(!o||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let f=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(f=Math.max(i.slidesPerViewDynamic("current",!0),1));const d=i.activeIndex<l.slidesPerGroupSkip?1:f,p=i.virtual&&l.virtual.enabled;if(l.loop){if(u&&!p&&l.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&l.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+d,t,e,n)}),!0}return l.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+d,t,e,n)}function slidePrev(t,e,n){e===void 0&&(e=!0);const i=this,{params:o,snapGrid:l,slidesGrid:u,rtlTranslate:f,enabled:d,animating:p}=i;if(!d||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const g=i.virtual&&o.virtual.enabled;if(o.loop){if(p&&!g&&o.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const E=f?i.translate:-i.translate;function A(z){return z<0?-Math.floor(Math.abs(z)):Math.floor(z)}const R=A(E),I=l.map(z=>A(z)),j=o.freeMode&&o.freeMode.enabled;let q=l[I.indexOf(R)-1];if(typeof q>"u"&&(o.cssMode||j)){let z;l.forEach((U,W)=>{R>=U&&(z=W)}),typeof z<"u"&&(q=j?l[z]:l[z>0?z-1:z])}let L=0;if(typeof q<"u"&&(L=u.indexOf(q),L<0&&(L=i.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(L=L-i.slidesPerViewDynamic("previous",!0)+1,L=Math.max(L,0))),o.rewind&&i.isBeginning){const z=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(z,t,e,n)}else if(o.loop&&i.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(L,t,e,n)}),!0;return i.slideTo(L,t,e,n)}function slideReset(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function slideToClosest(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const o=this;if(o.destroyed)return;typeof t>"u"&&(t=o.params.speed);let l=o.activeIndex;const u=Math.min(o.params.slidesPerGroupSkip,l),f=u+Math.floor((l-u)/o.params.slidesPerGroup),d=o.rtlTranslate?o.translate:-o.translate;if(d>=o.snapGrid[f]){const p=o.snapGrid[f],g=o.snapGrid[f+1];d-p>(g-p)*i&&(l+=o.params.slidesPerGroup)}else{const p=o.snapGrid[f-1],g=o.snapGrid[f];d-p<=(g-p)*i&&(l-=o.params.slidesPerGroup)}return l=Math.max(l,0),l=Math.min(l,o.slidesGrid.length-1),o.slideTo(l,t,e,n)}function slideToClickedSlide(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let o=t.getSlideIndexWhenGrid(t.clickedIndex),l;const u=t.isElement?"swiper-slide":`.${e.slideClass}`,f=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;l=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(l):o>(f?(t.slides.length-i)/2-(t.params.grid.rows-1):t.slides.length-i)?(t.loopFix(),o=t.getSlideIndex(elementChildren(n,`${u}[data-swiper-slide-index="${l}"]`)[0]),nextTick(()=>{t.slideTo(o)})):t.slideTo(o)}else t.slideTo(o)}var slide={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(t,e){const n=this,{params:i,slidesEl:o}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const l=()=>{elementChildren(o,`.${i.slideClass}, swiper-slide`).forEach((R,I)=>{R.setAttribute("data-swiper-slide-index",I)})},u=()=>{const A=elementChildren(o,`.${i.slideBlankClass}`);A.forEach(R=>{R.remove()}),A.length>0&&(n.recalcSlides(),n.updateSlides())},f=n.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||f)&&u();const d=i.slidesPerGroup*(f?i.grid.rows:1),p=n.slides.length%d!==0,g=f&&n.slides.length%i.grid.rows!==0,E=A=>{for(let R=0;R<A;R+=1){const I=n.isElement?createElement("swiper-slide",[i.slideBlankClass]):createElement("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(I)}};if(p){if(i.loopAddBlankSlides){const A=d-n.slides.length%d;E(A),n.recalcSlides(),n.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else if(g){if(i.loopAddBlankSlides){const A=i.grid.rows-n.slides.length%i.grid.rows;E(A),n.recalcSlides(),n.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else l();n.loopFix({slideRealIndex:t,direction:i.centeredSlides?void 0:"next",initial:e})}function loopFix(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:o,activeSlideIndex:l,initial:u,byController:f,byMousewheel:d}=t===void 0?{}:t;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:g,allowSlidePrev:E,allowSlideNext:A,slidesEl:R,params:I}=p,{centeredSlides:j,initialSlide:q}=I;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&I.virtual.enabled){n&&(!I.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):I.centeredSlides&&p.snapIndex<I.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=E,p.allowSlideNext=A,p.emit("loopFix");return}let L=I.slidesPerView;L==="auto"?L=p.slidesPerViewDynamic():(L=Math.ceil(parseFloat(I.slidesPerView,10)),j&&L%2===0&&(L=L+1));const z=I.slidesPerGroupAuto?L:I.slidesPerGroup;let U=j?Math.max(z,Math.ceil(L/2)):z;U%z!==0&&(U+=z-U%z),U+=I.loopAdditionalSlides,p.loopedSlides=U;const W=p.grid&&I.grid&&I.grid.rows>1;g.length<L+U||p.params.effect==="cards"&&g.length<L+U*2?showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):W&&I.grid.fill==="row"&&showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const H=[],Z=[],Y=W?Math.ceil(g.length/I.grid.rows):g.length,J=u&&Y-q<L&&!j;let ne=J?q:p.activeIndex;typeof l>"u"?l=p.getSlideIndex(g.find(ce=>ce.classList.contains(I.slideActiveClass))):ne=l;const ae=i==="next"||!i,se=i==="prev"||!i;let ue=0,fe=0;const ge=(W?g[l].column:l)+(j&&typeof o>"u"?-L/2+.5:0);if(ge<U){ue=Math.max(U-ge,z);for(let ce=0;ce<U-ge;ce+=1){const me=ce-Math.floor(ce/Y)*Y;if(W){const ee=Y-me-1;for(let ie=g.length-1;ie>=0;ie-=1)g[ie].column===ee&&H.push(ie)}else H.push(Y-me-1)}}else if(ge+L>Y-U){fe=Math.max(ge-(Y-U*2),z),J&&(fe=Math.max(fe,L-Y+q+1));for(let ce=0;ce<fe;ce+=1){const me=ce-Math.floor(ce/Y)*Y;W?g.forEach((ee,ie)=>{ee.column===me&&Z.push(ie)}):Z.push(me)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&g.length<L+U*2&&(Z.includes(l)&&Z.splice(Z.indexOf(l),1),H.includes(l)&&H.splice(H.indexOf(l),1)),se&&H.forEach(ce=>{g[ce].swiperLoopMoveDOM=!0,R.prepend(g[ce]),g[ce].swiperLoopMoveDOM=!1}),ae&&Z.forEach(ce=>{g[ce].swiperLoopMoveDOM=!0,R.append(g[ce]),g[ce].swiperLoopMoveDOM=!1}),p.recalcSlides(),I.slidesPerView==="auto"?p.updateSlides():W&&(H.length>0&&se||Z.length>0&&ae)&&p.slides.forEach((ce,me)=>{p.grid.updateSlide(me,ce,p.slides)}),I.watchSlidesProgress&&p.updateSlidesOffset(),n){if(H.length>0&&se){if(typeof e>"u"){const ce=p.slidesGrid[ne],ee=p.slidesGrid[ne+ue]-ce;d?p.setTranslate(p.translate-ee):(p.slideTo(ne+Math.ceil(ue),0,!1,!0),o&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ee,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ee))}else if(o){const ce=W?H.length/I.grid.rows:H.length;p.slideTo(p.activeIndex+ce,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(Z.length>0&&ae)if(typeof e>"u"){const ce=p.slidesGrid[ne],ee=p.slidesGrid[ne-fe]-ce;d?p.setTranslate(p.translate-ee):(p.slideTo(ne-fe,0,!1,!0),o&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ee,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ee))}else{const ce=W?Z.length/I.grid.rows:Z.length;p.slideTo(p.activeIndex-ce,0,!1,!0)}}if(p.allowSlidePrev=E,p.allowSlideNext=A,p.controller&&p.controller.control&&!f){const ce={slideRealIndex:e,direction:i,setTranslate:o,activeSlideIndex:l,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(me=>{!me.destroyed&&me.params.loop&&me.loopFix({...ce,slideTo:me.params.slidesPerView===I.slidesPerView?n:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...ce,slideTo:p.controller.control.params.slidesPerView===I.slidesPerView?n:!1})}p.emit("loopFix")}function loopDestroy(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(o=>{const l=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;i[l]=o}),t.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),i.forEach(o=>{n.append(o)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function unsetGrabCursor(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(t,e){e===void 0&&(e=this);function n(i){if(!i||i===getDocument$1()||i===getWindow$2())return null;i.assignedSlot&&(i=i.assignedSlot);const o=i.closest(t);return!o&&!i.getRootNode?null:o||n(i.getRootNode().host)}return n(e)}function preventEdgeSwipe(t,e,n){const i=getWindow$2(),{params:o}=t,l=o.edgeSwipeDetection,u=o.edgeSwipeThreshold;return l&&(n<=u||n>=i.innerWidth-u)?l==="prevent"?(e.preventDefault(),!0):!1:!0}function onTouchStart(t){const e=this,n=getDocument$1();let i=t;i.originalEvent&&(i=i.originalEvent);const o=e.touchEventsData;if(i.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==i.pointerId)return;o.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(o.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){preventEdgeSwipe(e,i,i.targetTouches[0].pageX);return}const{params:l,touches:u,enabled:f}=e;if(!f||!l.simulateTouch&&i.pointerType==="mouse"||e.animating&&l.preventInteractionOnTransition)return;!e.animating&&l.cssMode&&l.loop&&e.loopFix();let d=i.target;if(l.touchEventsTarget==="wrapper"&&!elementIsChildOf(d,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||o.isTouched&&o.isMoved)return;const p=!!l.noSwipingClass&&l.noSwipingClass!=="",g=i.composedPath?i.composedPath():i.path;p&&i.target&&i.target.shadowRoot&&g&&(d=g[0]);const E=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`,A=!!(i.target&&i.target.shadowRoot);if(l.noSwiping&&(A?closestElement(E,d):d.closest(E))){e.allowClick=!0;return}if(l.swipeHandler&&!d.closest(l.swipeHandler))return;u.currentX=i.pageX,u.currentY=i.pageY;const R=u.currentX,I=u.currentY;if(!preventEdgeSwipe(e,i,R))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=R,u.startY=I,o.touchStartTime=now$1(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,l.threshold>0&&(o.allowThresholdMove=!1);let j=!0;d.matches(o.focusableElements)&&(j=!1,d.nodeName==="SELECT"&&(o.isTouched=!1)),n.activeElement&&n.activeElement.matches(o.focusableElements)&&n.activeElement!==d&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!d.matches(o.focusableElements))&&n.activeElement.blur();const q=j&&e.allowTouchMove&&l.touchStartPreventDefault;(l.touchStartForcePreventDefault||q)&&!d.isContentEditable&&i.preventDefault(),l.freeMode&&l.freeMode.enabled&&e.freeMode&&e.animating&&!l.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function onTouchMove(t){const e=getDocument$1(),n=this,i=n.touchEventsData,{params:o,touches:l,rtlTranslate:u,enabled:f}=n;if(!f||!o.simulateTouch&&t.pointerType==="mouse")return;let d=t;if(d.originalEvent&&(d=d.originalEvent),d.type==="pointermove"&&(i.touchId!==null||d.pointerId!==i.pointerId))return;let p;if(d.type==="touchmove"){if(p=[...d.changedTouches].find(H=>H.identifier===i.touchId),!p||p.identifier!==i.touchId)return}else p=d;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",d);return}const g=p.pageX,E=p.pageY;if(d.preventedByNestedSwiper){l.startX=g,l.startY=E;return}if(!n.allowTouchMove){d.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(l,{startX:g,startY:E,currentX:g,currentY:E}),i.touchStartTime=now$1());return}if(o.touchReleaseOnEdges&&!o.loop)if(n.isVertical()){if(E<l.startY&&n.translate<=n.maxTranslate()||E>l.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(u&&(g>l.startX&&-n.translate<=n.maxTranslate()||g<l.startX&&-n.translate>=n.minTranslate()))return;if(!u&&(g<l.startX&&n.translate<=n.maxTranslate()||g>l.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==d.target&&d.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&d.target===e.activeElement&&d.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",d),l.previousX=l.currentX,l.previousY=l.currentY,l.currentX=g,l.currentY=E;const A=l.currentX-l.startX,R=l.currentY-l.startY;if(n.params.threshold&&Math.sqrt(A**2+R**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let H;n.isHorizontal()&&l.currentY===l.startY||n.isVertical()&&l.currentX===l.startX?i.isScrolling=!1:A*A+R*R>=25&&(H=Math.atan2(Math.abs(R),Math.abs(A))*180/Math.PI,i.isScrolling=n.isHorizontal()?H>o.touchAngle:90-H>o.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",d),typeof i.startMoving>"u"&&(l.currentX!==l.startX||l.currentY!==l.startY)&&(i.startMoving=!0),i.isScrolling||d.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!o.cssMode&&d.cancelable&&d.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&d.stopPropagation();let I=n.isHorizontal()?A:R,j=n.isHorizontal()?l.currentX-l.previousX:l.currentY-l.previousY;o.oneWayMovement&&(I=Math.abs(I)*(u?1:-1),j=Math.abs(j)*(u?1:-1)),l.diff=I,I*=o.touchRatio,u&&(I=-I,j=-j);const q=n.touchesDirection;n.swipeDirection=I>0?"prev":"next",n.touchesDirection=j>0?"prev":"next";const L=n.params.loop&&!o.cssMode,z=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(L&&z&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const H=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(H)}i.allowMomentumBounce=!1,o.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",d)}if(new Date().getTime(),o._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&q!==n.touchesDirection&&L&&z&&Math.abs(I)>=1){Object.assign(l,{startX:g,startY:E,currentX:g,currentY:E,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",d),i.isMoved=!0,i.currentTranslate=I+i.startTranslate;let U=!0,W=o.resistanceRatio;if(o.touchReleaseOnEdges&&(W=0),I>0?(L&&z&&i.allowThresholdMove&&i.currentTranslate>(o.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(o.slidesPerView!=="auto"&&n.slides.length-o.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(U=!1,o.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+I)**W))):I<0&&(L&&z&&i.allowThresholdMove&&i.currentTranslate<(o.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(o.slidesPerView!=="auto"&&n.slides.length-o.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(o.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(U=!1,o.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-I)**W))),U&&(d.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),o.threshold>0)if(Math.abs(I)>o.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,l.startX=l.currentX,l.startY=l.currentY,i.currentTranslate=i.startTranslate,l.diff=n.isHorizontal()?l.currentX-l.startX:l.currentY-l.startY;return}}else{i.currentTranslate=i.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&n.freeMode||o.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function onTouchEnd(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let o;if(i.type==="touchend"||i.type==="touchcancel"){if(o=[...i.changedTouches].find(H=>H.identifier===n.touchId),!o||o.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;o=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:u,touches:f,rtlTranslate:d,slidesGrid:p,enabled:g}=e;if(!g||!u.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&u.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}u.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const E=now$1(),A=E-n.touchStartTime;if(e.allowClick){const H=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(H&&H[0]||i.target,H),e.emit("tap click",i),A<300&&E-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=now$1(),nextTick(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||f.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let R;if(u.followFinger?R=d?e.translate:-e.translate:R=-n.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:R});return}const I=R>=-e.maxTranslate()&&!e.params.loop;let j=0,q=e.slidesSizesGrid[0];for(let H=0;H<p.length;H+=H<u.slidesPerGroupSkip?1:u.slidesPerGroup){const Z=H<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof p[H+Z]<"u"?(I||R>=p[H]&&R<p[H+Z])&&(j=H,q=p[H+Z]-p[H]):(I||R>=p[H])&&(j=H,q=p[p.length-1]-p[p.length-2])}let L=null,z=null;u.rewind&&(e.isBeginning?z=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(L=0));const U=(R-p[j])/q,W=j<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(A>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(U>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?L:j+W):e.slideTo(j)),e.swipeDirection==="prev"&&(U>1-u.longSwipesRatio?e.slideTo(j+W):z!==null&&U<0&&Math.abs(U)>u.longSwipesRatio?e.slideTo(z):e.slideTo(j))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(j+W):e.slideTo(j):(e.swipeDirection==="next"&&e.slideTo(L!==null?L:j+W),e.swipeDirection==="prev"&&e.slideTo(z!==null?z:j))}}function onResize(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:o,snapGrid:l}=t,u=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const f=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!f?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!u?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=o,t.allowSlideNext=i,t.params.watchOverflow&&l!==t.snapGrid&&t.checkOverflow()}function onClick(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function onScroll(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let o;const l=t.maxTranslate()-t.minTranslate();l===0?o=0:o=(t.translate-t.minTranslate())/l,o!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function onLoad(t){const e=this;processLazyPreloader(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function onDocumentTouchStart(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const events$3=(t,e)=>{const n=getDocument$1(),{params:i,el:o,wrapperEl:l,device:u}=t,f=!!i.nested,d=e==="on"?"addEventListener":"removeEventListener",p=e;!o||typeof o=="string"||(n[d]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:f}),o[d]("touchstart",t.onTouchStart,{passive:!1}),o[d]("pointerdown",t.onTouchStart,{passive:!1}),n[d]("touchmove",t.onTouchMove,{passive:!1,capture:f}),n[d]("pointermove",t.onTouchMove,{passive:!1,capture:f}),n[d]("touchend",t.onTouchEnd,{passive:!0}),n[d]("pointerup",t.onTouchEnd,{passive:!0}),n[d]("pointercancel",t.onTouchEnd,{passive:!0}),n[d]("touchcancel",t.onTouchEnd,{passive:!0}),n[d]("pointerout",t.onTouchEnd,{passive:!0}),n[d]("pointerleave",t.onTouchEnd,{passive:!0}),n[d]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&o[d]("click",t.onClick,!0),i.cssMode&&l[d]("scroll",t.onScroll),i.updateOnWindowResize?t[p](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):t[p]("observerUpdate",onResize,!0),o[d]("load",t.onLoad,{capture:!0}))};function attachEvents(){const t=this,{params:e}=t;t.onTouchStart=onTouchStart.bind(t),t.onTouchMove=onTouchMove.bind(t),t.onTouchEnd=onTouchEnd.bind(t),t.onDocumentTouchStart=onDocumentTouchStart.bind(t),e.cssMode&&(t.onScroll=onScroll.bind(t)),t.onClick=onClick.bind(t),t.onLoad=onLoad.bind(t),events$3(t,"on")}function detachEvents(){events$3(this,"off")}var events$1$1={attachEvents,detachEvents};const isGridEnabled=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function setBreakpoint(){const t=this,{realIndex:e,initialized:n,params:i,el:o}=t,l=i.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const u=getDocument$1(),f=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",d=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:u.querySelector(i.breakpointsBase),p=t.getBreakpoint(l,f,d);if(!p||t.currentBreakpoint===p)return;const E=(p in l?l[p]:void 0)||t.originalParams,A=isGridEnabled(t,i),R=isGridEnabled(t,E),I=t.params.grabCursor,j=E.grabCursor,q=i.enabled;A&&!R?(o.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!A&&R&&(o.classList.add(`${i.containerModifierClass}grid`),(E.grid.fill&&E.grid.fill==="column"||!E.grid.fill&&i.grid.fill==="column")&&o.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),I&&!j?t.unsetGrabCursor():!I&&j&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Z=>{if(typeof E[Z]>"u")return;const Y=i[Z]&&i[Z].enabled,J=E[Z]&&E[Z].enabled;Y&&!J&&t[Z].disable(),!Y&&J&&t[Z].enable()});const L=E.direction&&E.direction!==i.direction,z=i.loop&&(E.slidesPerView!==i.slidesPerView||L),U=i.loop;L&&n&&t.changeDirection(),extend$3(t.params,E);const W=t.params.enabled,H=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),q&&!W?t.disable():!q&&W&&t.enable(),t.currentBreakpoint=p,t.emit("_beforeBreakpoint",E),n&&(z?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!U&&H?(t.loopCreate(e),t.updateSlides()):U&&!H&&t.loopDestroy()),t.emit("breakpoint",E)}function getBreakpoint(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const o=getWindow$2(),l=e==="window"?o.innerHeight:n.clientHeight,u=Object.keys(t).map(f=>{if(typeof f=="string"&&f.indexOf("@")===0){const d=parseFloat(f.substr(1));return{value:l*d,point:f}}return{value:f,point:f}});u.sort((f,d)=>parseInt(f.value,10)-parseInt(d.value,10));for(let f=0;f<u.length;f+=1){const{point:d,value:p}=u[f];e==="window"?o.matchMedia(`(min-width: ${p}px)`).matches&&(i=d):p<=n.clientWidth&&(i=d)}return i||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(o=>{i[o]&&n.push(e+o)}):typeof i=="string"&&n.push(e+i)}),n}function addClasses(){const t=this,{classNames:e,params:n,rtl:i,el:o,device:l}=t,u=prepareClasses(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:l.android},{ios:l.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...u),o.classList.add(...e),t.emitContainerClasses()}function removeClasses(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var classes={addClasses,removeClasses};function checkOverflow(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const o=t.slides.length-1,l=t.slidesGrid[o]+t.slidesSizesGrid[o]+i*2;t.isLocked=t.size>l}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var checkOverflow$1={checkOverflow},defaults$2={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(t,e){return function(i){i===void 0&&(i={});const o=Object.keys(i)[0],l=i[o];if(typeof l!="object"||l===null){extend$3(e,i);return}if(t[o]===!0&&(t[o]={enabled:!0}),o==="navigation"&&t[o]&&t[o].enabled&&!t[o].prevEl&&!t[o].nextEl&&(t[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&t[o]&&t[o].enabled&&!t[o].el&&(t[o].auto=!0),!(o in t&&"enabled"in l)){extend$3(e,i);return}typeof t[o]=="object"&&!("enabled"in t[o])&&(t[o].enabled=!0),t[o]||(t[o]={enabled:!1}),extend$3(e,i)}}const prototypes={eventsEmitter,update,translate,transition,slide,loop,grabCursor,events:events$1$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};let Swiper$1=class Wi{constructor(){let e,n;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];o.length===1&&o[0].constructor&&Object.prototype.toString.call(o[0]).slice(8,-1)==="Object"?n=o[0]:[e,n]=o,n||(n={}),n=extend$3({},n),e&&!n.el&&(n.el=e);const u=getDocument$1();if(n.el&&typeof n.el=="string"&&u.querySelectorAll(n.el).length>1){const g=[];return u.querySelectorAll(n.el).forEach(E=>{const A=extend$3({},n,{el:E});g.push(new Wi(A))}),g}const f=this;f.__swiper__=!0,f.support=getSupport(),f.device=getDevice({userAgent:n.userAgent}),f.browser=getBrowser(),f.eventsListeners={},f.eventsAnyListeners=[],f.modules=[...f.__modules__],n.modules&&Array.isArray(n.modules)&&f.modules.push(...n.modules);const d={};f.modules.forEach(g=>{g({params:n,swiper:f,extendParams:moduleExtendParams(n,d),on:f.on.bind(f),once:f.once.bind(f),off:f.off.bind(f),emit:f.emit.bind(f)})});const p=extend$3({},defaults$2,d);return f.params=extend$3({},p,extendedDefaults,n),f.originalParams=extend$3({},f.params),f.passedParams=extend$3({},n),f.params&&f.params.on&&Object.keys(f.params.on).forEach(g=>{f.on(g,f.params.on[g])}),f.params&&f.params.onAny&&f.onAny(f.params.onAny),Object.assign(f,{enabled:f.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return f.params.direction==="horizontal"},isVertical(){return f.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:f.params.allowSlideNext,allowSlidePrev:f.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:f.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:f.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),f.emit("_swiper"),f.params.init&&f.init(),f}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,o=elementChildren(n,`.${i.slideClass}, swiper-slide`),l=elementIndex(o[0]);return elementIndex(e)-l}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=elementChildren(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const o=i.minTranslate(),u=(i.maxTranslate()-o)*e+o;i.translateTo(u,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const o=e.getSlideClasses(i);n.push({slideEl:i,classNames:o}),e.emit("_slideClass",i,o)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:o,slides:l,slidesGrid:u,slidesSizesGrid:f,size:d,activeIndex:p}=i;let g=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let E=l[p]?Math.ceil(l[p].swiperSlideSize):0,A;for(let R=p+1;R<l.length;R+=1)l[R]&&!A&&(E+=Math.ceil(l[R].swiperSlideSize),g+=1,E>d&&(A=!0));for(let R=p-1;R>=0;R-=1)l[R]&&!A&&(E+=l[R].swiperSlideSize,g+=1,E>d&&(A=!0))}else if(e==="current")for(let E=p+1;E<l.length;E+=1)(n?u[E]+f[E]-u[p]<d:u[E]-u[p]<d)&&(g+=1);else for(let E=p-1;E>=0;E-=1)u[p]-u[E]<d&&(g+=1);return g}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&processLazyPreloader(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const u=e.rtlTranslate?e.translate*-1:e.translate,f=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(f),e.updateActiveIndex(),e.updateSlidesClasses()}let l;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)o(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const u=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;l=e.slideTo(u.length-1,0,!1,!0)}else l=e.slideTo(e.activeIndex,0,!1,!0);l||o()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,o=i.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${o}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(l=>{e==="vertical"?l.style.width="":l.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const o=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(o()):elementChildren(i,o())[0];return!u&&n.params.createElements&&(u=createElement("div",n.params.wrapperClass),i.append(u),elementChildren(i,`.${n.params.slideClass}`).forEach(f=>{u.append(f)})),Object.assign(n,{el:i,wrapperEl:u,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:u,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||elementStyle(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||elementStyle(i,"direction")==="rtl"),wrongRTL:elementStyle(u,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const o=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&o.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(l=>{l.complete?processLazyPreloader(n,l):l.addEventListener("load",u=>{processLazyPreloader(n,u.target)})}),preload(n),n.initialized=!0,preload(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:o,el:l,wrapperEl:u,slides:f}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),o.loop&&i.loopDestroy(),n&&(i.removeClasses(),l&&typeof l!="string"&&l.removeAttribute("style"),u&&u.removeAttribute("style"),f&&f.length&&f.forEach(d=>{d.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),d.removeAttribute("style"),d.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(d=>{i.off(d)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),deleteProps(i)),i.destroyed=!0),null}static extendDefaults(e){extend$3(extendedDefaults,e)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults$2}static installModule(e){Wi.prototype.__modules__||(Wi.prototype.__modules__=[]);const n=Wi.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Wi.installModule(n)),Wi):(Wi.installModule(e),Wi)}};Object.keys(prototypes).forEach(t=>{Object.keys(prototypes[t]).forEach(e=>{Swiper$1.prototype[e]=prototypes[t][e]})});Swiper$1.use([Resize,Observer]);const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function isObject$4(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function extend$2(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:isObject$4(e[i])&&isObject$4(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:extend$2(t[i],e[i]):t[i]=e[i]})}function needsNavigation(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function needsPagination(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function needsScrollbar(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function uniqueClasses(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function wrapperClass(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function updateSwiper(t){let{swiper:e,slides:n,passedParams:i,changedParams:o,nextEl:l,prevEl:u,scrollbarEl:f,paginationEl:d}=t;const p=o.filter(ne=>ne!=="children"&&ne!=="direction"&&ne!=="wrapperClass"),{params:g,pagination:E,navigation:A,scrollbar:R,virtual:I,thumbs:j}=e;let q,L,z,U,W,H,Z,Y;o.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&g.thumbs&&(!g.thumbs.swiper||g.thumbs.swiper.destroyed)&&(q=!0),o.includes("controller")&&i.controller&&i.controller.control&&g.controller&&!g.controller.control&&(L=!0),o.includes("pagination")&&i.pagination&&(i.pagination.el||d)&&(g.pagination||g.pagination===!1)&&E&&!E.el&&(z=!0),o.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||f)&&(g.scrollbar||g.scrollbar===!1)&&R&&!R.el&&(U=!0),o.includes("navigation")&&i.navigation&&(i.navigation.prevEl||u)&&(i.navigation.nextEl||l)&&(g.navigation||g.navigation===!1)&&A&&!A.prevEl&&!A.nextEl&&(W=!0);const J=ne=>{e[ne]&&(e[ne].destroy(),ne==="navigation"?(e.isElement&&(e[ne].prevEl.remove(),e[ne].nextEl.remove()),g[ne].prevEl=void 0,g[ne].nextEl=void 0,e[ne].prevEl=void 0,e[ne].nextEl=void 0):(e.isElement&&e[ne].el.remove(),g[ne].el=void 0,e[ne].el=void 0))};o.includes("loop")&&e.isElement&&(g.loop&&!i.loop?H=!0:!g.loop&&i.loop?Z=!0:Y=!0),p.forEach(ne=>{if(isObject$4(g[ne])&&isObject$4(i[ne]))Object.assign(g[ne],i[ne]),(ne==="navigation"||ne==="pagination"||ne==="scrollbar")&&"enabled"in i[ne]&&!i[ne].enabled&&J(ne);else{const ae=i[ne];(ae===!0||ae===!1)&&(ne==="navigation"||ne==="pagination"||ne==="scrollbar")?ae===!1&&J(ne):g[ne]=i[ne]}}),p.includes("controller")&&!L&&e.controller&&e.controller.control&&g.controller&&g.controller.control&&(e.controller.control=g.controller.control),o.includes("children")&&n&&I&&g.virtual.enabled?(I.slides=n,I.update(!0)):o.includes("virtual")&&I&&g.virtual.enabled&&(n&&(I.slides=n),I.update(!0)),o.includes("children")&&n&&g.loop&&(Y=!0),q&&j.init()&&j.update(!0),L&&(e.controller.control=g.controller.control),z&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),e.el.appendChild(d)),d&&(g.pagination.el=d),E.init(),E.render(),E.update()),U&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-scrollbar"),f.part.add("scrollbar"),e.el.appendChild(f)),f&&(g.scrollbar.el=f),R.init(),R.updateSize(),R.setTranslate()),W&&(e.isElement&&((!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-next"),setInnerHTML(l,e.hostEl.constructor.nextButtonSvg),l.part.add("button-next"),e.el.appendChild(l)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),setInnerHTML(u,e.hostEl.constructor.prevButtonSvg),u.part.add("button-prev"),e.el.appendChild(u))),l&&(g.navigation.nextEl=l),u&&(g.navigation.prevEl=u),A.init(),A.update()),o.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),o.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),o.includes("direction")&&e.changeDirection(i.direction,!1),(H||Y)&&e.loopDestroy(),(Z||Y)&&e.loopCreate(),e.update()}function getParams(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},i={},o={};extend$2(n,defaults$2),n._emitClasses=!0,n.init=!1;const l={},u=paramsList.map(d=>d.replace(/_/,"")),f=Object.assign({},t);return Object.keys(f).forEach(d=>{typeof t[d]>"u"||(u.indexOf(d)>=0?isObject$4(t[d])?(n[d]={},o[d]={},extend$2(n[d],t[d]),extend$2(o[d],t[d])):(n[d]=t[d],o[d]=t[d]):d.search(/on[A-Z]/)===0&&typeof t[d]=="function"?e?i[`${d[2].toLowerCase()}${d.substr(3)}`]=t[d]:n.on[`${d[2].toLowerCase()}${d.substr(3)}`]=t[d]:l[d]=t[d])}),["navigation","pagination","scrollbar"].forEach(d=>{n[d]===!0&&(n[d]={}),n[d]===!1&&delete n[d]}),{params:n,passedParams:o,rest:l,events:i}}function mountSwiper(t,e){let{el:n,nextEl:i,prevEl:o,paginationEl:l,scrollbarEl:u,swiper:f}=t;needsNavigation(e)&&i&&o&&(f.params.navigation.nextEl=i,f.originalParams.navigation.nextEl=i,f.params.navigation.prevEl=o,f.originalParams.navigation.prevEl=o),needsPagination(e)&&l&&(f.params.pagination.el=l,f.originalParams.pagination.el=l),needsScrollbar(e)&&u&&(f.params.scrollbar.el=u,f.originalParams.scrollbar.el=u),f.init(n)}function getChangedParams(t,e,n,i,o){const l=[];if(!e)return l;const u=d=>{l.indexOf(d)<0&&l.push(d)};if(n&&i){const d=i.map(o),p=n.map(o);d.join("")!==p.join("")&&u("children"),i.length!==n.length&&u("children")}return paramsList.filter(d=>d[0]==="_").map(d=>d.replace(/_/,"")).forEach(d=>{if(d in t&&d in e)if(isObject$4(t[d])&&isObject$4(e[d])){const p=Object.keys(t[d]),g=Object.keys(e[d]);p.length!==g.length?u(d):(p.forEach(E=>{t[d][E]!==e[d][E]&&u(d)}),g.forEach(E=>{t[d][E]!==e[d][E]&&u(d)}))}else t[d]!==e[d]&&u(d)}),l}const updateOnVirtualData=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function _extends$C(){return _extends$C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$C.apply(this,arguments)}function isChildSwiperSlide(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function processChildren(t){const e=[];return React.Children.toArray(t).forEach(n=>{isChildSwiperSlide(n)?e.push(n):n.props&&n.props.children&&processChildren(n.props.children).forEach(i=>e.push(i))}),e}function getChildren(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return React.Children.toArray(t).forEach(i=>{if(isChildSwiperSlide(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const o=processChildren(i.props.children);o.length>0?o.forEach(l=>e.push(l)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function renderVirtual(t,e,n){if(!n)return null;const i=g=>{let E=g;return g<0?E=e.length+g:E>=e.length&&(E=E-e.length),E},o=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:l,to:u}=n,f=t.params.loop?-e.length:0,d=t.params.loop?e.length*2:e.length,p=[];for(let g=f;g<d;g+=1)g>=l&&g<=u&&p.push(e[i(g)]);return p.map((g,E)=>React.cloneElement(g,{swiper:t,style:o,key:g.props.virtualIndex||g.key||`slide-${E}`}))}function useIsomorphicLayoutEffect$2(t,e){return typeof window>"u"?reactExports.useEffect(t,e):reactExports.useLayoutEffect(t,e)}const SwiperSlideContext=reactExports.createContext(null),SwiperContext=reactExports.createContext(null),Swiper=reactExports.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:o="div",children:l,onSwiper:u,...f}=t===void 0?{}:t,d=!1;const[p,g]=reactExports.useState("swiper"),[E,A]=reactExports.useState(null),[R,I]=reactExports.useState(!1),j=reactExports.useRef(!1),q=reactExports.useRef(null),L=reactExports.useRef(null),z=reactExports.useRef(null),U=reactExports.useRef(null),W=reactExports.useRef(null),H=reactExports.useRef(null),Z=reactExports.useRef(null),Y=reactExports.useRef(null),{params:J,passedParams:ne,rest:ae,events:se}=getParams(f),{slides:ue,slots:fe}=getChildren(l),_e=()=>{I(!R)};Object.assign(J.on,{_containerClasses(ie,oe){g(oe)}});const ge=()=>{Object.assign(J.on,se),d=!0;const ie={...J};if(delete ie.wrapperClass,L.current=new Swiper$1(ie),L.current.virtual&&L.current.params.virtual.enabled){L.current.virtual.slides=ue;const oe={cache:!1,slides:ue,renderExternal:A,renderExternalUpdate:!1};extend$2(L.current.params.virtual,oe),extend$2(L.current.originalParams.virtual,oe)}};q.current||ge(),L.current&&L.current.on("_beforeBreakpoint",_e);const ce=()=>{d||!se||!L.current||Object.keys(se).forEach(ie=>{L.current.on(ie,se[ie])})},me=()=>{!se||!L.current||Object.keys(se).forEach(ie=>{L.current.off(ie,se[ie])})};reactExports.useEffect(()=>()=>{L.current&&L.current.off("_beforeBreakpoint",_e)}),reactExports.useEffect(()=>{!j.current&&L.current&&(L.current.emitSlidesClasses(),j.current=!0)}),useIsomorphicLayoutEffect$2(()=>{if(e&&(e.current=q.current),!!q.current)return L.current.destroyed&&ge(),mountSwiper({el:q.current,nextEl:W.current,prevEl:H.current,paginationEl:Z.current,scrollbarEl:Y.current,swiper:L.current},J),u&&!L.current.destroyed&&u(L.current),()=>{L.current&&!L.current.destroyed&&L.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect$2(()=>{ce();const ie=getChangedParams(ne,z.current,ue,U.current,oe=>oe.key);return z.current=ne,U.current=ue,ie.length&&L.current&&!L.current.destroyed&&updateSwiper({swiper:L.current,slides:ue,passedParams:ne,changedParams:ie,nextEl:W.current,prevEl:H.current,scrollbarEl:Y.current,paginationEl:Z.current}),()=>{me()}}),useIsomorphicLayoutEffect$2(()=>{updateOnVirtualData(L.current)},[E]);function ee(){return J.virtual?renderVirtual(L.current,ue,E):ue.map((ie,oe)=>React.cloneElement(ie,{swiper:L.current,swiperSlideIndex:oe}))}return React.createElement(i,_extends$C({ref:q,className:uniqueClasses(`${p}${n?` ${n}`:""}`)},ae),React.createElement(SwiperContext.Provider,{value:L.current},fe["container-start"],React.createElement(o,{className:wrapperClass(J.wrapperClass)},fe["wrapper-start"],ee(),fe["wrapper-end"]),needsNavigation(J)&&React.createElement(React.Fragment,null,React.createElement("div",{ref:H,className:"swiper-button-prev"}),React.createElement("div",{ref:W,className:"swiper-button-next"})),needsScrollbar(J)&&React.createElement("div",{ref:Y,className:"swiper-scrollbar"}),needsPagination(J)&&React.createElement("div",{ref:Z,className:"swiper-pagination"}),fe["container-end"]))});Swiper.displayName="Swiper";const SwiperSlide=reactExports.forwardRef(function(t,e){let{tag:n="div",children:i,className:o="",swiper:l,zoom:u,lazy:f,virtualIndex:d,swiperSlideIndex:p,...g}=t===void 0?{}:t;const E=reactExports.useRef(null),[A,R]=reactExports.useState("swiper-slide"),[I,j]=reactExports.useState(!1);function q(W,H,Z){H===E.current&&R(Z)}useIsomorphicLayoutEffect$2(()=>{if(typeof p<"u"&&(E.current.swiperSlideIndex=p),e&&(e.current=E.current),!(!E.current||!l)){if(l.destroyed){A!=="swiper-slide"&&R("swiper-slide");return}return l.on("_slideClass",q),()=>{l&&l.off("_slideClass",q)}}}),useIsomorphicLayoutEffect$2(()=>{l&&E.current&&!l.destroyed&&R(l.getSlideClasses(E.current))},[l]);const L={isActive:A.indexOf("swiper-slide-active")>=0,isVisible:A.indexOf("swiper-slide-visible")>=0,isPrev:A.indexOf("swiper-slide-prev")>=0,isNext:A.indexOf("swiper-slide-next")>=0},z=()=>typeof i=="function"?i(L):i,U=()=>{j(!0)};return React.createElement(n,_extends$C({ref:E,className:uniqueClasses(`${A}${o?` ${o}`:""}`),"data-swiper-slide-index":d,onLoad:U},g),u&&React.createElement(SwiperSlideContext.Provider,{value:L},React.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},z(),f&&!I&&React.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&React.createElement(SwiperSlideContext.Provider,{value:L},z(),f&&!I&&React.createElement("div",{className:"swiper-lazy-preloader"})))});SwiperSlide.displayName="SwiperSlide";function createElementIfNotDefined(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(o=>{if(!n[o]&&n.auto===!0){let l=elementChildren(t.el,`.${i[o]}`)[0];l||(l=createElement("div",i[o]),l.className=i[o],t.el.append(l)),n[o]=l,e[o]=l}}),n}function Navigation$1(t){let{swiper:e,extendParams:n,on:i,emit:o}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function l(I){let j;return I&&typeof I=="string"&&e.isElement&&(j=e.el.querySelector(I)||e.hostEl.querySelector(I),j)?j:(I&&(typeof I=="string"&&(j=[...document.querySelectorAll(I)]),e.params.uniqueNavElements&&typeof I=="string"&&j&&j.length>1&&e.el.querySelectorAll(I).length===1?j=e.el.querySelector(I):j&&j.length===1&&(j=j[0])),I&&!j?I:j)}function u(I,j){const q=e.params.navigation;I=makeElementsArray(I),I.forEach(L=>{L&&(L.classList[j?"add":"remove"](...q.disabledClass.split(" ")),L.tagName==="BUTTON"&&(L.disabled=j),e.params.watchOverflow&&e.enabled&&L.classList[e.isLocked?"add":"remove"](q.lockClass))})}function f(){const{nextEl:I,prevEl:j}=e.navigation;if(e.params.loop){u(j,!1),u(I,!1);return}u(j,e.isBeginning&&!e.params.rewind),u(I,e.isEnd&&!e.params.rewind)}function d(I){I.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),o("navigationPrev"))}function p(I){I.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),o("navigationNext"))}function g(){const I=e.params.navigation;if(e.params.navigation=createElementIfNotDefined(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(I.nextEl||I.prevEl))return;let j=l(I.nextEl),q=l(I.prevEl);Object.assign(e.navigation,{nextEl:j,prevEl:q}),j=makeElementsArray(j),q=makeElementsArray(q);const L=(z,U)=>{z&&z.addEventListener("click",U==="next"?p:d),!e.enabled&&z&&z.classList.add(...I.lockClass.split(" "))};j.forEach(z=>L(z,"next")),q.forEach(z=>L(z,"prev"))}function E(){let{nextEl:I,prevEl:j}=e.navigation;I=makeElementsArray(I),j=makeElementsArray(j);const q=(L,z)=>{L.removeEventListener("click",z==="next"?p:d),L.classList.remove(...e.params.navigation.disabledClass.split(" "))};I.forEach(L=>q(L,"next")),j.forEach(L=>q(L,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?R():(g(),f())}),i("toEdge fromEdge lock unlock",()=>{f()}),i("destroy",()=>{E()}),i("enable disable",()=>{let{nextEl:I,prevEl:j}=e.navigation;if(I=makeElementsArray(I),j=makeElementsArray(j),e.enabled){f();return}[...I,...j].filter(q=>!!q).forEach(q=>q.classList.add(e.params.navigation.lockClass))}),i("click",(I,j)=>{let{nextEl:q,prevEl:L}=e.navigation;q=makeElementsArray(q),L=makeElementsArray(L);const z=j.target;let U=L.includes(z)||q.includes(z);if(e.isElement&&!U){const W=j.path||j.composedPath&&j.composedPath();W&&(U=W.find(H=>q.includes(H)||L.includes(H)))}if(e.params.navigation.hideOnClick&&!U){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===z||e.pagination.el.contains(z)))return;let W;q.length?W=q[0].classList.contains(e.params.navigation.hiddenClass):L.length&&(W=L[0].classList.contains(e.params.navigation.hiddenClass)),o(W===!0?"navigationShow":"navigationHide"),[...q,...L].filter(H=>!!H).forEach(H=>H.classList.toggle(e.params.navigation.hiddenClass))}});const A=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),g(),f()},R=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),E()};Object.assign(e.navigation,{enable:A,disable:R,update:f,init:g,destroy:E})}function Autoplay(t){let{swiper:e,extendParams:n,on:i,emit:o,params:l}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,f,d=l&&l.autoplay?l.autoplay.delay:3e3,p=l&&l.autoplay?l.autoplay.delay:3e3,g,E=new Date().getTime(),A,R,I,j,q,L,z;function U(ee){!e||e.destroyed||!e.wrapperEl||ee.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",U),!(z||ee.detail&&ee.detail.bySwiperTouchMove)&&ae())}const W=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?A=!0:A&&(p=g,A=!1);const ee=e.autoplay.paused?g:E+p-new Date().getTime();e.autoplay.timeLeft=ee,o("autoplayTimeLeft",ee,ee/d),f=requestAnimationFrame(()=>{W()})},H=()=>{let ee;return e.virtual&&e.params.virtual.enabled?ee=e.slides.find(oe=>oe.classList.contains("swiper-slide-active")):ee=e.slides[e.activeIndex],ee?parseInt(ee.getAttribute("data-swiper-autoplay"),10):void 0},Z=ee=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(f),W();let ie=typeof ee>"u"?e.params.autoplay.delay:ee;d=e.params.autoplay.delay,p=e.params.autoplay.delay;const oe=H();!Number.isNaN(oe)&&oe>0&&typeof ee>"u"&&(ie=oe,d=oe,p=oe),g=ie;const de=e.params.speed,xe=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(de,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,de,!0,!0),o("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(de,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,de,!0,!0),o("autoplay")),e.params.cssMode&&(E=new Date().getTime(),requestAnimationFrame(()=>{Z()})))};return ie>0?(clearTimeout(u),u=setTimeout(()=>{xe()},ie)):requestAnimationFrame(()=>{xe()}),ie},Y=()=>{E=new Date().getTime(),e.autoplay.running=!0,Z(),o("autoplayStart")},J=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(f),o("autoplayStop")},ne=(ee,ie)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),ee||(L=!0);const oe=()=>{o("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",U):ae()};if(e.autoplay.paused=!0,ie){q&&(g=e.params.autoplay.delay),q=!1,oe();return}g=(g||e.params.autoplay.delay)-(new Date().getTime()-E),!(e.isEnd&&g<0&&!e.params.loop)&&(g<0&&(g=0),oe())},ae=()=>{e.isEnd&&g<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(E=new Date().getTime(),L?(L=!1,Z(g)):Z(),e.autoplay.paused=!1,o("autoplayResume"))},se=()=>{if(e.destroyed||!e.autoplay.running)return;const ee=getDocument$1();ee.visibilityState==="hidden"&&(L=!0,ne(!0)),ee.visibilityState==="visible"&&ae()},ue=ee=>{ee.pointerType==="mouse"&&(L=!0,z=!0,!(e.animating||e.autoplay.paused)&&ne(!0))},fe=ee=>{ee.pointerType==="mouse"&&(z=!1,e.autoplay.paused&&ae())},_e=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",ue),e.el.addEventListener("pointerleave",fe))},ge=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",ue),e.el.removeEventListener("pointerleave",fe))},ce=()=>{getDocument$1().addEventListener("visibilitychange",se)},me=()=>{getDocument$1().removeEventListener("visibilitychange",se)};i("init",()=>{e.params.autoplay.enabled&&(_e(),ce(),Y())}),i("destroy",()=>{ge(),me(),e.autoplay.running&&J()}),i("_freeModeStaticRelease",()=>{(I||L)&&ae()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?J():ne(!0,!0)}),i("beforeTransitionStart",(ee,ie,oe)=>{e.destroyed||!e.autoplay.running||(oe||!e.params.autoplay.disableOnInteraction?ne(!0,!0):J())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){J();return}R=!0,I=!1,L=!1,j=setTimeout(()=>{L=!0,I=!0,ne(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!R)){if(clearTimeout(j),clearTimeout(u),e.params.autoplay.disableOnInteraction){I=!1,R=!1;return}I&&e.params.cssMode&&ae(),I=!1,R=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(q=!0)}),Object.assign(e.autoplay,{start:Y,stop:J,pause:ne,resume:ae})}function effectInit(t){const{effect:e,swiper:n,on:i,setTranslate:o,setTransition:l,overwriteParams:u,perspective:f,recreateShadows:d,getEffectParams:p}=t;i("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),f&&f()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const E=u?u():{};Object.assign(n.params,E),Object.assign(n.originalParams,E)}),i("setTranslate _virtualUpdated",()=>{n.params.effect===e&&o()}),i("setTransition",(E,A)=>{n.params.effect===e&&l(A)}),i("transitionEnd",()=>{if(n.params.effect===e&&d){if(!p||!p().slideShadows)return;n.slides.forEach(E=>{E.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(A=>A.remove())}),d()}});let g;i("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(g=!0),requestAnimationFrame(()=>{g&&n.slides&&n.slides.length&&(o(),g=!1)}))})}function effectTarget(t,e){const n=getSlideTransformEl(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function effectVirtualTransitionEnd(t){let{swiper:e,duration:n,transformElements:i}=t;const{activeIndex:o}=e;if(e.params.virtualTranslate&&n!==0){let l=!1,u;u=i,u.forEach(f=>{elementTransitionEnd(f,()=>{if(l||!e||e.destroyed)return;l=!0,e.animating=!1;const d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}function EffectFade(t){let{swiper:e,extendParams:n,on:i}=t;n({fadeEffect:{crossFade:!1}}),effectInit({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:u}=e,f=e.params.fadeEffect;for(let d=0;d<u.length;d+=1){const p=e.slides[d];let E=-p.swiperSlideOffset;e.params.virtualTranslate||(E-=e.translate);let A=0;e.isHorizontal()||(A=E,E=0);const R=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(p.progress),0):1+Math.min(Math.max(p.progress,-1),0),I=effectTarget(f,p);I.style.opacity=R,I.style.transform=`translate3d(${E}px, ${A}px, 0px)`}},setTransition:u=>{const f=e.slides.map(d=>getSlideTransformEl(d));f.forEach(d=>{d.style.transitionDuration=`${u}ms`}),effectVirtualTransitionEnd({swiper:e,duration:u,transformElements:f})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const News=({withImage:t,withoutImage:e})=>jsxRuntimeExports.jsxs("div",{className:"event-container",children:[jsxRuntimeExports.jsx("div",{className:"event-left",children:jsxRuntimeExports.jsx(Swiper,{modules:[Navigation$1,Autoplay,EffectFade],effect:"fade",speed:800,loop:t.length>1,navigation:!0,autoplay:{delay:8e3},grabCursor:!0,children:t.map((n,i)=>jsxRuntimeExports.jsx(SwiperSlide,{children:jsxRuntimeExports.jsxs("div",{className:"slide",children:[jsxRuntimeExports.jsx("img",{src:n.image,alt:n.title}),jsxRuntimeExports.jsxs("div",{className:"slide-info",children:[jsxRuntimeExports.jsxs("div",{className:"slide-date",children:[n.start_date,n.end_date?` - ${n.end_date}`:""]}),jsxRuntimeExports.jsx("h3",{children:n.title}),jsxRuntimeExports.jsx("a",{href:n.detail,target:"_blank",rel:"noreferrer",children:"詳情"})]})]})},i))})}),jsxRuntimeExports.jsxs("div",{className:"event-right",children:[jsxRuntimeExports.jsx("h2",{className:"news-title",children:"活動消息"}),jsxRuntimeExports.jsx("p",{className:"news-subtitle",children:"News"}),jsxRuntimeExports.jsx("ul",{className:"text-list",children:e.map((n,i)=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("a",{href:n.detail,className:"text-item",target:"_blank",children:[jsxRuntimeExports.jsx("div",{className:"text-item-date",children:n.start_date}),jsxRuntimeExports.jsxs("div",{className:"text-item-content",children:[jsxRuntimeExports.jsx("span",{className:"tag","data-tag":n.tag||"未分類",children:n.tag||"未分類"}),jsxRuntimeExports.jsx("h4",{children:n.title})]})]})},i))})]})]});/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes$1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...f},d)=>reactExports.createElement("svg",{ref:d,...defaultAttributes$1,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:mergeClasses("lucide",o),...f},[...u.map(([p,g])=>reactExports.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(t,e)=>{const n=reactExports.forwardRef(({className:i,...o},l)=>reactExports.createElement(Icon,{ref:l,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(t)}`,i),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$T=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],ArrowDownUp=createLucideIcon("ArrowDownUp",__iconNode$T);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$S=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Award=createLucideIcon("Award",__iconNode$S);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$R=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bell=createLucideIcon("Bell",__iconNode$R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3",key:"8arnkb"}]],BookOpenCheck=createLucideIcon("BookOpenCheck",__iconNode$Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Bookmark=createLucideIcon("Bookmark",__iconNode$P);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Bot=createLucideIcon("Bot",__iconNode$O);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar$1=createLucideIcon("Calendar",__iconNode$N);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Camera=createLucideIcon("Camera",__iconNode$M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ChartColumn=createLucideIcon("ChartColumn",__iconNode$L);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ChartPie=createLucideIcon("ChartPie",__iconNode$K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("Check",__iconNode$J);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("ChevronDown",__iconNode$I);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("ChevronLeft",__iconNode$H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("CircleCheckBig",__iconNode$G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CircleHelp=createLucideIcon("CircleHelp",__iconNode$F);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],CircleUser=createLucideIcon("CircleUser",__iconNode$E);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("CircleX",__iconNode$D);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ClipboardList=createLucideIcon("ClipboardList",__iconNode$C);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],CornerDownRight=createLucideIcon("CornerDownRight",__iconNode$B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("ExternalLink",__iconNode$A);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("FileText",__iconNode$z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Footprints=createLucideIcon("Footprints",__iconNode$y);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Gamepad2=createLucideIcon("Gamepad2",__iconNode$x);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],GripHorizontal=createLucideIcon("GripHorizontal",__iconNode$w);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Heart=createLucideIcon("Heart",__iconNode$v);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Image$1=createLucideIcon("Image",__iconNode$u);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]],Images=createLucideIcon("Images",__iconNode$t);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Languages=createLucideIcon("Languages",__iconNode$s);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Laugh=createLucideIcon("Laugh",__iconNode$r);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LayoutDashboard=createLucideIcon("LayoutDashboard",__iconNode$q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],LockKeyhole=createLucideIcon("LockKeyhole",__iconNode$p);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lock=createLucideIcon("Lock",__iconNode$o);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],LogOut=createLucideIcon("LogOut",__iconNode$n);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Mail=createLucideIcon("Mail",__iconNode$m);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Menu=createLucideIcon("Menu",__iconNode$l);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],MessageCircle=createLucideIcon("MessageCircle",__iconNode$k);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],NotebookPen=createLucideIcon("NotebookPen",__iconNode$j);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],NotebookText=createLucideIcon("NotebookText",__iconNode$i);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pen=createLucideIcon("Pen",__iconNode$h);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Play=createLucideIcon("Play",__iconNode$g);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Save=createLucideIcon("Save",__iconNode$f);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Send=createLucideIcon("Send",__iconNode$e);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Share2=createLucideIcon("Share2",__iconNode$d);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Shield=createLucideIcon("Shield",__iconNode$c);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SquarePen=createLucideIcon("SquarePen",__iconNode$b);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Star=createLucideIcon("Star",__iconNode$a);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M21 12h.01",key:"msek7k"}],["path",{d:"M21 18h.01",key:"1e8rq1"}],["path",{d:"M21 6h.01",key:"1koanj"}]],TableOfContents=createLucideIcon("TableOfContents",__iconNode$9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"M21 6H3",key:"1jwq7v"}],["path",{d:"M10 12H3",key:"1ulcyk"}],["path",{d:"M10 18H3",key:"13769t"}],["circle",{cx:"17",cy:"15",r:"3",key:"1upz2a"}],["path",{d:"m21 19-1.9-1.9",key:"dwi7p8"}]],TextSearch=createLucideIcon("TextSearch",__iconNode$8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],ThumbsUp=createLucideIcon("ThumbsUp",__iconNode$7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Timer=createLucideIcon("Timer",__iconNode$6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Trash2=createLucideIcon("Trash2",__iconNode$5);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Trophy=createLucideIcon("Trophy",__iconNode$4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User$1=createLucideIcon("User",__iconNode$3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Users=createLucideIcon("Users",__iconNode$2);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Volume2=createLucideIcon("Volume2",__iconNode$1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("X",__iconNode),quizBtn="/LinguaRoot/assets/Btn1-oDN2Y5FT.webp",cameraBtn="/LinguaRoot/assets/Btn2-BCclM2sR.webp",gameBtn="/LinguaRoot/assets/Btn3-C7bpnUXO.webp",FunctionBtn=({})=>{const t=useNavigate();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"btn-title-container",children:[jsxRuntimeExports.jsx(GripHorizontal,{size:30,style:{color:"#8B0000",marginRight:"5px"}}),jsxRuntimeExports.jsx("h2",{className:"btn-title",children:"功能模組"})]}),jsxRuntimeExports.jsxs("div",{className:"card-container",children:[jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("img",{src:cameraBtn}),jsxRuntimeExports.jsxs("div",{className:"card-content",children:[jsxRuntimeExports.jsx("h2",{children:"影像辨識"}),jsxRuntimeExports.jsx("p",{children:"影像辨識詞彙學習模組中，使用者可透過攝像頭擷取目標物件，系統將進行影像辨識，檢索對應的泰雅族語詞彙、語音及語義，辨識出的詞彙也可依個人喜好儲存於個人詞語庫。"}),jsxRuntimeExports.jsx("button",{onClick:()=>t("/camera"),children:"立即前往"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("img",{src:gameBtn}),jsxRuntimeExports.jsxs("div",{className:"card-content",children:[jsxRuntimeExports.jsx("h2",{children:"詞彙遊戲"}),jsxRuntimeExports.jsx("p",{children:"動態詞彙遊戲模組旨在強化使用者對詞語定義與單詞拼寫的連結，使用者需在橫豎交錯的填字格中輸入對應的族語詞彙。系統將記錄使用者的錯誤答案，並在後續測驗中強化練習，提升學習成效。"}),jsxRuntimeExports.jsx("button",{onClick:()=>t("/game"),children:"立即前往"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("img",{src:quizBtn}),jsxRuntimeExports.jsxs("div",{className:"card-content",children:[jsxRuntimeExports.jsx("h2",{children:"測驗學習"}),jsxRuntimeExports.jsx("p",{children:"AI適性測驗學習模組測驗將根據使用者的語言能力，動態調整測驗題目，提供個人化語言評估、加強學習策略。透過AI生成適應性題目，確保學習內容能動態適應使用者的進度。"}),jsxRuntimeExports.jsx("button",{onClick:()=>t("/quiz"),children:"立即前往"})]})]})]})]})};var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var l="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(l=o(l,i(f)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var u="";for(var f in l)e.call(l,f)&&l[f]&&(u=o(u,f));return u}function o(l,u){return u?l?l+" "+u:l+u:l}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(classnames)),classnames.exports}var classnamesExports=requireClassnames();const classNames=getDefaultExportFromCjs(classnamesExports);function _extends$B(){return _extends$B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$B.apply(null,arguments)}function _objectWithoutPropertiesLoose$z(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function defaultKey(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function _toPropertyKey$P(t){var e=_toPrimitive$P(t,"string");return typeof e=="symbol"?e:String(e)}function _toPrimitive$P(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function useUncontrolledProp$1(t,e,n){var i=reactExports.useRef(t!==void 0),o=reactExports.useState(e),l=o[0],u=o[1],f=t!==void 0,d=i.current;return i.current=f,!f&&d&&l!==e&&u(e),[f?t:l,reactExports.useCallback(function(p){for(var g=arguments.length,E=new Array(g>1?g-1:0),A=1;A<g;A++)E[A-1]=arguments[A];n&&n.apply(void 0,[p].concat(E)),u(p)},[n])]}function useUncontrolled(t,e){return Object.keys(e).reduce(function(n,i){var o,l=n,u=l[defaultKey(i)],f=l[i],d=_objectWithoutPropertiesLoose$z(l,[defaultKey(i),i].map(_toPropertyKey$P)),p=e[i],g=useUncontrolledProp$1(f,u,t[p]),E=g[0],A=g[1];return _extends$B({},d,(o={},o[i]=E,o[p]=A,o))},t)}function _setPrototypeOf$n(t,e){return _setPrototypeOf$n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_setPrototypeOf$n(t,e)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf$n(t,e)}const DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT}),{Consumer,Provider:Provider$1}=ThemeContext;function useBootstrapPrefix(t,e){const{prefixes:n}=reactExports.useContext(ThemeContext);return t||n[e]||e}function useBootstrapBreakpoints(){const{breakpoints:t}=reactExports.useContext(ThemeContext);return t}function useBootstrapMinBreakpoint(){const{minBreakpoint:t}=reactExports.useContext(ThemeContext);return t}function useIsRTL(){const{dir:t}=reactExports.useContext(ThemeContext);return t==="rtl"}function ownerDocument(t){return t&&t.ownerDocument||document}function ownerWindow(t){var e=ownerDocument(t);return e&&e.defaultView||window}function getComputedStyle$3(t,e){return ownerWindow(t).getComputedStyle(t,e)}var rUpper=/([A-Z])/g;function hyphenate(t){return t.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(t){return hyphenate(t).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(t){return!!(t&&supportedTransforms.test(t))}function style(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(hyphenateStyleName(e))||getComputedStyle$3(t).getPropertyValue(hyphenateStyleName(e));Object.keys(e).forEach(function(o){var l=e[o];!l&&l!==0?t.style.removeProperty(hyphenateStyleName(o)):isTransform(o)?i+=o+"("+l+") ":n+=hyphenateStyleName(o)+": "+l+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}var propTypes$3={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=t,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var t=requireReactPropTypesSecret();function e(){}function n(){}return n.resetWarningCache=e,factoryWithThrowingShims=function(){function i(u,f,d,p,g,E){if(E!==t){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}i.isRequired=i;function o(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes$3.exports=requireFactoryWithThrowingShims()()),propTypes$3.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),config$1={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(e){return e.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(t){_inheritsLoose(e,t);function e(i,o){var l;l=t.call(this,i,o)||this;var u=o,f=u&&!u.isMounting?i.enter:i.appear,d;return l.appearStatus=null,i.in?f?(d=EXITED,l.appearStatus=ENTERING):d=ENTERED:i.unmountOnExit||i.mountOnEnter?d=UNMOUNTED:d=EXITED,l.state={status:d},l.nextCallback=null,l}e.getDerivedStateFromProps=function(o,l){var u=o.in;return u&&l.status===UNMOUNTED?{status:EXITED}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var l=null;if(o!==this.props){var u=this.state.status;this.props.in?u!==ENTERING&&u!==ENTERED&&(l=ENTERING):(u===ENTERING||u===ENTERED)&&(l=EXITING)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,l,u,f;return l=u=f=o,o!=null&&typeof o!="number"&&(l=o.exit,u=o.enter,f=o.appear!==void 0?o.appear:u),{exit:l,enter:u,appear:f}},n.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);u&&forceReflow(u)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},n.performEnter=function(o){var l=this,u=this.props.enter,f=this.context?this.context.isMounting:o,d=this.props.nodeRef?[f]:[ReactDOM.findDOMNode(this),f],p=d[0],g=d[1],E=this.getTimeouts(),A=f?E.appear:E.enter;if(!o&&!u||config$1.disabled){this.safeSetState({status:ENTERED},function(){l.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:ENTERING},function(){l.props.onEntering(p,g),l.onTransitionEnd(A,function(){l.safeSetState({status:ENTERED},function(){l.props.onEntered(p,g)})})})},n.performExit=function(){var o=this,l=this.props.exit,u=this.getTimeouts(),f=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!l||config$1.disabled){this.safeSetState({status:EXITED},function(){o.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:EXITING},function(){o.props.onExiting(f),o.onTransitionEnd(u.exit,function(){o.safeSetState({status:EXITED},function(){o.props.onExited(f)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},n.setNextCallback=function(o){var l=this,u=!0;return this.nextCallback=function(f){u&&(u=!1,l.nextCallback=null,o(f))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(o,l){this.setNextCallback(l);var u=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),f=o==null&&!this.props.addEndListener;if(!u||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],p=d[0],g=d[1];this.props.addEndListener(p,g)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===UNMOUNTED)return null;var l=this.props,u=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var f=_objectWithoutPropertiesLoose$z(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof u=="function"?u(o,f):React.cloneElement(React.Children.only(u),f))},e}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$9(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$9,onEntering:noop$9,onEntered:noop$9,onExit:noop$9,onExiting:noop$9,onExited:noop$9};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function isEscKey(t){return t.code==="Escape"||t.keyCode===27}function getReactVersion(){const t=reactExports.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function getChildRef(t){if(!t||typeof t=="function")return null;const{major:e}=getReactVersion();return e>=19?t.props.ref:t.ref}const canUseDOM$1=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM$1&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener$1(t,e,n,i){if(i&&typeof i!="boolean"&&!onceSupported){var o=i.once,l=i.capture,u=n;!onceSupported&&o&&(u=n.__once||function f(d){this.removeEventListener(e,f,l),n.call(this,d)},n.__once=u),t.addEventListener(e,u,optionsSupported?i:l)}t.addEventListener(e,n,i)}function removeEventListener(t,e,n,i){var o=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,o),n.__once&&t.removeEventListener(e,n.__once,o)}function listen(t,e,n,i){return addEventListener$1(t,e,n,i),function(){removeEventListener(t,e,n,i)}}function triggerEvent(t,e,n,i){if(i===void 0&&(i=!0),t){var o=document.createEvent("HTMLEvents");o.initEvent(e,n,i),t.dispatchEvent(o)}}function parseDuration$1(t){var e=style(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function emulateTransitionEnd(t,e,n){n===void 0&&(n=5);var i=!1,o=setTimeout(function(){i||triggerEvent(t,"transitionend",!0)},e+n),l=listen(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(o),l()}}function transitionEnd(t,e,n,i){n==null&&(n=parseDuration$1(t)||0);var o=emulateTransitionEnd(t,n,i),l=listen(t,"transitionend",e);return function(){o(),l()}}function parseDuration(t,e){const n=style(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function transitionEndListener(t,e){const n=parseDuration(t,"transitionDuration"),i=parseDuration(t,"transitionDelay"),o=transitionEnd(t,l=>{l.target===t&&(o(),e(l))},n+i)}function triggerBrowserReflow(t){t.offsetHeight}const toFnRef$1=t=>!t||typeof t=="function"?t:e=>{t.current=e};function mergeRefs$1(t,e){const n=toFnRef$1(t),i=toFnRef$1(e);return o=>{n&&n(o),i&&i(o)}}function useMergedRefs$1(t,e){return reactExports.useMemo(()=>mergeRefs$1(t,e),[t,e])}function safeFindDOMNode(t){return t&&"setState"in t?ReactDOM.findDOMNode(t):t??null}const TransitionWrapper=React.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:o,onExited:l,addEndListener:u,children:f,childRef:d,...p},g)=>{const E=reactExports.useRef(null),A=useMergedRefs$1(E,d),R=Z=>{A(safeFindDOMNode(Z))},I=Z=>Y=>{Z&&E.current&&Z(E.current,Y)},j=reactExports.useCallback(I(t),[t]),q=reactExports.useCallback(I(e),[e]),L=reactExports.useCallback(I(n),[n]),z=reactExports.useCallback(I(i),[i]),U=reactExports.useCallback(I(o),[o]),W=reactExports.useCallback(I(l),[l]),H=reactExports.useCallback(I(u),[u]);return jsxRuntimeExports.jsx(Transition,{ref:g,...p,onEnter:j,onEntered:L,onEntering:q,onExit:z,onExited:W,onExiting:U,addEndListener:H,nodeRef:E,children:typeof f=="function"?(Z,Y)=>f(Z,{...Y,ref:R}):React.cloneElement(f,{ref:R})})});function useCommittedRef$1(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t},[t]),e}function useEventCallback$1(t){const e=useCommittedRef$1(t);return reactExports.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const divWithClassName=t=>reactExports.forwardRef((e,n)=>jsxRuntimeExports.jsx("div",{...e,ref:n,className:classNames(e.className,t)})),DivStyledAsH4=divWithClassName("h4");DivStyledAsH4.displayName="DivStyledAsH4";const AlertHeading=reactExports.forwardRef(({className:t,bsPrefix:e,as:n=DivStyledAsH4,...i},o)=>(e=useBootstrapPrefix(e,"alert-heading"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));AlertHeading.displayName="AlertHeading";function useCallbackRef(){return reactExports.useState(null)}function useCommittedRef(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t},[t]),e}function useEventCallback(t){const e=useCommittedRef(t);return reactExports.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function useEventListener(t,e,n,i=!1){const o=useEventCallback(n);reactExports.useEffect(()=>{const l=typeof t=="function"?t():t;return l.addEventListener(e,o,i),()=>l.removeEventListener(e,o,i)},[t])}function useMounted(){const t=reactExports.useRef(!0),e=reactExports.useRef(()=>t.current);return reactExports.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function usePrevious$1(t){const e=reactExports.useRef(null);return reactExports.useEffect(()=>{e.current=t}),e.current}const isReactNative$2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",isDOM$1=typeof document<"u",useIsomorphicEffect$1=isDOM$1||isReactNative$2?reactExports.useLayoutEffect:reactExports.useEffect,_excluded$y=["as","disabled"];function _objectWithoutPropertiesLoose$y(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function isTrivialHref$1(t){return!t||t.trim()==="#"}function useButtonProps({tagName:t,disabled:e,href:n,target:i,rel:o,role:l,onClick:u,tabIndex:f=0,type:d}){t||(n!=null||i!=null||o!=null?t="a":t="button");const p={tagName:t};if(t==="button")return[{type:d||"button",disabled:e},p];const g=A=>{if((e||t==="a"&&isTrivialHref$1(n))&&A.preventDefault(),e){A.stopPropagation();return}u==null||u(A)},E=A=>{A.key===" "&&(A.preventDefault(),g(A))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:f,href:n,target:t==="a"?i:void 0,"aria-disabled":e||void 0,rel:t==="a"?o:void 0,onClick:g,onKeyDown:E},p]}const Button$1=reactExports.forwardRef((t,e)=>{let{as:n,disabled:i}=t,o=_objectWithoutPropertiesLoose$y(t,_excluded$y);const[l,{tagName:u}]=useButtonProps(Object.assign({tagName:n,disabled:i},o));return jsxRuntimeExports.jsx(u,Object.assign({},o,l,{ref:e}))});Button$1.displayName="Button";const _excluded$x=["onKeyDown"];function _objectWithoutPropertiesLoose$x(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function isTrivialHref(t){return!t||t.trim()==="#"}const Anchor=reactExports.forwardRef((t,e)=>{let{onKeyDown:n}=t,i=_objectWithoutPropertiesLoose$x(t,_excluded$x);const[o]=useButtonProps(Object.assign({tagName:"a"},i)),l=useEventCallback(u=>{o.onKeyDown(u),n==null||n(u)});return isTrivialHref(i.href)||i.role==="button"?jsxRuntimeExports.jsx("a",Object.assign({ref:e},i,o,{onKeyDown:l})):jsxRuntimeExports.jsx("a",Object.assign({ref:e},i,{onKeyDown:n}))});Anchor.displayName="Anchor";const AlertLink=reactExports.forwardRef(({className:t,bsPrefix:e,as:n=Anchor,...i},o)=>(e=useBootstrapPrefix(e,"alert-link"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));AlertLink.displayName="AlertLink";const fadeStyles={[ENTERING]:"show",[ENTERED]:"show"},Fade=reactExports.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...o},l)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},f=reactExports.useCallback((d,p)=>{triggerBrowserReflow(d),i==null||i(d,p)},[i]);return jsxRuntimeExports.jsx(TransitionWrapper,{ref:l,addEndListener:transitionEndListener,...u,onEnter:f,childRef:getChildRef(e),children:(d,p)=>reactExports.cloneElement(e,{...p,className:classNames("fade",t,e.props.className,fadeStyles[d],n[d])})})});Fade.displayName="Fade";const propTypes$2={"aria-label":PropTypes.string,onClick:PropTypes.func,variant:PropTypes.oneOf(["white"])},CloseButton=reactExports.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},o)=>jsxRuntimeExports.jsx("button",{ref:o,type:"button",className:classNames("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));CloseButton.displayName="CloseButton";CloseButton.propTypes=propTypes$2;const Alert=reactExports.forwardRef((t,e)=>{const{bsPrefix:n,show:i=!0,closeLabel:o="Close alert",closeVariant:l,className:u,children:f,variant:d="primary",onClose:p,dismissible:g,transition:E=Fade,...A}=useUncontrolled(t,{show:"onClose"}),R=useBootstrapPrefix(n,"alert"),I=useEventCallback$1(L=>{p&&p(!1,L)}),j=E===!0?Fade:E,q=jsxRuntimeExports.jsxs("div",{role:"alert",...j?void 0:A,ref:e,className:classNames(u,R,d&&`${R}-${d}`,g&&`${R}-dismissible`),children:[g&&jsxRuntimeExports.jsx(CloseButton,{onClick:I,"aria-label":o,variant:l}),f]});return j?jsxRuntimeExports.jsx(j,{unmountOnExit:!0,...A,ref:void 0,in:i,children:q}):i?q:null});Alert.displayName="Alert";const Alert$1=Object.assign(Alert,{Link:AlertLink,Heading:AlertHeading}),Button=reactExports.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:i,active:o=!1,disabled:l=!1,className:u,...f},d)=>{const p=useBootstrapPrefix(e,"btn"),[g,{tagName:E}]=useButtonProps({tagName:t,disabled:l,...f}),A=E;return jsxRuntimeExports.jsx(A,{...g,...f,ref:d,disabled:l,className:classNames(u,p,o&&"active",n&&`${p}-${n}`,i&&`${p}-${i}`,f.href&&l&&"disabled")})});Button.displayName="Button";const CardBody=reactExports.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},o)=>(e=useBootstrapPrefix(e,"card-body"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));CardBody.displayName="CardBody";const CardFooter=reactExports.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},o)=>(e=useBootstrapPrefix(e,"card-footer"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));CardFooter.displayName="CardFooter";const context$2=reactExports.createContext(null);context$2.displayName="CardHeaderContext";const CardHeader=reactExports.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},o)=>{const l=useBootstrapPrefix(t,"card-header"),u=reactExports.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return jsxRuntimeExports.jsx(context$2.Provider,{value:u,children:jsxRuntimeExports.jsx(n,{ref:o,...i,className:classNames(e,l)})})});CardHeader.displayName="CardHeader";const CardImg=reactExports.forwardRef(({bsPrefix:t,className:e,variant:n,as:i="img",...o},l)=>{const u=useBootstrapPrefix(t,"card-img");return jsxRuntimeExports.jsx(i,{ref:l,className:classNames(n?`${u}-${n}`:u,e),...o})});CardImg.displayName="CardImg";const CardImgOverlay=reactExports.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},o)=>(e=useBootstrapPrefix(e,"card-img-overlay"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));CardImgOverlay.displayName="CardImgOverlay";const CardLink=reactExports.forwardRef(({className:t,bsPrefix:e,as:n="a",...i},o)=>(e=useBootstrapPrefix(e,"card-link"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));CardLink.displayName="CardLink";const DivStyledAsH6=divWithClassName("h6"),CardSubtitle=reactExports.forwardRef(({className:t,bsPrefix:e,as:n=DivStyledAsH6,...i},o)=>(e=useBootstrapPrefix(e,"card-subtitle"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));CardSubtitle.displayName="CardSubtitle";const CardText=reactExports.forwardRef(({className:t,bsPrefix:e,as:n="p",...i},o)=>(e=useBootstrapPrefix(e,"card-text"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));CardText.displayName="CardText";const DivStyledAsH5$1=divWithClassName("h5"),CardTitle=reactExports.forwardRef(({className:t,bsPrefix:e,as:n=DivStyledAsH5$1,...i},o)=>(e=useBootstrapPrefix(e,"card-title"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));CardTitle.displayName="CardTitle";const Card=reactExports.forwardRef(({bsPrefix:t,className:e,bg:n,text:i,border:o,body:l=!1,children:u,as:f="div",...d},p)=>{const g=useBootstrapPrefix(t,"card");return jsxRuntimeExports.jsx(f,{ref:p,...d,className:classNames(e,g,n&&`bg-${n}`,i&&`text-${i}`,o&&`border-${o}`),children:l?jsxRuntimeExports.jsx(CardBody,{children:u}):u})});Card.displayName="Card";const Card$1=Object.assign(Card,{Img:CardImg,Title:CardTitle,Subtitle:CardSubtitle,Body:CardBody,Link:CardLink,Text:CardText,Header:CardHeader,Footer:CardFooter,ImgOverlay:CardImgOverlay});function hasChildOfType(t,e){return reactExports.Children.toArray(t).some(n=>reactExports.isValidElement(n)&&n.type===e)}function useCol({as:t,bsPrefix:e,className:n,...i}){e=useBootstrapPrefix(e,"col");const o=useBootstrapBreakpoints(),l=useBootstrapMinBreakpoint(),u=[],f=[];return o.forEach(d=>{const p=i[d];delete i[d];let g,E,A;typeof p=="object"&&p!=null?{span:g,offset:E,order:A}=p:g=p;const R=d!==l?`-${d}`:"";g&&u.push(g===!0?`${e}${R}`:`${e}${R}-${g}`),A!=null&&f.push(`order${R}-${A}`),E!=null&&f.push(`offset${R}-${E}`)}),[{...i,className:classNames(n,...u,...f)},{as:t,bsPrefix:e,spans:u}]}const Col=reactExports.forwardRef((t,e)=>{const[{className:n,...i},{as:o="div",bsPrefix:l,spans:u}]=useCol(t);return jsxRuntimeExports.jsx(o,{...i,ref:e,className:classNames(n,!u.length&&l)})});Col.displayName="Col";const Container=reactExports.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:i,...o},l)=>{const u=useBootstrapPrefix(t,"container"),f=typeof e=="string"?`-${e}`:"-fluid";return jsxRuntimeExports.jsx(n,{ref:l,...o,className:classNames(i,e?`${u}${f}`:u)})});Container.displayName="Container";var toArray$2=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(t,e){return toArray$2(t.querySelectorAll(e))}function useUncontrolledProp(t,e,n){const i=reactExports.useRef(t!==void 0),[o,l]=reactExports.useState(e),u=t!==void 0,f=i.current;return i.current=u,!u&&f&&o!==e&&l(e),[u?t:o,reactExports.useCallback((...d)=>{const[p,...g]=d;let E=n==null?void 0:n(p,...g);return l(p),E},[n])]}function useForceUpdate(){const[,t]=reactExports.useReducer(e=>e+1,0);return t}const DropdownContext$1=reactExports.createContext(null);var has=Object.prototype.hasOwnProperty;function find$1(t,e,n){for(n of t.keys())if(dequal(n,e))return n}function dequal(t,e){var n,i,o;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&dequal(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if(o=i,o&&typeof o=="object"&&(o=find$1(e,o),!o)||!e.has(o))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if(o=i[0],o&&typeof o=="object"&&(o=find$1(e,o),!o)||!dequal(i[1],e.get(o)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(has.call(t,n)&&++i&&!has.call(e,n)||!(n in e)||!dequal(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}function useSafeState(t){const e=useMounted();return[t[0],reactExports.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var top="top",bottom="bottom",right="right",left="left",auto$1="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(t,e){return t.concat([e+"-"+start,e+"-"+end])},[]),placements=[].concat(basePlacements,[auto$1]).reduce(function(t,e){return t.concat([e,e+"-"+start,e+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getBasePlacement(t){return t.split("-")[0]}function getWindow$1(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function isElement(t){var e=getWindow$1(t).Element;return t instanceof e||t instanceof Element}function isHTMLElement$2(t){var e=getWindow$1(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function isShadowRoot(t){if(typeof ShadowRoot>"u")return!1;var e=getWindow$1(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var max$2=Math.max,min$2=Math.min,round$1=Math.round;function getUAString(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),o=1,l=1;e&&isHTMLElement$2(t)&&(o=t.offsetWidth>0&&round$1(i.width)/t.offsetWidth||1,l=t.offsetHeight>0&&round$1(i.height)/t.offsetHeight||1);var u=isElement(t)?getWindow$1(t):window,f=u.visualViewport,d=!isLayoutViewport()&&n,p=(i.left+(d&&f?f.offsetLeft:0))/o,g=(i.top+(d&&f?f.offsetTop:0))/l,E=i.width/o,A=i.height/l;return{width:E,height:A,top:g,right:p+E,bottom:g+A,left:p,x:p,y:g}}function getLayoutRect(t){var e=getBoundingClientRect(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function contains$2(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&isShadowRoot(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function getNodeName(t){return t?(t.nodeName||"").toLowerCase():null}function getComputedStyle$2(t){return getWindow$1(t).getComputedStyle(t)}function isTableElement(t){return["table","td","th"].indexOf(getNodeName(t))>=0}function getDocumentElement(t){return((isElement(t)?t.ownerDocument:t.document)||window.document).documentElement}function getParentNode(t){return getNodeName(t)==="html"?t:t.assignedSlot||t.parentNode||(isShadowRoot(t)?t.host:null)||getDocumentElement(t)}function getTrueOffsetParent(t){return!isHTMLElement$2(t)||getComputedStyle$2(t).position==="fixed"?null:t.offsetParent}function getContainingBlock(t){var e=/firefox/i.test(getUAString()),n=/Trident/i.test(getUAString());if(n&&isHTMLElement$2(t)){var i=getComputedStyle$2(t);if(i.position==="fixed")return null}var o=getParentNode(t);for(isShadowRoot(o)&&(o=o.host);isHTMLElement$2(o)&&["html","body"].indexOf(getNodeName(o))<0;){var l=getComputedStyle$2(o);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return o;o=o.parentNode}return null}function getOffsetParent(t){for(var e=getWindow$1(t),n=getTrueOffsetParent(t);n&&isTableElement(n)&&getComputedStyle$2(n).position==="static";)n=getTrueOffsetParent(n);return n&&(getNodeName(n)==="html"||getNodeName(n)==="body"&&getComputedStyle$2(n).position==="static")?e:n||getContainingBlock(t)||e}function getMainAxisFromPlacement(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function within(t,e,n){return max$2(t,min$2(e,n))}function withinMaxClamp(t,e,n){var i=within(t,e,n);return i>n?n:i}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(t){return Object.assign({},getFreshSideObject(),t)}function expandToHashMap(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var toPaddingObject=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,mergePaddingObject(typeof e!="number"?e:expandToHashMap(e,basePlacements))};function arrow(t){var e,n=t.state,i=t.name,o=t.options,l=n.elements.arrow,u=n.modifiersData.popperOffsets,f=getBasePlacement(n.placement),d=getMainAxisFromPlacement(f),p=[left,right].indexOf(f)>=0,g=p?"height":"width";if(!(!l||!u)){var E=toPaddingObject(o.padding,n),A=getLayoutRect(l),R=d==="y"?top:left,I=d==="y"?bottom:right,j=n.rects.reference[g]+n.rects.reference[d]-u[d]-n.rects.popper[g],q=u[d]-n.rects.reference[d],L=getOffsetParent(l),z=L?d==="y"?L.clientHeight||0:L.clientWidth||0:0,U=j/2-q/2,W=E[R],H=z-A[g]-E[I],Z=z/2-A[g]/2+U,Y=within(W,Z,H),J=d;n.modifiersData[i]=(e={},e[J]=Y,e.centerOffset=Y-Z,e)}}function effect$1(t){var e=t.state,n=t.options,i=n.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||contains$2(e.elements.popper,o)&&(e.elements.arrow=o))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(t){return t.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(t,e){var n=t.x,i=t.y,o=e.devicePixelRatio||1;return{x:round$1(n*o)/o||0,y:round$1(i*o)/o||0}}function mapToStyles(t){var e,n=t.popper,i=t.popperRect,o=t.placement,l=t.variation,u=t.offsets,f=t.position,d=t.gpuAcceleration,p=t.adaptive,g=t.roundOffsets,E=t.isFixed,A=u.x,R=A===void 0?0:A,I=u.y,j=I===void 0?0:I,q=typeof g=="function"?g({x:R,y:j}):{x:R,y:j};R=q.x,j=q.y;var L=u.hasOwnProperty("x"),z=u.hasOwnProperty("y"),U=left,W=top,H=window;if(p){var Z=getOffsetParent(n),Y="clientHeight",J="clientWidth";if(Z===getWindow$1(n)&&(Z=getDocumentElement(n),getComputedStyle$2(Z).position!=="static"&&f==="absolute"&&(Y="scrollHeight",J="scrollWidth")),Z=Z,o===top||(o===left||o===right)&&l===end){W=bottom;var ne=E&&Z===H&&H.visualViewport?H.visualViewport.height:Z[Y];j-=ne-i.height,j*=d?1:-1}if(o===left||(o===top||o===bottom)&&l===end){U=right;var ae=E&&Z===H&&H.visualViewport?H.visualViewport.width:Z[J];R-=ae-i.width,R*=d?1:-1}}var se=Object.assign({position:f},p&&unsetSides),ue=g===!0?roundOffsetsByDPR({x:R,y:j},getWindow$1(n)):{x:R,y:j};if(R=ue.x,j=ue.y,d){var fe;return Object.assign({},se,(fe={},fe[W]=z?"0":"",fe[U]=L?"0":"",fe.transform=(H.devicePixelRatio||1)<=1?"translate("+R+"px, "+j+"px)":"translate3d("+R+"px, "+j+"px, 0)",fe))}return Object.assign({},se,(e={},e[W]=z?j+"px":"",e[U]=L?R+"px":"",e.transform="",e))}function computeStyles(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=i===void 0?!0:i,l=n.adaptive,u=l===void 0?!0:l,f=n.roundOffsets,d=f===void 0?!0:f,p={placement:getBasePlacement(e.placement),variation:getVariation(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mapToStyles(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mapToStyles(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,l=o===void 0?!0:o,u=i.resize,f=u===void 0?!0:u,d=getWindow$1(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&p.forEach(function(g){g.addEventListener("scroll",n.update,passive)}),f&&d.addEventListener("resize",n.update,passive),function(){l&&p.forEach(function(g){g.removeEventListener("scroll",n.update,passive)}),f&&d.removeEventListener("resize",n.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,function(e){return hash$1[e]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(t){return t.replace(/start|end/g,function(e){return hash[e]})}function getWindowScroll(t){var e=getWindow$1(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function getWindowScrollBarX(t){return getBoundingClientRect(getDocumentElement(t)).left+getWindowScroll(t).scrollLeft}function getViewportRect(t,e){var n=getWindow$1(t),i=getDocumentElement(t),o=n.visualViewport,l=i.clientWidth,u=i.clientHeight,f=0,d=0;if(o){l=o.width,u=o.height;var p=isLayoutViewport();(p||!p&&e==="fixed")&&(f=o.offsetLeft,d=o.offsetTop)}return{width:l,height:u,x:f+getWindowScrollBarX(t),y:d}}function getDocumentRect(t){var e,n=getDocumentElement(t),i=getWindowScroll(t),o=(e=t.ownerDocument)==null?void 0:e.body,l=max$2(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),u=max$2(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),f=-i.scrollLeft+getWindowScrollBarX(t),d=-i.scrollTop;return getComputedStyle$2(o||n).direction==="rtl"&&(f+=max$2(n.clientWidth,o?o.clientWidth:0)-l),{width:l,height:u,x:f,y:d}}function isScrollParent(t){var e=getComputedStyle$2(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function getScrollParent(t){return["html","body","#document"].indexOf(getNodeName(t))>=0?t.ownerDocument.body:isHTMLElement$2(t)&&isScrollParent(t)?t:getScrollParent(getParentNode(t))}function listScrollParents(t,e){var n;e===void 0&&(e=[]);var i=getScrollParent(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),l=getWindow$1(i),u=o?[l].concat(l.visualViewport||[],isScrollParent(i)?i:[]):i,f=e.concat(u);return o?f:f.concat(listScrollParents(getParentNode(u)))}function rectToClientRect(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function getInnerBoundingClientRect(t,e){var n=getBoundingClientRect(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function getClientRectFromMixedType(t,e,n){return e===viewport?rectToClientRect(getViewportRect(t,n)):isElement(e)?getInnerBoundingClientRect(e,n):rectToClientRect(getDocumentRect(getDocumentElement(t)))}function getClippingParents(t){var e=listScrollParents(getParentNode(t)),n=["absolute","fixed"].indexOf(getComputedStyle$2(t).position)>=0,i=n&&isHTMLElement$2(t)?getOffsetParent(t):t;return isElement(i)?e.filter(function(o){return isElement(o)&&contains$2(o,i)&&getNodeName(o)!=="body"}):[]}function getClippingRect(t,e,n,i){var o=e==="clippingParents"?getClippingParents(t):[].concat(e),l=[].concat(o,[n]),u=l[0],f=l.reduce(function(d,p){var g=getClientRectFromMixedType(t,p,i);return d.top=max$2(g.top,d.top),d.right=min$2(g.right,d.right),d.bottom=min$2(g.bottom,d.bottom),d.left=max$2(g.left,d.left),d},getClientRectFromMixedType(t,u,i));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function computeOffsets(t){var e=t.reference,n=t.element,i=t.placement,o=i?getBasePlacement(i):null,l=i?getVariation(i):null,u=e.x+e.width/2-n.width/2,f=e.y+e.height/2-n.height/2,d;switch(o){case top:d={x:u,y:e.y-n.height};break;case bottom:d={x:u,y:e.y+e.height};break;case right:d={x:e.x+e.width,y:f};break;case left:d={x:e.x-n.width,y:f};break;default:d={x:e.x,y:e.y}}var p=o?getMainAxisFromPlacement(o):null;if(p!=null){var g=p==="y"?"height":"width";switch(l){case start:d[p]=d[p]-(e[g]/2-n[g]/2);break;case end:d[p]=d[p]+(e[g]/2-n[g]/2);break}}return d}function detectOverflow(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=i===void 0?t.placement:i,l=n.strategy,u=l===void 0?t.strategy:l,f=n.boundary,d=f===void 0?clippingParents:f,p=n.rootBoundary,g=p===void 0?viewport:p,E=n.elementContext,A=E===void 0?popper:E,R=n.altBoundary,I=R===void 0?!1:R,j=n.padding,q=j===void 0?0:j,L=mergePaddingObject(typeof q!="number"?q:expandToHashMap(q,basePlacements)),z=A===popper?reference:popper,U=t.rects.popper,W=t.elements[I?z:A],H=getClippingRect(isElement(W)?W:W.contextElement||getDocumentElement(t.elements.popper),d,g,u),Z=getBoundingClientRect(t.elements.reference),Y=computeOffsets({reference:Z,element:U,placement:o}),J=rectToClientRect(Object.assign({},U,Y)),ne=A===popper?J:Z,ae={top:H.top-ne.top+L.top,bottom:ne.bottom-H.bottom+L.bottom,left:H.left-ne.left+L.left,right:ne.right-H.right+L.right},se=t.modifiersData.offset;if(A===popper&&se){var ue=se[o];Object.keys(ae).forEach(function(fe){var _e=[right,bottom].indexOf(fe)>=0?1:-1,ge=[top,bottom].indexOf(fe)>=0?"y":"x";ae[fe]+=ue[ge]*_e})}return ae}function computeAutoPlacement(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=n.boundary,l=n.rootBoundary,u=n.padding,f=n.flipVariations,d=n.allowedAutoPlacements,p=d===void 0?placements:d,g=getVariation(i),E=g?f?variationPlacements:variationPlacements.filter(function(I){return getVariation(I)===g}):basePlacements,A=E.filter(function(I){return p.indexOf(I)>=0});A.length===0&&(A=E);var R=A.reduce(function(I,j){return I[j]=detectOverflow(t,{placement:j,boundary:o,rootBoundary:l,padding:u})[getBasePlacement(j)],I},{});return Object.keys(R).sort(function(I,j){return R[I]-R[j]})}function getExpandedFallbackPlacements(t){if(getBasePlacement(t)===auto$1)return[];var e=getOppositePlacement(t);return[getOppositeVariationPlacement(t),e,getOppositeVariationPlacement(e)]}function flip(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,l=o===void 0?!0:o,u=n.altAxis,f=u===void 0?!0:u,d=n.fallbackPlacements,p=n.padding,g=n.boundary,E=n.rootBoundary,A=n.altBoundary,R=n.flipVariations,I=R===void 0?!0:R,j=n.allowedAutoPlacements,q=e.options.placement,L=getBasePlacement(q),z=L===q,U=d||(z||!I?[getOppositePlacement(q)]:getExpandedFallbackPlacements(q)),W=[q].concat(U).reduce(function(Ae,Ce){return Ae.concat(getBasePlacement(Ce)===auto$1?computeAutoPlacement(e,{placement:Ce,boundary:g,rootBoundary:E,padding:p,flipVariations:I,allowedAutoPlacements:j}):Ce)},[]),H=e.rects.reference,Z=e.rects.popper,Y=new Map,J=!0,ne=W[0],ae=0;ae<W.length;ae++){var se=W[ae],ue=getBasePlacement(se),fe=getVariation(se)===start,_e=[top,bottom].indexOf(ue)>=0,ge=_e?"width":"height",ce=detectOverflow(e,{placement:se,boundary:g,rootBoundary:E,altBoundary:A,padding:p}),me=_e?fe?right:left:fe?bottom:top;H[ge]>Z[ge]&&(me=getOppositePlacement(me));var ee=getOppositePlacement(me),ie=[];if(l&&ie.push(ce[ue]<=0),f&&ie.push(ce[me]<=0,ce[ee]<=0),ie.every(function(Ae){return Ae})){ne=se,J=!1;break}Y.set(se,ie)}if(J)for(var oe=I?3:1,de=function(Ce){var Oe=W.find(function(We){var qe=Y.get(We);if(qe)return qe.slice(0,Ce).every(function(Ne){return Ne})});if(Oe)return ne=Oe,"break"},xe=oe;xe>0;xe--){var Ee=de(xe);if(Ee==="break")break}e.placement!==ne&&(e.modifiersData[i]._skip=!0,e.placement=ne,e.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function isAnySideFullyClipped(t){return[top,right,bottom,left].some(function(e){return t[e]>=0})}function hide(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,l=e.modifiersData.preventOverflow,u=detectOverflow(e,{elementContext:"reference"}),f=detectOverflow(e,{altBoundary:!0}),d=getSideOffsets(u,i),p=getSideOffsets(f,o,l),g=isAnySideFullyClipped(d),E=isAnySideFullyClipped(p);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:E},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":E})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(t,e,n){var i=getBasePlacement(t),o=[left,top].indexOf(i)>=0?-1:1,l=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=l[0],f=l[1];return u=u||0,f=(f||0)*o,[left,right].indexOf(i)>=0?{x:f,y:u}:{x:u,y:f}}function offset(t){var e=t.state,n=t.options,i=t.name,o=n.offset,l=o===void 0?[0,0]:o,u=placements.reduce(function(g,E){return g[E]=distanceAndSkiddingToXY(E,e.rects,l),g},{}),f=u[e.placement],d=f.x,p=f.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=p),e.modifiersData[i]=u}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(t){var e=t.state,n=t.name;e.modifiersData[n]=computeOffsets({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(t){return t==="x"?"y":"x"}function preventOverflow(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,l=o===void 0?!0:o,u=n.altAxis,f=u===void 0?!1:u,d=n.boundary,p=n.rootBoundary,g=n.altBoundary,E=n.padding,A=n.tether,R=A===void 0?!0:A,I=n.tetherOffset,j=I===void 0?0:I,q=detectOverflow(e,{boundary:d,rootBoundary:p,padding:E,altBoundary:g}),L=getBasePlacement(e.placement),z=getVariation(e.placement),U=!z,W=getMainAxisFromPlacement(L),H=getAltAxis(W),Z=e.modifiersData.popperOffsets,Y=e.rects.reference,J=e.rects.popper,ne=typeof j=="function"?j(Object.assign({},e.rects,{placement:e.placement})):j,ae=typeof ne=="number"?{mainAxis:ne,altAxis:ne}:Object.assign({mainAxis:0,altAxis:0},ne),se=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ue={x:0,y:0};if(Z){if(l){var fe,_e=W==="y"?top:left,ge=W==="y"?bottom:right,ce=W==="y"?"height":"width",me=Z[W],ee=me+q[_e],ie=me-q[ge],oe=R?-J[ce]/2:0,de=z===start?Y[ce]:J[ce],xe=z===start?-J[ce]:-Y[ce],Ee=e.elements.arrow,Ae=R&&Ee?getLayoutRect(Ee):{width:0,height:0},Ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Oe=Ce[_e],We=Ce[ge],qe=within(0,Y[ce],Ae[ce]),Ne=U?Y[ce]/2-oe-qe-Oe-ae.mainAxis:de-qe-Oe-ae.mainAxis,Me=U?-Y[ce]/2+oe+qe+We+ae.mainAxis:xe+qe+We+ae.mainAxis,Be=e.elements.arrow&&getOffsetParent(e.elements.arrow),je=Be?W==="y"?Be.clientTop||0:Be.clientLeft||0:0,ze=(fe=se==null?void 0:se[W])!=null?fe:0,ke=me+Ne-ze-je,Ge=me+Me-ze,He=within(R?min$2(ee,ke):ee,me,R?max$2(ie,Ge):ie);Z[W]=He,ue[W]=He-me}if(f){var ct,tr=W==="x"?top:left,ar=W==="x"?bottom:right,vt=Z[H],xt=H==="y"?"height":"width",ur=vt+q[tr],yr=vt-q[ar],Mt=[top,left].indexOf(L)!==-1,Sr=(ct=se==null?void 0:se[H])!=null?ct:0,Lt=Mt?ur:vt-Y[xt]-J[xt]-Sr+ae.altAxis,Ft=Mt?vt+Y[xt]+J[xt]-Sr-ae.altAxis:yr,_r=R&&Mt?withinMaxClamp(Lt,vt,Ft):within(R?Lt:ur,vt,R?Ft:yr);Z[H]=_r,ue[H]=_r-vt}e.modifiersData[i]=ue}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function getNodeScroll(t){return t===getWindow$1(t)||!isHTMLElement$2(t)?getWindowScroll(t):getHTMLElementScroll(t)}function isElementScaled(t){var e=t.getBoundingClientRect(),n=round$1(e.width)/t.offsetWidth||1,i=round$1(e.height)/t.offsetHeight||1;return n!==1||i!==1}function getCompositeRect(t,e,n){n===void 0&&(n=!1);var i=isHTMLElement$2(e),o=isHTMLElement$2(e)&&isElementScaled(e),l=getDocumentElement(e),u=getBoundingClientRect(t,o,n),f={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!n)&&((getNodeName(e)!=="body"||isScrollParent(l))&&(f=getNodeScroll(e)),isHTMLElement$2(e)?(d=getBoundingClientRect(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):l&&(d.x=getWindowScrollBarX(l))),{x:u.left+f.scrollLeft-d.x,y:u.top+f.scrollTop-d.y,width:u.width,height:u.height}}function order(t){var e=new Map,n=new Set,i=[];t.forEach(function(l){e.set(l.name,l)});function o(l){n.add(l.name);var u=[].concat(l.requires||[],l.requiresIfExists||[]);u.forEach(function(f){if(!n.has(f)){var d=e.get(f);d&&o(d)}}),i.push(l)}return t.forEach(function(l){n.has(l.name)||o(l)}),i}function orderModifiers(t){var e=order(t);return modifierPhases.reduce(function(n,i){return n.concat(e.filter(function(o){return o.phase===i}))},[])}function debounce(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function mergeByName(t){var e=t.reduce(function(n,i){var o=n[i.name];return n[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function popperGenerator(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,o=e.defaultOptions,l=o===void 0?DEFAULT_OPTIONS:o;return function(f,d,p){p===void 0&&(p=l);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,l),modifiersData:{},elements:{reference:f,popper:d},attributes:{},styles:{}},E=[],A=!1,R={state:g,setOptions:function(L){var z=typeof L=="function"?L(g.options):L;j(),g.options=Object.assign({},l,g.options,z),g.scrollParents={reference:isElement(f)?listScrollParents(f):f.contextElement?listScrollParents(f.contextElement):[],popper:listScrollParents(d)};var U=orderModifiers(mergeByName([].concat(i,g.options.modifiers)));return g.orderedModifiers=U.filter(function(W){return W.enabled}),I(),R.update()},forceUpdate:function(){if(!A){var L=g.elements,z=L.reference,U=L.popper;if(areValidElements(z,U)){g.rects={reference:getCompositeRect(z,getOffsetParent(U),g.options.strategy==="fixed"),popper:getLayoutRect(U)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(ae){return g.modifiersData[ae.name]=Object.assign({},ae.data)});for(var W=0;W<g.orderedModifiers.length;W++){if(g.reset===!0){g.reset=!1,W=-1;continue}var H=g.orderedModifiers[W],Z=H.fn,Y=H.options,J=Y===void 0?{}:Y,ne=H.name;typeof Z=="function"&&(g=Z({state:g,options:J,name:ne,instance:R})||g)}}}},update:debounce(function(){return new Promise(function(q){R.forceUpdate(),q(g)})}),destroy:function(){j(),A=!0}};if(!areValidElements(f,d))return R;R.setOptions(p).then(function(q){!A&&p.onFirstUpdate&&p.onFirstUpdate(q)});function I(){g.orderedModifiers.forEach(function(q){var L=q.name,z=q.options,U=z===void 0?{}:z,W=q.effect;if(typeof W=="function"){var H=W({state:g,name:L,instance:R,options:U}),Z=function(){};E.push(H||Z)}})}function j(){E.forEach(function(q){return q()}),E=[]}return R}}const createPopper=popperGenerator({defaultModifiers:[hide$1,popperOffsets$1,computeStyles$1,eventListeners,offset$1,flip$1,preventOverflow$1,arrow$1]}),_excluded$w=["enabled","placement","strategy","modifiers"];function _objectWithoutPropertiesLoose$w(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const disabledApplyStylesModifier={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ariaDescribedByModifier={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const i=(e.getAttribute("aria-describedby")||"").split(",").filter(o=>o.trim()!==n.id);i.length?e.setAttribute("aria-describedby",i.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:i}=t.elements,o=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&o==="tooltip"&&"setAttribute"in i){const l=i.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(n.id)!==-1)return;i.setAttribute("aria-describedby",l?`${l},${n.id}`:n.id)}}},EMPTY_MODIFIERS=[];function usePopper(t,e,n={}){let{enabled:i=!0,placement:o="bottom",strategy:l="absolute",modifiers:u=EMPTY_MODIFIERS}=n,f=_objectWithoutPropertiesLoose$w(n,_excluded$w);const d=reactExports.useRef(u),p=reactExports.useRef(),g=reactExports.useCallback(()=>{var q;(q=p.current)==null||q.update()},[]),E=reactExports.useCallback(()=>{var q;(q=p.current)==null||q.forceUpdate()},[]),[A,R]=useSafeState(reactExports.useState({placement:o,update:g,forceUpdate:E,attributes:{},styles:{popper:{},arrow:{}}})),I=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:q})=>{const L={},z={};Object.keys(q.elements).forEach(U=>{L[U]=q.styles[U],z[U]=q.attributes[U]}),R({state:q,styles:L,attributes:z,update:g,forceUpdate:E,placement:q.placement})}}),[g,E,R]),j=reactExports.useMemo(()=>(dequal(d.current,u)||(d.current=u),d.current),[u]);return reactExports.useEffect(()=>{!p.current||!i||p.current.setOptions({placement:o,strategy:l,modifiers:[...j,I,disabledApplyStylesModifier]})},[l,o,I,i,j]),reactExports.useEffect(()=>{if(!(!i||t==null||e==null))return p.current=createPopper(t,e,Object.assign({},f,{placement:o,strategy:l,modifiers:[...j,ariaDescribedByModifier,I]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,R(q=>Object.assign({},q,{attributes:{},styles:{popper:{}}})))}},[i,t,e]),A}function contains$1(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var t=function(){};return warning_1=t,warning_1}var warningExports=requireWarning();const warning=getDefaultExportFromCjs(warningExports),noop$8=()=>{};function isLeftClickEvent(t){return t.button===0}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const getRefTarget=t=>t&&("current"in t?t.current:t),InitialTriggerEvents={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function useClickOutside(t,e=noop$8,{disabled:n,clickTrigger:i="click"}={}){const o=reactExports.useRef(!1),l=reactExports.useRef(!1),u=reactExports.useCallback(p=>{const g=getRefTarget(t);warning(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!g||isModifiedEvent(p)||!isLeftClickEvent(p)||!!contains$1(g,p.target)||l.current,l.current=!1},[t]),f=useEventCallback(p=>{const g=getRefTarget(t);g&&contains$1(g,p.target)?l.current=!0:l.current=!1}),d=useEventCallback(p=>{o.current||e(p)});reactExports.useEffect(()=>{var p,g;if(n||t==null)return;const E=ownerDocument(getRefTarget(t)),A=E.defaultView||window;let R=(p=A.event)!=null?p:(g=A.parent)==null?void 0:g.event,I=null;InitialTriggerEvents[i]&&(I=listen(E,InitialTriggerEvents[i],f,!0));const j=listen(E,i,u,!0),q=listen(E,i,z=>{if(z===R){R=void 0;return}d(z)});let L=[];return"ontouchstart"in E.documentElement&&(L=[].slice.call(E.body.children).map(z=>listen(z,"mousemove",noop$8))),()=>{I==null||I(),j(),q(),L.forEach(z=>z())}},[t,n,i,u,f,d])}function toModifierMap(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function toModifierArray(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function mergeOptionsWithPopperConfig({enabled:t,enableEvents:e,placement:n,flip:i,offset:o,fixed:l,containerPadding:u,arrowElement:f,popperConfig:d={}}){var p,g,E,A,R;const I=toModifierMap(d.modifiers);return Object.assign({},d,{placement:n,enabled:t,strategy:l?"fixed":d.strategy,modifiers:toModifierArray(Object.assign({},I,{eventListeners:{enabled:e,options:(p=I.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},I.preventOverflow,{options:u?Object.assign({padding:u},(g=I.preventOverflow)==null?void 0:g.options):(E=I.preventOverflow)==null?void 0:E.options}),offset:{options:Object.assign({offset:o},(A=I.offset)==null?void 0:A.options)},arrow:Object.assign({},I.arrow,{enabled:!!f,options:Object.assign({},(R=I.arrow)==null?void 0:R.options,{element:f})}),flip:Object.assign({enabled:!!i},I.flip)}))})}const _excluded$v=["children","usePopper"];function _objectWithoutPropertiesLoose$v(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const noop$7=()=>{};function useDropdownMenu(t={}){const e=reactExports.useContext(DropdownContext$1),[n,i]=useCallbackRef(),o=reactExports.useRef(!1),{flip:l,offset:u,rootCloseEvent:f,fixed:d=!1,placement:p,popperConfig:g={},enableEventListeners:E=!0,usePopper:A=!!e}=t,R=(e==null?void 0:e.show)==null?!!t.show:e.show;R&&!o.current&&(o.current=!0);const I=Z=>{e==null||e.toggle(!1,Z)},{placement:j,setMenu:q,menuElement:L,toggleElement:z}=e||{},U=usePopper(z,L,mergeOptionsWithPopperConfig({placement:p||j||"bottom-start",enabled:A,enableEvents:E??R,offset:u,flip:l,fixed:d,arrowElement:n,popperConfig:g})),W=Object.assign({ref:q||noop$7,"aria-labelledby":z==null?void 0:z.id},U.attributes.popper,{style:U.styles.popper}),H={show:R,placement:j,hasShown:o.current,toggle:e==null?void 0:e.toggle,popper:A?U:null,arrowProps:A?Object.assign({ref:i},U.attributes.arrow,{style:U.styles.arrow}):{}};return useClickOutside(L,I,{clickTrigger:f,disabled:!R}),[W,H]}function DropdownMenu$1(t){let{children:e,usePopper:n=!0}=t,i=_objectWithoutPropertiesLoose$v(t,_excluded$v);const[o,l]=useDropdownMenu(Object.assign({},i,{usePopper:n}));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e(o,l)})}DropdownMenu$1.displayName="DropdownMenu";const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React.createContext(!1);let $b5e257d569688ac6$var$canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),$b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(t=!1){let e=reactExports.useContext($b5e257d569688ac6$var$SSRContext),n=reactExports.useRef(null);if(n.current===null&&!t){var i,o;let l=(o=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||o===void 0||(i=o.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(l){let u=$b5e257d569688ac6$var$componentIds.get(l);u==null?$b5e257d569688ac6$var$componentIds.set(l,{id:e.current,state:l.memoizedState}):l.memoizedState!==u.state&&(e.current=u.id,$b5e257d569688ac6$var$componentIds.delete(l))}n.current=++e.current}return n.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(t){let e=reactExports.useContext($b5e257d569688ac6$var$SSRContext);e===$b5e257d569688ac6$var$defaultContext&&!$b5e257d569688ac6$var$canUseDOM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=$b5e257d569688ac6$var$useCounter(!!t),i=`react-aria${e.prefix}`;return t||`${i}-${n}`}function $b5e257d569688ac6$var$useModernSSRSafeId(t){let e=React.useId(),[n]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),i=n?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return t||`${i}-${e}`}const $b5e257d569688ac6$export$619500959fc48b26=typeof React.useId=="function"?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(t){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React.useSyncExternalStore=="function"?React.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}const isRoleMenu=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},noop$6=()=>{};function useDropdownToggle(){const t=$b5e257d569688ac6$export$619500959fc48b26(),{show:e=!1,toggle:n=noop$6,setToggle:i,menuElement:o}=reactExports.useContext(DropdownContext$1)||{},l=reactExports.useCallback(f=>{n(!e,f)},[e,n]),u={id:t,ref:i||noop$6,onClick:l,"aria-expanded":!!e};return o&&isRoleMenu(o)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:n}]}function DropdownToggle$1({children:t}){const[e,n]=useDropdownToggle();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t(e,n)})}DropdownToggle$1.displayName="DropdownToggle";const SelectableContext=reactExports.createContext(null),makeEventKey=(t,e=null)=>t!=null?String(t):e||null,NavContext=reactExports.createContext(null);NavContext.displayName="NavContext";const ATTRIBUTE_PREFIX="data-rr-ui-",PROPERTY_PREFIX="rrUi";function dataAttr(t){return`${ATTRIBUTE_PREFIX}${t}`}function dataProp(t){return`${PROPERTY_PREFIX}${t}`}const _excluded$u=["eventKey","disabled","onClick","active","as"];function _objectWithoutPropertiesLoose$u(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function useDropdownItem({key:t,href:e,active:n,disabled:i,onClick:o}){const l=reactExports.useContext(SelectableContext),u=reactExports.useContext(NavContext),{activeKey:f}=u||{},d=makeEventKey(t,e),p=n==null&&t!=null?makeEventKey(f)===d:n;return[{onClick:useEventCallback(E=>{i||(o==null||o(E),l&&!E.isPropagationStopped()&&l(d,E))}),"aria-disabled":i||void 0,"aria-selected":p,[dataAttr("dropdown-item")]:""},{isActive:p}]}const DropdownItem$1=reactExports.forwardRef((t,e)=>{let{eventKey:n,disabled:i,onClick:o,active:l,as:u=Button$1}=t,f=_objectWithoutPropertiesLoose$u(t,_excluded$u);const[d]=useDropdownItem({key:n,href:f.href,disabled:i,onClick:o,active:l});return jsxRuntimeExports.jsx(u,Object.assign({},f,{ref:e},d))});DropdownItem$1.displayName="DropdownItem";const Context$1=reactExports.createContext(canUseDOM$1?window:void 0);Context$1.Provider;function useWindow(){return reactExports.useContext(Context$1)}function useRefWithUpdate(){const t=useForceUpdate(),e=reactExports.useRef(null),n=reactExports.useCallback(i=>{e.current=i,t()},[t]);return[e,n]}function Dropdown$2({defaultShow:t,show:e,onSelect:n,onToggle:i,itemSelector:o=`* [${dataAttr("dropdown-item")}]`,focusFirstItemOnShow:l,placement:u="bottom-start",children:f}){const d=useWindow(),[p,g]=useUncontrolledProp(e,t,i),[E,A]=useRefWithUpdate(),R=E.current,[I,j]=useRefWithUpdate(),q=I.current,L=usePrevious$1(p),z=reactExports.useRef(null),U=reactExports.useRef(!1),W=reactExports.useContext(SelectableContext),H=reactExports.useCallback((se,ue,fe=ue==null?void 0:ue.type)=>{g(se,{originalEvent:ue,source:fe})},[g]),Z=useEventCallback((se,ue)=>{n==null||n(se,ue),H(!1,ue,"select"),ue.isPropagationStopped()||W==null||W(se,ue)}),Y=reactExports.useMemo(()=>({toggle:H,placement:u,show:p,menuElement:R,toggleElement:q,setMenu:A,setToggle:j}),[H,u,p,R,q,A,j]);R&&L&&!p&&(U.current=R.contains(R.ownerDocument.activeElement));const J=useEventCallback(()=>{q&&q.focus&&q.focus()}),ne=useEventCallback(()=>{const se=z.current;let ue=l;if(ue==null&&(ue=E.current&&isRoleMenu(E.current)?"keyboard":!1),ue===!1||ue==="keyboard"&&!/^key.+$/.test(se))return;const fe=qsa(E.current,o)[0];fe&&fe.focus&&fe.focus()});reactExports.useEffect(()=>{p?ne():U.current&&(U.current=!1,J())},[p,U,J,ne]),reactExports.useEffect(()=>{z.current=null});const ae=(se,ue)=>{if(!E.current)return null;const fe=qsa(E.current,o);let _e=fe.indexOf(se)+ue;return _e=Math.max(0,Math.min(_e,fe.length)),fe[_e]};return useEventListener(reactExports.useCallback(()=>d.document,[d]),"keydown",se=>{var ue,fe;const{key:_e}=se,ge=se.target,ce=(ue=E.current)==null?void 0:ue.contains(ge),me=(fe=I.current)==null?void 0:fe.contains(ge);if(/input|textarea/i.test(ge.tagName)&&(_e===" "||_e!=="Escape"&&ce||_e==="Escape"&&ge.type==="search")||!ce&&!me||_e==="Tab"&&(!E.current||!p))return;z.current=se.type;const ie={originalEvent:se,source:se.type};switch(_e){case"ArrowUp":{const oe=ae(ge,-1);oe&&oe.focus&&oe.focus(),se.preventDefault();return}case"ArrowDown":if(se.preventDefault(),!p)g(!0,ie);else{const oe=ae(ge,1);oe&&oe.focus&&oe.focus()}return;case"Tab":addEventListener$1(ge.ownerDocument,"keyup",oe=>{var de;(oe.key==="Tab"&&!oe.target||!((de=E.current)!=null&&de.contains(oe.target)))&&g(!1,ie)},{once:!0});break;case"Escape":_e==="Escape"&&(se.preventDefault(),se.stopPropagation()),g(!1,ie);break}}),jsxRuntimeExports.jsx(SelectableContext.Provider,{value:Z,children:jsxRuntimeExports.jsx(DropdownContext$1.Provider,{value:Y,children:f})})}Dropdown$2.displayName="Dropdown";Dropdown$2.Menu=DropdownMenu$1;Dropdown$2.Toggle=DropdownToggle$1;Dropdown$2.Item=DropdownItem$1;const DropdownContext=reactExports.createContext({});DropdownContext.displayName="DropdownContext";const DropdownDivider=reactExports.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:i="separator",...o},l)=>(e=useBootstrapPrefix(e,"dropdown-divider"),jsxRuntimeExports.jsx(n,{ref:l,className:classNames(t,e),role:i,...o})));DropdownDivider.displayName="DropdownDivider";const DropdownHeader=reactExports.forwardRef(({className:t,bsPrefix:e,as:n="div",role:i="heading",...o},l)=>(e=useBootstrapPrefix(e,"dropdown-header"),jsxRuntimeExports.jsx(n,{ref:l,className:classNames(t,e),role:i,...o})));DropdownHeader.displayName="DropdownHeader";const DropdownItem=reactExports.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:i=!1,onClick:o,active:l,as:u=Anchor,...f},d)=>{const p=useBootstrapPrefix(t,"dropdown-item"),[g,E]=useDropdownItem({key:n,href:f.href,disabled:i,onClick:o,active:l});return jsxRuntimeExports.jsx(u,{...f,...g,ref:d,className:classNames(e,p,E.isActive&&"active",i&&"disabled")})});DropdownItem.displayName="DropdownItem";const DropdownItemText=reactExports.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},o)=>(e=useBootstrapPrefix(e,"dropdown-item-text"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));DropdownItemText.displayName="DropdownItemText";const isReactNative$1=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",isDOM=typeof document<"u",useIsomorphicEffect=isDOM||isReactNative$1?reactExports.useLayoutEffect:reactExports.useEffect,context$1=reactExports.createContext(null);context$1.displayName="InputGroupContext";const context=reactExports.createContext(null);context.displayName="NavbarContext";function useWrappedRefWithWarning(t,e){return t}function getDropdownMenuPlacement(t,e,n){const i=n?"top-end":"top-start",o=n?"top-start":"top-end",l=n?"bottom-end":"bottom-start",u=n?"bottom-start":"bottom-end",f=n?"right-start":"left-start",d=n?"right-end":"left-end",p=n?"left-start":"right-start",g=n?"left-end":"right-end";let E=t?u:l;return e==="up"?E=t?o:i:e==="end"?E=t?g:p:e==="start"?E=t?d:f:e==="down-centered"?E="bottom":e==="up-centered"&&(E="top"),E}const DropdownMenu=reactExports.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:i,flip:o=!0,show:l,renderOnMount:u,as:f="div",popperConfig:d,variant:p,...g},E)=>{let A=!1;const R=reactExports.useContext(context),I=useBootstrapPrefix(t,"dropdown-menu"),{align:j,drop:q,isRTL:L}=reactExports.useContext(DropdownContext);n=n||j;const z=reactExports.useContext(context$1),U=[];if(n)if(typeof n=="object"){const se=Object.keys(n);if(se.length){const ue=se[0],fe=n[ue];A=fe==="start",U.push(`${I}-${ue}-${fe}`)}}else n==="end"&&(A=!0);const W=getDropdownMenuPlacement(A,q,L),[H,{hasShown:Z,popper:Y,show:J,toggle:ne}]=useDropdownMenu({flip:o,rootCloseEvent:i,show:l,usePopper:!R&&U.length===0,offset:[0,2],popperConfig:d,placement:W});if(H.ref=useMergedRefs$1(useWrappedRefWithWarning(E),H.ref),useIsomorphicEffect(()=>{J&&(Y==null||Y.update())},[J]),!Z&&!u&&!z)return null;typeof f!="string"&&(H.show=J,H.close=()=>ne==null?void 0:ne(!1),H.align=n);let ae=g.style;return Y!=null&&Y.placement&&(ae={...g.style,...H.style},g["x-placement"]=Y.placement),jsxRuntimeExports.jsx(f,{...g,...H,style:ae,...(U.length||R)&&{"data-bs-popper":"static"},className:classNames(e,I,J&&"show",A&&`${I}-end`,p&&`${I}-${p}`,...U)})});DropdownMenu.displayName="DropdownMenu";const DropdownToggle=reactExports.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:i,as:o=Button,...l},u)=>{const f=useBootstrapPrefix(t,"dropdown-toggle"),d=reactExports.useContext(DropdownContext$1);i!==void 0&&(l.bsPrefix=i);const[p]=useDropdownToggle();return p.ref=useMergedRefs$1(p.ref,useWrappedRefWithWarning(u)),jsxRuntimeExports.jsx(o,{className:classNames(n,f,e&&`${f}-split`,(d==null?void 0:d.show)&&"show"),...p,...l})});DropdownToggle.displayName="DropdownToggle";const Dropdown=reactExports.forwardRef((t,e)=>{const{bsPrefix:n,drop:i="down",show:o,className:l,align:u="start",onSelect:f,onToggle:d,focusFirstItemOnShow:p,as:g="div",navbar:E,autoClose:A=!0,...R}=useUncontrolled(t,{show:"onToggle"}),I=reactExports.useContext(context$1),j=useBootstrapPrefix(n,"dropdown"),q=useIsRTL(),L=Y=>A===!1?Y==="click":A==="inside"?Y!=="rootClose":A==="outside"?Y!=="select":!0,z=useEventCallback$1((Y,J)=>{var ne;!((ne=J.originalEvent)==null||(ne=ne.target)==null)&&ne.classList.contains("dropdown-toggle")&&J.source==="mousedown"||(J.originalEvent.currentTarget===document&&(J.source!=="keydown"||J.originalEvent.key==="Escape")&&(J.source="rootClose"),L(J.source)&&(d==null||d(Y,J)))}),W=getDropdownMenuPlacement(u==="end",i,q),H=reactExports.useMemo(()=>({align:u,drop:i,isRTL:q}),[u,i,q]),Z={down:j,"down-centered":`${j}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return jsxRuntimeExports.jsx(DropdownContext.Provider,{value:H,children:jsxRuntimeExports.jsx(Dropdown$2,{placement:W,show:o,onSelect:f,onToggle:z,focusFirstItemOnShow:p,itemSelector:`.${j}-item:not(.disabled):not(:disabled)`,children:I?R.children:jsxRuntimeExports.jsx(g,{...R,ref:e,className:classNames(l,o&&"show",Z[i])})})})});Dropdown.displayName="Dropdown";const Dropdown$1=Object.assign(Dropdown,{Toggle:DropdownToggle,Menu:DropdownMenu,Item:DropdownItem,ItemText:DropdownItemText,Divider:DropdownDivider,Header:DropdownHeader}),propTypes$1={type:PropTypes.string,tooltip:PropTypes.bool,as:PropTypes.elementType},Feedback=reactExports.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:i=!1,...o},l)=>jsxRuntimeExports.jsx(t,{...o,ref:l,className:classNames(e,`${n}-${i?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$1;const FormContext=reactExports.createContext({}),FormCheckInput=reactExports.forwardRef(({id:t,bsPrefix:e,className:n,type:i="checkbox",isValid:o=!1,isInvalid:l=!1,as:u="input",...f},d)=>{const{controlId:p}=reactExports.useContext(FormContext);return e=useBootstrapPrefix(e,"form-check-input"),jsxRuntimeExports.jsx(u,{...f,ref:d,type:i,id:t||p,className:classNames(n,e,o&&"is-valid",l&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckLabel=reactExports.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...i},o)=>{const{controlId:l}=reactExports.useContext(FormContext);return t=useBootstrapPrefix(t,"form-check-label"),jsxRuntimeExports.jsx("label",{...i,ref:o,htmlFor:n||l,className:classNames(e,t)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheck=reactExports.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:i=!1,reverse:o=!1,disabled:l=!1,isValid:u=!1,isInvalid:f=!1,feedbackTooltip:d=!1,feedback:p,feedbackType:g,className:E,style:A,title:R="",type:I="checkbox",label:j,children:q,as:L="input",...z},U)=>{e=useBootstrapPrefix(e,"form-check"),n=useBootstrapPrefix(n,"form-switch");const{controlId:W}=reactExports.useContext(FormContext),H=reactExports.useMemo(()=>({controlId:t||W}),[W,t]),Z=!q&&j!=null&&j!==!1||hasChildOfType(q,FormCheckLabel),Y=jsxRuntimeExports.jsx(FormCheckInput,{...z,type:I==="switch"?"checkbox":I,ref:U,isValid:u,isInvalid:f,disabled:l,as:L});return jsxRuntimeExports.jsx(FormContext.Provider,{value:H,children:jsxRuntimeExports.jsx("div",{style:A,className:classNames(E,Z&&e,i&&`${e}-inline`,o&&`${e}-reverse`,I==="switch"&&n),children:q||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Y,Z&&jsxRuntimeExports.jsx(FormCheckLabel,{title:R,children:j}),p&&jsxRuntimeExports.jsx(Feedback,{type:g,tooltip:d,children:p})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput,Label:FormCheckLabel}),FormControl=reactExports.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:i,id:o,className:l,isValid:u=!1,isInvalid:f=!1,plaintext:d,readOnly:p,as:g="input",...E},A)=>{const{controlId:R}=reactExports.useContext(FormContext);return t=useBootstrapPrefix(t,"form-control"),jsxRuntimeExports.jsx(g,{...E,type:e,size:i,ref:A,readOnly:p,id:o||R,className:classNames(l,d?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,u&&"is-valid",f&&"is-invalid")})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback}),FormFloating=reactExports.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},o)=>(e=useBootstrapPrefix(e,"form-floating"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));FormFloating.displayName="FormFloating";const FormGroup=reactExports.forwardRef(({controlId:t,as:e="div",...n},i)=>{const o=reactExports.useMemo(()=>({controlId:t}),[t]);return jsxRuntimeExports.jsx(FormContext.Provider,{value:o,children:jsxRuntimeExports.jsx(e,{...n,ref:i})})});FormGroup.displayName="FormGroup";const FormLabel=reactExports.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:i=!1,className:o,htmlFor:l,...u},f)=>{const{controlId:d}=reactExports.useContext(FormContext);e=useBootstrapPrefix(e,"form-label");let p="col-form-label";typeof n=="string"&&(p=`${p} ${p}-${n}`);const g=classNames(o,e,i&&"visually-hidden",n&&p);return l=l||d,n?jsxRuntimeExports.jsx(Col,{ref:f,as:"label",className:g,htmlFor:l,...u}):jsxRuntimeExports.jsx(t,{ref:f,className:g,htmlFor:l,...u})});FormLabel.displayName="FormLabel";const FormRange=reactExports.forwardRef(({bsPrefix:t,className:e,id:n,...i},o)=>{const{controlId:l}=reactExports.useContext(FormContext);return t=useBootstrapPrefix(t,"form-range"),jsxRuntimeExports.jsx("input",{...i,type:"range",ref:o,className:classNames(e,t),id:n||l})});FormRange.displayName="FormRange";const FormSelect=reactExports.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:i,isValid:o=!1,isInvalid:l=!1,id:u,...f},d)=>{const{controlId:p}=reactExports.useContext(FormContext);return t=useBootstrapPrefix(t,"form-select"),jsxRuntimeExports.jsx("select",{...f,size:n,ref:d,className:classNames(i,t,e&&`${t}-${e}`,o&&"is-valid",l&&"is-invalid"),id:u||p})});FormSelect.displayName="FormSelect";const FormText=reactExports.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:i,...o},l)=>(t=useBootstrapPrefix(t,"form-text"),jsxRuntimeExports.jsx(n,{...o,ref:l,className:classNames(e,t,i&&"text-muted")})));FormText.displayName="FormText";const Switch=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(FormCheck$1,{...t,ref:e,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:t,className:e,children:n,controlId:i,label:o,...l},u)=>(t=useBootstrapPrefix(t,"form-floating"),jsxRuntimeExports.jsxs(FormGroup,{ref:u,className:classNames(e,t),controlId:i,...l,children:[n,jsxRuntimeExports.jsx("label",{htmlFor:i,children:o})]})));FloatingLabel.displayName="FloatingLabel";const propTypes={_ref:PropTypes.any,validated:PropTypes.bool,as:PropTypes.elementType},Form=reactExports.forwardRef(({className:t,validated:e,as:n="form",...i},o)=>jsxRuntimeExports.jsx(n,{...i,ref:o,className:classNames(t,e&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes;const Form$1=Object.assign(Form,{Group:FormGroup,Control:FormControl$1,Floating:FormFloating,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel,Text:FormText,Range:FormRange,Select:FormSelect,FloatingLabel}),InputGroupText=reactExports.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},o)=>(e=useBootstrapPrefix(e,"input-group-text"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));InputGroupText.displayName="InputGroupText";const InputGroupCheckbox=t=>jsxRuntimeExports.jsx(InputGroupText,{children:jsxRuntimeExports.jsx(FormCheckInput,{type:"checkbox",...t})}),InputGroupRadio=t=>jsxRuntimeExports.jsx(InputGroupText,{children:jsxRuntimeExports.jsx(FormCheckInput,{type:"radio",...t})}),InputGroup=reactExports.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:i,as:o="div",...l},u)=>{t=useBootstrapPrefix(t,"input-group");const f=reactExports.useMemo(()=>({}),[]);return jsxRuntimeExports.jsx(context$1.Provider,{value:f,children:jsxRuntimeExports.jsx(o,{ref:u,...l,className:classNames(i,t,e&&`${t}-${e}`,n&&"has-validation")})})});InputGroup.displayName="InputGroup";const InputGroup$1=Object.assign(InputGroup,{Text:InputGroupText,Radio:InputGroupRadio,Checkbox:InputGroupCheckbox}),toFnRef=t=>!t||typeof t=="function"?t:e=>{t.current=e};function mergeRefs(t,e){const n=toFnRef(t),i=toFnRef(e);return o=>{n&&n(o),i&&i(o)}}function useMergedRefs(t,e){return reactExports.useMemo(()=>mergeRefs(t,e),[t,e])}const TabContext=reactExports.createContext(null),_excluded$t=["as","active","eventKey"];function _objectWithoutPropertiesLoose$t(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function useNavItem({key:t,onClick:e,active:n,id:i,role:o,disabled:l}){const u=reactExports.useContext(SelectableContext),f=reactExports.useContext(NavContext),d=reactExports.useContext(TabContext);let p=n;const g={role:o};if(f){!o&&f.role==="tablist"&&(g.role="tab");const E=f.getControllerId(t??null),A=f.getControlledId(t??null);g[dataAttr("event-key")]=t,g.id=E||i,p=n==null&&t!=null?f.activeKey===t:n,(p||!(d!=null&&d.unmountOnExit)&&!(d!=null&&d.mountOnEnter))&&(g["aria-controls"]=A)}return g.role==="tab"&&(g["aria-selected"]=p,p||(g.tabIndex=-1),l&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=useEventCallback(E=>{l||(e==null||e(E),t!=null&&u&&!E.isPropagationStopped()&&u(t,E))}),[g,{isActive:p}]}const NavItem=reactExports.forwardRef((t,e)=>{let{as:n=Button$1,active:i,eventKey:o}=t,l=_objectWithoutPropertiesLoose$t(t,_excluded$t);const[u,f]=useNavItem(Object.assign({key:makeEventKey(o,l.href),active:i},l));return u[dataAttr("active")]=f.isActive,jsxRuntimeExports.jsx(n,Object.assign({},l,u,{ref:e}))});NavItem.displayName="NavItem";const _excluded$s=["as","onSelect","activeKey","role","onKeyDown"];function _objectWithoutPropertiesLoose$s(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const noop$5=()=>{},EVENT_KEY_ATTR=dataAttr("event-key"),Nav=reactExports.forwardRef((t,e)=>{let{as:n="div",onSelect:i,activeKey:o,role:l,onKeyDown:u}=t,f=_objectWithoutPropertiesLoose$s(t,_excluded$s);const d=useForceUpdate(),p=reactExports.useRef(!1),g=reactExports.useContext(SelectableContext),E=reactExports.useContext(TabContext);let A,R;E&&(l=l||"tablist",o=E.activeKey,A=E.getControlledId,R=E.getControllerId);const I=reactExports.useRef(null),j=U=>{const W=I.current;if(!W)return null;const H=qsa(W,`[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`),Z=W.querySelector("[aria-selected=true]");if(!Z||Z!==document.activeElement)return null;const Y=H.indexOf(Z);if(Y===-1)return null;let J=Y+U;return J>=H.length&&(J=0),J<0&&(J=H.length-1),H[J]},q=(U,W)=>{U!=null&&(i==null||i(U,W),g==null||g(U,W))},L=U=>{if(u==null||u(U),!E)return;let W;switch(U.key){case"ArrowLeft":case"ArrowUp":W=j(-1);break;case"ArrowRight":case"ArrowDown":W=j(1);break;default:return}W&&(U.preventDefault(),q(W.dataset[dataProp("EventKey")]||null,U),p.current=!0,d())};reactExports.useEffect(()=>{if(I.current&&p.current){const U=I.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`);U==null||U.focus()}p.current=!1});const z=useMergedRefs(e,I);return jsxRuntimeExports.jsx(SelectableContext.Provider,{value:q,children:jsxRuntimeExports.jsx(NavContext.Provider,{value:{role:l,activeKey:makeEventKey(o),getControlledId:A||noop$5,getControllerId:R||noop$5},children:jsxRuntimeExports.jsx(n,Object.assign({},f,{onKeyDown:L,ref:z,role:l}))})})});Nav.displayName="Nav";const BaseNav=Object.assign(Nav,{Item:NavItem}),ListGroupItem=reactExports.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:i,className:o,variant:l,action:u,as:f,...d},p)=>{t=useBootstrapPrefix(t,"list-group-item");const[g,E]=useNavItem({key:makeEventKey(i,d.href),active:e,...d}),A=useEventCallback$1(I=>{if(n){I.preventDefault(),I.stopPropagation();return}g.onClick(I)});n&&d.tabIndex===void 0&&(d.tabIndex=-1,d["aria-disabled"]=!0);const R=f||(u?d.href?"a":"button":"div");return jsxRuntimeExports.jsx(R,{ref:p,...d,...g,onClick:A,className:classNames(o,t,E.isActive&&"active",n&&"disabled",l&&`${t}-${l}`,u&&`${t}-action`)})});ListGroupItem.displayName="ListGroupItem";const ListGroup=reactExports.forwardRef((t,e)=>{const{className:n,bsPrefix:i,variant:o,horizontal:l,numbered:u,as:f="div",...d}=useUncontrolled(t,{activeKey:"onSelect"}),p=useBootstrapPrefix(i,"list-group");let g;return l&&(g=l===!0?"horizontal":`horizontal-${l}`),jsxRuntimeExports.jsx(BaseNav,{ref:e,...d,as:f,className:classNames(n,p,o&&`${p}-${o}`,g&&`${p}-${g}`,u&&`${p}-numbered`)})});ListGroup.displayName="ListGroup";const ListGroup$1=Object.assign(ListGroup,{Item:ListGroupItem});function activeElement(t){t===void 0&&(t=ownerDocument());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function useUpdatedRef(t){const e=reactExports.useRef(t);return e.current=t,e}function useWillUnmount(t){const e=useUpdatedRef(t);reactExports.useEffect(()=>()=>e.current(),[])}function getBodyScrollbarWidth(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const OPEN_DATA_ATTRIBUTE=dataAttr("modal-open");class ModalManager{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return getBodyScrollbarWidth(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[i]:o.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(style(o,i)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(OPEN_DATA_ATTRIBUTE,""),style(o,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(OPEN_DATA_ATTRIBUTE),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const resolveContainerRef=(t,e)=>canUseDOM$1?t==null?(e||ownerDocument()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function useWaitForDOMRef(t,e){const n=useWindow(),[i,o]=reactExports.useState(()=>resolveContainerRef(t,n==null?void 0:n.document));if(!i){const l=resolveContainerRef(t);l&&o(l)}return reactExports.useEffect(()=>{},[e,i]),reactExports.useEffect(()=>{const l=resolveContainerRef(t);l!==i&&o(l)},[t,i]),i}function NoopTransition({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:o}){const l=reactExports.useRef(null),u=reactExports.useRef(e),f=useEventCallback(n);reactExports.useEffect(()=>{e?u.current=!0:f(l.current)},[e,f]);const d=useMergedRefs(l,getChildRef(t)),p=reactExports.cloneElement(t,{ref:d});return e?p:o||!u.current&&i?null:p}const _excluded$r=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function _objectWithoutPropertiesLoose$r(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function useRTGTransitionProps(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:o,onExiting:l,onExited:u,addEndListener:f,children:d}=t,p=_objectWithoutPropertiesLoose$r(t,_excluded$r);const g=reactExports.useRef(null),E=useMergedRefs(g,getChildRef(d)),A=W=>H=>{W&&g.current&&W(g.current,H)},R=reactExports.useCallback(A(e),[e]),I=reactExports.useCallback(A(n),[n]),j=reactExports.useCallback(A(i),[i]),q=reactExports.useCallback(A(o),[o]),L=reactExports.useCallback(A(l),[l]),z=reactExports.useCallback(A(u),[u]),U=reactExports.useCallback(A(f),[f]);return Object.assign({},p,{nodeRef:g},e&&{onEnter:R},n&&{onEntering:I},i&&{onEntered:j},o&&{onExit:q},l&&{onExiting:L},u&&{onExited:z},f&&{addEndListener:U},{children:typeof d=="function"?(W,H)=>d(W,Object.assign({},H,{ref:E})):reactExports.cloneElement(d,{ref:E})})}const _excluded$q=["component"];function _objectWithoutPropertiesLoose$q(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const RTGTransition=reactExports.forwardRef((t,e)=>{let{component:n}=t,i=_objectWithoutPropertiesLoose$q(t,_excluded$q);const o=useRTGTransitionProps(i);return jsxRuntimeExports.jsx(n,Object.assign({ref:e},o))});function useTransition({in:t,onTransition:e}){const n=reactExports.useRef(null),i=reactExports.useRef(!0),o=useEventCallback(e);return useIsomorphicEffect$1(()=>{if(!n.current)return;let l=!1;return o({in:t,element:n.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[t,o]),useIsomorphicEffect$1(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function ImperativeTransition({children:t,in:e,onExited:n,onEntered:i,transition:o}){const[l,u]=reactExports.useState(!e);e&&l&&u(!1);const f=useTransition({in:!!e,onTransition:p=>{const g=()=>{p.isStale()||(p.in?i==null||i(p.element,p.initial):(u(!0),n==null||n(p.element)))};Promise.resolve(o(p)).then(g,E=>{throw p.in||u(!0),E})}}),d=useMergedRefs(f,getChildRef(t));return l&&!e?null:reactExports.cloneElement(t,{ref:d})}function renderTransition(t,e,n){return t?jsxRuntimeExports.jsx(RTGTransition,Object.assign({},n,{component:t})):e?jsxRuntimeExports.jsx(ImperativeTransition,Object.assign({},n,{transition:e})):jsxRuntimeExports.jsx(NoopTransition,Object.assign({},n))}const _excluded$p=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function _objectWithoutPropertiesLoose$p(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let manager;function getManager(t){return manager||(manager=new ModalManager({ownerDocument:t==null?void 0:t.document})),manager}function useModalManager(t){const e=useWindow(),n=t||getManager(e),i=reactExports.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:reactExports.useCallback(o=>{i.current.dialog=o},[]),setBackdropRef:reactExports.useCallback(o=>{i.current.backdrop=o},[])})}const Modal=reactExports.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:o,style:l,children:u,backdrop:f=!0,keyboard:d=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:E,runTransition:A,backdropTransition:R,runBackdropTransition:I,autoFocus:j=!0,enforceFocus:q=!0,restoreFocus:L=!0,restoreFocusOptions:z,renderDialog:U,renderBackdrop:W=Ge=>jsxRuntimeExports.jsx("div",Object.assign({},Ge)),manager:H,container:Z,onShow:Y,onHide:J=()=>{},onExit:ne,onExited:ae,onExiting:se,onEnter:ue,onEntering:fe,onEntered:_e}=t,ge=_objectWithoutPropertiesLoose$p(t,_excluded$p);const ce=useWindow(),me=useWaitForDOMRef(Z),ee=useModalManager(H),ie=useMounted(),oe=usePrevious$1(n),[de,xe]=reactExports.useState(!n),Ee=reactExports.useRef(null);reactExports.useImperativeHandle(e,()=>ee,[ee]),canUseDOM$1&&!oe&&n&&(Ee.current=activeElement(ce==null?void 0:ce.document)),n&&de&&xe(!1);const Ae=useEventCallback(()=>{if(ee.add(),Me.current=listen(document,"keydown",qe),Ne.current=listen(document,"focus",()=>setTimeout(Oe),!0),Y&&Y(),j){var Ge,He;const ct=activeElement((Ge=(He=ee.dialog)==null?void 0:He.ownerDocument)!=null?Ge:ce==null?void 0:ce.document);ee.dialog&&ct&&!contains$1(ee.dialog,ct)&&(Ee.current=ct,ee.dialog.focus())}}),Ce=useEventCallback(()=>{if(ee.remove(),Me.current==null||Me.current(),Ne.current==null||Ne.current(),L){var Ge;(Ge=Ee.current)==null||Ge.focus==null||Ge.focus(z),Ee.current=null}});reactExports.useEffect(()=>{!n||!me||Ae()},[n,me,Ae]),reactExports.useEffect(()=>{de&&Ce()},[de,Ce]),useWillUnmount(()=>{Ce()});const Oe=useEventCallback(()=>{if(!q||!ie()||!ee.isTopModal())return;const Ge=activeElement(ce==null?void 0:ce.document);ee.dialog&&Ge&&!contains$1(ee.dialog,Ge)&&ee.dialog.focus()}),We=useEventCallback(Ge=>{Ge.target===Ge.currentTarget&&(p==null||p(Ge),f===!0&&J())}),qe=useEventCallback(Ge=>{d&&isEscKey(Ge)&&ee.isTopModal()&&(g==null||g(Ge),Ge.defaultPrevented||J())}),Ne=reactExports.useRef(),Me=reactExports.useRef(),Be=(...Ge)=>{xe(!0),ae==null||ae(...Ge)};if(!me)return null;const je=Object.assign({role:i,ref:ee.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},ge,{style:l,className:o,tabIndex:-1});let ze=U?U(je):jsxRuntimeExports.jsx("div",Object.assign({},je,{children:reactExports.cloneElement(u,{role:"document"})}));ze=renderTransition(E,A,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:ne,onExiting:se,onExited:Be,onEnter:ue,onEntering:fe,onEntered:_e,children:ze});let ke=null;return f&&(ke=W({ref:ee.setBackdropRef,onClick:We}),ke=renderTransition(R,I,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ke})),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ReactDOM.createPortal(jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ke,ze]}),me)})});Modal.displayName="Modal";const BaseModal=Object.assign(Modal,{Manager:ModalManager});function hasClass(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function addClass(t,e){t.classList?t.classList.add(e):hasClass(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function replaceClassName(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=replaceClassName(t.className,e):t.setAttribute("class",replaceClassName(t.className&&t.className.baseVal||"",e))}const Selector={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class BootstrapModalManager extends ModalManager{adjustAndStore(e,n,i){const o=n.style[e];n.dataset[e]=o,style(n,{[e]:`${parseFloat(style(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],style(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(addClass(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";qsa(n,Selector.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,e.scrollBarWidth)),qsa(n,Selector.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-e.scrollBarWidth)),qsa(n,Selector.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();removeClass(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";qsa(n,Selector.FIXED_CONTENT).forEach(l=>this.restore(i,l)),qsa(n,Selector.STICKY_CONTENT).forEach(l=>this.restore(o,l)),qsa(n,Selector.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let sharedManager;function getSharedManager(t){return sharedManager||(sharedManager=new BootstrapModalManager(t)),sharedManager}const ModalContext=reactExports.createContext({onHide(){}}),AbstractModalHeader=reactExports.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:o,...l},u)=>{const f=reactExports.useContext(ModalContext),d=useEventCallback$1(()=>{f==null||f.onHide(),i==null||i()});return jsxRuntimeExports.jsxs("div",{ref:u,...l,children:[o,n&&jsxRuntimeExports.jsx(CloseButton,{"aria-label":t,variant:e,onClick:d})]})}),matchersByWindow=new WeakMap,getMatcher=(t,e)=>{if(!t||!e)return;const n=matchersByWindow.get(e)||new Map;matchersByWindow.set(e,n);let i=n.get(t);return i||(i=e.matchMedia(t),i.refCount=0,n.set(i.media,i)),i};function useMediaQuery(t,e=typeof window>"u"?void 0:window){const n=getMatcher(t,e),[i,o]=reactExports.useState(()=>n?n.matches:!1);return useIsomorphicEffect(()=>{let l=getMatcher(t,e);if(!l)return o(!1);let u=matchersByWindow.get(e);const f=()=>{o(l.matches)};return l.refCount++,l.addListener(f),f(),()=>{l.removeListener(f),l.refCount--,l.refCount<=0&&(u==null||u.delete(l.media)),l=void 0}},[t]),i}function createBreakpointHook(t){const e=Object.keys(t);function n(f,d){return f===d?d:f?`${f} and ${d}`:d}function i(f){return e[Math.min(e.indexOf(f)+1,e.length-1)]}function o(f){const d=i(f);let p=t[d];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function l(f){let d=t[f];return typeof d=="number"&&(d=`${d}px`),`(min-width: ${d})`}function u(f,d,p){let g;typeof f=="object"?(g=f,p=d,d=!0):(d=d||!0,g={[f]:d});let E=reactExports.useMemo(()=>Object.entries(g).reduce((A,[R,I])=>((I==="up"||I===!0)&&(A=n(A,l(R))),(I==="down"||I===!0)&&(A=n(A,o(R))),A),""),[JSON.stringify(g)]);return useMediaQuery(E,p)}return u}const useBreakpoint=createBreakpointHook({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),OffcanvasBody=reactExports.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},o)=>(e=useBootstrapPrefix(e,"offcanvas-body"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));OffcanvasBody.displayName="OffcanvasBody";const transitionStyles={[ENTERING]:"show",[ENTERED]:"show"},OffcanvasToggling=reactExports.forwardRef(({bsPrefix:t,className:e,children:n,in:i=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:u=!1,...f},d)=>(t=useBootstrapPrefix(t,"offcanvas"),jsxRuntimeExports.jsx(TransitionWrapper,{ref:d,addEndListener:transitionEndListener,in:i,mountOnEnter:o,unmountOnExit:l,appear:u,...f,childRef:getChildRef(n),children:(p,g)=>reactExports.cloneElement(n,{...g,className:classNames(e,n.props.className,(p===ENTERING||p===EXITING)&&`${t}-toggling`,transitionStyles[p])})})));OffcanvasToggling.displayName="OffcanvasToggling";const OffcanvasHeader=reactExports.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...o},l)=>(t=useBootstrapPrefix(t,"offcanvas-header"),jsxRuntimeExports.jsx(AbstractModalHeader,{ref:l,...o,className:classNames(e,t),closeLabel:n,closeButton:i})));OffcanvasHeader.displayName="OffcanvasHeader";const DivStyledAsH5=divWithClassName("h5"),OffcanvasTitle=reactExports.forwardRef(({className:t,bsPrefix:e,as:n=DivStyledAsH5,...i},o)=>(e=useBootstrapPrefix(e,"offcanvas-title"),jsxRuntimeExports.jsx(n,{ref:o,className:classNames(t,e),...i})));OffcanvasTitle.displayName="OffcanvasTitle";function DialogTransition(t){return jsxRuntimeExports.jsx(OffcanvasToggling,{...t})}function BackdropTransition(t){return jsxRuntimeExports.jsx(Fade,{...t})}const Offcanvas=reactExports.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":i,placement:o="start",responsive:l,show:u=!1,backdrop:f=!0,keyboard:d=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:E,onHide:A,container:R,autoFocus:I=!0,enforceFocus:j=!0,restoreFocus:q=!0,restoreFocusOptions:L,onEntered:z,onExit:U,onExiting:W,onEnter:H,onEntering:Z,onExited:Y,backdropClassName:J,manager:ne,renderStaticNode:ae=!1,...se},ue)=>{const fe=reactExports.useRef();t=useBootstrapPrefix(t,"offcanvas");const[_e,ge]=reactExports.useState(!1),ce=useEventCallback$1(A),me=useBreakpoint(l||"xs","up");reactExports.useEffect(()=>{ge(l?u&&!me:u)},[u,l,me]);const ee=reactExports.useMemo(()=>({onHide:ce}),[ce]);function ie(){return ne||(p?(fe.current||(fe.current=new BootstrapModalManager({handleContainerOverflow:!1})),fe.current):getSharedManager())}const oe=(Ae,...Ce)=>{Ae&&(Ae.style.visibility="visible"),H==null||H(Ae,...Ce)},de=(Ae,...Ce)=>{Ae&&(Ae.style.visibility=""),Y==null||Y(...Ce)},xe=reactExports.useCallback(Ae=>jsxRuntimeExports.jsx("div",{...Ae,className:classNames(`${t}-backdrop`,J)}),[J,t]),Ee=Ae=>jsxRuntimeExports.jsx("div",{...Ae,...se,className:classNames(e,l?`${t}-${l}`:t,`${t}-${o}`),"aria-labelledby":i,children:n});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!_e&&(l||ae)&&Ee({}),jsxRuntimeExports.jsx(ModalContext.Provider,{value:ee,children:jsxRuntimeExports.jsx(BaseModal,{show:_e,ref:ue,backdrop:f,container:R,keyboard:d,autoFocus:I,enforceFocus:j&&!p,restoreFocus:q,restoreFocusOptions:L,onEscapeKeyDown:g,onShow:E,onHide:ce,onEnter:oe,onEntering:Z,onEntered:z,onExit:U,onExiting:W,onExited:de,manager:ie(),transition:DialogTransition,backdropTransition:BackdropTransition,renderBackdrop:xe,renderDialog:Ee})})]})});Offcanvas.displayName="Offcanvas";const Offcanvas$1=Object.assign(Offcanvas,{Body:OffcanvasBody,Header:OffcanvasHeader,Title:OffcanvasTitle}),Row=reactExports.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},o)=>{const l=useBootstrapPrefix(t,"row"),u=useBootstrapBreakpoints(),f=useBootstrapMinBreakpoint(),d=`${l}-cols`,p=[];return u.forEach(g=>{const E=i[g];delete i[g];let A;E!=null&&typeof E=="object"?{cols:A}=E:A=E;const R=g!==f?`-${g}`:"";A!=null&&p.push(`${d}${R}-${A}`)}),jsxRuntimeExports.jsx(n,{ref:o,...i,className:classNames(e,l,...p)})});Row.displayName="Row";const Spinner=reactExports.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:i,as:o="div",className:l,...u},f)=>{t=useBootstrapPrefix(t,"spinner");const d=`${t}-${n}`;return jsxRuntimeExports.jsx(o,{ref:f,...u,className:classNames(l,d,i&&`${d}-${i}`,e&&`text-${e}`)})});Spinner.displayName="Spinner";const DateReminder=()=>{const[t,e]=reactExports.useState(new Date),[n,i]=reactExports.useState([]),[o,l]=reactExports.useState(()=>{const L=localStorage.getItem("dismissedPhases");return L?JSON.parse(L):[]}),[u,f]=reactExports.useState({}),d=reactExports.useRef({}),p=[{phase:"報名",date:new Date,endDate:new Date("2025-09-27"),icon:jsxRuntimeExports.jsx(User$1,{className:"w-4 h-4"})},{phase:"准考證",date:new Date("2025-11-15"),icon:jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"})},{phase:"測驗",date:new Date("2025-12-06"),icon:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})},{phase:"成績",date:new Date("2026-01-15"),icon:jsxRuntimeExports.jsx(Calendar$1,{className:"w-4 h-4"})},{phase:"複查",date:new Date("2026-01-22"),endDate:new Date("2026-02-05"),icon:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})},{phase:"證書",date:new Date("2026-03-01"),icon:jsxRuntimeExports.jsx(Award,{className:"w-4 h-4"})}];reactExports.useEffect(()=>{const L=setInterval(()=>{e(new Date)},6e4);return()=>clearInterval(L)},[]),reactExports.useEffect(()=>{const L=[];p.forEach(z=>{g(z.date)&&!d.current[z.phase]&&!o.includes(z.phase)&&(L.push({phase:z.phase,url:z.phase==="報名"?"https://exam.sce.ntnu.edu.tw/abst/signup/login.php":z.phase==="成績"?"https://exam.sce.ntnu.edu.tw/abst/score_search.php":null}),d.current[z.phase]=!0)}),L.length>0&&i(z=>[...z,...L])},[t,o]);const g=L=>{const z=new Date;return L.getFullYear()===z.getFullYear()&&L.getMonth()===z.getMonth()&&L.getDate()===z.getDate()},E=L=>{const z=L-t;return z>0?Math.ceil(z/(1e3*60*60*24)):0},R=(()=>{const L=p.filter(z=>z.date>t);return L.length>0?L[0]:null})(),I=L=>{if(i(z=>z.filter(U=>U.phase!==L)),u[L]){const z=[...o,L];l(z),localStorage.setItem("dismissedPhases",JSON.stringify(z))}f(z=>{const U={...z};return delete U[L],U})},j=(L,z)=>{f(U=>({...U,[L]:z}))},q=()=>{localStorage.removeItem("dismissedPhases"),l([]),i([]),d.current={}};return jsxRuntimeExports.jsxs("div",{className:"exam-info-card",children:[jsxRuntimeExports.jsx("div",{className:"circle top-right"}),jsxRuntimeExports.jsx("div",{className:"circle bottom-left"}),jsxRuntimeExports.jsxs("div",{className:"content",children:[jsxRuntimeExports.jsx("div",{className:"reset-reminders",children:jsxRuntimeExports.jsxs(Button,{variant:"outline-danger",onClick:q,children:[jsxRuntimeExports.jsx(Bell,{})," 開啟通知"]})}),n.map(L=>jsxRuntimeExports.jsxs("div",{className:"toast-notification",children:[jsxRuntimeExports.jsxs("div",{className:"toast-header",children:["📢 ",L.phase," 今日開始！",jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>I(L.phase),children:"✕"})]}),jsxRuntimeExports.jsxs("div",{className:"toast-body",children:[L.url?jsxRuntimeExports.jsxs("a",{href:L.url,target:"_blank",rel:"noopener noreferrer",className:"toast-link",children:["點我前往 ",L.phase," 頁面"]}):jsxRuntimeExports.jsxs("p",{children:["請注意 ",L.phase," 的相關事宜！"]}),jsxRuntimeExports.jsx("div",{className:"dismiss-option",children:jsxRuntimeExports.jsxs("label",{className:"checkbox-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:!!u[L.phase],onChange:z=>j(L.phase,z.target.checked)}),"不再提醒此項目"]})})]})]},L.phase)),R&&jsxRuntimeExports.jsxs("div",{className:"text-center mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"event-head",children:[R.icon,jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold",children:R.phase})]}),jsxRuntimeExports.jsxs("div",{className:"countdown-box",children:[jsxRuntimeExports.jsx("div",{className:"days-left",children:E(R.date)}),jsxRuntimeExports.jsx("div",{className:"days-label",children:"天後"})]}),jsxRuntimeExports.jsx("div",{className:"date-range",children:R.endDate?`${R.date.toLocaleDateString("zh-TW",{month:"numeric",day:"numeric"})} - ${R.endDate.toLocaleDateString("zh-TW",{month:"numeric",day:"numeric"})}`:R.date.toLocaleDateString("zh-TW",{month:"numeric",day:"numeric"})})]}),jsxRuntimeExports.jsxs("div",{className:"schedule",children:[jsxRuntimeExports.jsx("div",{className:"schedule-title",children:"完整時程"}),jsxRuntimeExports.jsx("div",{className:"schedule-grid",children:p.map((L,z)=>{const U=E(L.date),W=L.date<t,H=R&&L.phase===R.phase;return jsxRuntimeExports.jsxs("div",{className:`schedule-item ${H?"current":W?"past":"upcoming"}`,children:[jsxRuntimeExports.jsx("div",{className:"icon",children:L.icon}),jsxRuntimeExports.jsx("div",{className:"phase",children:L.phase}),jsxRuntimeExports.jsx("div",{className:"date",children:L.date.toLocaleDateString("zh-TW",{year:"numeric",month:"numeric",day:"numeric"})}),!W&&jsxRuntimeExports.jsx("div",{className:"days",children:U>0?`${U}天`:"今日"})]},z)})})]}),jsxRuntimeExports.jsx("div",{className:"note",children:"※ 實際日期以原民會公告為準"})]})]})},Template=({examInfo:t})=>jsxRuntimeExports.jsx("div",{className:"secWrap-half",children:jsxRuntimeExports.jsxs("div",{className:"secRow",children:[jsxRuntimeExports.jsx("div",{className:"cleft-half",children:jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(DateReminder,{})})}),jsxRuntimeExports.jsx("div",{className:"cright-half",children:jsxRuntimeExports.jsxs("div",{className:"exam-section",children:[jsxRuntimeExports.jsx("h2",{className:"exam-title",children:"族語認證最新公告"}),t.length===0?jsxRuntimeExports.jsx("p",{children:"目前沒有任何公告。"}):t.map((e,n)=>jsxRuntimeExports.jsxs("div",{className:"exam-card",children:[jsxRuntimeExports.jsx("div",{className:"exam-card-header",children:jsxRuntimeExports.jsx("span",{className:"exam-date",children:e.start_date})}),jsxRuntimeExports.jsx("div",{className:"exam-card-body",children:jsxRuntimeExports.jsx("a",{href:e.detail,target:"_blank",rel:"noopener noreferrer",className:"exam-link",children:e.title})})]},n))]})})]})}),BannerImg="/LinguaRoot/assets/home-Dfvs5W7G.webp",App$a=({})=>{const[t,e]=reactExports.useState([]),[n,i]=reactExports.useState([]),[o,l]=reactExports.useState([]);return reactExports.useEffect(()=>{fetch("undefined").then(u=>u.json()).then(u=>{const f=u.filter(E=>E.isExam==="T"),d=u.filter(E=>E.isExam!=="T");l(f);const p=d.filter(E=>E.image),g=d.filter(E=>!E.image);e(p),i(g)})},[]),jsxRuntimeExports.jsxs("div",{className:"homepage",children:[jsxRuntimeExports.jsx("img",{src:BannerImg,className:"banner-img"}),jsxRuntimeExports.jsxs("div",{className:"banner-content",children:[jsxRuntimeExports.jsx("h1",{className:"banner-system-name",children:"源·語"}),jsxRuntimeExports.jsx("p",{className:"banner-system-desc",children:"《源·語》是一套為想學習泰雅族語的AI互動學習平台， 涵蓋影像辨識、詞彙遊戲及測驗學習等功能， 是教師尋找教學資源、學生自主學習的選擇之一！"}),jsxRuntimeExports.jsx("button",{className:"banner-learn-more-btn",children:"了解更多"})]}),jsxRuntimeExports.jsx(FunctionBtn,{}),jsxRuntimeExports.jsx(Template,{examInfo:o}),jsxRuntimeExports.jsx(News,{withImage:t,withoutImage:n})]})},getDefaultsFromPostinstall=()=>{};var define_process_env_default$1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CONSTANTS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const assert=function(t,e){if(!t)throw assertionError(e)},assertionError=function(t){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},byteArrayToString=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],f=t[n++],d=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,f=u?t[o+1]:0,d=o+2<t.length,p=d?t[o+2]:0,g=l>>2,E=(l&3)<<4|f>>4;let A=(f&15)<<2|p>>6,R=p&63;d||(R=64,u||(A=64)),i.push(n[g],n[E],n[A],n[R])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(stringToByteArray$1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):byteArrayToString(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||f==null||p==null||E==null)throw new DecodeBase64StringError;const A=l<<2|f>>4;if(i.push(A),p!==64){const R=f<<4&240|p>>2;if(i.push(R),E!==64){const I=p<<6&192|E;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(t){const e=stringToByteArray$1(t);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(t){return base64Encode(t).replace(/\./g,"")},base64Decode=function(t){try{return base64.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deepCopy(t){return deepExtend(void 0,t)}function deepExtend(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!isValidKey$1(n)||(t[n]=deepExtend(t[n],e[n]));return t}function isValidKey$1(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default$1>"u")return;const t=define_process_env_default$1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&base64Decode(t[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},getDefaultEmulatorHost=t=>{var e,n;return(n=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},getDefaultEmulatorHostnameAndPort=t=>{const e=getDefaultEmulatorHost(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},getDefaultAppConfig=()=>{var t;return(t=getDefaults())===null||t===void 0?void 0:t.config},getExperimentalSetting=t=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[base64urlEncodeWithoutPadding(JSON.stringify(n)),base64urlEncodeWithoutPadding(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode$1(){var t;const e=(t=getDefaults())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const t=getUA();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function isNodeSdk(){return CONSTANTS.NODE_ADMIN===!0}function isSafari(){return!isNode$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?replaceTemplate(l,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new FirebaseError(o,f,i)}}function replaceTemplate(t,e){return t.replace(PATTERN,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval(t){return JSON.parse(t)}function stringify(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const decode=function(t){let e={},n={},i={},o="";try{const l=t.split(".");e=jsonEval(base64Decode(l[0])||""),n=jsonEval(base64Decode(l[1])||""),o=l[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},isValidFormat=function(t){const e=decode(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},isAdmin=function(t){const e=decode(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function safeGet(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function isEmpty$1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function map$2(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function deepEqual$1(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(isObject$3(l)&&isObject$3(u)){if(!deepEqual$1(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function isObject$3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function querystringDecode(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function extractQuerystring(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)i[E]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let E=0;E<16;E++)i[E]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let E=16;E<80;E++){const A=i[E-3]^i[E-8]^i[E-14]^i[E-16];i[E]=(A<<1|A>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],u=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p,g;for(let E=0;E<80;E++){E<40?E<20?(p=f^l&(u^f),g=1518500249):(p=l^u^f,g=1859775393):E<60?(p=l&u|f&(l|u),g=2400959708):(p=l^u^f,g=3395469782);const A=(o<<5|o>>>27)+p+d+g+i[E]&4294967295;d=f,f=u,u=(l<<30|l>>>2)&4294967295,l=o,o=A}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const l=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}else for(;o<n;)if(l[u]=e[o],++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[o]>>l&255,++i;return e}}function createSubscribe(t,e){const n=new ObserverProxy(t,e);return n.subscribe.bind(n)}class ObserverProxy{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=noop$4),o.error===void 0&&(o.error=noop$4),o.complete===void 0&&(o.complete=noop$4);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function noop$4(){}function errorPrefix(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const l=o-55296;i++,assert(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;o=65536+(l<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},stringLength=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(t){return t&&t._delegate?t._delegate:t}class Component{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Deferred;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(t){return t===DEFAULT_ENTRY_NAME$1?void 0:t}function isComponentEager(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Provider(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=ConsoleMethod[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(t,e)=>e.some(n=>t instanceof n);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(wrap(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&cursorRequestMap.set(n,t)}).catch(()=>{}),reverseTransformCache.set(e,t),e}function cacheDonePromiseForTransaction(t){if(transactionDoneMap.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});transactionDoneMap.set(t,e)}let idbProxyTraps={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||transactionStoreNamesMap.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wrap(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function replaceTraps(t){idbProxyTraps=t(idbProxyTraps)}function wrapFunction(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(unwrap(this),e,...n);return transactionStoreNamesMap.set(i,e.sort?e.sort():[e]),wrap(i)}:getCursorAdvanceMethods().includes(t)?function(...e){return t.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(t.apply(unwrap(this),e))}}function transformCachableValue(t){return typeof t=="function"?wrapFunction(t):(t instanceof IDBTransaction&&cacheDonePromiseForTransaction(t),instanceOfAny(t,getIdbProxyableTypes())?new Proxy(t,idbProxyTraps):t)}function wrap(t){if(t instanceof IDBRequest)return promisifyRequest(t);if(transformCache.has(t))return transformCache.get(t);const e=transformCachableValue(t);return e!==t&&(transformCache.set(t,e),reverseTransformCache.set(e,t)),e}const unwrap=t=>reverseTransformCache.get(t);function openDB(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),f=wrap(u);return i&&u.addEventListener("upgradeneeded",d=>{i(wrap(u.result),d.oldVersion,d.newVersion,wrap(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),o&&d.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=writeMethods.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||readMethods.includes(n)))return;const l=async function(u,...f){const d=this.transaction(u,o?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),o&&d.done]))[0]};return cachedMethods.set(e,l),l}replaceTraps(t=>({...t,get:(e,n,i)=>getMethod(e,n)||t.get(e,n,i),has:(e,n)=>!!getMethod(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(isVersionServiceProvider(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function isVersionServiceProvider(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/vertexai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$3="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(t,e){try{t.container.addComponent(e)}catch(n){logger$1.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _registerComponent(t){const e=t.name;if(_components.has(e))return logger$1.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,t);for(const n of _apps.values())_addComponent(n,t);for(const n of _serverApps.values())_addComponent(n,t);return!0}function _getProvider(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _isFirebaseServerApp(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION$1=version$3;function initializeApp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ERROR_FACTORY.create("bad-app-name",{appName:String(o)});if(n||(n=getDefaultAppConfig()),!n)throw ERROR_FACTORY.create("no-options");const l=_apps.get(o);if(l){if(deepEqual$1(n,l.options)&&deepEqual$1(i,l.config))return l;throw ERROR_FACTORY.create("duplicate-app",{appName:o})}const u=new ComponentContainer(o);for(const d of _components.values())u.addComponent(d);const f=new FirebaseAppImpl(n,i,u);return _apps.set(o,f),f}function getApp(t=DEFAULT_ENTRY_NAME){const e=_apps.get(t);if(!e&&t===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!e)throw ERROR_FACTORY.create("no-app",{appName:t});return e}function registerVersion(t,e,n){var i;let o=(i=PLATFORM_LOG_STRING[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger$1.warn(f.join(" "));return}_registerComponent(new Component(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(STORE_NAME)}catch(n){console.warn(n)}}}}).catch(t=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:t.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(t){try{const n=(await getDbPromise()).transaction(STORE_NAME),i=await n.objectStore(STORE_NAME).get(computeKey(t));return await n.done,i}catch(e){if(e instanceof FirebaseError)logger$1.warn(e.message);else{const n=ERROR_FACTORY.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger$1.warn(n.message)}}}async function writeHeartbeatsToIndexedDB(t,e){try{const i=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await i.objectStore(STORE_NAME).put(e,computeKey(t)),await i.done}catch(n){if(n instanceof FirebaseError)logger$1.warn(n.message);else{const i=ERROR_FACTORY.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});logger$1.warn(i.message)}}}function computeKey(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=getUTCDateString();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const u=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){logger$1.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=getUTCDateString(),{heartbeatsToSend:i,unsentEntries:o}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),l=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return logger$1.warn(n),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(t,e=MAX_HEADER_BYTES){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),countBytes(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),countBytes(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await readHeartbeatsFromIndexedDB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function countBytes(t){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}function getEarliestHeartbeatIdx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(t){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$q,version$1$1,t),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest$b(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient$1=new Logger("@firebase/auth");function _logWarn(t,...e){logClient$1.logLevel<=LogLevel.WARN&&logClient$1.warn(`Auth (${SDK_VERSION$1}): ${t}`,...e)}function _logError(t,...e){logClient$1.logLevel<=LogLevel.ERROR&&logClient$1.error(`Auth (${SDK_VERSION$1}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(t,...e){throw createErrorInternal(t,...e)}function _createError(t,...e){return createErrorInternal(t,...e)}function _errorWithCustomMessage(t,e,n){const i=Object.assign(Object.assign({},prodErrorMap()),{[e]:n});return new ErrorFactory("auth","Firebase",i).create(e,{appName:t.name})}function _serverAppCurrentUserOperationNotSupportedError(t){return _errorWithCustomMessage(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return _DEFAULT_AUTH_ERROR_FACTORY.create(t,...e)}function _assert(t,e,...n){if(!t)throw createErrorInternal(e,...n)}function debugFail(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _logError(e),new Error(e)}function debugAssert(t,e){t||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,n){this.shortDelay=e,this.longDelay=n,debugAssert(n>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(t,e){debugAssert(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _performApiRequest(t,e,n,i,o={}){return _performFetchWithErrorHandling(t,o,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=querystring(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},l);return isCloudflareWorker()||(p.referrerPolicy="no-referrer"),FetchProvider.fetch()(_getFinalTarget(t,t.config.apiHost,n,f),p)})}async function _performFetchWithErrorHandling(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const o=new NetworkTimeout(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw _makeTaggedError(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[d,p]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw _makeTaggedError(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw _makeTaggedError(t,"user-disabled",u);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw _errorWithCustomMessage(t,g,p);_fail(t,g)}}catch(o){if(o instanceof FirebaseError)throw o;_fail(t,"network-request-failed",{message:String(o)})}}async function _performSignInRequest(t,e,n,i,o={}){const l=await _performApiRequest(t,e,n,i,o);return"mfaPendingCredential"in l&&_fail(t,"multi-factor-auth-required",{_serverResponse:l}),l}function _getFinalTarget(t,e,n,i){const o=`${e}${n}?${i}`;return t.config.emulator?_emulatorUrl(t.config,o):`${t.config.apiScheme}://${o}`}function _parseEnforcementState(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=_createError(t,e,i);return o.customData._tokenResponse=n,o}function isEnterprise(t){return t!==void 0&&t.enterprise!==void 0}class RecaptchaConfig{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _parseEnforcementState(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(t,e){return _performApiRequest(t,"GET","/v2/recaptchaConfig",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(t,e){return _performApiRequest(t,"POST","/v1/accounts:delete",e)}async function getAccountInfo(t,e){return _performApiRequest(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(t,e=!1){const n=getModularInstance(t),i=await n.getIdToken(e),o=_parseToken(i);_assert(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:utcTimestampToDateString(secondsStringToMilliseconds(o.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(o.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(o.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function secondsStringToMilliseconds(t){return Number(t)*1e3}function _parseToken(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const o=base64Decode(n);return o?JSON.parse(o):(_logError("Failed to decode base64 JWT payload"),null)}catch(o){return _logError("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function _tokenExpiresIn(t){const e=_parseToken(t);return _assert(e,"internal-error"),_assert(typeof e.exp<"u","internal-error"),_assert(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof FirebaseError&&isUserInvalidated(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function isUserInvalidated({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(t){var e;const n=t.auth,i=await t.getIdToken(),o=await _logoutIfInvalidated(t,getAccountInfo(n,{idToken:i}));_assert(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(l.providerUserInfo):[],f=mergeProviderData(t.providerData,u),d=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),g=d?p:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new UserMetadata(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,E)}async function reload(t){const e=getModularInstance(t);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function extractProviderData(t){return t.map(e=>{var{providerId:n}=e,i=__rest$b(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(t,e){const n=await _performFetchWithErrorHandling(t,{},async()=>{const i=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,u=_getFinalTarget(t,o,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function revokeToken(t,e){return _performApiRequest(t,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken<"u","internal-error"),_assert(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_assert(e.length!==0,"internal-error");const n=_tokenExpiresIn(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:l}=await requestStsToken(e,n);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:l}=n,u=new StsTokenManager;return i&&(_assert(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(_assert(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(_assert(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(t,e){_assert(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,l=__rest$b(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new UserMetadata(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,l,u,f,d,p,g;const E=(i=n.displayName)!==null&&i!==void 0?i:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,R=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,I=(u=n.photoURL)!==null&&u!==void 0?u:void 0,j=(f=n.tenantId)!==null&&f!==void 0?f:void 0,q=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,L=(p=n.createdAt)!==null&&p!==void 0?p:void 0,z=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:W,isAnonymous:H,providerData:Z,stsTokenManager:Y}=n;_assert(U&&Y,e,"internal-error");const J=StsTokenManager.fromJSON(this.name,Y);_assert(typeof U=="string",e,"internal-error"),assertStringOrUndefined(E,e.name),assertStringOrUndefined(A,e.name),_assert(typeof W=="boolean",e,"internal-error"),_assert(typeof H=="boolean",e,"internal-error"),assertStringOrUndefined(R,e.name),assertStringOrUndefined(I,e.name),assertStringOrUndefined(j,e.name),assertStringOrUndefined(q,e.name),assertStringOrUndefined(L,e.name),assertStringOrUndefined(z,e.name);const ne=new UserImpl({uid:U,auth:e,email:A,emailVerified:W,displayName:E,isAnonymous:H,photoURL:I,phoneNumber:R,tenantId:j,stsTokenManager:J,createdAt:L,lastLoginAt:z});return Z&&Array.isArray(Z)&&(ne.providerData=Z.map(ae=>Object.assign({},ae))),q&&(ne._redirectEventId=q),ne}static async _fromIdTokenResponse(e,n,i=!1){const o=new StsTokenManager;o.updateFromServerResponse(n);const l=new UserImpl({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await _reloadWithoutSaving(l),l}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];_assert(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?extractProviderData(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new StsTokenManager;f.updateFromIdToken(i);const d=new UserImpl({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new UserMetadata(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(t){debugAssert(t instanceof Function,"Expected a class definition");let e=instanceCache.get(t);return e?(debugAssert(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,instanceCache.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(t,e,n){return`firebase:${t}:${e}:${n}`}class PersistenceUserManager{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,o.apiKey,l),this.fullPersistenceKey=_persistenceKeyName("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,i);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=o[0]||_getInstance(inMemoryPersistence);const u=_persistenceKeyName(i,e.config.apiKey,e.name);let f=null;for(const p of n)try{const g=await p._get(u);if(g){const E=UserImpl._fromJSON(e,g);p!==l&&(f=E),l=p;break}}catch{}const d=o.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new PersistenceUserManager(l,e,i):(l=d[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new PersistenceUserManager(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function _isFirefox(t=getUA()){return/firefox\//i.test(t)}function _isSafari(t=getUA()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(t=getUA()){return/crios\//i.test(t)}function _isIEMobile(t=getUA()){return/iemobile/i.test(t)}function _isAndroid(t=getUA()){return/android/i.test(t)}function _isBlackBerry(t=getUA()){return/blackberry/i.test(t)}function _isWebOS(t=getUA()){return/webos/i.test(t)}function _isIOS(t=getUA()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _isIOSStandalone(t=getUA()){var e;return _isIOS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(t=getUA()){return _isIOS(t)||_isAndroid(t)||_isWebOS(t)||_isBlackBerry(t)||/windows phone/i.test(t)||_isIEMobile(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(t,e=[]){let n;switch(t){case"Browser":n=_getBrowserName(getUA());break;case"Worker":n=`${_getBrowserName(getUA())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${SDK_VERSION$1}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,f)=>{try{const d=e(l);u(d)}catch(d){f(d)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(t,e={}){return _performApiRequest(t,"GET","/v2/passwordPolicy",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(e){var n,i,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:MINIMUM_MIN_PASSWORD_LENGTH,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,l,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_getInstance(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await getAccountInfo(this,{idToken:e}),i=await UserImpl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_isFirebaseServerApp(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(o=d.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const n=e?getModularInstance(e):null;return n&&_assert(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _getPasswordPolicy(this),n=new PasswordPolicyImpl(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await revokeToken(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_getInstance(e)||this._popupRedirectResolver;_assert(n,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,o);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_logWarn(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _castAuth(t){return getModularInstance(t)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(n=>this.observer=n)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(t){externalJSProvider=t}function _loadJS(t){return externalJSProvider.loadJS(t)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MockGreCAPTCHA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(e){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{getRecaptchaConfig(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new RecaptchaConfig(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{f(d)})})}function o(l,u,f){const d=window.grecaptcha;isEnterprise(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(FAKE_TOKEN)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MockGreCAPTCHATopLevel().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!n&&isEnterprise(window.grecaptcha))o(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=_recaptchaEnterpriseScriptUrl();d.length!==0&&(d+=f),_loadJS(d).then(()=>{o(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function injectRecaptchaFields(t,e,n,i=!1,o=!1){const l=new RecaptchaEnterpriseVerifier(t);let u;if(o)u=FAKE_TOKEN;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function handleRecaptchaFlow(t,e,n,i,o){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await injectRecaptchaFields(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await injectRecaptchaFields(t,e,n,n==="getOobCode");return i(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(t,e){const n=_getProvider(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(deepEqual$1(l,e??{}))return o;_fail(o,"already-initialized")}return n.initialize({options:e})}function _initializeAuthInstance(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(_getInstance);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function connectAuthEmulator(t,e,n){const i=_castAuth(t);_assert(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=extractProtocol(e),{host:u,port:f}=extractHostAndPort(e),d=f===null?"":`:${f}`,p={url:`${l}//${u}${d}/`},g=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){_assert(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),_assert(deepEqual$1(p,i.config.emulator)&&deepEqual$1(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,emitEmulatorWarning()}function extractProtocol(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function extractHostAndPort(t){const e=extractProtocol(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:parsePort(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:parsePort(u)}}}function parsePort(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function emitEmulatorWarning(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,n){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function updateEmailPassword(t,e){return _performApiRequest(t,"POST","/v1/accounts:update",e)}async function linkEmailPassword(t,e){return _performApiRequest(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(t,e))}async function sendOobCode(t,e){return _performApiRequest(t,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(t,e))}async function sendPasswordResetEmail$1(t,e){return sendOobCode(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}async function signInWithEmailLinkForLinking(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new EmailAuthCredential(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new EmailAuthCredential(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,n,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,i,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:n,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_fail("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,l=__rest$b(n,["providerId","signInMethod"]);if(!i||!o)return null;const u=new OAuthCredential(i,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return signInWithIdp(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,signInWithIdp(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,signInWithIdp(e,n)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=querystring(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(t){const e=querystringDecode(extractQuerystring(t)).link,n=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,i=querystringDecode(extractQuerystring(t)).deep_link_id;return(i?querystringDecode(extractQuerystring(i)).link:null)||i||n||e||t}class ActionCodeURL{constructor(e){var n,i,o,l,u,f;const d=querystringDecode(extractQuerystring(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(i=d.oobCode)!==null&&i!==void 0?i:null,E=parseMode((o=d.mode)!==null&&o!==void 0?o:null);_assert(p&&g&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=g,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=parseDeepLink(e);try{return new ActionCodeURL(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,n){return EmailAuthCredential._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ActionCodeURL.parseLink(n);return _assert(i,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,i.code,i.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return GoogleAuthProvider.credential(n,i)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,n){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return TwitterAuthProvider.credential(n,i)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signUp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const l=await UserImpl._fromIdTokenResponse(e,i,o),u=providerIdForResponse(i);return new UserCredentialImpl({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=providerIdForResponse(i);return new UserCredentialImpl({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function providerIdForResponse(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,n,i,o){var l;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new MultiFactorError(e,n,i,o)}}function _processCredentialSavingMfaContextIfNecessary(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(t,l,e,i):l})}async function _link$1(t,e,n=!1){const i=await _logoutIfInvalidated(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return UserCredentialImpl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(t,e,n=!1){const{auth:i}=t;if(_isFirebaseServerApp(i.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(i));const o="reauthenticate";try{const l=await _logoutIfInvalidated(t,_processCredentialSavingMfaContextIfNecessary(i,o,e,t),n);_assert(l.idToken,i,"internal-error");const u=_parseToken(l.idToken);_assert(u,i,"internal-error");const{sub:f}=u;return _assert(t.uid===f,i,"user-mismatch"),UserCredentialImpl._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&_fail(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(t,e,n=!1){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const i="signIn",o=await _processCredentialSavingMfaContextIfNecessary(t,i,e),l=await UserCredentialImpl._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(l.user),l}async function signInWithCredential(t,e){return _signInWithCredential(_castAuth(t),e)}async function reauthenticateWithCredential(t,e){return _reauthenticate(getModularInstance(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(t){const e=_castAuth(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sendPasswordResetEmail(t,e,n){const i=_castAuth(t);await handleRecaptchaFlow(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sendPasswordResetEmail$1)}async function createUserWithEmailAndPassword(t,e,n){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const i=_castAuth(t),u=await handleRecaptchaFlow(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(t),d}),f=await UserCredentialImpl._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function signInWithEmailAndPassword(t,e,n){return _isFirebaseServerApp(t.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t)):signInWithCredential(getModularInstance(t),EmailAuthProvider.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(t),i})}function updatePassword(t,e){return updateEmailOrPassword(getModularInstance(t),null,e)}async function updateEmailOrPassword(t,e,n){const{auth:i}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(l.password=n);const u=await _logoutIfInvalidated(t,updateEmailPassword(i,l));await t._updateTokensIfNecessary(u,!0)}function onIdTokenChanged(t,e,n,i){return getModularInstance(t).onIdTokenChanged(e,n,i)}function beforeAuthStateChanged(t,e,n){return getModularInstance(t).beforeAuthStateChanged(e,n)}function onAuthStateChanged(t,e,n,i){return getModularInstance(t).onAuthStateChanged(e,n,i)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);_isIE10()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IE10_LOCAL_STORAGE_SYNC_DELAY):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Receiver(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:l}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(u).map(async p=>p(n.origin,l)),d=await _allSettled(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((f,d)=>{const p=_generateEventId("",20);o.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(A.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(t){_window().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function getObjectStore(t,e){return t.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const t=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(t).toPromise()}function _openDatabase(){const t=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(i):(i.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(t,e,n){const i=getObjectStore(t,!0).put({[DB_DATA_KEYPATH]:e,value:n});return new DBPromise(i).toPromise()}async function getObject(t,e){const n=getObjectStore(t,!1).get(e),i=await new DBPromise(n).toPromise();return i===void 0?null:i.value}function _deleteObject(t,e){const n=getObjectStore(t,!0).delete(e);return new DBPromise(n).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>_TRANSACTION_RETRY_COUNT)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>_putObject(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>getObject(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_deleteObject(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=getObjectStore(o,!1).getAll();return new DBPromise(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(t,e){return e?_getInstance(e):(_assert(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return signInWithIdp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _signIn(t){return _signInWithCredential(t.auth,new IdpCredential(t),t.bypassAuthState)}function _reauth(t){const{auth:e,user:n}=t;return _assert(n,e,"internal-error"),_reauthenticate(n,new IdpCredential(t),t.bypassAuthState)}async function _link(t){const{auth:e,user:n}=t;return _assert(n,e,"internal-error"),_link$1(n,new IdpCredential(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,n,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,n,i,o,l){super(e,n,o,l),this.provider=i,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const i=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(t,e){const n=pendingRedirectKey(e),i=resolverPersistence(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function _overrideRedirectResult(t,e){redirectOutcomeMap.set(t._key(),e)}function resolverPersistence(t){return _getInstance(t._redirectPersistence)}function pendingRedirectKey(t){return _persistenceKeyName(PENDING_REDIRECT_KEY,t.config.apiKey,t.name)}async function _getRedirectResult(t,e,n=!1){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const i=_castAuth(t),o=_withDefaultResolver(i,e),u=await new RedirectAction(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!isNullRedirectEvent(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(_createError(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(t,e={}){return _performApiRequest(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(t);for(const n of e)try{if(matchDomain(n))return}catch{}_fail(t,"unauthorized-domain")}function matchDomain(t){const e=_getCurrentUrl(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!HTTP_REGEX.test(n))return!1;if(IP_ADDRESS_REGEX.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const t=_window().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function loadGapi(t){return new Promise((e,n)=>{var i,o,l;function u(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),n(_createError(t,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((o=(i=_window().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=_window().gapi)===null||l===void 0)&&l.load)u();else{const f=_generateCallbackName("iframefcb");return _window()[f]=()=>{gapi.load?u():n(_createError(t,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${f}`).catch(d=>n(d))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(t){return cachedGApiLoader=cachedGApiLoader||loadGapi(t),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(t){const e=t.config;_assert(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${t.config.authDomain}/${IFRAME_PATH}`,i={apiKey:e.apiKey,appName:t.name,v:SDK_VERSION$1},o=EID_FROM_APIHOST.get(t.config.apiHost);o&&(i.eid=o);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${querystring(i).slice(1)}`}async function _openIframe(t){const e=await _loadGapi(t),n=_window().gapi;return _assert(n,t,"internal-error"),e.open({where:document.body,url:getIframeUrl(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const u=_createError(t,"network-request-failed"),f=_window().setTimeout(()=>{l(u)},PING_TIMEOUT.get());function d(){_window().clearTimeout(f),o(i)}i.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(t,e,n,i=DEFAULT_WIDTH,o=DEFAULT_HEIGHT){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const d=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:i.toString(),height:o.toString(),top:l,left:u}),p=getUA().toLowerCase();n&&(f=_isChromeIOS(p)?TARGET_BLANK:n),_isFirefox(p)&&(e=e||FIREFOX_EMPTY_URL,d.scrollbars="yes");const g=Object.entries(d).reduce((A,[R,I])=>`${A}${R}=${I},`,"");if(_isIOSStandalone(p)&&f!=="_self")return openAsNewWindowIOS(e||"",f),new AuthPopup(null);const E=window.open(e||"",f,g);_assert(E,t,"popup-blocked");try{E.focus()}catch{}return new AuthPopup(E)}function openAsNewWindowIOS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(t,e,n,i,o,l){_assert(t.config.authDomain,t,"auth-domain-config-required"),_assert(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:SDK_VERSION$1,eventId:o};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",isEmpty$1(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,E]of Object.entries({}))u[g]=E}if(e instanceof BaseOAuthProvider){const g=e.getScopes().filter(E=>E!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const d=await t._getAppCheckToken(),p=d?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(d)}`:"";return`${getHandlerBase(t)}?${querystring(f).slice(1)}${p}`}function getHandlerBase({config:t}){return t.emulator?_emulatorUrl(t,EMULATOR_WIDGET_PATH):`https://${t.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,n,i,o){var l;debugAssert((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await _getRedirectUrl(e,n,i,_getCurrentUrl(),o);return _open(e,u,_generateEventId())}async _openRedirect(e,n,i,o){await this._originValidation(e);const l=await _getRedirectUrl(e,n,i,_getCurrentUrl(),o);return _setWindowLocation(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(debugAssert(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await _openIframe(e),i=new AuthEventManager(e);return n.register("authEvent",o=>(_assert(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},o=>{var l;const u=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[WEB_STORAGE_SUPPORT_KEY];u!==void 0&&n(!!u),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_validateOrigin(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(t){_registerComponent(new Component("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;_assert(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(t)},p=new AuthImpl(i,o,l,d);return _initializeAuthInstance(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const n=_castAuth(e.getProvider("auth").getImmediate());return(i=>new AuthInterop(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(t)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>authIdTokenMaxAge)return;const o=n==null?void 0:n.token;lastPostedIdToken!==o&&(lastPostedIdToken=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function getAuth(t=getApp()){const e=_getProvider(t,"auth");if(e.isInitialized())return e.getImmediate();const n=initializeAuth(t,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),i=getExperimentalSetting("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=mintCookieFactory(l.toString());beforeAuthStateChanged(n,u,()=>u(n.currentUser)),onIdTokenChanged(n,f=>u(f))}}const o=getDefaultEmulatorHost("auth");return o&&connectAuthEmulator(n,`http://${o}`),n}function getScriptParentElement(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_setExternalJSProvider({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const l=_createError("internal-error");l.customData=o,n(l)},i.type="text/javascript",i.charset="UTF-8",getScriptParentElement().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var name$1="firebase",version$1="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Y,J){function ne(){}ne.prototype=J.prototype,Y.D=J.prototype,Y.prototype=new ne,Y.prototype.constructor=Y,Y.C=function(ae,se,ue){for(var fe=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)fe[_e-2]=arguments[_e];return J.prototype[se].apply(ae,fe)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(Y,J,ne){ne||(ne=0);var ae=Array(16);if(typeof J=="string")for(var se=0;16>se;++se)ae[se]=J.charCodeAt(ne++)|J.charCodeAt(ne++)<<8|J.charCodeAt(ne++)<<16|J.charCodeAt(ne++)<<24;else for(se=0;16>se;++se)ae[se]=J[ne++]|J[ne++]<<8|J[ne++]<<16|J[ne++]<<24;J=Y.g[0],ne=Y.g[1],se=Y.g[2];var ue=Y.g[3],fe=J+(ue^ne&(se^ue))+ae[0]+3614090360&4294967295;J=ne+(fe<<7&4294967295|fe>>>25),fe=ue+(se^J&(ne^se))+ae[1]+3905402710&4294967295,ue=J+(fe<<12&4294967295|fe>>>20),fe=se+(ne^ue&(J^ne))+ae[2]+606105819&4294967295,se=ue+(fe<<17&4294967295|fe>>>15),fe=ne+(J^se&(ue^J))+ae[3]+3250441966&4294967295,ne=se+(fe<<22&4294967295|fe>>>10),fe=J+(ue^ne&(se^ue))+ae[4]+4118548399&4294967295,J=ne+(fe<<7&4294967295|fe>>>25),fe=ue+(se^J&(ne^se))+ae[5]+1200080426&4294967295,ue=J+(fe<<12&4294967295|fe>>>20),fe=se+(ne^ue&(J^ne))+ae[6]+2821735955&4294967295,se=ue+(fe<<17&4294967295|fe>>>15),fe=ne+(J^se&(ue^J))+ae[7]+4249261313&4294967295,ne=se+(fe<<22&4294967295|fe>>>10),fe=J+(ue^ne&(se^ue))+ae[8]+1770035416&4294967295,J=ne+(fe<<7&4294967295|fe>>>25),fe=ue+(se^J&(ne^se))+ae[9]+2336552879&4294967295,ue=J+(fe<<12&4294967295|fe>>>20),fe=se+(ne^ue&(J^ne))+ae[10]+4294925233&4294967295,se=ue+(fe<<17&4294967295|fe>>>15),fe=ne+(J^se&(ue^J))+ae[11]+2304563134&4294967295,ne=se+(fe<<22&4294967295|fe>>>10),fe=J+(ue^ne&(se^ue))+ae[12]+1804603682&4294967295,J=ne+(fe<<7&4294967295|fe>>>25),fe=ue+(se^J&(ne^se))+ae[13]+4254626195&4294967295,ue=J+(fe<<12&4294967295|fe>>>20),fe=se+(ne^ue&(J^ne))+ae[14]+2792965006&4294967295,se=ue+(fe<<17&4294967295|fe>>>15),fe=ne+(J^se&(ue^J))+ae[15]+1236535329&4294967295,ne=se+(fe<<22&4294967295|fe>>>10),fe=J+(se^ue&(ne^se))+ae[1]+4129170786&4294967295,J=ne+(fe<<5&4294967295|fe>>>27),fe=ue+(ne^se&(J^ne))+ae[6]+3225465664&4294967295,ue=J+(fe<<9&4294967295|fe>>>23),fe=se+(J^ne&(ue^J))+ae[11]+643717713&4294967295,se=ue+(fe<<14&4294967295|fe>>>18),fe=ne+(ue^J&(se^ue))+ae[0]+3921069994&4294967295,ne=se+(fe<<20&4294967295|fe>>>12),fe=J+(se^ue&(ne^se))+ae[5]+3593408605&4294967295,J=ne+(fe<<5&4294967295|fe>>>27),fe=ue+(ne^se&(J^ne))+ae[10]+38016083&4294967295,ue=J+(fe<<9&4294967295|fe>>>23),fe=se+(J^ne&(ue^J))+ae[15]+3634488961&4294967295,se=ue+(fe<<14&4294967295|fe>>>18),fe=ne+(ue^J&(se^ue))+ae[4]+3889429448&4294967295,ne=se+(fe<<20&4294967295|fe>>>12),fe=J+(se^ue&(ne^se))+ae[9]+568446438&4294967295,J=ne+(fe<<5&4294967295|fe>>>27),fe=ue+(ne^se&(J^ne))+ae[14]+3275163606&4294967295,ue=J+(fe<<9&4294967295|fe>>>23),fe=se+(J^ne&(ue^J))+ae[3]+4107603335&4294967295,se=ue+(fe<<14&4294967295|fe>>>18),fe=ne+(ue^J&(se^ue))+ae[8]+1163531501&4294967295,ne=se+(fe<<20&4294967295|fe>>>12),fe=J+(se^ue&(ne^se))+ae[13]+2850285829&4294967295,J=ne+(fe<<5&4294967295|fe>>>27),fe=ue+(ne^se&(J^ne))+ae[2]+4243563512&4294967295,ue=J+(fe<<9&4294967295|fe>>>23),fe=se+(J^ne&(ue^J))+ae[7]+1735328473&4294967295,se=ue+(fe<<14&4294967295|fe>>>18),fe=ne+(ue^J&(se^ue))+ae[12]+2368359562&4294967295,ne=se+(fe<<20&4294967295|fe>>>12),fe=J+(ne^se^ue)+ae[5]+4294588738&4294967295,J=ne+(fe<<4&4294967295|fe>>>28),fe=ue+(J^ne^se)+ae[8]+2272392833&4294967295,ue=J+(fe<<11&4294967295|fe>>>21),fe=se+(ue^J^ne)+ae[11]+1839030562&4294967295,se=ue+(fe<<16&4294967295|fe>>>16),fe=ne+(se^ue^J)+ae[14]+4259657740&4294967295,ne=se+(fe<<23&4294967295|fe>>>9),fe=J+(ne^se^ue)+ae[1]+2763975236&4294967295,J=ne+(fe<<4&4294967295|fe>>>28),fe=ue+(J^ne^se)+ae[4]+1272893353&4294967295,ue=J+(fe<<11&4294967295|fe>>>21),fe=se+(ue^J^ne)+ae[7]+4139469664&4294967295,se=ue+(fe<<16&4294967295|fe>>>16),fe=ne+(se^ue^J)+ae[10]+3200236656&4294967295,ne=se+(fe<<23&4294967295|fe>>>9),fe=J+(ne^se^ue)+ae[13]+681279174&4294967295,J=ne+(fe<<4&4294967295|fe>>>28),fe=ue+(J^ne^se)+ae[0]+3936430074&4294967295,ue=J+(fe<<11&4294967295|fe>>>21),fe=se+(ue^J^ne)+ae[3]+3572445317&4294967295,se=ue+(fe<<16&4294967295|fe>>>16),fe=ne+(se^ue^J)+ae[6]+76029189&4294967295,ne=se+(fe<<23&4294967295|fe>>>9),fe=J+(ne^se^ue)+ae[9]+3654602809&4294967295,J=ne+(fe<<4&4294967295|fe>>>28),fe=ue+(J^ne^se)+ae[12]+3873151461&4294967295,ue=J+(fe<<11&4294967295|fe>>>21),fe=se+(ue^J^ne)+ae[15]+530742520&4294967295,se=ue+(fe<<16&4294967295|fe>>>16),fe=ne+(se^ue^J)+ae[2]+3299628645&4294967295,ne=se+(fe<<23&4294967295|fe>>>9),fe=J+(se^(ne|~ue))+ae[0]+4096336452&4294967295,J=ne+(fe<<6&4294967295|fe>>>26),fe=ue+(ne^(J|~se))+ae[7]+1126891415&4294967295,ue=J+(fe<<10&4294967295|fe>>>22),fe=se+(J^(ue|~ne))+ae[14]+2878612391&4294967295,se=ue+(fe<<15&4294967295|fe>>>17),fe=ne+(ue^(se|~J))+ae[5]+4237533241&4294967295,ne=se+(fe<<21&4294967295|fe>>>11),fe=J+(se^(ne|~ue))+ae[12]+1700485571&4294967295,J=ne+(fe<<6&4294967295|fe>>>26),fe=ue+(ne^(J|~se))+ae[3]+2399980690&4294967295,ue=J+(fe<<10&4294967295|fe>>>22),fe=se+(J^(ue|~ne))+ae[10]+4293915773&4294967295,se=ue+(fe<<15&4294967295|fe>>>17),fe=ne+(ue^(se|~J))+ae[1]+2240044497&4294967295,ne=se+(fe<<21&4294967295|fe>>>11),fe=J+(se^(ne|~ue))+ae[8]+1873313359&4294967295,J=ne+(fe<<6&4294967295|fe>>>26),fe=ue+(ne^(J|~se))+ae[15]+4264355552&4294967295,ue=J+(fe<<10&4294967295|fe>>>22),fe=se+(J^(ue|~ne))+ae[6]+2734768916&4294967295,se=ue+(fe<<15&4294967295|fe>>>17),fe=ne+(ue^(se|~J))+ae[13]+1309151649&4294967295,ne=se+(fe<<21&4294967295|fe>>>11),fe=J+(se^(ne|~ue))+ae[4]+4149444226&4294967295,J=ne+(fe<<6&4294967295|fe>>>26),fe=ue+(ne^(J|~se))+ae[11]+3174756917&4294967295,ue=J+(fe<<10&4294967295|fe>>>22),fe=se+(J^(ue|~ne))+ae[2]+718787259&4294967295,se=ue+(fe<<15&4294967295|fe>>>17),fe=ne+(ue^(se|~J))+ae[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+J&4294967295,Y.g[1]=Y.g[1]+(se+(fe<<21&4294967295|fe>>>11))&4294967295,Y.g[2]=Y.g[2]+se&4294967295,Y.g[3]=Y.g[3]+ue&4294967295}i.prototype.u=function(Y,J){J===void 0&&(J=Y.length);for(var ne=J-this.blockSize,ae=this.B,se=this.h,ue=0;ue<J;){if(se==0)for(;ue<=ne;)o(this,Y,ue),ue+=this.blockSize;if(typeof Y=="string"){for(;ue<J;)if(ae[se++]=Y.charCodeAt(ue++),se==this.blockSize){o(this,ae),se=0;break}}else for(;ue<J;)if(ae[se++]=Y[ue++],se==this.blockSize){o(this,ae),se=0;break}}this.h=se,this.o+=J},i.prototype.v=function(){var Y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Y[0]=128;for(var J=1;J<Y.length-8;++J)Y[J]=0;var ne=8*this.o;for(J=Y.length-8;J<Y.length;++J)Y[J]=ne&255,ne/=256;for(this.u(Y),Y=Array(16),J=ne=0;4>J;++J)for(var ae=0;32>ae;ae+=8)Y[ne++]=this.g[J]>>>ae&255;return Y};function l(Y,J){var ne=f;return Object.prototype.hasOwnProperty.call(ne,Y)?ne[Y]:ne[Y]=J(Y)}function u(Y,J){this.h=J;for(var ne=[],ae=!0,se=Y.length-1;0<=se;se--){var ue=Y[se]|0;ae&&ue==J||(ne[se]=ue,ae=!1)}this.g=ne}var f={};function d(Y){return-128<=Y&&128>Y?l(Y,function(J){return new u([J|0],0>J?-1:0)}):new u([Y|0],0>Y?-1:0)}function p(Y){if(isNaN(Y)||!isFinite(Y))return E;if(0>Y)return q(p(-Y));for(var J=[],ne=1,ae=0;Y>=ne;ae++)J[ae]=Y/ne|0,ne*=4294967296;return new u(J,0)}function g(Y,J){if(Y.length==0)throw Error("number format error: empty string");if(J=J||10,2>J||36<J)throw Error("radix out of range: "+J);if(Y.charAt(0)=="-")return q(g(Y.substring(1),J));if(0<=Y.indexOf("-"))throw Error('number format error: interior "-" character');for(var ne=p(Math.pow(J,8)),ae=E,se=0;se<Y.length;se+=8){var ue=Math.min(8,Y.length-se),fe=parseInt(Y.substring(se,se+ue),J);8>ue?(ue=p(Math.pow(J,ue)),ae=ae.j(ue).add(p(fe))):(ae=ae.j(ne),ae=ae.add(p(fe)))}return ae}var E=d(0),A=d(1),R=d(16777216);t=u.prototype,t.m=function(){if(j(this))return-q(this).m();for(var Y=0,J=1,ne=0;ne<this.g.length;ne++){var ae=this.i(ne);Y+=(0<=ae?ae:4294967296+ae)*J,J*=4294967296}return Y},t.toString=function(Y){if(Y=Y||10,2>Y||36<Y)throw Error("radix out of range: "+Y);if(I(this))return"0";if(j(this))return"-"+q(this).toString(Y);for(var J=p(Math.pow(Y,6)),ne=this,ae="";;){var se=W(ne,J).g;ne=L(ne,se.j(J));var ue=((0<ne.g.length?ne.g[0]:ne.h)>>>0).toString(Y);if(ne=se,I(ne))return ue+ae;for(;6>ue.length;)ue="0"+ue;ae=ue+ae}},t.i=function(Y){return 0>Y?0:Y<this.g.length?this.g[Y]:this.h};function I(Y){if(Y.h!=0)return!1;for(var J=0;J<Y.g.length;J++)if(Y.g[J]!=0)return!1;return!0}function j(Y){return Y.h==-1}t.l=function(Y){return Y=L(this,Y),j(Y)?-1:I(Y)?0:1};function q(Y){for(var J=Y.g.length,ne=[],ae=0;ae<J;ae++)ne[ae]=~Y.g[ae];return new u(ne,~Y.h).add(A)}t.abs=function(){return j(this)?q(this):this},t.add=function(Y){for(var J=Math.max(this.g.length,Y.g.length),ne=[],ae=0,se=0;se<=J;se++){var ue=ae+(this.i(se)&65535)+(Y.i(se)&65535),fe=(ue>>>16)+(this.i(se)>>>16)+(Y.i(se)>>>16);ae=fe>>>16,ue&=65535,fe&=65535,ne[se]=fe<<16|ue}return new u(ne,ne[ne.length-1]&-2147483648?-1:0)};function L(Y,J){return Y.add(q(J))}t.j=function(Y){if(I(this)||I(Y))return E;if(j(this))return j(Y)?q(this).j(q(Y)):q(q(this).j(Y));if(j(Y))return q(this.j(q(Y)));if(0>this.l(R)&&0>Y.l(R))return p(this.m()*Y.m());for(var J=this.g.length+Y.g.length,ne=[],ae=0;ae<2*J;ae++)ne[ae]=0;for(ae=0;ae<this.g.length;ae++)for(var se=0;se<Y.g.length;se++){var ue=this.i(ae)>>>16,fe=this.i(ae)&65535,_e=Y.i(se)>>>16,ge=Y.i(se)&65535;ne[2*ae+2*se]+=fe*ge,z(ne,2*ae+2*se),ne[2*ae+2*se+1]+=ue*ge,z(ne,2*ae+2*se+1),ne[2*ae+2*se+1]+=fe*_e,z(ne,2*ae+2*se+1),ne[2*ae+2*se+2]+=ue*_e,z(ne,2*ae+2*se+2)}for(ae=0;ae<J;ae++)ne[ae]=ne[2*ae+1]<<16|ne[2*ae];for(ae=J;ae<2*J;ae++)ne[ae]=0;return new u(ne,0)};function z(Y,J){for(;(Y[J]&65535)!=Y[J];)Y[J+1]+=Y[J]>>>16,Y[J]&=65535,J++}function U(Y,J){this.g=Y,this.h=J}function W(Y,J){if(I(J))throw Error("division by zero");if(I(Y))return new U(E,E);if(j(Y))return J=W(q(Y),J),new U(q(J.g),q(J.h));if(j(J))return J=W(Y,q(J)),new U(q(J.g),J.h);if(30<Y.g.length){if(j(Y)||j(J))throw Error("slowDivide_ only works with positive integers.");for(var ne=A,ae=J;0>=ae.l(Y);)ne=H(ne),ae=H(ae);var se=Z(ne,1),ue=Z(ae,1);for(ae=Z(ae,2),ne=Z(ne,2);!I(ae);){var fe=ue.add(ae);0>=fe.l(Y)&&(se=se.add(ne),ue=fe),ae=Z(ae,1),ne=Z(ne,1)}return J=L(Y,se.j(J)),new U(se,J)}for(se=E;0<=Y.l(J);){for(ne=Math.max(1,Math.floor(Y.m()/J.m())),ae=Math.ceil(Math.log(ne)/Math.LN2),ae=48>=ae?1:Math.pow(2,ae-48),ue=p(ne),fe=ue.j(J);j(fe)||0<fe.l(Y);)ne-=ae,ue=p(ne),fe=ue.j(J);I(ue)&&(ue=A),se=se.add(ue),Y=L(Y,fe)}return new U(se,Y)}t.A=function(Y){return W(this,Y).h},t.and=function(Y){for(var J=Math.max(this.g.length,Y.g.length),ne=[],ae=0;ae<J;ae++)ne[ae]=this.i(ae)&Y.i(ae);return new u(ne,this.h&Y.h)},t.or=function(Y){for(var J=Math.max(this.g.length,Y.g.length),ne=[],ae=0;ae<J;ae++)ne[ae]=this.i(ae)|Y.i(ae);return new u(ne,this.h|Y.h)},t.xor=function(Y){for(var J=Math.max(this.g.length,Y.g.length),ne=[],ae=0;ae<J;ae++)ne[ae]=this.i(ae)^Y.i(ae);return new u(ne,this.h^Y.h)};function H(Y){for(var J=Y.g.length+1,ne=[],ae=0;ae<J;ae++)ne[ae]=Y.i(ae)<<1|Y.i(ae-1)>>>31;return new u(ne,Y.h)}function Z(Y,J){var ne=J>>5;J%=32;for(var ae=Y.g.length-ne,se=[],ue=0;ue<ae;ue++)se[ue]=0<J?Y.i(ue+ne)>>>J|Y.i(ue+ne+1)<<32-J:Y.i(ue+ne);return new u(se,Y.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Md5=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Integer=u}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode,Stat,Event,getStatEventTarget,createWebChannelTransport;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(G,le,he){return G==Array.prototype||G==Object.prototype||(G[le]=he.value),G};function n(G){G=[typeof globalThis=="object"&&globalThis,G,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var le=0;le<G.length;++le){var he=G[le];if(he&&he.Math==Math)return he}throw Error("Cannot find global object")}var i=n(this);function o(G,le){if(le)e:{var he=i;G=G.split(".");for(var ve=0;ve<G.length-1;ve++){var we=G[ve];if(!(we in he))break e;he=he[we]}G=G[G.length-1],ve=he[G],le=le(ve),le!=ve&&le!=null&&e(he,G,{configurable:!0,writable:!0,value:le})}}function l(G,le){G instanceof String&&(G+="");var he=0,ve=!1,we={next:function(){if(!ve&&he<G.length){var De=he++;return{value:le(De,G[De]),done:!1}}return ve=!0,{done:!0,value:void 0}}};return we[Symbol.iterator]=function(){return we},we}o("Array.prototype.values",function(G){return G||function(){return l(this,function(le,he){return he})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(G){var le=typeof G;return le=le!="object"?le:G?Array.isArray(G)?"array":le:"null",le=="array"||le=="object"&&typeof G.length=="number"}function p(G){var le=typeof G;return le=="object"&&G!=null||le=="function"}function g(G,le,he){return G.call.apply(G.bind,arguments)}function E(G,le,he){if(!G)throw Error();if(2<arguments.length){var ve=Array.prototype.slice.call(arguments,2);return function(){var we=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(we,ve),G.apply(le,we)}}return function(){return G.apply(le,arguments)}}function A(G,le,he){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:E,A.apply(null,arguments)}function R(G,le){var he=Array.prototype.slice.call(arguments,1);return function(){var ve=he.slice();return ve.push.apply(ve,arguments),G.apply(this,ve)}}function I(G,le){function he(){}he.prototype=le.prototype,G.aa=le.prototype,G.prototype=new he,G.prototype.constructor=G,G.Qb=function(ve,we,De){for(var Ue=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)Ue[rr-2]=arguments[rr];return le.prototype[we].apply(ve,Ue)}}function j(G){const le=G.length;if(0<le){const he=Array(le);for(let ve=0;ve<le;ve++)he[ve]=G[ve];return he}return[]}function q(G,le){for(let he=1;he<arguments.length;he++){const ve=arguments[he];if(d(ve)){const we=G.length||0,De=ve.length||0;G.length=we+De;for(let Ue=0;Ue<De;Ue++)G[we+Ue]=ve[Ue]}else G.push(ve)}}class L{constructor(le,he){this.i=le,this.j=he,this.h=0,this.g=null}get(){let le;return 0<this.h?(this.h--,le=this.g,this.g=le.next,le.next=null):le=this.i(),le}}function z(G){return/^[\s\xa0]*$/.test(G)}function U(){var G=f.navigator;return G&&(G=G.userAgent)?G:""}function W(G){return W[" "](G),G}W[" "]=function(){};var H=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Z(G,le,he){for(const ve in G)le.call(he,G[ve],ve,G)}function Y(G,le){for(const he in G)le.call(void 0,G[he],he,G)}function J(G){const le={};for(const he in G)le[he]=G[he];return le}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(G,le){let he,ve;for(let we=1;we<arguments.length;we++){ve=arguments[we];for(he in ve)G[he]=ve[he];for(let De=0;De<ne.length;De++)he=ne[De],Object.prototype.hasOwnProperty.call(ve,he)&&(G[he]=ve[he])}}function se(G){var le=1;G=G.split(":");const he=[];for(;0<le&&G.length;)he.push(G.shift()),le--;return G.length&&he.push(G.join(":")),he}function ue(G){f.setTimeout(()=>{throw G},0)}function fe(){var G=ie;let le=null;return G.g&&(le=G.g,G.g=G.g.next,G.g||(G.h=null),le.next=null),le}class _e{constructor(){this.h=this.g=null}add(le,he){const ve=ge.get();ve.set(le,he),this.h?this.h.next=ve:this.g=ve,this.h=ve}}var ge=new L(()=>new ce,G=>G.reset());class ce{constructor(){this.next=this.g=this.h=null}set(le,he){this.h=le,this.g=he,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ee=!1,ie=new _e,oe=()=>{const G=f.Promise.resolve(void 0);me=()=>{G.then(de)}};var de=()=>{for(var G;G=fe();){try{G.h.call(G.g)}catch(he){ue(he)}var le=ge;le.j(G),100>le.h&&(le.h++,G.next=le.g,le.g=G)}ee=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(G,le){this.type=G,this.g=this.target=le,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var G=!1,le=Object.defineProperty({},"passive",{get:function(){G=!0}});try{const he=()=>{};f.addEventListener("test",he,le),f.removeEventListener("test",he,le)}catch{}return G}();function Ce(G,le){if(Ee.call(this,G?G.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,G){var he=this.type=G.type,ve=G.changedTouches&&G.changedTouches.length?G.changedTouches[0]:null;if(this.target=G.target||G.srcElement,this.g=le,le=G.relatedTarget){if(H){e:{try{W(le.nodeName);var we=!0;break e}catch{}we=!1}we||(le=null)}}else he=="mouseover"?le=G.fromElement:he=="mouseout"&&(le=G.toElement);this.relatedTarget=le,ve?(this.clientX=ve.clientX!==void 0?ve.clientX:ve.pageX,this.clientY=ve.clientY!==void 0?ve.clientY:ve.pageY,this.screenX=ve.screenX||0,this.screenY=ve.screenY||0):(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0),this.button=G.button,this.key=G.key||"",this.ctrlKey=G.ctrlKey,this.altKey=G.altKey,this.shiftKey=G.shiftKey,this.metaKey=G.metaKey,this.pointerId=G.pointerId||0,this.pointerType=typeof G.pointerType=="string"?G.pointerType:Oe[G.pointerType]||"",this.state=G.state,this.i=G,G.defaultPrevented&&Ce.aa.h.call(this)}}I(Ce,Ee);var Oe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var G=this.i;G.preventDefault?G.preventDefault():G.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Ne(G,le,he,ve,we){this.listener=G,this.proxy=null,this.src=le,this.type=he,this.capture=!!ve,this.ha=we,this.key=++qe,this.da=this.fa=!1}function Me(G){G.da=!0,G.listener=null,G.proxy=null,G.src=null,G.ha=null}function Be(G){this.src=G,this.g={},this.h=0}Be.prototype.add=function(G,le,he,ve,we){var De=G.toString();G=this.g[De],G||(G=this.g[De]=[],this.h++);var Ue=ze(G,le,ve,we);return-1<Ue?(le=G[Ue],he||(le.fa=!1)):(le=new Ne(le,this.src,De,!!ve,we),le.fa=he,G.push(le)),le};function je(G,le){var he=le.type;if(he in G.g){var ve=G.g[he],we=Array.prototype.indexOf.call(ve,le,void 0),De;(De=0<=we)&&Array.prototype.splice.call(ve,we,1),De&&(Me(le),G.g[he].length==0&&(delete G.g[he],G.h--))}}function ze(G,le,he,ve){for(var we=0;we<G.length;++we){var De=G[we];if(!De.da&&De.listener==le&&De.capture==!!he&&De.ha==ve)return we}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),Ge={};function He(G,le,he,ve,we){if(Array.isArray(le)){for(var De=0;De<le.length;De++)He(G,le[De],he,ve,we);return null}return he=Sr(he),G&&G[We]?G.K(le,he,p(ve)?!!ve.capture:!1,we):ct(G,le,he,!1,ve,we)}function ct(G,le,he,ve,we,De){if(!le)throw Error("Invalid event type");var Ue=p(we)?!!we.capture:!!we,rr=yr(G);if(rr||(G[ke]=rr=new Be(G)),he=rr.add(le,he,ve,Ue,De),he.proxy)return he;if(ve=tr(),he.proxy=ve,ve.src=G,ve.listener=he,G.addEventListener)Ae||(we=Ue),we===void 0&&(we=!1),G.addEventListener(le.toString(),ve,we);else if(G.attachEvent)G.attachEvent(xt(le.toString()),ve);else if(G.addListener&&G.removeListener)G.addListener(ve);else throw Error("addEventListener and attachEvent are unavailable.");return he}function tr(){function G(he){return le.call(G.src,G.listener,he)}const le=ur;return G}function ar(G,le,he,ve,we){if(Array.isArray(le))for(var De=0;De<le.length;De++)ar(G,le[De],he,ve,we);else ve=p(ve)?!!ve.capture:!!ve,he=Sr(he),G&&G[We]?(G=G.i,le=String(le).toString(),le in G.g&&(De=G.g[le],he=ze(De,he,ve,we),-1<he&&(Me(De[he]),Array.prototype.splice.call(De,he,1),De.length==0&&(delete G.g[le],G.h--)))):G&&(G=yr(G))&&(le=G.g[le.toString()],G=-1,le&&(G=ze(le,he,ve,we)),(he=-1<G?le[G]:null)&&vt(he))}function vt(G){if(typeof G!="number"&&G&&!G.da){var le=G.src;if(le&&le[We])je(le.i,G);else{var he=G.type,ve=G.proxy;le.removeEventListener?le.removeEventListener(he,ve,G.capture):le.detachEvent?le.detachEvent(xt(he),ve):le.addListener&&le.removeListener&&le.removeListener(ve),(he=yr(le))?(je(he,G),he.h==0&&(he.src=null,le[ke]=null)):Me(G)}}}function xt(G){return G in Ge?Ge[G]:Ge[G]="on"+G}function ur(G,le){if(G.da)G=!0;else{le=new Ce(le,this);var he=G.listener,ve=G.ha||G.src;G.fa&&vt(G),G=he.call(ve,le)}return G}function yr(G){return G=G[ke],G instanceof Be?G:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sr(G){return typeof G=="function"?G:(G[Mt]||(G[Mt]=function(le){return G.handleEvent(le)}),G[Mt])}function Lt(){xe.call(this),this.i=new Be(this),this.M=this,this.F=null}I(Lt,xe),Lt.prototype[We]=!0,Lt.prototype.removeEventListener=function(G,le,he,ve){ar(this,G,le,he,ve)};function Ft(G,le){var he,ve=G.F;if(ve)for(he=[];ve;ve=ve.F)he.push(ve);if(G=G.M,ve=le.type||le,typeof le=="string")le=new Ee(le,G);else if(le instanceof Ee)le.target=le.target||G;else{var we=le;le=new Ee(ve,G),ae(le,we)}if(we=!0,he)for(var De=he.length-1;0<=De;De--){var Ue=le.g=he[De];we=_r(Ue,ve,!0,le)&&we}if(Ue=le.g=G,we=_r(Ue,ve,!0,le)&&we,we=_r(Ue,ve,!1,le)&&we,he)for(De=0;De<he.length;De++)Ue=le.g=he[De],we=_r(Ue,ve,!1,le)&&we}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var G=this.i,le;for(le in G.g){for(var he=G.g[le],ve=0;ve<he.length;ve++)Me(he[ve]);delete G.g[le],G.h--}}this.F=null},Lt.prototype.K=function(G,le,he,ve){return this.i.add(String(G),le,!1,he,ve)},Lt.prototype.L=function(G,le,he,ve){return this.i.add(String(G),le,!0,he,ve)};function _r(G,le,he,ve){if(le=G.i.g[String(le)],!le)return!0;le=le.concat();for(var we=!0,De=0;De<le.length;++De){var Ue=le[De];if(Ue&&!Ue.da&&Ue.capture==he){var rr=Ue.listener,Kr=Ue.ha||Ue.src;Ue.fa&&je(G.i,Ue),we=rr.call(Kr,ve)!==!1&&we}}return we&&!ve.defaultPrevented}function Wr(G,le,he){if(typeof G=="function")he&&(G=A(G,he));else if(G&&typeof G.handleEvent=="function")G=A(G.handleEvent,G);else throw Error("Invalid listener argument");return 2147483647<Number(le)?-1:f.setTimeout(G,le||0)}function mn(G){G.g=Wr(()=>{G.g=null,G.i&&(G.i=!1,mn(G))},G.l);const le=G.h;G.h=null,G.m.apply(null,le)}class _n extends xe{constructor(le,he){super(),this.m=le,this.l=he,this.h=null,this.i=!1,this.g=null}j(le){this.h=arguments,this.g?this.i=!0:mn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(G){xe.call(this),this.h=G,this.g={}}I(Ln,xe);var xn=[];function $r(G){Z(G.g,function(le,he){this.g.hasOwnProperty(he)&&vt(le)},G),G.g={}}Ln.prototype.N=function(){Ln.aa.N.call(this),$r(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ti=f.JSON.stringify,gn=f.JSON.parse,Br=class{stringify(G){return f.JSON.stringify(G,void 0)}parse(G){return f.JSON.parse(G,void 0)}};function Vn(){}Vn.prototype.h=null;function Ki(G){return G.h||(G.h=G.i())}function bi(){}var Rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){Ee.call(this,"d")}I(pr,Ee);function Ct(){Ee.call(this,"c")}I(Ct,Ee);var At={},Ir=null;function pt(){return Ir=Ir||new Lt}At.La="serverreachability";function dr(G){Ee.call(this,At.La,G)}I(dr,Ee);function Lr(G){const le=pt();Ft(le,new dr(le))}At.STAT_EVENT="statevent";function un(G,le){Ee.call(this,At.STAT_EVENT,G),this.stat=le}I(un,Ee);function yt(G){const le=pt();Ft(le,new un(le,G))}At.Ma="timingevent";function yn(G,le){Ee.call(this,At.Ma,G),this.size=le}I(yn,Ee);function Tr(G,le){if(typeof G!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){G()},le)}function Rr(){this.g=!0}Rr.prototype.xa=function(){this.g=!1};function wn(G,le,he,ve,we,De){G.info(function(){if(G.g)if(De)for(var Ue="",rr=De.split("&"),Kr=0;Kr<rr.length;Kr++){var nr=rr[Kr].split("=");if(1<nr.length){var nn=nr[0];nr=nr[1];var Yr=nn.split("_");Ue=2<=Yr.length&&Yr[1]=="type"?Ue+(nn+"="+nr+"&"):Ue+(nn+"=redacted&")}}else Ue=null;else Ue=De;return"XMLHTTP REQ ("+ve+") [attempt "+we+"]: "+le+`
`+he+`
`+Ue})}function Pn(G,le,he,ve,we,De,Ue){G.info(function(){return"XMLHTTP RESP ("+ve+") [ attempt "+we+"]: "+le+`
`+he+`
`+De+" "+Ue})}function Vr(G,le,he,ve){G.info(function(){return"XMLHTTP TEXT ("+le+"): "+xr(G,he)+(ve?" "+ve:"")})}function Jr(G,le){G.info(function(){return"TIMEOUT: "+le})}Rr.prototype.info=function(){};function xr(G,le){if(!G.g)return le;if(!le)return null;try{var he=JSON.parse(le);if(he){for(G=0;G<he.length;G++)if(Array.isArray(he[G])){var ve=he[G];if(!(2>ve.length)){var we=ve[1];if(Array.isArray(we)&&!(1>we.length)){var De=we[0];if(De!="noop"&&De!="stop"&&De!="close")for(var Ue=1;Ue<we.length;Ue++)we[Ue]=""}}}}return ti(he)}catch{return le}}var Or={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ai;function gt(){}I(gt,Vn),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},Ai=new gt;function sr(G,le,he,ve){this.j=G,this.i=le,this.l=he,this.R=ve||1,this.U=new Ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Er}function Er(){this.i=null,this.g="",this.h=!1}var qr={},Hr={};function En(G,le,he){G.L=1,G.v=As(jr(le)),G.m=he,G.P=!0,ni(G,null)}function ni(G,le){G.F=Date.now(),wr(G),G.A=jr(G.v);var he=G.A,ve=G.R;Array.isArray(ve)||(ve=[String(ve)]),Ri(he.i,"t",ve),G.C=0,he=G.j.J,G.h=new Er,G.g=Wo(G.j,he?le:null,!G.m),0<G.O&&(G.M=new _n(A(G.Y,G,G.g),G.O)),le=G.U,he=G.g,ve=G.ca;var we="readystatechange";Array.isArray(we)||(we&&(xn[0]=we.toString()),we=xn);for(var De=0;De<we.length;De++){var Ue=He(he,we[De],ve||le.handleEvent,!1,le.h||le);if(!Ue)break;le.g[Ue.key]=Ue}le=G.H?J(G.H):{},G.m?(G.u||(G.u="POST"),le["Content-Type"]="application/x-www-form-urlencoded",G.g.ea(G.A,G.u,G.m,le)):(G.u="GET",G.g.ea(G.A,G.u,null,le)),Lr(),wn(G.i,G.u,G.A,G.l,G.R,G.m)}sr.prototype.ca=function(G){G=G.target;const le=this.M;le&&zn(G)==3?le.j():this.Y(G)},sr.prototype.Y=function(G){try{if(G==this.g)e:{const Yr=zn(this.g);var le=this.g.Ba();const Ii=this.g.Z();if(!(3>Yr)&&(Yr!=3||this.g&&(this.h.h||this.g.oa()||Lo(this.g)))){this.J||Yr!=4||le==7||(le==8||0>=Ii?Lr(3):Lr(2)),Ys(this);var he=this.g.Z();this.X=he;t:if(li(this)){var ve=Lo(this.g);G="";var we=ve.length,De=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),On(this);var Ue="";break t}this.h.i=new f.TextDecoder}for(le=0;le<we;le++)this.h.h=!0,G+=this.h.i.decode(ve[le],{stream:!(De&&le==we-1)});ve.length=0,this.h.g+=G,this.C=0,Ue=this.h.g}else Ue=this.g.oa();if(this.o=he==200,Pn(this.i,this.u,this.A,this.l,this.R,Yr,he),this.o){if(this.T&&!this.K){t:{if(this.g){var rr,Kr=this.g;if((rr=Kr.g?Kr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(rr)){var nr=rr;break t}}nr=null}if(he=nr)Vr(this.i,this.l,he,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jn(this,he);else{this.o=!1,this.s=3,yt(12),Cn(this),On(this);break e}}if(this.P){he=!0;let fn;for(;!this.J&&this.C<Ue.length;)if(fn=Yi(this,Ue),fn==Hr){Yr==4&&(this.s=4,yt(14),he=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==qr){this.s=4,yt(15),Vr(this.i,this.l,Ue,"[Invalid Chunk]"),he=!1;break}else Vr(this.i,this.l,fn,null),jn(this,fn);if(li(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yr!=4||Ue.length!=0||this.h.h||(this.s=1,yt(16),he=!1),this.o=this.o&&he,!he)Vr(this.i,this.l,Ue,"[Invalid Chunked Response]"),Cn(this),On(this);else if(0<Ue.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+Ue.length),Is(nn),nn.M=!0,yt(11))}}else Vr(this.i,this.l,Ue,null),jn(this,Ue);Yr==4&&Cn(this),this.o&&!this.J&&(Yr==4?Uo(this.j,this):(this.o=!1,wr(this)))}else Jl(this.g),he==400&&0<Ue.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Cn(this),On(this)}}}catch{}finally{}};function li(G){return G.g?G.u=="GET"&&G.L!=2&&G.j.Ca:!1}function Yi(G,le){var he=G.C,ve=le.indexOf(`
`,he);return ve==-1?Hr:(he=Number(le.substring(he,ve)),isNaN(he)?qr:(ve+=1,ve+he>le.length?Hr:(le=le.slice(ve,ve+he),G.C=ve+he,le)))}sr.prototype.cancel=function(){this.J=!0,Cn(this)};function wr(G){G.S=Date.now()+G.I,Da(G,G.I)}function Da(G,le){if(G.B!=null)throw Error("WatchDog timer not null");G.B=Tr(A(G.ba,G),le)}function Ys(G){G.B&&(f.clearTimeout(G.B),G.B=null)}sr.prototype.ba=function(){this.B=null;const G=Date.now();0<=G-this.S?(Jr(this.i,this.A),this.L!=2&&(Lr(),yt(17)),Cn(this),this.s=2,On(this)):Da(this,this.S-G)};function On(G){G.j.G==0||G.J||Uo(G.j,G)}function Cn(G){Ys(G);var le=G.M;le&&typeof le.ma=="function"&&le.ma(),G.M=null,$r(G.U),G.g&&(le=G.g,G.g=null,le.abort(),le.ma())}function jn(G,le){try{var he=G.j;if(he.G!=0&&(he.g==G||Qi(he.h,G))){if(!G.K&&Qi(he.h,G)&&he.G==3){try{var ve=he.Da.g.parse(le)}catch{ve=null}if(Array.isArray(ve)&&ve.length==3){var we=ve;if(we[0]==0){e:if(!he.u){if(he.g)if(he.g.F+3e3<G.F)sa(he),na(he);else break e;Ga(he),yt(18)}}else he.za=we[1],0<he.za-he.T&&37500>we[2]&&he.F&&he.v==0&&!he.C&&(he.C=Tr(A(he.Za,he),6e3));if(1>=ko(he.h)&&he.ca){try{he.ca()}catch{}he.ca=void 0}}else Ci(he,11)}else if((G.K||he.g==G)&&sa(he),!z(le))for(we=he.Da.g.parse(le),le=0;le<we.length;le++){let nr=we[le];if(he.T=nr[0],nr=nr[1],he.G==2)if(nr[0]=="c"){he.K=nr[1],he.ia=nr[2];const nn=nr[3];nn!=null&&(he.la=nn,he.j.info("VER="+he.la));const Yr=nr[4];Yr!=null&&(he.Aa=Yr,he.j.info("SVER="+he.Aa));const Ii=nr[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(ve=1.5*Ii,he.L=ve,he.j.info("backChannelRequestTimeoutMs_="+ve)),ve=he;const fn=G.g;if(fn){const gi=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var De=ve.h;De.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(Xi(De,De.h),De.h=null))}if(ve.D){const Ha=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(ve.ya=Ha,or(ve.I,ve.D,Ha))}}he.G=3,he.l&&he.l.ua(),he.ba&&(he.R=Date.now()-G.F,he.j.info("Handshake RTT: "+he.R+"ms")),ve=he;var Ue=G;if(ve.qa=Go(ve,ve.J?ve.ia:null,ve.W),Ue.K){Fn(ve.h,Ue);var rr=Ue,Kr=ve.L;Kr&&(rr.I=Kr),rr.B&&(Ys(rr),wr(rr)),ve.g=Ue}else Bo(ve);0<he.i.length&&ia(he)}else nr[0]!="stop"&&nr[0]!="close"||Ci(he,7);else he.G==3&&(nr[0]=="stop"||nr[0]=="close"?nr[0]=="stop"?Ci(he,7):Ua(he):nr[0]!="noop"&&he.l&&he.l.ta(nr),he.v=0)}}Lr(4)}catch{}}var Hl=class{constructor(G,le){this.g=G,this.map=le}};function Na(G){this.l=G||10,f.PerformanceNavigationTiming?(G=f.performance.getEntriesByType("navigation"),G=0<G.length&&(G[0].nextHopProtocol=="hq"||G[0].nextHopProtocol=="h2")):G=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=G?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(G){return G.h?!0:G.g?G.g.size>=G.j:!1}function ko(G){return G.h?1:G.g?G.g.size:0}function Qi(G,le){return G.h?G.h==le:G.g?G.g.has(le):!1}function Xi(G,le){G.g?G.g.add(le):G.h=le}function Fn(G,le){G.h&&G.h==le?G.h=null:G.g&&G.g.has(le)&&G.g.delete(le)}Na.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const G of this.g.values())G.cancel();this.g.clear()}};function bn(G){if(G.h!=null)return G.i.concat(G.h.D);if(G.g!=null&&G.g.size!==0){let le=G.i;for(const he of G.g.values())le=le.concat(he.D);return le}return j(G.i)}function Do(G){if(G.V&&typeof G.V=="function")return G.V();if(typeof Map<"u"&&G instanceof Map||typeof Set<"u"&&G instanceof Set)return Array.from(G.values());if(typeof G=="string")return G.split("");if(d(G)){for(var le=[],he=G.length,ve=0;ve<he;ve++)le.push(G[ve]);return le}le=[],he=0;for(ve in G)le[he++]=G[ve];return le}function Kl(G){if(G.na&&typeof G.na=="function")return G.na();if(!G.V||typeof G.V!="function"){if(typeof Map<"u"&&G instanceof Map)return Array.from(G.keys());if(!(typeof Set<"u"&&G instanceof Set)){if(d(G)||typeof G=="string"){var le=[];G=G.length;for(var he=0;he<G;he++)le.push(he);return le}le=[],he=0;for(const ve in G)le[he++]=ve;return le}}}function Es(G,le){if(G.forEach&&typeof G.forEach=="function")G.forEach(le,void 0);else if(d(G)||typeof G=="string")Array.prototype.forEach.call(G,le,void 0);else for(var he=Kl(G),ve=Do(G),we=ve.length,De=0;De<we;De++)le.call(void 0,ve[De],he&&he[De],G)}var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(G,le){if(G){G=G.split("&");for(var he=0;he<G.length;he++){var ve=G[he].indexOf("="),we=null;if(0<=ve){var De=G[he].substring(0,ve);we=G[he].substring(ve+1)}else De=G[he];le(De,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function Si(G){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,G instanceof Si){this.h=G.h,Ji(this,G.j),this.o=G.o,this.g=G.g,bs(this,G.s),this.l=G.l;var le=G.i,he=new ci;he.i=le.i,le.g&&(he.g=new Map(le.g),he.h=le.h),Xs(this,he),this.m=G.m}else G&&(le=String(G).match($a))?(this.h=!1,Ji(this,le[1]||"",!0),this.o=Zi(le[2]||""),this.g=Zi(le[3]||"",!0),bs(this,le[4]),this.l=Zi(le[5]||"",!0),Xs(this,le[6]||"",!0),this.m=Zi(le[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}Si.prototype.toString=function(){var G=[],le=this.j;le&&G.push(Bn(le,La,!0),":");var he=this.g;return(he||le=="file")&&(G.push("//"),(le=this.o)&&G.push(Bn(le,La,!0),"@"),G.push(encodeURIComponent(String(he)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),he=this.s,he!=null&&G.push(":",String(he))),(he=this.l)&&(this.g&&he.charAt(0)!="/"&&G.push("/"),G.push(Bn(he,he.charAt(0)=="/"?Va:No,!0))),(he=this.i.toString())&&G.push("?",he),(he=this.m)&&G.push("#",Bn(he,Xl)),G.join("")};function jr(G){return new Si(G)}function Ji(G,le,he){G.j=he?Zi(le,!0):le,G.j&&(G.j=G.j.replace(/:$/,""))}function bs(G,le){if(le){if(le=Number(le),isNaN(le)||0>le)throw Error("Bad port number "+le);G.s=le}else G.s=null}function Xs(G,le,he){le instanceof ci?(G.i=le,Fa(G.i,G.h)):(he||(le=Bn(le,Ql)),G.i=new ci(le,G.h))}function or(G,le,he){G.i.set(le,he)}function As(G){return or(G,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),G}function Zi(G,le){return G?le?decodeURI(G.replace(/%25/g,"%2525")):decodeURIComponent(G):""}function Bn(G,le,he){return typeof G=="string"?(G=encodeURI(G).replace(le,Yl),he&&(G=G.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G):null}function Yl(G){return G=G.charCodeAt(0),"%"+(G>>4&15).toString(16)+(G&15).toString(16)}var La=/[#\/\?@]/g,No=/[#\?:]/g,Va=/[#\?]/g,Ql=/[#\?@]/g,Xl=/#/g;function ci(G,le){this.h=this.g=null,this.i=G||null,this.j=!!le}function qn(G){G.g||(G.g=new Map,G.h=0,G.i&&Qs(G.i,function(le,he){G.add(decodeURIComponent(le.replace(/\+/g," ")),he)}))}t=ci.prototype,t.add=function(G,le){qn(this),this.i=null,G=wi(this,G);var he=this.g.get(G);return he||this.g.set(G,he=[]),he.push(le),this.h+=1,this};function Js(G,le){qn(G),le=wi(G,le),G.g.has(le)&&(G.i=null,G.h-=G.g.get(le).length,G.g.delete(le))}function Ti(G,le){return qn(G),le=wi(G,le),G.g.has(le)}t.forEach=function(G,le){qn(this),this.g.forEach(function(he,ve){he.forEach(function(we){G.call(le,we,ve,this)},this)},this)},t.na=function(){qn(this);const G=Array.from(this.g.values()),le=Array.from(this.g.keys()),he=[];for(let ve=0;ve<le.length;ve++){const we=G[ve];for(let De=0;De<we.length;De++)he.push(le[ve])}return he},t.V=function(G){qn(this);let le=[];if(typeof G=="string")Ti(this,G)&&(le=le.concat(this.g.get(wi(this,G))));else{G=Array.from(this.g.values());for(let he=0;he<G.length;he++)le=le.concat(G[he])}return le},t.set=function(G,le){return qn(this),this.i=null,G=wi(this,G),Ti(this,G)&&(this.h-=this.g.get(G).length),this.g.set(G,[le]),this.h+=1,this},t.get=function(G,le){return G?(G=this.V(G),0<G.length?String(G[0]):le):le};function Ri(G,le,he){Js(G,le),0<he.length&&(G.i=null,G.g.set(wi(G,le),j(he)),G.h+=he.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const G=[],le=Array.from(this.g.keys());for(var he=0;he<le.length;he++){var ve=le[he];const De=encodeURIComponent(String(ve)),Ue=this.V(ve);for(ve=0;ve<Ue.length;ve++){var we=De;Ue[ve]!==""&&(we+="="+encodeURIComponent(String(Ue[ve]))),G.push(we)}}return this.i=G.join("&")};function wi(G,le){return le=String(le),G.j&&(le=le.toLowerCase()),le}function Fa(G,le){le&&!G.j&&(qn(G),G.i=null,G.g.forEach(function(he,ve){var we=ve.toLowerCase();ve!=we&&(Js(this,ve),Ri(this,we,he))},G)),G.j=le}function Mo(G,le){const he=new Rr;if(f.Image){const ve=new Image;ve.onload=R(Un,he,"TestLoadImage: loaded",!0,le,ve),ve.onerror=R(Un,he,"TestLoadImage: error",!1,le,ve),ve.onabort=R(Un,he,"TestLoadImage: abort",!1,le,ve),ve.ontimeout=R(Un,he,"TestLoadImage: timeout",!1,le,ve),f.setTimeout(function(){ve.ontimeout&&ve.ontimeout()},1e4),ve.src=G}else le(!1)}function Ss(G,le){const he=new Rr,ve=new AbortController,we=setTimeout(()=>{ve.abort(),Un(he,"TestPingServer: timeout",!1,le)},1e4);fetch(G,{signal:ve.signal}).then(De=>{clearTimeout(we),De.ok?Un(he,"TestPingServer: ok",!0,le):Un(he,"TestPingServer: server error",!1,le)}).catch(()=>{clearTimeout(we),Un(he,"TestPingServer: error",!1,le)})}function Un(G,le,he,ve,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),ve(he)}catch{}}function Ts(){this.g=new Br}function ui(G,le,he){const ve=he||"";try{Es(G,function(we,De){let Ue=we;p(we)&&(Ue=ti(we)),le.push(ve+De+"="+encodeURIComponent(Ue))})}catch(we){throw le.push(ve+"type="+encodeURIComponent("_badmap")),we}}function es(G){this.l=G.Ub||null,this.j=G.eb||!1}I(es,Vn),es.prototype.g=function(){return new Pi(this.l,this.j)},es.prototype.i=function(G){return function(){return G}}({});function Pi(G,le){Lt.call(this),this.D=G,this.o=le,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Pi,Lt),t=Pi.prototype,t.open=function(G,le){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=G,this.A=le,this.readyState=1,di(this)},t.send=function(G){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const le={headers:this.u,method:this.B,credentials:this.m,cache:void 0};G&&(le.body=G),(this.D||f).fetch(new Request(this.A,le)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},t.Sa=function(G){if(this.g&&(this.l=G,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=G.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")G.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in G){if(this.j=G.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ba(this)}else G.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ba(G){G.j.read().then(G.Pa.bind(G)).catch(G.ga.bind(G))}t.Pa=function(G){if(this.g){if(this.o&&G.value)this.response.push(G.value);else if(!this.o){var le=G.value?G.value:new Uint8Array(0);(le=this.v.decode(le,{stream:!G.done}))&&(this.response=this.responseText+=le)}G.done?fi(this):di(this),this.readyState==3&&Ba(this)}},t.Ra=function(G){this.g&&(this.response=this.responseText=G,fi(this))},t.Qa=function(G){this.g&&(this.response=G,fi(this))},t.ga=function(){this.g&&fi(this)};function fi(G){G.readyState=4,G.l=null,G.j=null,G.v=null,di(G)}t.setRequestHeader=function(G,le){this.u.append(G,le)},t.getResponseHeader=function(G){return this.h&&this.h.get(G.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const G=[],le=this.h.entries();for(var he=le.next();!he.done;)he=he.value,G.push(he[0]+": "+he[1]),he=le.next();return G.join(`\r
`)};function di(G){G.onreadystatechange&&G.onreadystatechange.call(G)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(G){this.m=G?"include":"same-origin"}});function qa(G){let le="";return Z(G,function(he,ve){le+=ve,le+=":",le+=he,le+=`\r
`}),le}function Zr(G,le,he){e:{for(ve in he){var ve=!1;break e}ve=!0}ve||(he=qa(he),typeof G=="string"?he!=null&&encodeURIComponent(String(he)):or(G,le,he))}function hr(G){Lt.call(this),this.headers=new Map,this.o=G||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(hr,Lt);var Zs=/^https?$/i,Rs=["POST","PUT"];t=hr.prototype,t.Ha=function(G){this.J=G},t.ea=function(G,le,he,ve){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+G);le=le?le.toUpperCase():"GET",this.D=G,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ai.g(),this.v=this.o?Ki(this.o):Ki(Ai),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(le,String(G),!0),this.B=!1}catch(De){$o(this,De);return}if(G=he||"",he=new Map(this.headers),ve)if(Object.getPrototypeOf(ve)===Object.prototype)for(var we in ve)he.set(we,ve[we]);else if(typeof ve.keys=="function"&&typeof ve.get=="function")for(const De of ve.keys())he.set(De,ve.get(De));else throw Error("Unknown input type for opt_headers: "+String(ve));ve=Array.from(he.keys()).find(De=>De.toLowerCase()=="content-type"),we=f.FormData&&G instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Rs,le,void 0))||ve||we||he.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,Ue]of he)this.g.setRequestHeader(De,Ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(G),this.u=!1}catch(De){$o(this,De)}};function $o(G,le){G.h=!1,G.g&&(G.j=!0,G.g.abort(),G.j=!1),G.l=le,G.m=5,ea(G),hi(G)}function ea(G){G.A||(G.A=!0,Ft(G,"complete"),Ft(G,"error"))}t.abort=function(G){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=G||7,Ft(this,"complete"),Ft(this,"abort"),hi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),hr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},t.bb=function(){ta(this)};function ta(G){if(G.h&&typeof u<"u"&&(!G.v[1]||zn(G)!=4||G.Z()!=2)){if(G.u&&zn(G)==4)Wr(G.Ea,0,G);else if(Ft(G,"readystatechange"),zn(G)==4){G.h=!1;try{const Ue=G.Z();e:switch(Ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var le=!0;break e;default:le=!1}var he;if(!(he=le)){var ve;if(ve=Ue===0){var we=String(G.D).match($a)[1]||null;!we&&f.self&&f.self.location&&(we=f.self.location.protocol.slice(0,-1)),ve=!Zs.test(we?we.toLowerCase():"")}he=ve}if(he)Ft(G,"complete"),Ft(G,"success");else{G.m=6;try{var De=2<zn(G)?G.g.statusText:""}catch{De=""}G.l=De+" ["+G.Z()+"]",ea(G)}}finally{hi(G)}}}}function hi(G,le){if(G.g){ws(G);const he=G.g,ve=G.v[0]?()=>{}:null;G.g=null,G.v=null,le||Ft(G,"ready");try{he.onreadystatechange=ve}catch{}}}function ws(G){G.I&&(f.clearTimeout(G.I),G.I=null)}t.isActive=function(){return!!this.g};function zn(G){return G.g?G.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(G){if(this.g){var le=this.g.responseText;return G&&le.indexOf(G)==0&&(le=le.substring(G.length)),gn(le)}};function Lo(G){try{if(!G.g)return null;if("response"in G.g)return G.g.response;switch(G.H){case"":case"text":return G.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in G.g)return G.g.mozResponseArrayBuffer}return null}catch{return null}}function Jl(G){const le={};G=(G.g&&2<=zn(G)&&G.g.getAllResponseHeaders()||"").split(`\r
`);for(let ve=0;ve<G.length;ve++){if(z(G[ve]))continue;var he=se(G[ve]);const we=he[0];if(he=he[1],typeof he!="string")continue;he=he.trim();const De=le[we]||[];le[we]=De,De.push(he)}Y(le,function(ve){return ve.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ps(G,le,he){return he&&he.internalChannelParams&&he.internalChannelParams[G]||le}function ra(G){this.Aa=0,this.i=[],this.j=new Rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ps("failFast",!1,G),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ps("baseRetryDelayMs",5e3,G),this.cb=Ps("retryDelaySeedMs",1e4,G),this.Wa=Ps("forwardChannelMaxRetries",2,G),this.wa=Ps("forwardChannelRequestTimeoutMs",2e4,G),this.pa=G&&G.xmlHttpFactory||void 0,this.Xa=G&&G.Tb||void 0,this.Ca=G&&G.useFetchStreams||!1,this.L=void 0,this.J=G&&G.supportsCrossDomainXhr||!1,this.K="",this.h=new Na(G&&G.concurrentRequestLimit),this.Da=new Ts,this.P=G&&G.fastHandshake||!1,this.O=G&&G.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=G&&G.Rb||!1,G&&G.xa&&this.j.xa(),G&&G.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&G&&G.detectBufferingProxy||!1,this.ja=void 0,G&&G.longPollingTimeout&&0<G.longPollingTimeout&&(this.ja=G.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ra.prototype,t.la=8,t.G=1,t.connect=function(G,le,he,ve){yt(0),this.W=G,this.H=le||{},he&&ve!==void 0&&(this.H.OSID=he,this.H.OAID=ve),this.F=this.X,this.I=Go(this,null,this.W),ia(this)};function Ua(G){if(Vo(G),G.G==3){var le=G.U++,he=jr(G.I);if(or(he,"SID",G.K),or(he,"RID",le),or(he,"TYPE","terminate"),Cs(G,he),le=new sr(G,G.j,le),le.L=2,le.v=As(jr(he)),he=!1,f.navigator&&f.navigator.sendBeacon)try{he=f.navigator.sendBeacon(le.v.toString(),"")}catch{}!he&&f.Image&&(new Image().src=le.v,he=!0),he||(le.g=Wo(le.j,null),le.g.ea(le.v)),le.F=Date.now(),wr(le)}zo(G)}function na(G){G.g&&(Is(G),G.g.cancel(),G.g=null)}function Vo(G){na(G),G.u&&(f.clearTimeout(G.u),G.u=null),sa(G),G.h.cancel(),G.s&&(typeof G.s=="number"&&f.clearTimeout(G.s),G.s=null)}function ia(G){if(!Ma(G.h)&&!G.s){G.s=!0;var le=G.Ga;me||oe(),ee||(me(),ee=!0),ie.add(le,G),G.B=0}}function Zl(G,le){return ko(G.h)>=G.h.j-(G.s?1:0)?!1:G.s?(G.i=le.D.concat(G.i),!0):G.G==1||G.G==2||G.B>=(G.Va?0:G.Wa)?!1:(G.s=Tr(A(G.Ga,G,le),Wa(G,G.B)),G.B++,!0)}t.Ga=function(G){if(this.s)if(this.s=null,this.G==1){if(!G){this.U=Math.floor(1e5*Math.random()),G=this.U++;const we=new sr(this,this.j,G);let De=this.o;if(this.S&&(De?(De=J(De),ae(De,this.S)):De=this.S),this.m!==null||this.O||(we.H=De,De=null),this.P)e:{for(var le=0,he=0;he<this.i.length;he++){t:{var ve=this.i[he];if("__data__"in ve.map&&(ve=ve.map.__data__,typeof ve=="string")){ve=ve.length;break t}ve=void 0}if(ve===void 0)break;if(le+=ve,4096<le){le=he;break e}if(le===4096||he===this.i.length-1){le=he+1;break e}}le=1e3}else le=1e3;le=Fo(this,we,le),he=jr(this.I),or(he,"RID",G),or(he,"CVER",22),this.D&&or(he,"X-HTTP-Session-Id",this.D),Cs(this,he),De&&(this.O?le="headers="+encodeURIComponent(String(qa(De)))+"&"+le:this.m&&Zr(he,this.m,De)),Xi(this.h,we),this.Ua&&or(he,"TYPE","init"),this.P?(or(he,"$req",le),or(he,"SID","null"),we.T=!0,En(we,he,null)):En(we,he,le),this.G=2}}else this.G==3&&(G?za(this,G):this.i.length==0||Ma(this.h)||za(this))};function za(G,le){var he;le?he=le.l:he=G.U++;const ve=jr(G.I);or(ve,"SID",G.K),or(ve,"RID",he),or(ve,"AID",G.T),Cs(G,ve),G.m&&G.o&&Zr(ve,G.m,G.o),he=new sr(G,G.j,he,G.B+1),G.m===null&&(he.H=G.o),le&&(G.i=le.D.concat(G.i)),le=Fo(G,he,1e3),he.I=Math.round(.5*G.wa)+Math.round(.5*G.wa*Math.random()),Xi(G.h,he),En(he,ve,le)}function Cs(G,le){G.H&&Z(G.H,function(he,ve){or(le,ve,he)}),G.l&&Es({},function(he,ve){or(le,ve,he)})}function Fo(G,le,he){he=Math.min(G.i.length,he);var ve=G.l?A(G.l.Na,G.l,G):null;e:{var we=G.i;let De=-1;for(;;){const Ue=["count="+he];De==-1?0<he?(De=we[0].g,Ue.push("ofs="+De)):De=0:Ue.push("ofs="+De);let rr=!0;for(let Kr=0;Kr<he;Kr++){let nr=we[Kr].g;const nn=we[Kr].map;if(nr-=De,0>nr)De=Math.max(0,we[Kr].g-100),rr=!1;else try{ui(nn,Ue,"req"+nr+"_")}catch{ve&&ve(nn)}}if(rr){ve=Ue.join("&");break e}}}return G=G.i.splice(0,he),le.D=G,ve}function Bo(G){if(!G.g&&!G.u){G.Y=1;var le=G.Fa;me||oe(),ee||(me(),ee=!0),ie.add(le,G),G.v=0}}function Ga(G){return G.g||G.u||3<=G.v?!1:(G.Y++,G.u=Tr(A(G.Fa,G),Wa(G,G.v)),G.v++,!0)}t.Fa=function(){if(this.u=null,qo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var G=2*this.R;this.j.info("BP detection timer enabled: "+G),this.A=Tr(A(this.ab,this),G)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),na(this),qo(this))};function Is(G){G.A!=null&&(f.clearTimeout(G.A),G.A=null)}function qo(G){G.g=new sr(G,G.j,"rpc",G.Y),G.m===null&&(G.g.H=G.o),G.g.O=0;var le=jr(G.qa);or(le,"RID","rpc"),or(le,"SID",G.K),or(le,"AID",G.T),or(le,"CI",G.F?"0":"1"),!G.F&&G.ja&&or(le,"TO",G.ja),or(le,"TYPE","xmlhttp"),Cs(G,le),G.m&&G.o&&Zr(le,G.m,G.o),G.L&&(G.g.I=G.L);var he=G.g;G=G.ia,he.L=1,he.v=As(jr(le)),he.m=null,he.P=!0,ni(he,G)}t.Za=function(){this.C!=null&&(this.C=null,na(this),Ga(this),yt(19))};function sa(G){G.C!=null&&(f.clearTimeout(G.C),G.C=null)}function Uo(G,le){var he=null;if(G.g==le){sa(G),Is(G),G.g=null;var ve=2}else if(Qi(G.h,le))he=le.D,Fn(G.h,le),ve=1;else return;if(G.G!=0){if(le.o)if(ve==1){he=le.m?le.m.length:0,le=Date.now()-le.F;var we=G.B;ve=pt(),Ft(ve,new yn(ve,he)),ia(G)}else Bo(G);else if(we=le.s,we==3||we==0&&0<le.X||!(ve==1&&Zl(G,le)||ve==2&&Ga(G)))switch(he&&0<he.length&&(le=G.h,le.i=le.i.concat(he)),we){case 1:Ci(G,5);break;case 4:Ci(G,10);break;case 3:Ci(G,6);break;default:Ci(G,2)}}}function Wa(G,le){let he=G.Ta+Math.floor(Math.random()*G.cb);return G.isActive()||(he*=2),he*le}function Ci(G,le){if(G.j.info("Error code "+le),le==2){var he=A(G.fb,G),ve=G.Xa;const we=!ve;ve=new Si(ve||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ji(ve,"https"),As(ve),we?Mo(ve.toString(),he):Ss(ve.toString(),he)}else yt(2);G.G=0,G.l&&G.l.sa(le),zo(G),Vo(G)}t.fb=function(G){G?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function zo(G){if(G.G=0,G.ka=[],G.l){const le=bn(G.h);(le.length!=0||G.i.length!=0)&&(q(G.ka,le),q(G.ka,G.i),G.h.i.length=0,j(G.i),G.i.length=0),G.l.ra()}}function Go(G,le,he){var ve=he instanceof Si?jr(he):new Si(he);if(ve.g!="")le&&(ve.g=le+"."+ve.g),bs(ve,ve.s);else{var we=f.location;ve=we.protocol,le=le?le+"."+we.hostname:we.hostname,we=+we.port;var De=new Si(null);ve&&Ji(De,ve),le&&(De.g=le),we&&bs(De,we),he&&(De.l=he),ve=De}return he=G.D,le=G.ya,he&&le&&or(ve,he,le),or(ve,"VER",G.la),Cs(G,ve),ve}function Wo(G,le,he){if(le&&!G.J)throw Error("Can't create secondary domain capable XhrIo object.");return le=G.Ca&&!G.pa?new hr(new es({eb:he})):new hr(G.pa),le.Ha(G.J),le}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}t=Ho.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function aa(){}aa.prototype.g=function(G,le){return new An(G,le)};function An(G,le){Lt.call(this),this.g=new ra(le),this.l=G,this.h=le&&le.messageUrlParams||null,G=le&&le.messageHeaders||null,le&&le.clientProtocolHeaderRequired&&(G?G["X-Client-Protocol"]="webchannel":G={"X-Client-Protocol":"webchannel"}),this.g.o=G,G=le&&le.initMessageHeaders||null,le&&le.messageContentType&&(G?G["X-WebChannel-Content-Type"]=le.messageContentType:G={"X-WebChannel-Content-Type":le.messageContentType}),le&&le.va&&(G?G["X-WebChannel-Client-Profile"]=le.va:G={"X-WebChannel-Client-Profile":le.va}),this.g.S=G,(G=le&&le.Sb)&&!z(G)&&(this.g.m=G),this.v=le&&le.supportsCrossDomainXhr||!1,this.u=le&&le.sendRawJson||!1,(le=le&&le.httpSessionIdParam)&&!z(le)&&(this.g.D=le,G=this.h,G!==null&&le in G&&(G=this.h,le in G&&delete G[le])),this.j=new mi(this)}I(An,Lt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Ua(this.g)},An.prototype.o=function(G){var le=this.g;if(typeof G=="string"){var he={};he.__data__=G,G=he}else this.u&&(he={},he.__data__=ti(G),G=he);le.i.push(new Hl(le.Ya++,G)),le.G==3&&ia(le)},An.prototype.N=function(){this.g.l=null,delete this.j,Ua(this.g),delete this.g,An.aa.N.call(this)};function Ko(G){pr.call(this),G.__headers__&&(this.headers=G.__headers__,this.statusCode=G.__status__,delete G.__headers__,delete G.__status__);var le=G.__sm__;if(le){e:{for(const he in le){G=he;break e}G=void 0}(this.i=G)&&(G=this.i,le=le!==null&&G in le?le[G]:void 0),this.data=le}else this.data=G}I(Ko,pr);function Yo(){Ct.call(this),this.status=1}I(Yo,Ct);function mi(G){this.g=G}I(mi,Ho),mi.prototype.ua=function(){Ft(this.g,"a")},mi.prototype.ta=function(G){Ft(this.g,new Ko(G))},mi.prototype.sa=function(G){Ft(this.g,new Yo)},mi.prototype.ra=function(){Ft(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,createWebChannelTransport=function(){return new aa},getStatEventTarget=function(){return pt()},Event=At,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,ErrorCode=Or,ri.COMPLETE="complete",EventType=ri,bi.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,WebChannel=bi,hr.prototype.listenOnce=hr.prototype.L,hr.prototype.getLastError=hr.prototype.Ka,hr.prototype.getLastErrorCode=hr.prototype.Ba,hr.prototype.getStatus=hr.prototype.Z,hr.prototype.getResponseJson=hr.prototype.Oa,hr.prototype.getResponseText=hr.prototype.oa,hr.prototype.send=hr.prototype.ea,hr.prototype.setWithCredentials=hr.prototype.Ha,XhrIo=hr}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const b="@firebase/firestore",S="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$3=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return v$3.logLevel}function __PRIVATE_logDebug(t,...e){if(v$3.logLevel<=LogLevel.DEBUG){const n=e.map(__PRIVATE_argToString);v$3.debug(`Firestore (${D}): ${t}`,...n)}}function __PRIVATE_logError(t,...e){if(v$3.logLevel<=LogLevel.ERROR){const n=e.map(__PRIVATE_argToString);v$3.error(`Firestore (${D}): ${t}`,...n)}}function __PRIVATE_logWarn(t,...e){if(v$3.logLevel<=LogLevel.WARN){const n=e.map(__PRIVATE_argToString);v$3.warn(`Firestore (${D}): ${t}`,...n)}}function __PRIVATE_argToString(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(t="Unexpected state"){const e=`FIRESTORE (${D}) INTERNAL ASSERTION FAILED: `+t;throw __PRIVATE_logError(e),new Error(e)}function __PRIVATE_hardAssert(t,e){t||fail()}function __PRIVATE_debugCast(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){__PRIVATE_hardAssert(this.o===void 0);let i=this.i;const o=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let l=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new __PRIVATE_Deferred,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},f=d=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new __PRIVATE_Deferred)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(__PRIVATE_hardAssert(typeof i.accessToken=="string"),new __PRIVATE_OAuthToken(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(e===null||typeof e=="string"),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=User.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_isFirebaseServerApp(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){__PRIVATE_hardAssert(this.o===void 0);const i=l=>{l.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new AppCheckToken(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(__PRIVATE_hardAssert(typeof n.token=="string"),this.R=n.token,new AppCheckToken(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=__PRIVATE_randomBytes(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<n&&(i+=e.charAt(o[l]%62))}return i}}function __PRIVATE_primitiveComparator(t,e){return t<e?-1:t>e?1:0}function __PRIVATE_arrayEquals(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=-62135596800,M=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*M);return new Timestamp(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<F)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-F;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$1="__name__";class BasePath{constructor(e,n,i){n===void 0?n=0:n>e.length&&fail(),i===void 0?i=e.length-n:i>e.length-n&&fail(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return BasePath.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const l=BasePath.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=BasePath.isNumericId(e),o=BasePath.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?BasePath.extractNumericId(e).compare(BasePath.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Integer.fromString(e.substring(4,e.length-2))}}class ResourcePath extends BasePath{construct(e,n,i){return new ResourcePath(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new ResourcePath(n)}static emptyPath(){return new ResourcePath([])}}const O=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,n,i){return new FieldPath$1(e,n,i)}static isValidIdentifier(e){return O.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x$1}static keyField(){return new FieldPath$1([x$1])}static fromServerFormat(e){const n=[];let i="",o=0;const l=()=>{if(i.length===0)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new FirestoreError(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new FirestoreError(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(l(),o++)}if(l(),u)throw new FirestoreError(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(n)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ResourcePath.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ResourcePath.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=-1;function __PRIVATE_newIndexOffsetSuccessorFromReadTime(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=SnapshotVersion.fromTimestamp(i===1e9?new Timestamp(n+1,0):new Timestamp(n,i));return new IndexOffset(o,DocumentKey.empty(),e)}function __PRIVATE_newIndexOffsetFromDocument(t){return new IndexOffset(t.readTime,t.key,N)}class IndexOffset{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),N)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),N)}}function __PRIVATE_indexOffsetComparator(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=DocumentKey.comparator(t.documentKey,e.documentKey),n!==0?n:__PRIVATE_primitiveComparator(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==B)throw t;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new PersistencePromise((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof PersistencePromise?n:PersistencePromise.resolve(n)}catch(n){return PersistencePromise.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):PersistencePromise.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):PersistencePromise.reject(n)}static resolve(e){return new PersistencePromise((n,i)=>{n(e)})}static reject(e){return new PersistencePromise((n,i)=>{i(e)})}static waitFor(e){return new PersistencePromise((n,i)=>{let o=0,l=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++l,u&&l===o&&n()},d=>i(d))}),u=!0,l===o&&n()})}static or(e){let n=PersistencePromise.resolve(!1);for(const i of e)n=n.next(o=>o?PersistencePromise.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,l)=>{i.push(n.call(this,o,l))}),this.waitFor(i)}static mapArray(e,n){return new PersistencePromise((i,o)=>{const l=e.length,u=new Array(l);let f=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next(g=>{u[p]=g,++f,f===l&&i(u)},g=>o(g))}})}static doWhile(e,n){return new PersistencePromise((i,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):i()};l()})}}function __PRIVATE_getAndroidVersion(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function __PRIVATE_isIndexedDbTransactionError(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}__PRIVATE_ListenSequence.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=-1;function __PRIVATE_isNullOrUndefined(t){return t==null}function __PRIVATE_isNegativeZero(t){return t===0&&1/t==-1/0}function isSafeInteger(t){return typeof t=="number"&&Number.isInteger(t)&&!__PRIVATE_isNegativeZero(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $="";function __PRIVATE_encodeResourcePath(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=__PRIVATE_encodeSeparator(e)),e=__PRIVATE_encodeSegment(t.get(n),e);return __PRIVATE_encodeSeparator(e)}function __PRIVATE_encodeSegment(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case $:n+="";break;default:n+=l}}return n}function __PRIVATE_encodeSeparator(t){return t+$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function forEach$1(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function isEmpty(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SortedMap$1=class Uu{constructor(e,n){this.comparator=e,this.root=n||LLRBNode$1.EMPTY}insert(e,n){return new Uu(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,LLRBNode$1.BLACK,null,null))}remove(e){return new Uu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode$1.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator$1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator$1(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator$1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator$1(this.root,e,this.comparator,!0)}},SortedMapIterator$1=class{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},LLRBNode$1=class Hi{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??Hi.RED,this.left=o??Hi.EMPTY,this.right=l??Hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,l){return new Hi(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Hi.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const e=this.left.check();if(e!==this.right.check())throw fail();return e+(this.isRed()?0:1)}};LLRBNode$1.EMPTY=null,LLRBNode$1.RED=!0,LLRBNode$1.BLACK=!1;LLRBNode$1.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(e,n,i,o,l){return this}insert(e,n,i){return new LLRBNode$1(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap$1(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof SortedSet)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new SortedSet(this.comparator);return n.data=e,n}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let n=new SortedSet(FieldPath$1.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new FieldMask(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+l):l}}(e);return new ByteString(n)}static fromUint8Array(e){const n=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new ByteString(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const Ze=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(t){if(__PRIVATE_hardAssert(!!t),typeof t=="string"){let e=0;const n=Ze.exec(t);if(__PRIVATE_hardAssert(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:__PRIVATE_normalizeNumber(t.seconds),nanos:__PRIVATE_normalizeNumber(t.nanos)}}function __PRIVATE_normalizeNumber(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function __PRIVATE_normalizeByteString(t){return typeof t=="string"?ByteString.fromBase64String(t):ByteString.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="server_timestamp",et="__type__",tt="__previous_value__",nt="__local_write_time__";function __PRIVATE_isServerTimestamp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[et])===null||n===void 0?void 0:n.stringValue)===Xe}function __PRIVATE_getPreviousValue(t){const e=t.mapValue.fields[tt];return __PRIVATE_isServerTimestamp(e)?__PRIVATE_getPreviousValue(e):e}function __PRIVATE_getLocalWriteTime(t){const e=__PRIVATE_normalizeTimestamp(t.mapValue.fields[nt].timestampValue);return new Timestamp(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(e,n,i,o,l,u,f,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p}}const rt="(default)";class DatabaseId{constructor(e,n){this.projectId=e,this.database=n||rt}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===rt}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it="__type__",st="__max__",ot={mapValue:{}},_t="__vector__",at="value";function __PRIVATE_typeOrder(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__PRIVATE_isServerTimestamp(t)?4:__PRIVATE_isMaxValue(t)?9007199254740991:__PRIVATE_isVectorValue(t)?10:11:fail()}function __PRIVATE_valueEquals(t,e){if(t===e)return!0;const n=__PRIVATE_typeOrder(t);if(n!==__PRIVATE_typeOrder(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(t).isEqual(__PRIVATE_getLocalWriteTime(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=__PRIVATE_normalizeTimestamp(o.timestampValue),f=__PRIVATE_normalizeTimestamp(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,l){return __PRIVATE_normalizeByteString(o.bytesValue).isEqual(__PRIVATE_normalizeByteString(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,l){return __PRIVATE_normalizeNumber(o.geoPointValue.latitude)===__PRIVATE_normalizeNumber(l.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(o.geoPointValue.longitude)===__PRIVATE_normalizeNumber(l.geoPointValue.longitude)}(t,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return __PRIVATE_normalizeNumber(o.integerValue)===__PRIVATE_normalizeNumber(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=__PRIVATE_normalizeNumber(o.doubleValue),f=__PRIVATE_normalizeNumber(l.doubleValue);return u===f?__PRIVATE_isNegativeZero(u)===__PRIVATE_isNegativeZero(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return __PRIVATE_arrayEquals(t.arrayValue.values||[],e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(__PRIVATE_objectSize(u)!==__PRIVATE_objectSize(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!__PRIVATE_valueEquals(u[d],f[d])))return!1;return!0}(t,e);default:return fail()}}function __PRIVATE_arrayValueContains(t,e){return(t.values||[]).find(n=>__PRIVATE_valueEquals(n,e))!==void 0}function __PRIVATE_valueCompare(t,e){if(t===e)return 0;const n=__PRIVATE_typeOrder(t),i=__PRIVATE_typeOrder(e);if(n!==i)return __PRIVATE_primitiveComparator(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(t.booleanValue,e.booleanValue);case 2:return function(l,u){const f=__PRIVATE_normalizeNumber(l.integerValue||l.doubleValue),d=__PRIVATE_normalizeNumber(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(t,e);case 3:return __PRIVATE_compareTimestamps(t.timestampValue,e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(t),__PRIVATE_getLocalWriteTime(e));case 5:return __PRIVATE_primitiveComparator(t.stringValue,e.stringValue);case 6:return function(l,u){const f=__PRIVATE_normalizeByteString(l),d=__PRIVATE_normalizeByteString(u);return f.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),d=u.split("/");for(let p=0;p<f.length&&p<d.length;p++){const g=__PRIVATE_primitiveComparator(f[p],d[p]);if(g!==0)return g}return __PRIVATE_primitiveComparator(f.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const f=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(l.latitude),__PRIVATE_normalizeNumber(u.latitude));return f!==0?f:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(l.longitude),__PRIVATE_normalizeNumber(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return __PRIVATE_compareArrays(t.arrayValue,e.arrayValue);case 10:return function(l,u){var f,d,p,g;const E=l.fields||{},A=u.fields||{},R=(f=E[at])===null||f===void 0?void 0:f.arrayValue,I=(d=A[at])===null||d===void 0?void 0:d.arrayValue,j=__PRIVATE_primitiveComparator(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0);return j!==0?j:__PRIVATE_compareArrays(R,I)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===ot.mapValue&&u===ot.mapValue)return 0;if(l===ot.mapValue)return 1;if(u===ot.mapValue)return-1;const f=l.fields||{},d=Object.keys(f),p=u.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let E=0;E<d.length&&E<g.length;++E){const A=__PRIVATE_primitiveComparator(d[E],g[E]);if(A!==0)return A;const R=__PRIVATE_valueCompare(f[d[E]],p[g[E]]);if(R!==0)return R}return __PRIVATE_primitiveComparator(d.length,g.length)}(t.mapValue,e.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return __PRIVATE_primitiveComparator(t,e);const n=__PRIVATE_normalizeTimestamp(t),i=__PRIVATE_normalizeTimestamp(e),o=__PRIVATE_primitiveComparator(n.seconds,i.seconds);return o!==0?o:__PRIVATE_primitiveComparator(n.nanos,i.nanos)}function __PRIVATE_compareArrays(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const l=__PRIVATE_valueCompare(n[o],i[o]);if(l)return l}return __PRIVATE_primitiveComparator(n.length,i.length)}function canonicalId(t){return __PRIVATE_canonifyValue(t)}function __PRIVATE_canonifyValue(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=__PRIVATE_normalizeTimestamp(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return __PRIVATE_normalizeByteString(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return DocumentKey.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=__PRIVATE_canonifyValue(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const u of i)l?l=!1:o+=",",o+=`${u}:${__PRIVATE_canonifyValue(n.fields[u])}`;return o+"}"}(t.mapValue):fail()}function __PRIVATE_estimateByteSize(t){switch(__PRIVATE_typeOrder(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=__PRIVATE_getPreviousValue(t);return e?16+__PRIVATE_estimateByteSize(e):16;case 5:return 2*t.stringValue.length;case 6:return __PRIVATE_normalizeByteString(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+__PRIVATE_estimateByteSize(l),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return forEach$1(i.fields,(l,u)=>{o+=l.length+__PRIVATE_estimateByteSize(u)}),o}(t.mapValue);default:throw fail()}}function __PRIVATE_refValue(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function isInteger(t){return!!t&&"integerValue"in t}function isArray$2(t){return!!t&&"arrayValue"in t}function __PRIVATE_isNullValue(t){return!!t&&"nullValue"in t}function __PRIVATE_isNanValue(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function __PRIVATE_isMapValue(t){return!!t&&"mapValue"in t}function __PRIVATE_isVectorValue(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[it])===null||n===void 0?void 0:n.stringValue)===_t}function __PRIVATE_deepClone(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return forEach$1(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=__PRIVATE_deepClone(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=__PRIVATE_deepClone(t.arrayValue.values[n]);return e}return Object.assign({},t)}function __PRIVATE_isMaxValue(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===st}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!__PRIVATE_isMapValue(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(n)}setAll(e){let n=FieldPath$1.emptyPath(),i={},o=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,i,o),i={},o=[],n=f.popLast()}u?i[f.lastSegment()]=__PRIVATE_deepClone(u):o.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,o)}delete(e){const n=this.field(e.popLast());__PRIVATE_isMapValue(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];__PRIVATE_isMapValue(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){forEach$1(n,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(t){const e=[];return forEach$1(t.fields,(n,i)=>{const o=new FieldPath$1([n]);if(__PRIVATE_isMapValue(i)){const l=__PRIVATE_extractFieldMask(i.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new FieldMask(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(e,n,i,o,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,n,i,o){return new MutableDocument(e,1,n,SnapshotVersion.min(),i,o,0)}static newNoDocument(e,n){return new MutableDocument(e,2,n,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,n){return new MutableDocument(e,3,n,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(e,n){this.position=e,this.inclusive=n}}function __PRIVATE_boundCompareToDocument(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const l=e[o],u=t.position[o];if(l.field.isKeyField()?i=DocumentKey.comparator(DocumentKey.fromName(u.referenceValue),n.key):i=__PRIVATE_valueCompare(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function __PRIVATE_boundEquals(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!__PRIVATE_valueEquals(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(e,n="asc"){this.field=e,this.dir=n}}function __PRIVATE_orderByEquals(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Filter$1=class{};class FieldFilter extends Filter$1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new __PRIVATE_KeyFieldFilter(e,n,i):n==="array-contains"?new __PRIVATE_ArrayContainsFilter(e,i):n==="in"?new __PRIVATE_InFilter(e,i):n==="not-in"?new __PRIVATE_NotInFilter(e,i):n==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(e,i):new FieldFilter(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new __PRIVATE_KeyFieldInFilter(e,i):new __PRIVATE_KeyFieldNotInFilter(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(__PRIVATE_valueCompare(n,this.value)):n!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(n)&&this.matchesComparison(__PRIVATE_valueCompare(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter$1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new CompositeFilter(e,n)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(t){return t.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(t){return __PRIVATE_compositeFilterIsFlat(t)&&__PRIVATE_compositeFilterIsConjunction(t)}function __PRIVATE_compositeFilterIsFlat(t){for(const e of t.filters)if(e instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(t){if(t instanceof FieldFilter)return t.field.canonicalString()+t.op.toString()+canonicalId(t.value);if(__PRIVATE_compositeFilterIsFlatConjunction(t))return t.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(",");{const e=t.filters.map(n=>__PRIVATE_canonifyFilter(n)).join(",");return`${t.op}(${e})`}}function __PRIVATE_filterEquals(t,e){return t instanceof FieldFilter?function(i,o){return o instanceof FieldFilter&&i.op===o.op&&i.field.isEqual(o.field)&&__PRIVATE_valueEquals(i.value,o.value)}(t,e):t instanceof CompositeFilter?function(i,o){return o instanceof CompositeFilter&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,u,f)=>l&&__PRIVATE_filterEquals(u,o.filters[f]),!0):!1}(t,e):void fail()}function __PRIVATE_stringifyFilter(t){return t instanceof FieldFilter?function(n){return`${n.field.canonicalString()} ${n.op} ${canonicalId(n.value)}`}(t):t instanceof CompositeFilter?function(n){return n.op.toString()+" {"+n.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(t):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,n,i){super(e,n,i),this.key=DocumentKey.fromName(i.referenceValue)}matches(e){const n=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(n)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,n){super(e,"in",n),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,n){super(e,"not-in",n),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>DocumentKey.fromName(i.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return isArray$2(n)&&__PRIVATE_arrayValueContains(n.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,n)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,n){super(e,"not-in",n)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,n)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!isArray$2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>__PRIVATE_arrayValueContains(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(e,n=null,i=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.le=null}}function __PRIVATE_newTarget(t,e=null,n=[],i=[],o=null,l=null,u=null){return new __PRIVATE_TargetImpl(t,e,n,i,o,l,u)}function __PRIVATE_canonifyTarget(t){const e=__PRIVATE_debugCast(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>__PRIVATE_canonifyFilter(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),__PRIVATE_isNullOrUndefined(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>canonicalId(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>canonicalId(i)).join(",")),e.le=n}return e.le}function __PRIVATE_targetEquals(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!__PRIVATE_orderByEquals(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!__PRIVATE_filterEquals(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!__PRIVATE_boundEquals(t.startAt,e.startAt)&&__PRIVATE_boundEquals(t.endAt,e.endAt)}function __PRIVATE_targetIsDocumentTarget(t){return DocumentKey.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(e,n=null,i=[],o=[],l=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(t,e,n,i,o,l,u,f){return new __PRIVATE_QueryImpl(t,e,n,i,o,l,u,f)}function __PRIVATE_newQueryForPath(t){return new __PRIVATE_QueryImpl(t)}function __PRIVATE_queryMatchesAllDocuments(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(t){return t.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(t){const e=__PRIVATE_debugCast(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new SortedSet(FieldPath$1.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new OrderBy(l,i))}),n.has(FieldPath$1.keyField().canonicalString())||e.he.push(new OrderBy(FieldPath$1.keyField(),i))}return e.he}function __PRIVATE_queryToTarget(t){const e=__PRIVATE_debugCast(t);return e.Pe||(e.Pe=__PRIVATE__queryToTarget(e,__PRIVATE_queryNormalizedOrderBy(t))),e.Pe}function __PRIVATE__queryToTarget(t,e){if(t.limitType==="F")return __PRIVATE_newTarget(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new OrderBy(o.field,l)});const n=t.endAt?new Bound(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Bound(t.startAt.position,t.startAt.inclusive):null;return __PRIVATE_newTarget(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function __PRIVATE_queryWithAddedFilter(t,e){const n=t.filters.concat([e]);return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function __PRIVATE_queryWithLimit(t,e,n){return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function __PRIVATE_queryEquals(t,e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(t),__PRIVATE_queryToTarget(e))&&t.limitType===e.limitType}function __PRIVATE_canonifyQuery(t){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(t))}|lt:${t.limitType}`}function __PRIVATE_stringifyQuery(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>__PRIVATE_stringifyFilter(o)).join(", ")}]`),__PRIVATE_isNullOrUndefined(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>canonicalId(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>canonicalId(o)).join(",")),`Target(${i})`}(__PRIVATE_queryToTarget(t))}; limitType=${t.limitType})`}function __PRIVATE_queryMatches(t,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):DocumentKey.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,o){for(const l of __PRIVATE_queryNormalizedOrderBy(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(u,f,d){const p=__PRIVATE_boundCompareToDocument(u,f,d);return u.inclusive?p<=0:p<0}(i.startAt,__PRIVATE_queryNormalizedOrderBy(i),o)||i.endAt&&!function(u,f,d){const p=__PRIVATE_boundCompareToDocument(u,f,d);return u.inclusive?p>=0:p>0}(i.endAt,__PRIVATE_queryNormalizedOrderBy(i),o))}(t,e)}function __PRIVATE_queryCollectionGroup(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function __PRIVATE_newQueryComparator(t){return(e,n)=>{let i=!1;for(const o of __PRIVATE_queryNormalizedOrderBy(t)){const l=__PRIVATE_compareDocs(o,e,n);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(t,e,n){const i=t.field.isKeyField()?DocumentKey.comparator(e.key,n.key):function(l,u,f){const d=u.data.field(l),p=f.data.field(l);return d!==null&&p!==null?__PRIVATE_valueCompare(d,p):fail()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){forEach$1(this.inner,(n,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt=new SortedMap$1(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return lt}const ht=new SortedMap$1(DocumentKey.comparator);function documentMap(...t){let e=ht;for(const n of t)e=e.insert(n.key,n);return e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(t){let e=ht;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(t=>t.toString(),(t,e)=>t.isEqual(e))}const Pt=new SortedMap$1(DocumentKey.comparator),Tt=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...t){let e=Tt;for(const n of t)e=e.add(n);return e}const It=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return It}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(e)?"-0":e}}function __PRIVATE_toInteger(t){return{integerValue:""+t}}function toNumber(t,e){return isSafeInteger(e)?__PRIVATE_toInteger(e):__PRIVATE_toDouble(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(t,e,n){return t instanceof __PRIVATE_ServerTimestampTransform?function(o,l){const u={fields:{[et]:{stringValue:Xe},[nt]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&__PRIVATE_isServerTimestamp(l)&&(l=__PRIVATE_getPreviousValue(l)),l&&(u.fields[tt]=l),{mapValue:u}}(n,e):t instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(t,e):function(o,l){const u=__PRIVATE_computeTransformOperationBaseValue(o,l),f=asNumber$1(u)+asNumber$1(o.Ie);return isInteger(u)&&isInteger(o.Ie)?__PRIVATE_toInteger(f):__PRIVATE_toDouble(o.serializer,f)}(t,e)}function __PRIVATE_applyTransformOperationToRemoteDocument(t,e,n){return t instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(t,e):n}function __PRIVATE_computeTransformOperationBaseValue(t,e){return t instanceof __PRIVATE_NumericIncrementTransformOperation?function(i){return isInteger(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(t,e){const n=__PRIVATE_coercedFieldValuesArray(e);for(const i of t.elements)n.some(o=>__PRIVATE_valueEquals(o,i))||n.push(i);return{arrayValue:{values:n}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(t,e){let n=__PRIVATE_coercedFieldValuesArray(e);for(const i of t.elements)n=n.filter(o=>!__PRIVATE_valueEquals(o,i));return{arrayValue:{values:n}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function asNumber$1(t){return __PRIVATE_normalizeNumber(t.integerValue||t.doubleValue)}function __PRIVATE_coercedFieldValuesArray(t){return isArray$2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor(e,n){this.field=e,this.transform=n}}function __PRIVATE_fieldTransformEquals(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof __PRIVATE_ArrayUnionTransformOperation&&o instanceof __PRIVATE_ArrayUnionTransformOperation||i instanceof __PRIVATE_ArrayRemoveTransformOperation&&o instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(i.elements,o.elements,__PRIVATE_valueEquals):i instanceof __PRIVATE_NumericIncrementTransformOperation&&o instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(i.Ie,o.Ie):i instanceof __PRIVATE_ServerTimestampTransform&&o instanceof __PRIVATE_ServerTimestampTransform}(t.transform,e.transform)}class MutationResult{constructor(e,n){this.version=e,this.transformResults=n}}class Precondition{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new __PRIVATE_DeleteMutation(t.key,Precondition.none()):new __PRIVATE_SetMutation(t.key,t.data,Precondition.none());{const n=t.data,i=ObjectValue.empty();let o=new SortedSet(FieldPath$1.comparator);for(let l of e.fields)if(!o.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),o=o.add(l)}return new __PRIVATE_PatchMutation(t.key,i,new FieldMask(o.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(t,e,n){t instanceof __PRIVATE_SetMutation?function(o,l,u){const f=o.value.clone(),d=__PRIVATE_serverTransformResults(o.fieldTransforms,l,u.transformResults);f.setAll(d),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof __PRIVATE_PatchMutation?function(o,l,u){if(!__PRIVATE_preconditionIsValidForDocument(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=__PRIVATE_serverTransformResults(o.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(__PRIVATE_getPatch(o)),d.setAll(f),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function __PRIVATE_mutationApplyToLocalView(t,e,n,i){return t instanceof __PRIVATE_SetMutation?function(l,u,f,d){if(!__PRIVATE_preconditionIsValidForDocument(l.precondition,u))return f;const p=l.value.clone(),g=__PRIVATE_localTransformResults(l.fieldTransforms,d,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof __PRIVATE_PatchMutation?function(l,u,f,d){if(!__PRIVATE_preconditionIsValidForDocument(l.precondition,u))return f;const p=__PRIVATE_localTransformResults(l.fieldTransforms,d,u),g=u.data;return g.setAll(__PRIVATE_getPatch(l)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(t,e,n,i):function(l,u,f){return __PRIVATE_preconditionIsValidForDocument(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function __PRIVATE_mutationExtractBaseValue(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),l=__PRIVATE_computeTransformOperationBaseValue(i.transform,o||null);l!=null&&(n===null&&(n=ObjectValue.empty()),n.set(i.field,l))}return n||null}function __PRIVATE_mutationEquals(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&__PRIVATE_arrayEquals(i,o,(l,u)=>__PRIVATE_fieldTransformEquals(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,n,i,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function __PRIVATE_serverTransformResults(t,e,n){const i=new Map;__PRIVATE_hardAssert(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],u=l.transform,f=e.data.field(l.field);i.set(l.field,__PRIVATE_applyTransformOperationToRemoteDocument(u,f,n[o]))}return i}function __PRIVATE_localTransformResults(t,e,n){const i=new Map;for(const o of t){const l=o.transform,u=n.data.field(o.field);i.set(o.field,__PRIVATE_applyTransformOperationToLocalView(l,u,e))}return i}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(l,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=__PRIVATE_mutationApplyToLocalView(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=__PRIVATE_mutationApplyToLocalView(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=__PRIVATE_newMutationMap();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(o.key)?null:f;const d=__PRIVATE_calculateOverlayMutation(u,f);d!==null&&i.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(SnapshotVersion.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,(n,i)=>__PRIVATE_mutationEquals(n,i))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,(n,i)=>__PRIVATE_mutationEquals(n,i))}}class MutationBatchResult{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){__PRIVATE_hardAssert(e.mutations.length===i.length);let o=function(){return Pt}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,i[u].version);return new MutationBatchResult(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,dt;function __PRIVATE_isPermanentError(t){switch(t){case C.OK:return fail();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return fail()}}function __PRIVATE_mapCodeFromRpcCode(t){if(t===void 0)return __PRIVATE_logError("GRPC error has no .code"),C.UNKNOWN;switch(t){case Et.OK:return C.OK;case Et.CANCELLED:return C.CANCELLED;case Et.UNKNOWN:return C.UNKNOWN;case Et.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Et.INTERNAL:return C.INTERNAL;case Et.UNAVAILABLE:return C.UNAVAILABLE;case Et.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Et.NOT_FOUND:return C.NOT_FOUND;case Et.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Et.ABORTED:return C.ABORTED;case Et.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Et.DATA_LOSS:return C.DATA_LOSS;default:return fail()}}(dt=Et||(Et={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(t){const e=__PRIVATE_newTextEncoder().encode(t),n=new Md5;return n.update(e),new Uint8Array(n.digest())}function __PRIVATE_get64BitUints(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Integer([n,i],0),new Integer([o,l],0)]}class BloomFilter{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${n}`);if(i<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Integer.fromNumber(this.Ee)}Ae(e,n,i){let o=e.add(n.multiply(Integer.fromNumber(i)));return o.compare(Rt)===1&&(o=new Integer([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=__PRIVATE_getMd5HashValue(e),[i,o]=__PRIVATE_get64BitUints(n);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,o,l);if(!this.Re(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new BloomFilter(l,o,n);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const n=__PRIVATE_getMd5HashValue(e),[i,o]=__PRIVATE_get64BitUints(n);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,o,l);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(e,n,i,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new RemoteEvent(SnapshotVersion.min(),o,new SortedMap$1(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,n,i,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new TargetChange(i,n,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(e,n,i,o){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=o}}class __PRIVATE_ExistenceFilterChange{constructor(e,n){this.targetId=e,this.ge=n}}class __PRIVATE_WatchTargetChange{constructor(e,n,i=ByteString.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class __PRIVATE_TargetState{constructor(){this.pe=0,this.ye=__PRIVATE_snapshotChangesMap(),this.we=ByteString.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=__PRIVATE_documentKeySet(),n=__PRIVATE_documentKeySet(),i=__PRIVATE_documentKeySet();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:fail()}}),new TargetChange(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=__PRIVATE_snapshotChangesMap()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,__PRIVATE_hardAssert(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.ke=e,this.qe=new Map,this.Qe=__PRIVATE_mutableDocumentMap(),this.$e=__PRIVATE_documentTargetMap(),this.Ke=__PRIVATE_documentTargetMap(),this.Ue=new SortedMap$1(__PRIVATE_primitiveComparator)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:fail()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,i=e.ge.count,o=this.Xe(n);if(o){const l=o.target;if(__PRIVATE_targetIsDocumentTarget(l))if(i===0){const u=new DocumentKey(l.path);this.ze(n,u,MutableDocument.newNoDocument(u,SnapshotVersion.min()))}else __PRIVATE_hardAssert(i===1);else{const u=this.et(n);if(u!==i){const f=this.tt(e),d=f?this.nt(f,e,u):1;if(d!==0){this.Ye(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=n;let u,f;try{u=__PRIVATE_normalizeByteString(i).toUint8Array()}catch(d){if(d instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new BloomFilter(u,o,l)}catch(d){return __PRIVATE_logWarn(d instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.Ee===0?null:f}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let o=0;return i.forEach(l=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(n,l,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((l,u)=>{const f=this.Xe(u);if(f){if(l.current&&__PRIVATE_targetIsDocumentTarget(f.target)){const d=new DocumentKey(f.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,MutableDocument.newNoDocument(d,e))}l.ve&&(n.set(u,l.Fe()),l.Me())}});let i=__PRIVATE_documentKeySet();this.Ke.forEach((l,u)=>{let f=!0;u.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const o=new RemoteEvent(e,n,this.Ue,this.Qe,i);return this.Qe=__PRIVATE_mutableDocumentMap(),this.$e=__PRIVATE_documentTargetMap(),this.Ke=__PRIVATE_documentTargetMap(),this.Ue=new SortedMap$1(__PRIVATE_primitiveComparator),o}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new __PRIVATE_TargetState,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new SortedSet(__PRIVATE_primitiveComparator),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new SortedSet(__PRIVATE_primitiveComparator),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new __PRIVATE_TargetState),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function __PRIVATE_documentTargetMap(){return new SortedMap$1(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap$1(DocumentKey.comparator)}const Vt={asc:"ASCENDING",desc:"DESCENDING"},mt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ft={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function __PRIVATE_toInt32Proto(t,e){return t.useProto3Json||__PRIVATE_isNullOrUndefined(e)?e:{value:e}}function toTimestamp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __PRIVATE_toBytes(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function __PRIVATE_toVersion(t,e){return toTimestamp(t,e.toTimestamp())}function __PRIVATE_fromVersion(t){return __PRIVATE_hardAssert(!!t),SnapshotVersion.fromTimestamp(function(n){const i=__PRIVATE_normalizeTimestamp(n);return new Timestamp(i.seconds,i.nanos)}(t))}function __PRIVATE_toResourceName(t,e){return __PRIVATE_toResourcePath(t,e).canonicalString()}function __PRIVATE_toResourcePath(t,e){const n=function(o){return new ResourcePath(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function __PRIVATE_fromResourceName(t){const e=ResourcePath.fromString(t);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(e)),e}function __PRIVATE_toName(t,e){return __PRIVATE_toResourceName(t.databaseId,e.path)}function fromName(t,e){const n=__PRIVATE_fromResourceName(e);if(n.get(1)!==t.databaseId.projectId)throw new FirestoreError(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new FirestoreError(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(n))}function __PRIVATE_toQueryPath(t,e){return __PRIVATE_toResourceName(t.databaseId,e)}function __PRIVATE_fromQueryPath(t){const e=__PRIVATE_fromResourceName(t);return e.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(e)}function __PRIVATE_getEncodedDatabaseId(t){return new ResourcePath(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(t){return __PRIVATE_hardAssert(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function __PRIVATE_toMutationDocument(t,e,n){return{name:__PRIVATE_toName(t,e),fields:n.value.mapValue.fields}}function __PRIVATE_fromWatchChange(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:fail()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(p,g){return p.useProto3Json?(__PRIVATE_hardAssert(g===void 0||typeof g=="string"),ByteString.fromBase64String(g||"")):(__PRIVATE_hardAssert(g===void 0||g instanceof Buffer||g instanceof Uint8Array),ByteString.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(p){const g=p.code===void 0?C.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(p.code);return new FirestoreError(g,p.message||"")}(u);n=new __PRIVATE_WatchTargetChange(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=fromName(t,i.document.name),l=__PRIVATE_fromVersion(i.document.updateTime),u=i.document.createTime?__PRIVATE_fromVersion(i.document.createTime):SnapshotVersion.min(),f=new ObjectValue({mapValue:{fields:i.document.fields}}),d=MutableDocument.newFoundDocument(o,l,u,f),p=i.targetIds||[],g=i.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=fromName(t,i.document),l=i.readTime?__PRIVATE_fromVersion(i.readTime):SnapshotVersion.min(),u=MutableDocument.newNoDocument(o,l),f=i.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=fromName(t,i.document),l=i.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],l,o,null)}else{if(!("filter"in e))return fail();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,u=new ExistenceFilter(o,l),f=i.targetId;n=new __PRIVATE_ExistenceFilterChange(f,u)}}return n}function toMutation(t,e){let n;if(e instanceof __PRIVATE_SetMutation)n={update:__PRIVATE_toMutationDocument(t,e.key,e.value)};else if(e instanceof __PRIVATE_DeleteMutation)n={delete:__PRIVATE_toName(t,e.key)};else if(e instanceof __PRIVATE_PatchMutation)n={update:__PRIVATE_toMutationDocument(t,e.key,e.data),updateMask:__PRIVATE_toDocumentMask(e.fieldMask)};else{if(!(e instanceof __PRIVATE_VerifyMutation))return fail();n={verify:__PRIVATE_toName(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const f=u.transform;if(f instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw fail()}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:fail()}(t,e.precondition)),n}function __PRIVATE_fromWriteResults(t,e){return t&&t.length>0?(__PRIVATE_hardAssert(e!==void 0),t.map(n=>function(o,l){let u=o.updateTime?__PRIVATE_fromVersion(o.updateTime):__PRIVATE_fromVersion(l);return u.isEqual(SnapshotVersion.min())&&(u=__PRIVATE_fromVersion(l)),new MutationResult(u,o.transformResults||[])}(n,e))):[]}function __PRIVATE_toDocumentsTarget(t,e){return{documents:[__PRIVATE_toQueryPath(t,e.path)]}}function __PRIVATE_toQueryTarget(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=__PRIVATE_toQueryPath(t,o);const l=function(p){if(p.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(g=>function(A){return{field:__PRIVATE_toFieldPathReference(A.field),direction:__PRIVATE_toDirection(A.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=__PRIVATE_toInt32Proto(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:o}}function __PRIVATE_convertQueryTargetToQuery(t){let e=__PRIVATE_fromQueryPath(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){__PRIVATE_hardAssert(i===1);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=function(E){const A=__PRIVATE_fromFilter(E);return A instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(A)?A.getFilters():[A]}(n.where));let u=[];n.orderBy&&(u=function(E){return E.map(A=>function(I){return new OrderBy(__PRIVATE_fromFieldPathReference(I.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(A))}(n.orderBy));let f=null;n.limit&&(f=function(E){let A;return A=typeof E=="object"?E.value:E,__PRIVATE_isNullOrUndefined(A)?null:A}(n.limit));let d=null;n.startAt&&(d=function(E){const A=!!E.before,R=E.values||[];return new Bound(R,A)}(n.startAt));let p=null;return n.endAt&&(p=function(E){const A=!E.before,R=E.values||[];return new Bound(R,A)}(n.endAt)),__PRIVATE_newQuery(e,o,u,l,f,"F",d,p)}function __PRIVATE_toListenRequestLabels(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function __PRIVATE_fromFilter(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(u,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(t):t.fieldFilter!==void 0?function(n){return FieldFilter.create(__PRIVATE_fromFieldPathReference(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return CompositeFilter.create(n.compositeFilter.filters.map(i=>__PRIVATE_fromFilter(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return fail()}}(n.compositeFilter.op))}(t):fail()}function __PRIVATE_toDirection(t){return Vt[t]}function __PRIVATE_toOperatorName(t){return mt[t]}function __PRIVATE_toCompositeOperatorName(t){return ft[t]}function __PRIVATE_toFieldPathReference(t){return{fieldPath:t.canonicalString()}}function __PRIVATE_fromFieldPathReference(t){return FieldPath$1.fromServerFormat(t.fieldPath)}function __PRIVATE_toFilter(t){return t instanceof FieldFilter?function(n){if(n.op==="=="){if(__PRIVATE_isNanValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(__PRIVATE_isNanValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:__PRIVATE_toOperatorName(n.op),value:n.value}}}(t):t instanceof CompositeFilter?function(n){const i=n.getFilters().map(o=>__PRIVATE_toFilter(o));return i.length===1?i[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(n.op),filters:i}}}(t):fail()}function __PRIVATE_toDocumentMask(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function __PRIVATE_isValidResourceName(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(e,n,i,o,l=SnapshotVersion.min(),u=SnapshotVersion.min(),f=ByteString.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(e){this.Tt=e}}function __PRIVATE_fromBundledQuery(t){const e=__PRIVATE_convertQueryTargetToQuery({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?__PRIVATE_queryWithLimit(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.Tn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,n){return this.Tn.add(n),PersistencePromise.resolve()}getCollectionParents(e,n){return PersistencePromise.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return PersistencePromise.resolve()}deleteFieldIndex(e,n){return PersistencePromise.resolve()}deleteAllFieldIndexes(e){return PersistencePromise.resolve()}createTargetIndexes(e,n){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,n){return PersistencePromise.resolve(null)}getIndexType(e,n){return PersistencePromise.resolve(0)}getFieldIndexes(e,n){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,n){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,n){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,n,i){return PersistencePromise.resolve()}updateIndexEntries(e,n){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new SortedSet(ResourcePath.comparator),l=!o.has(i);return this.index[n]=o.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bt=41943040;class LruParams{static withCacheSize(e){return new LruParams(e,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(bt,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new __PRIVATE_TargetIdGenerator(0)}static Un(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="LruGarbageCollector",Dt=1048576;function __PRIVATE_bufferEntryComparator([t,e],[n,i]){const o=__PRIVATE_primitiveComparator(t,n);return o===0?__PRIVATE_primitiveComparator(e,i):o}class __PRIVATE_RollingSequenceNumberBuffer{constructor(e){this.Hn=e,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();__PRIVATE_bufferEntryComparator(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){__PRIVATE_logDebug(St,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){__PRIVATE_isIndexedDbTransactionError(n)?__PRIVATE_logDebug(St,"Ignoring IndexedDB error during garbage collection: ",n):await __PRIVATE_ignoreIfPrimaryLeaseLoss(n)}await this.er(3e5)})}}class __PRIVATE_LruGarbageCollectorImpl{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return PersistencePromise.resolve(__PRIVATE_ListenSequence.ae);const i=new __PRIVATE_RollingSequenceNumberBuffer(n);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(wt)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wt):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,o,l,u,f,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,f=Date.now(),this.removeTargets(e,i,n))).next(E=>(l=E,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(p=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(d-f)+`ms
	Removed ${E} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E})))}}function __PRIVATE_newLruGarbageCollector(t,e){return new __PRIVATE_LruGarbageCollectorImpl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?PersistencePromise.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&__PRIVATE_mutationApplyToLocalView(i.mutation,o,FieldMask.empty(),Timestamp.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,__PRIVATE_documentKeySet()).next(()=>i))}getLocalViewOfDocuments(e,n,i=__PRIVATE_documentKeySet()){const o=__PRIVATE_newOverlayMap();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(l=>{let u=documentMap();return l.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=__PRIVATE_newOverlayMap();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,__PRIVATE_documentKeySet()))}populateOverlays(e,n,i){const o=[];return i.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,i,o){let l=__PRIVATE_mutableDocumentMap();const u=__PRIVATE_newDocumentKeyMap(),f=function(){return __PRIVATE_newDocumentKeyMap()}();return n.forEach((d,p)=>{const g=i.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof __PRIVATE_PatchMutation)?l=l.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(g.mutation,p,g.mutation.getFieldMask(),Timestamp.now())):u.set(p.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,g)=>u.set(p,g)),n.forEach((p,g)=>{var E;return f.set(p,new OverlayedDocument(g,(E=u.get(p))!==null&&E!==void 0?E:null))}),f))}recalculateAndSaveOverlays(e,n){const i=__PRIVATE_newDocumentKeyMap();let o=new SortedMap$1((u,f)=>u-f),l=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let g=i.get(d)||FieldMask.empty();g=f.applyToLocalView(p,g),i.set(d,g);const E=(o.get(f.batchId)||__PRIVATE_documentKeySet()).add(d);o=o.insert(f.batchId,E)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,g=d.value,E=__PRIVATE_newMutationMap();g.forEach(A=>{if(!l.has(A)){const R=__PRIVATE_calculateOverlayMutation(n.get(A),i.get(A));R!==null&&E.set(A,R),l=l.add(A)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,E))}return PersistencePromise.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(u){return DocumentKey.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):__PRIVATE_isCollectionGroupQuery(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-l.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let f=N,d=l;return u.next(p=>PersistencePromise.forEach(p,(g,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(g)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,g).next(A=>{d=d.insert(g,A)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,__PRIVATE_documentKeySet())).next(g=>({batchId:f,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new DocumentKey(n)).next(i=>{let o=documentMap();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const l=n.collectionGroup;let u=documentMap();return this.indexManager.getCollectionParents(e,l).next(f=>PersistencePromise.forEach(f,d=>{const p=function(E,A){return new __PRIVATE_QueryImpl(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next(g=>{g.forEach((E,A)=>{u=u.insert(E,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,o))).next(u=>{l.forEach((d,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,MutableDocument.newInvalidDocument(g)))});let f=documentMap();return u.forEach((d,p)=>{const g=l.get(d);g!==void 0&&__PRIVATE_mutationApplyToLocalView(g.mutation,p,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(n,p)&&(f=f.insert(d,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return PersistencePromise.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:__PRIVATE_fromVersion(o.createTime)}}(n)),PersistencePromise.resolve()}getNamedQuery(e,n){return PersistencePromise.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:__PRIVATE_fromBundledQuery(o.bundledQuery),readTime:__PRIVATE_fromVersion(o.readTime)}}(n)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap$1(DocumentKey.comparator),this.Rr=new Map}getOverlay(e,n){return PersistencePromise.resolve(this.overlays.get(n))}getOverlays(e,n){const i=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,l)=>{this.Et(e,n,l)}),PersistencePromise.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),PersistencePromise.resolve()}getOverlaysForCollection(e,n,i){const o=__PRIVATE_newOverlayMap(),l=n.length+1,u=new DocumentKey(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>i&&o.set(d.getKey(),d)}return PersistencePromise.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let l=new SortedMap$1((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let g=l.get(p.largestBatchId);g===null&&(g=__PRIVATE_newOverlayMap(),l=l.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const f=__PRIVATE_newOverlayMap(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>f.set(p,g)),!(f.size()>=o)););return PersistencePromise.resolve(f)}Et(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Overlay(n,i));let l=this.Rr.get(n);l===void 0&&(l=__PRIVATE_documentKeySet(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Vr=new SortedSet(__PRIVATE_DocReference.mr),this.gr=new SortedSet(__PRIVATE_DocReference.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new __PRIVATE_DocReference(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new __PRIVATE_DocReference(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new DocumentKey(new ResourcePath([])),i=new __PRIVATE_DocReference(n,e),o=new __PRIVATE_DocReference(n,e+1),l=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new DocumentKey(new ResourcePath([])),i=new __PRIVATE_DocReference(n,e),o=new __PRIVATE_DocReference(n,e+1);let l=__PRIVATE_documentKeySet();return this.gr.forEachInRange([i,o],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new __PRIVATE_DocReference(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class __PRIVATE_DocReference{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return DocumentKey.comparator(e.key,n.key)||__PRIVATE_primitiveComparator(e.Cr,n.Cr)}static pr(e,n){return __PRIVATE_primitiveComparator(e.Cr,n.Cr)||DocumentKey.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new SortedSet(__PRIVATE_DocReference.mr)}checkEmpty(e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new MutationBatch(l,n,i,o);this.mutationQueue.push(u);for(const f of o)this.Mr=this.Mr.add(new __PRIVATE_DocReference(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return PersistencePromise.resolve(u)}lookupMutationBatch(e,n){return PersistencePromise.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Nr(i),l=o<0?0:o;return PersistencePromise.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?Q:this.Fr-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new __PRIVATE_DocReference(n,0),o=new __PRIVATE_DocReference(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,o],u=>{const f=this.Or(u.Cr);l.push(f)}),PersistencePromise.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new SortedSet(__PRIVATE_primitiveComparator);return n.forEach(o=>{const l=new __PRIVATE_DocReference(o,0),u=new __PRIVATE_DocReference(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],f=>{i=i.add(f.Cr)})}),PersistencePromise.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let l=i;DocumentKey.isDocumentKey(l)||(l=l.child(""));const u=new __PRIVATE_DocReference(new DocumentKey(l),0);let f=new SortedSet(__PRIVATE_primitiveComparator);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(f=f.add(d.Cr)),!0)},u),PersistencePromise.resolve(this.Br(f))}Br(e){const n=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){__PRIVATE_hardAssert(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return PersistencePromise.forEach(n.mutations,o=>{const l=new __PRIVATE_DocReference(o.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new __PRIVATE_DocReference(n,0),o=this.Mr.firstAfterOrEqual(i);return PersistencePromise.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.kr=e,this.docs=function(){return new SortedMap$1(DocumentKey.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),l=o?o.size:0,u=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return PersistencePromise.resolve(i?i.document.mutableCopy():MutableDocument.newInvalidDocument(n))}getEntries(e,n){let i=__PRIVATE_mutableDocumentMap();return n.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():MutableDocument.newInvalidDocument(o))}),PersistencePromise.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let l=__PRIVATE_mutableDocumentMap();const u=n.path,f=new DocumentKey(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(g),i)<=0||(o.has(g.key)||__PRIVATE_queryMatches(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return PersistencePromise.resolve(l)}getAllFromCollectionGroup(e,n,i,o){fail()}qr(e,n){return PersistencePromise.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),PersistencePromise.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.Qr=new ObjectMap(n=>__PRIVATE_canonifyTarget(n),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.$r=0,this.Kr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Ur=__PRIVATE_TargetIdGenerator.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,o)=>n(o)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),PersistencePromise.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new __PRIVATE_TargetIdGenerator(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,n){return this.zn(n),PersistencePromise.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,n,i){let o=0;const l=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),PersistencePromise.waitFor(l).next(()=>o)}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return PersistencePromise.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),PersistencePromise.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),PersistencePromise.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return PersistencePromise.resolve(i)}containsKey(e,n){return PersistencePromise.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new __PRIVATE_ListenSequence(0),this.zr=!1,this.zr=!0,this.jr=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=e(this),this.Hr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(o){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new __PRIVATE_LocalSerializer(n),this.Yr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new __PRIVATE_MemoryMutationQueue(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const o=new __PRIVATE_MemoryTransaction(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,n){return PersistencePromise.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.ti=new __PRIVATE_ReferenceSet,this.ni=null}static ri(e){return new __PRIVATE_MemoryEagerDelegate(e)}get ii(){if(this.ni)return this.ni;throw fail()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),PersistencePromise.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),PersistencePromise.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.ii,i=>{const o=DocumentKey.fromPath(i);return this.si(e,o).next(l=>{l||n.removeEntry(o,SnapshotVersion.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return PersistencePromise.or([()=>PersistencePromise.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class __PRIVATE_MemoryLruDelegate{constructor(e,n){this.persistence=e,this.oi=new ObjectMap(i=>__PRIVATE_encodeResourcePath(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,n)}static ri(e,n){return new __PRIVATE_MemoryLruDelegate(e,n)}Zr(){}Xr(e){return PersistencePromise.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return PersistencePromise.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(l=>l?PersistencePromise.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,n).next(f=>{f||(i++,l.removeEntry(u,SnapshotVersion.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),PersistencePromise.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),PersistencePromise.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=__PRIVATE_estimateByteSize(e.data.value)),n}ar(e,n,i){return PersistencePromise.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return PersistencePromise.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=o}static Yi(e,n){let i=__PRIVATE_documentKeySet(),o=__PRIVATE_documentKeySet();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new __PRIVATE_LocalViewChanges(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,o){const l={result:null};return this.rs(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,n,o,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new QueryContext;return this._s(e,n,u).next(f=>{if(l.result=f,this.Xi)return this.us(e,n,u,f.size)})}).next(()=>l.result)}us(e,n,i,o){return i.documentReadCount<this.es?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget(n))):PersistencePromise.resolve())}rs(e,n){if(__PRIVATE_queryMatchesAllDocuments(n))return PersistencePromise.resolve(null);let i=__PRIVATE_queryToTarget(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=__PRIVATE_queryWithLimit(n,null,"F"),i=__PRIVATE_queryToTarget(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=__PRIVATE_documentKeySet(...l);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(d=>{const p=this.cs(n,f);return this.ls(n,p,u,d.readTime)?this.rs(e,__PRIVATE_queryWithLimit(n,null,"F")):this.hs(e,p,n,d)}))})))}ss(e,n,i,o){return __PRIVATE_queryMatchesAllDocuments(n)||o.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.ns.getDocuments(e,i).next(l=>{const u=this.cs(n,l);return this.ls(n,u,i,o)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),__PRIVATE_stringifyQuery(n)),this.hs(e,u,n,__PRIVATE_newIndexOffsetSuccessorFromReadTime(o,N)).next(f=>f))})}cs(e,n){let i=new SortedSet(__PRIVATE_newQueryComparator(e));return n.forEach((o,l)=>{__PRIVATE_queryMatches(e,l)&&(i=i.add(l))}),i}ls(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,n,i){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(n)),this.ns.getDocumentsMatchingQuery(e,n,IndexOffset.min(),i)}hs(e,n,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="LocalStore",Nt=3e8;class __PRIVATE_LocalStoreImpl{constructor(e,n,i,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new SortedMap$1(__PRIVATE_primitiveComparator),this.Is=new ObjectMap(l=>__PRIVATE_canonifyTarget(l),__PRIVATE_targetEquals),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function __PRIVATE_newLocalStore(t,e,n,i){return new __PRIVATE_LocalStoreImpl(t,e,n,i)}async function __PRIVATE_localStoreHandleUserChange(t,e){const n=__PRIVATE_debugCast(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],f=[];let d=__PRIVATE_documentKeySet();for(const p of o){u.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of l){f.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(i,d).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:f}))})})}function __PRIVATE_localStoreAcknowledgeBatch(t,e){const n=__PRIVATE_debugCast(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,d,p,g){const E=p.batch,A=E.keys();let R=PersistencePromise.resolve();return A.forEach(I=>{R=R.next(()=>g.getEntry(d,I)).next(j=>{const q=p.docVersions.get(I);__PRIVATE_hardAssert(q!==null),j.version.compareTo(q)<0&&(E.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),g.addEntry(j)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(d,E))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let d=__PRIVATE_documentKeySet();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(t){const e=__PRIVATE_debugCast(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(t,e){const n=__PRIVATE_debugCast(t),i=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const f=[];e.targetChanges.forEach((g,E)=>{const A=o.get(E);if(!A)return;f.push(n.Hr.removeMatchingKeys(l,g.removedDocuments,E).next(()=>n.Hr.addMatchingKeys(l,g.addedDocuments,E)));let R=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):g.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(g.resumeToken,i)),o=o.insert(E,R),function(j,q,L){return j.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=Nt?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(A,R,g)&&f.push(n.Hr.updateTargetData(l,R))});let d=__PRIVATE_mutableDocumentMap(),p=__PRIVATE_documentKeySet();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))}),f.push(__PRIVATE_populateDocumentChangeBuffer(l,u,e.documentUpdates).next(g=>{d=g.Vs,p=g.fs})),!i.isEqual(SnapshotVersion.min())){const g=n.Hr.getLastRemoteSnapshotVersion(l).next(E=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(g)}return PersistencePromise.waitFor(f).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(n.Ts=o,l))}function __PRIVATE_populateDocumentChangeBuffer(t,e,n){let i=__PRIVATE_documentKeySet(),o=__PRIVATE_documentKeySet();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let u=__PRIVATE_mutableDocumentMap();return n.forEach((f,d)=>{const p=l.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(f)),d.isNoDocument()&&d.version.isEqual(SnapshotVersion.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):__PRIVATE_logDebug(Ot,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),{Vs:u,fs:o}})}function __PRIVATE_localStoreGetNextMutationBatch(t,e){const n=__PRIVATE_debugCast(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Q),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function __PRIVATE_localStoreAllocateTarget(t,e){const n=__PRIVATE_debugCast(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Hr.getTargetData(i,e).next(l=>l?(o=l,PersistencePromise.resolve(o)):n.Hr.allocateTargetId(i).next(u=>(o=new TargetData(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function __PRIVATE_localStoreReleaseTarget(t,e,n){const i=__PRIVATE_debugCast(t),o=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!__PRIVATE_isIndexedDbTransactionError(u))throw u;__PRIVATE_logDebug(Ot,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function __PRIVATE_localStoreExecuteQuery(t,e,n){const i=__PRIVATE_debugCast(t);let o=SnapshotVersion.min(),l=__PRIVATE_documentKeySet();return i.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,g){const E=__PRIVATE_debugCast(d),A=E.Is.get(g);return A!==void 0?PersistencePromise.resolve(E.Ts.get(A)):E.Hr.getTargetData(p,g)}(i,u,__PRIVATE_queryToTarget(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,f.targetId).next(d=>{l=d})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,n?o:SnapshotVersion.min(),n?l:__PRIVATE_documentKeySet())).next(f=>(__PRIVATE_setMaxReadTime(i,__PRIVATE_queryCollectionGroup(e),f),{documents:f,gs:l})))}function __PRIVATE_setMaxReadTime(t,e,n){let i=t.Es.get(e)||SnapshotVersion.min();n.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.ho=new __PRIVATE_LocalClientState,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){__PRIVATE_logDebug(Qt,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){__PRIVATE_logDebug(Qt,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t=null;function __PRIVATE_generateUniqueDebugId(){return $t===null?$t=function(){return 268435456+Math.round(2147483648*Math.random())}():$t++,"0x"+$t.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="RestConnection",Ut={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===rt?`project_id=${i}`:`project_id=${i}&database_id=${o}`}bo(e,n,i,o,l){const u=__PRIVATE_generateUniqueDebugId(),f=this.So(e,n.toUriEncodedString());__PRIVATE_logDebug(Kt,`Sending RPC '${e}' ${u}:`,f,i);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,o,l),this.vo(e,f,d,i).then(p=>(__PRIVATE_logDebug(Kt,`Received RPC '${e}' ${u}: `,p),p),p=>{throw __PRIVATE_logWarn(Kt,`RPC '${e}' ${u} failed with error: `,p,"url: ",f,"request:",i),p})}Co(e,n,i,o,l,u){return this.bo(e,n,i,o,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+D}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}So(e,n){const i=Ut[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,o){const l=__PRIVATE_generateUniqueDebugId();return new Promise((u,f)=>{const d=new XhrIo;d.setWithCredentials(!0),d.listenOnce(EventType.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ErrorCode.NO_ERROR:const g=d.getResponseJson();__PRIVATE_logDebug(Wt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case ErrorCode.TIMEOUT:__PRIVATE_logDebug(Wt,`RPC '${e}' ${l} timed out`),f(new FirestoreError(C.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const E=d.getStatus();if(__PRIVATE_logDebug(Wt,`RPC '${e}' ${l} failed with status:`,E,"response text:",d.getResponseText()),E>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A==null?void 0:A.error;if(R&&R.status&&R.message){const I=function(q){const L=q.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(L)>=0?L:C.UNKNOWN}(R.status);f(new FirestoreError(I,R.message))}else f(new FirestoreError(C.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new FirestoreError(C.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(Wt,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(o);__PRIVATE_logDebug(Wt,`RPC '${e}' ${l} sending request:`,o),d.send(n,"POST",p,i,15)})}Wo(e,n,i){const o=__PRIVATE_generateUniqueDebugId(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=createWebChannelTransport(),f=getStatEventTarget(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const g=l.join("");__PRIVATE_logDebug(Wt,`Creating RPC '${e}' stream ${o}: ${g}`,d);const E=u.createWebChannel(g,d);let A=!1,R=!1;const I=new __PRIVATE_StreamBridge({Fo:q=>{R?__PRIVATE_logDebug(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(A||(__PRIVATE_logDebug(Wt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),__PRIVATE_logDebug(Wt,`RPC '${e}' stream ${o} sending:`,q),E.send(q))},Mo:()=>E.close()}),j=(q,L,z)=>{q.listen(L,U=>{try{z(U)}catch(W){setTimeout(()=>{throw W},0)}})};return j(E,WebChannel.EventType.OPEN,()=>{R||(__PRIVATE_logDebug(Wt,`RPC '${e}' stream ${o} transport opened.`),I.Qo())}),j(E,WebChannel.EventType.CLOSE,()=>{R||(R=!0,__PRIVATE_logDebug(Wt,`RPC '${e}' stream ${o} transport closed`),I.Ko())}),j(E,WebChannel.EventType.ERROR,q=>{R||(R=!0,__PRIVATE_logWarn(Wt,`RPC '${e}' stream ${o} transport errored:`,q),I.Ko(new FirestoreError(C.UNAVAILABLE,"The operation could not be completed")))}),j(E,WebChannel.EventType.MESSAGE,q=>{var L;if(!R){const z=q.data[0];__PRIVATE_hardAssert(!!z);const U=z,W=(U==null?void 0:U.error)||((L=U[0])===null||L===void 0?void 0:L.error);if(W){__PRIVATE_logDebug(Wt,`RPC '${e}' stream ${o} received error:`,W);const H=W.status;let Z=function(ne){const ae=Et[ne];if(ae!==void 0)return __PRIVATE_mapCodeFromRpcCode(ae)}(H),Y=W.message;Z===void 0&&(Z=C.INTERNAL,Y="Unknown error status: "+H+" with message "+W.message),R=!0,I.Ko(new FirestoreError(Z,Y)),E.close()}else __PRIVATE_logDebug(Wt,`RPC '${e}' stream ${o} received:`,z),I.Uo(z)}}),j(f,Event.STAT_EVENT,q=>{q.stat===Stat.PROXY?__PRIVATE_logDebug(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(t){return new JsonProtoSerializer(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(e,n,i=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-i);o>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="PersistentStream";class __PRIVATE_PersistentStream{constructor(e,n,i,o,l,u,f,d){this.Ti=e,this.n_=i,this.r_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new __PRIVATE_ExponentialBackoff(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(__PRIVATE_logError(n.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===n&&this.V_(i,o)},i=>{e(()=>{const o=new FirestoreError(C.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return __PRIVATE_logDebug(Gt,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(__PRIVATE_logDebug(Gt,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,n,i,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=__PRIVATE_fromWatchChange(this.serializer,e),i=function(l){if(!("targetChange"in l))return SnapshotVersion.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?SnapshotVersion.min():u.readTime?__PRIVATE_fromVersion(u.readTime):SnapshotVersion.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=__PRIVATE_getEncodedDatabaseId(this.serializer),n.addTarget=function(l,u){let f;const d=u.target;if(f=__PRIVATE_targetIsDocumentTarget(d)?{documents:__PRIVATE_toDocumentsTarget(l,d)}:{query:__PRIVATE_toQueryTarget(l,d).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=__PRIVATE_toBytes(l,u.resumeToken);const p=__PRIVATE_toInt32Proto(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(SnapshotVersion.min())>0){f.readTime=toTimestamp(l,u.snapshotVersion.toTimestamp());const p=__PRIVATE_toInt32Proto(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const i=__PRIVATE_toListenRequestLabels(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=__PRIVATE_getEncodedDatabaseId(this.serializer),n.removeTarget=e,this.I_(n)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(e,n,i,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return __PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,__PRIVATE_hardAssert(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){__PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=__PRIVATE_fromWriteResults(e.writeResults,e.commitTime),i=__PRIVATE_fromVersion(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>toMutation(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new FirestoreError(C.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.bo(e,__PRIVATE_toResourcePath(n,i),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new FirestoreError(C.UNKNOWN,l.toString())})}Co(e,n,i,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,__PRIVATE_toResourcePath(n,i),o,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new FirestoreError(C.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(__PRIVATE_logError(n),this.N_=!1):__PRIVATE_logDebug("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor(e,n,i,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{i.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(zt,"Restarting streams for network reachability change."),await async function(d){const p=__PRIVATE_debugCast(d);p.W_.add(4),await __PRIVATE_disableNetworkInternal(p),p.j_.set("Unknown"),p.W_.delete(4),await __PRIVATE_enableNetworkInternal(p)}(this))})}),this.j_=new __PRIVATE_OnlineStateTracker(i,o)}}async function __PRIVATE_enableNetworkInternal(t){if(__PRIVATE_canUseNetwork(t))for(const e of t.G_)await e(!0)}async function __PRIVATE_disableNetworkInternal(t){for(const e of t.G_)await e(!1)}function __PRIVATE_remoteStoreListen(t,e){const n=__PRIVATE_debugCast(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),__PRIVATE_shouldStartWatchStream(n)?__PRIVATE_startWatchStream(n):__PRIVATE_ensureWatchStream(n).c_()&&__PRIVATE_sendWatchRequest(n,e))}function __PRIVATE_remoteStoreUnlisten(t,e){const n=__PRIVATE_debugCast(t),i=__PRIVATE_ensureWatchStream(n);n.U_.delete(e),i.c_()&&__PRIVATE_sendUnwatchRequest(n,e),n.U_.size===0&&(i.c_()?i.P_():__PRIVATE_canUseNetwork(n)&&n.j_.set("Unknown"))}function __PRIVATE_sendWatchRequest(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}__PRIVATE_ensureWatchStream(t).y_(e)}function __PRIVATE_sendUnwatchRequest(t,e){t.H_.Ne(e),__PRIVATE_ensureWatchStream(t).w_(e)}function __PRIVATE_startWatchStream(t){t.H_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(t).start(),t.j_.B_()}function __PRIVATE_shouldStartWatchStream(t){return __PRIVATE_canUseNetwork(t)&&!__PRIVATE_ensureWatchStream(t).u_()&&t.U_.size>0}function __PRIVATE_canUseNetwork(t){return __PRIVATE_debugCast(t).W_.size===0}function __PRIVATE_cleanUpWatchStreamState(t){t.H_=void 0}async function __PRIVATE_onWatchStreamConnected(t){t.j_.set("Online")}async function __PRIVATE_onWatchStreamOpen(t){t.U_.forEach((e,n)=>{__PRIVATE_sendWatchRequest(t,e)})}async function __PRIVATE_onWatchStreamClose(t,e){__PRIVATE_cleanUpWatchStreamState(t),__PRIVATE_shouldStartWatchStream(t)?(t.j_.q_(e),__PRIVATE_startWatchStream(t)):t.j_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(t,e,n){if(t.j_.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const f of l.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.U_.delete(f),o.H_.removeTarget(f))}(t,e)}catch(i){__PRIVATE_logDebug(zt,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await __PRIVATE_disableNetworkUntilRecovery(t,i)}else if(e instanceof __PRIVATE_DocumentWatchChange?t.H_.We(e):e instanceof __PRIVATE_ExistenceFilterChange?t.H_.Ze(e):t.H_.je(e),!n.isEqual(SnapshotVersion.min()))try{const i=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(t.localStore);n.compareTo(i)>=0&&await function(l,u){const f=l.H_.ot(u);return f.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.U_.get(p);g&&l.U_.set(p,g.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,p)=>{const g=l.U_.get(d);if(!g)return;l.U_.set(d,g.withResumeToken(ByteString.EMPTY_BYTE_STRING,g.snapshotVersion)),__PRIVATE_sendUnwatchRequest(l,d);const E=new TargetData(g.target,d,p,g.sequenceNumber);__PRIVATE_sendWatchRequest(l,E)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(i){__PRIVATE_logDebug(zt,"Failed to raise snapshot:",i),await __PRIVATE_disableNetworkUntilRecovery(t,i)}}async function __PRIVATE_disableNetworkUntilRecovery(t,e,n){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;t.W_.add(1),await __PRIVATE_disableNetworkInternal(t),t.j_.set("Offline"),n||(n=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug(zt,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await __PRIVATE_enableNetworkInternal(t)})}function __PRIVATE_executeWithRecovery(t,e){return e().catch(n=>__PRIVATE_disableNetworkUntilRecovery(t,n,e))}async function __PRIVATE_fillWritePipeline(t){const e=__PRIVATE_debugCast(t),n=__PRIVATE_ensureWriteStream(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Q;for(;__PRIVATE_canAddToWritePipeline(e);)try{const o=await __PRIVATE_localStoreGetNextMutationBatch(e.localStore,i);if(o===null){e.K_.length===0&&n.P_();break}i=o.batchId,__PRIVATE_addToWritePipeline(e,o)}catch(o){await __PRIVATE_disableNetworkUntilRecovery(e,o)}__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}function __PRIVATE_canAddToWritePipeline(t){return __PRIVATE_canUseNetwork(t)&&t.K_.length<10}function __PRIVATE_addToWritePipeline(t,e){t.K_.push(e);const n=__PRIVATE_ensureWriteStream(t);n.c_()&&n.b_&&n.S_(e.mutations)}function __PRIVATE_shouldStartWriteStream(t){return __PRIVATE_canUseNetwork(t)&&!__PRIVATE_ensureWriteStream(t).u_()&&t.K_.length>0}function __PRIVATE_startWriteStream(t){__PRIVATE_ensureWriteStream(t).start()}async function __PRIVATE_onWriteStreamOpen(t){__PRIVATE_ensureWriteStream(t).C_()}async function __PRIVATE_onWriteHandshakeComplete(t){const e=__PRIVATE_ensureWriteStream(t);for(const n of t.K_)e.S_(n.mutations)}async function __PRIVATE_onMutationResult(t,e,n){const i=t.K_.shift(),o=MutationBatchResult.from(i,e,n);await __PRIVATE_executeWithRecovery(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await __PRIVATE_fillWritePipeline(t)}async function __PRIVATE_onWriteStreamClose(t,e){e&&__PRIVATE_ensureWriteStream(t).b_&&await async function(i,o){if(function(u){return __PRIVATE_isPermanentError(u)&&u!==C.ABORTED}(o.code)){const l=i.K_.shift();__PRIVATE_ensureWriteStream(i).h_(),await __PRIVATE_executeWithRecovery(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await __PRIVATE_fillWritePipeline(i)}}(t,e),__PRIVATE_shouldStartWriteStream(t)&&__PRIVATE_startWriteStream(t)}async function __PRIVATE_remoteStoreHandleCredentialChange(t,e){const n=__PRIVATE_debugCast(t);n.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(zt,"RemoteStore received new credentials");const i=__PRIVATE_canUseNetwork(n);n.W_.add(3),await __PRIVATE_disableNetworkInternal(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await __PRIVATE_enableNetworkInternal(n)}async function __PRIVATE_remoteStoreApplyPrimaryState(t,e){const n=__PRIVATE_debugCast(t);e?(n.W_.delete(2),await __PRIVATE_enableNetworkInternal(n)):e||(n.W_.add(2),await __PRIVATE_disableNetworkInternal(n),n.j_.set("Unknown"))}function __PRIVATE_ensureWatchStream(t){return t.J_||(t.J_=function(n,i,o){const l=__PRIVATE_debugCast(n);return l.M_(),new __PRIVATE_PersistentListenStream(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{xo:__PRIVATE_onWatchStreamConnected.bind(null,t),No:__PRIVATE_onWatchStreamOpen.bind(null,t),Lo:__PRIVATE_onWatchStreamClose.bind(null,t),p_:__PRIVATE_onWatchStreamChange.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),__PRIVATE_shouldStartWatchStream(t)?__PRIVATE_startWatchStream(t):t.j_.set("Unknown")):(await t.J_.stop(),__PRIVATE_cleanUpWatchStreamState(t))})),t.J_}function __PRIVATE_ensureWriteStream(t){return t.Y_||(t.Y_=function(n,i,o){const l=__PRIVATE_debugCast(n);return l.M_(),new __PRIVATE_PersistentWriteStream(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:__PRIVATE_onWriteStreamOpen.bind(null,t),Lo:__PRIVATE_onWriteStreamClose.bind(null,t),D_:__PRIVATE_onWriteHandshakeComplete.bind(null,t),v_:__PRIVATE_onMutationResult.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await __PRIVATE_fillWritePipeline(t)):(await t.Y_.stop(),t.K_.length>0&&(__PRIVATE_logDebug(zt,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(e,n,i,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,l){const u=Date.now()+i,f=new DelayedOperation(e,n,u,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(t,e){if(__PRIVATE_logError("AsyncQueue",`${e}: ${t}`),__PRIVATE_isIndexedDbTransactionError(t))return new FirestoreError(C.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{static emptySet(e){return new DocumentSet(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||DocumentKey.comparator(n.key,i.key):(n,i)=>DocumentKey.comparator(n.key,i.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap$1(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof DocumentSet)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new DocumentSet;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.Z_=new SortedMap$1(DocumentKey.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):fail():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class ViewSnapshot{constructor(e,n,i,o,l,u,f,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,l){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new ViewSnapshot(e,n,DocumentSet.emptySet(n),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const o=__PRIVATE_debugCast(n),l=o.queries;o.queries=__PRIVATE_newQueriesObjectMap(),l.forEach((u,f)=>{for(const d of f.ta)d.onError(i)})})(this,new FirestoreError(C.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(t=>__PRIVATE_canonifyQuery(t),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(t,e){const n=__PRIVATE_debugCast(t);let i=3;const o=e.query;let l=n.queries.get(o);l?!l.na()&&e.ra()&&(i=2):(l=new __PRIVATE_QueryListenersInfo,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(o,!0);break;case 1:l.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=__PRIVATE_wrapInUserErrorIfRecoverable(u,`Initialization of query '${__PRIVATE_stringifyQuery(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}async function __PRIVATE_eventManagerUnlisten(t,e){const n=__PRIVATE_debugCast(t),i=e.query;let o=3;const l=n.queries.get(i);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function __PRIVATE_eventManagerOnWatchChange(t,e){const n=__PRIVATE_debugCast(t);let i=!1;for(const o of e){const l=o.query,u=n.queries.get(l);if(u){for(const f of u.ta)f.oa(o)&&(i=!0);u.ea=o}}i&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}function __PRIVATE_eventManagerOnWatchError(t,e,n){const i=__PRIVATE_debugCast(t),o=i.queries.get(e);if(o)for(const l of o.ta)l.onError(n);i.queries.delete(e)}function __PRIVATE_raiseSnapshotsInSyncEvent(t){t.ia.forEach(e=>{e.next()})}var jt,Ht;(Ht=jt||(jt={}))._a="default",Ht.Cache="cache";class __PRIVATE_QueryListener{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jt.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.ya=__PRIVATE_newQueryComparator(e),this.wa=new DocumentSet(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new __PRIVATE_DocumentChangeSet,o=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((g,E)=>{const A=o.get(g),R=__PRIVATE_queryMatches(this.query,E)?E:null,I=!!A&&this.mutatedKeys.has(A.key),j=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let q=!1;A&&R?A.data.isEqual(R.data)?I!==j&&(i.track({type:3,doc:R}),q=!0):this.va(A,R)||(i.track({type:2,doc:R}),q=!0,(d&&this.ya(R,d)>0||p&&this.ya(R,p)<0)&&(f=!0)):!A&&R?(i.track({type:0,doc:R}),q=!0):A&&!R&&(i.track({type:1,doc:A}),q=!0,(d||p)&&(f=!0)),q&&(R?(u=u.add(R),l=j?l.add(g):l.delete(g)):(u=u.delete(g),l=l.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),l=l.delete(g.key),i.track({type:1,doc:g})}return{wa:u,Da:i,ls:f,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,E)=>function(R,I){const j=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return j(R)-j(I)}(g.type,E.type)||this.ya(g.doc,E.doc)),this.Ca(i),o=o!=null&&o;const f=n&&!o?this.Fa():[],d=this.pa.size===0&&this.current&&!o?1:0,p=d!==this.ga;return this.ga=d,u.length!==0||p?{snapshot:new ViewSnapshot(this.query,e.wa,l,u,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=__PRIVATE_documentKeySet(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new __PRIVATE_RemovedLimboDocument(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new __PRIVATE_AddedLimboDocument(i))}),n}Oa(e){this.fa=e.gs,this.pa=__PRIVATE_documentKeySet();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return ViewSnapshot.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jt="SyncEngine";class __PRIVATE_QueryView{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class LimboResolution{constructor(e){this.key=e,this.Ba=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,n,i,o,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new ObjectMap(f=>__PRIVATE_canonifyQuery(f),__PRIVATE_queryEquals),this.qa=new Map,this.Qa=new Set,this.$a=new SortedMap$1(DocumentKey.comparator),this.Ka=new Map,this.Ua=new __PRIVATE_ReferenceSet,this.Wa={},this.Ga=new Map,this.za=__PRIVATE_TargetIdGenerator.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function __PRIVATE_syncEngineListen(t,e,n=!0){const i=__PRIVATE_ensureWatchCallbacks(t);let o;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await __PRIVATE_allocateTargetAndMaybeListen(i,e,n,!0),o}async function __PRIVATE_triggerRemoteStoreListen(t,e){const n=__PRIVATE_ensureWatchCallbacks(t);await __PRIVATE_allocateTargetAndMaybeListen(n,e,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(t,e,n,i){const o=await __PRIVATE_localStoreAllocateTarget(t.localStore,__PRIVATE_queryToTarget(e)),l=o.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await __PRIVATE_initializeViewAndComputeSnapshot(t,e,l,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&__PRIVATE_remoteStoreListen(t.remoteStore,o),f}async function __PRIVATE_initializeViewAndComputeSnapshot(t,e,n,i,o){t.Ha=(E,A,R)=>async function(j,q,L,z){let U=q.view.Sa(L);U.ls&&(U=await __PRIVATE_localStoreExecuteQuery(j.localStore,q.query,!1).then(({documents:Y})=>q.view.Sa(Y,U)));const W=z&&z.targetChanges.get(q.targetId),H=z&&z.targetMismatches.get(q.targetId)!=null,Z=q.view.applyChanges(U,j.isPrimaryClient,W,H);return __PRIVATE_updateTrackedLimbos(j,q.targetId,Z.Ma),Z.snapshot}(t,E,A,R);const l=await __PRIVATE_localStoreExecuteQuery(t.localStore,e,!0),u=new __PRIVATE_View(e,l.gs),f=u.Sa(l.documents),d=TargetChange.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),p=u.applyChanges(f,t.isPrimaryClient,d);__PRIVATE_updateTrackedLimbos(t,n,p.Ma);const g=new __PRIVATE_QueryView(e,n,u);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function __PRIVATE_syncEngineUnlisten(t,e,n){const i=__PRIVATE_debugCast(t),o=i.ka.get(e),l=i.qa.get(o.targetId);if(l.length>1)return i.qa.set(o.targetId,l.filter(u=>!__PRIVATE_queryEquals(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await __PRIVATE_localStoreReleaseTarget(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&__PRIVATE_remoteStoreUnlisten(i.remoteStore,o.targetId),__PRIVATE_removeAndCleanupTarget(i,o.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(i,o.targetId),await __PRIVATE_localStoreReleaseTarget(i.localStore,o.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(t,e){const n=__PRIVATE_debugCast(t),i=n.ka.get(e),o=n.qa.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),__PRIVATE_remoteStoreUnlisten(n.remoteStore,i.targetId))}async function __PRIVATE_syncEngineWrite(t,e,n){const i=__PRIVATE_syncEngineEnsureWriteCallbacks(t);try{const o=await function(u,f){const d=__PRIVATE_debugCast(u),p=Timestamp.now(),g=f.reduce((R,I)=>R.add(I.key),__PRIVATE_documentKeySet());let E,A;return d.persistence.runTransaction("Locally write mutations","readwrite",R=>{let I=__PRIVATE_mutableDocumentMap(),j=__PRIVATE_documentKeySet();return d.ds.getEntries(R,g).next(q=>{I=q,I.forEach((L,z)=>{z.isValidDocument()||(j=j.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(R,I)).next(q=>{E=q;const L=[];for(const z of f){const U=__PRIVATE_mutationExtractBaseValue(z,E.get(z.key).overlayedDocument);U!=null&&L.push(new __PRIVATE_PatchMutation(z.key,U,__PRIVATE_extractFieldMask(U.value.mapValue),Precondition.exists(!0)))}return d.mutationQueue.addMutationBatch(R,p,L,f)}).next(q=>{A=q;const L=q.applyToLocalDocumentSet(E,j);return d.documentOverlayCache.saveOverlays(R,q.batchId,L)})}).then(()=>({batchId:A.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,f,d){let p=u.Wa[u.currentUser.toKey()];p||(p=new SortedMap$1(__PRIVATE_primitiveComparator)),p=p.insert(f,d),u.Wa[u.currentUser.toKey()]=p}(i,o.batchId,n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(i,o.changes),await __PRIVATE_fillWritePipeline(i.remoteStore)}catch(o){const l=__PRIVATE_wrapInUserErrorIfRecoverable(o,"Failed to persist write");n.reject(l)}}async function __PRIVATE_syncEngineApplyRemoteEvent(t,e){const n=__PRIVATE_debugCast(t);try{const i=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(n.localStore,e);e.targetChanges.forEach((o,l)=>{const u=n.Ka.get(l);u&&(__PRIVATE_hardAssert(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?__PRIVATE_hardAssert(u.Ba):o.removedDocuments.size>0&&(__PRIVATE_hardAssert(u.Ba),u.Ba=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,i,e)}catch(i){await __PRIVATE_ignoreIfPrimaryLeaseLoss(i)}}function __PRIVATE_syncEngineApplyOnlineStateChange(t,e,n){const i=__PRIVATE_debugCast(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.ka.forEach((l,u)=>{const f=u.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const d=__PRIVATE_debugCast(u);d.onlineState=f;let p=!1;d.queries.forEach((g,E)=>{for(const A of E.ta)A.sa(f)&&(p=!0)}),p&&__PRIVATE_raiseSnapshotsInSyncEvent(d)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function __PRIVATE_syncEngineRejectListen(t,e,n){const i=__PRIVATE_debugCast(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Ka.get(e),l=o&&o.key;if(l){let u=new SortedMap$1(DocumentKey.comparator);u=u.insert(l,MutableDocument.newNoDocument(l,SnapshotVersion.min()));const f=__PRIVATE_documentKeySet().add(l),d=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap$1(__PRIVATE_primitiveComparator),u,f);await __PRIVATE_syncEngineApplyRemoteEvent(i,d),i.$a=i.$a.remove(l),i.Ka.delete(e),__PRIVATE_pumpEnqueuedLimboResolutions(i)}else await __PRIVATE_localStoreReleaseTarget(i.localStore,e,!1).then(()=>__PRIVATE_removeAndCleanupTarget(i,e,n)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(t,e){const n=__PRIVATE_debugCast(t),i=e.batch.batchId;try{const o=await __PRIVATE_localStoreAcknowledgeBatch(n.localStore,e);__PRIVATE_processUserCallback(n,i,null),__PRIVATE_triggerPendingWritesCallbacks(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,o)}catch(o){await __PRIVATE_ignoreIfPrimaryLeaseLoss(o)}}async function __PRIVATE_syncEngineRejectFailedWrite(t,e,n){const i=__PRIVATE_debugCast(t);try{const o=await function(u,f){const d=__PRIVATE_debugCast(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,f).next(E=>(__PRIVATE_hardAssert(E!==null),g=E.keys(),d.mutationQueue.removeMutationBatch(p,E))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(i.localStore,e);__PRIVATE_processUserCallback(i,e,n),__PRIVATE_triggerPendingWritesCallbacks(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(i,o)}catch(o){await __PRIVATE_ignoreIfPrimaryLeaseLoss(o)}}function __PRIVATE_triggerPendingWritesCallbacks(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function __PRIVATE_processUserCallback(t,e,n){const i=__PRIVATE_debugCast(t);let o=i.Wa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function __PRIVATE_removeAndCleanupTarget(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(i=>{t.Ua.containsKey(i)||__PRIVATE_removeLimboTarget(t,i)})}function __PRIVATE_removeLimboTarget(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(__PRIVATE_remoteStoreUnlisten(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),__PRIVATE_pumpEnqueuedLimboResolutions(t))}function __PRIVATE_updateTrackedLimbos(t,e,n){for(const i of n)i instanceof __PRIVATE_AddedLimboDocument?(t.Ua.addReference(i.key,e),__PRIVATE_trackLimboChange(t,i)):i instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(Jt,"Document no longer in limbo: "+i.key),t.Ua.removeReference(i.key,e),t.Ua.containsKey(i.key)||__PRIVATE_removeLimboTarget(t,i.key)):fail()}function __PRIVATE_trackLimboChange(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(__PRIVATE_logDebug(Jt,"New document in limbo: "+n),t.Qa.add(i),__PRIVATE_pumpEnqueuedLimboResolutions(t))}function __PRIVATE_pumpEnqueuedLimboResolutions(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new DocumentKey(ResourcePath.fromString(e)),i=t.za.next();t.Ka.set(i,new LimboResolution(n)),t.$a=t.$a.insert(n,i),__PRIVATE_remoteStoreListen(t.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(n.path)),i,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.ae))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(t,e,n){const i=__PRIVATE_debugCast(t),o=[],l=[],u=[];i.ka.isEmpty()||(i.ka.forEach((f,d)=>{u.push(i.Ha(d,e,n).then(p=>{var g;if((p||n)&&i.isPrimaryClient){const E=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(d.targetId,E?"current":"not-current")}if(p){o.push(p);const E=__PRIVATE_LocalViewChanges.Yi(d.targetId,p);l.push(E)}}))}),await Promise.all(u),i.La.p_(o),await async function(d,p){const g=__PRIVATE_debugCast(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>PersistencePromise.forEach(p,A=>PersistencePromise.forEach(A.Hi,R=>g.persistence.referenceDelegate.addReference(E,A.targetId,R)).next(()=>PersistencePromise.forEach(A.Ji,R=>g.persistence.referenceDelegate.removeReference(E,A.targetId,R)))))}catch(E){if(!__PRIVATE_isIndexedDbTransactionError(E))throw E;__PRIVATE_logDebug(Ot,"Failed to update sequence numbers: "+E)}for(const E of p){const A=E.targetId;if(!E.fromCache){const R=g.Ts.get(A),I=R.snapshotVersion,j=R.withLastLimboFreeSnapshotVersion(I);g.Ts=g.Ts.insert(A,j)}}}(i.localStore,l))}async function __PRIVATE_syncEngineHandleCredentialChange(t,e){const n=__PRIVATE_debugCast(t);if(!n.currentUser.isEqual(e)){__PRIVATE_logDebug(Jt,"User change. New user:",e.toKey());const i=await __PRIVATE_localStoreHandleUserChange(n.localStore,e);n.currentUser=e,function(l,u){l.Ga.forEach(f=>{f.forEach(d=>{d.reject(new FirestoreError(C.CANCELLED,u))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,i.Rs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(t,e){const n=__PRIVATE_debugCast(t),i=n.Ka.get(e);if(i&&i.Ba)return __PRIVATE_documentKeySet().add(i.key);{let o=__PRIVATE_documentKeySet();const l=n.qa.get(e);if(!l)return o;for(const u of l){const f=n.ka.get(u);o=o.unionWith(f.view.ba)}return o}}function __PRIVATE_ensureWatchCallbacks(t){const e=__PRIVATE_debugCast(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,e),e.La.p_=__PRIVATE_eventManagerOnWatchChange.bind(null,e.eventManager),e.La.Ja=__PRIVATE_eventManagerOnWatchError.bind(null,e.eventManager),e}function __PRIVATE_syncEngineEnsureWriteCallbacks(t){const e=__PRIVATE_debugCast(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,e),e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}Xa(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.ri,this.serializer)}Za(e){return new __PRIVATE_MemorySharedClientState}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate);const i=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence(i=>__PRIVATE_MemoryLruDelegate.ri(i,n),this.serializer)}}class OnlineComponentProvider{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(e){const n=__PRIVATE_newSerializer(e.databaseInfo.databaseId),i=function(l){return new __PRIVATE_WebChannelConnection(l)}(e.databaseInfo);return function(l,u,f,d){return new __PRIVATE_DatastoreImpl(l,u,f,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,l,u,f){return new __PRIVATE_RemoteStoreImpl(i,o,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,n,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(e,n){return function(o,l,u,f,d,p,g){const E=new __PRIVATE_SyncEngineImpl(o,l,u,f,d,p);return g&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const l=__PRIVATE_debugCast(o);__PRIVATE_logDebug(zt,"RemoteStore shutting down."),l.W_.add(5),await __PRIVATE_disableNetworkInternal(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="FirestoreClient";class FirestoreClient{constructor(e,n,i,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{__PRIVATE_logDebug(Yt,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(__PRIVATE_logDebug(Yt,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=__PRIVATE_wrapInUserErrorIfRecoverable(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function __PRIVATE_setOfflineComponentProvider(t,e){t.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(Yt,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await __PRIVATE_localStoreHandleUserChange(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function __PRIVATE_setOnlineComponentProvider(t,e){t.asyncQueue.verifyOperationInProgress();const n=await __PRIVATE_ensureOfflineComponents(t);__PRIVATE_logDebug(Yt,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,o)),t._onlineComponents=e}async function __PRIVATE_ensureOfflineComponents(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){__PRIVATE_logDebug(Yt,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===C.FAILED_PRECONDITION||o.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+n),await __PRIVATE_setOfflineComponentProvider(t,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(Yt,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(t,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return t._offlineComponents}async function __PRIVATE_ensureOnlineComponents(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(__PRIVATE_logDebug(Yt,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(t,t._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(Yt,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(t,new OnlineComponentProvider))),t._onlineComponents}function __PRIVATE_getSyncEngine(t){return __PRIVATE_ensureOnlineComponents(t).then(e=>e.syncEngine)}async function __PRIVATE_getEventManager(t){const e=await __PRIVATE_ensureOnlineComponents(t),n=e.eventManager;return n.onListen=__PRIVATE_syncEngineListen.bind(null,e.syncEngine),n.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,e.syncEngine),n}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(t,e,n={}){const i=new __PRIVATE_Deferred;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,f,d,p){const g=new __PRIVATE_AsyncObserver({next:A=>{g.su(),u.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(l,E));const R=A.docs.has(f);!R&&A.fromCache?p.reject(new FirestoreError(C.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&d&&d.source==="server"?p.reject(new FirestoreError(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),E=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(f.path),g,{includeMetadataChanges:!0,Ta:!0});return __PRIVATE_eventManagerListen(l,E)}(await __PRIVATE_getEventManager(t),t.asyncQueue,e,n,i)),i.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(t,e,n={}){const i=new __PRIVATE_Deferred;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,f,d,p){const g=new __PRIVATE_AsyncObserver({next:A=>{g.su(),u.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(l,E)),A.fromCache&&d.source==="server"?p.reject(new FirestoreError(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),E=new __PRIVATE_QueryListener(f,g,{includeMetadataChanges:!0,Ta:!0});return __PRIVATE_eventManagerListen(l,E)}(await __PRIVATE_getEventManager(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(t,e,n){if(!n)throw new FirestoreError(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function __PRIVATE_validateIsNotUsedTogether(t,e,n,i){if(e===!0&&i===!0)throw new FirestoreError(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function __PRIVATE_validateDocumentPath(t){if(!DocumentKey.isDocumentKey(t))throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function __PRIVATE_validateCollectionPath(t){if(DocumentKey.isDocumentKey(t))throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function __PRIVATE_valueDescription(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fail()}function __PRIVATE_cast(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new FirestoreError(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=__PRIVATE_valueDescription(t);throw new FirestoreError(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="firestore.googleapis.com",en=!0;class FirestoreSettingsImpl{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new FirestoreError(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xt,this.ssl=en}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:en;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bt;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dt)throw new FirestoreError(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(i.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new FirestoreError(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Zt.get(n);i&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),Zt.delete(n),i.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(t,e,n,i={}){var o;const l=(t=__PRIVATE_cast(t,Firestore$1))._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;l.host!==Xt&&l.host!==f&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:i});if(!deepEqual$1(d,u)&&(t._setSettings(d),i.mockUserToken)){let p,g;if(typeof i.mockUserToken=="string")p=i.mockUserToken,g=User.MOCK_USER;else{p=createMockUserToken(i.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new FirestoreError(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new User(E)}t._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}}class CollectionReference extends Query{constructor(e,n,i){super(e,n,__PRIVATE_newQueryForPath(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}function collection(t,e,...n){if(t=getModularInstance(t),__PRIVATE_validateNonEmptyArgument("collection","path",e),t instanceof Firestore$1){const i=ResourcePath.fromString(e,...n);return __PRIVATE_validateCollectionPath(i),new CollectionReference(t,null,i)}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ResourcePath.fromString(e,...n));return __PRIVATE_validateCollectionPath(i),new CollectionReference(t.firestore,null,i)}}function doc(t,e,...n){if(t=getModularInstance(t),arguments.length===1&&(e=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",e),t instanceof Firestore$1){const i=ResourcePath.fromString(e,...n);return __PRIVATE_validateDocumentPath(i),new DocumentReference(t,null,new DocumentKey(i))}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ResourcePath.fromString(e,...n));return __PRIVATE_validateDocumentPath(i),new DocumentReference(t.firestore,t instanceof CollectionReference?t.converter:null,new DocumentKey(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.bu=()=>{const i=getDocument();i&&__PRIVATE_logDebug(tn,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=getDocument();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=getDocument();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new __PRIVATE_Deferred;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug(tn,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=DelayedOperation.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&fail()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Firestore extends Firestore$1{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(e),this._firestoreClient=void 0,await e}}}function getFirestore(t,e){const n=typeof t=="object"?t:getApp(),i=typeof t=="string"?t:rt,o=_getProvider(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=getDefaultEmulatorHostnameAndPort("firestore");l&&connectFirestoreEmulator(o,...l)}return o}function ensureFirestoreConfigured(t){if(t._terminated)throw new FirestoreError(C.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||__PRIVATE_configureFirestore(t),t._firestoreClient}function __PRIVATE_configureFirestore(t){var e,n,i;const o=t._freezeSettings(),l=function(f,d,p,g){return new DatabaseInfo(f,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new FirestoreClient(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(n){throw new FirestoreError(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new FirestoreError(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new FirestoreError(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=/^__.*__$/;class ParsedSetData{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,n,this.fieldTransforms):new __PRIVATE_SetMutation(e,this.data,n,this.fieldTransforms)}}class ParsedUpdateData{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function __PRIVATE_isWrite(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(e,n,i,o,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return __PRIVATE_createError(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Lu)&&rn.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||__PRIVATE_newSerializer(e)}ju(e,n,i,o=!1){return new __PRIVATE_ParseContextImpl({Lu:e,methodName:n,zu:i,path:FieldPath$1.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(t){const e=t._freezeSettings(),n=__PRIVATE_newSerializer(t._databaseId);return new __PRIVATE_UserDataReader(t._databaseId,!!e.ignoreUndefinedProperties,n)}function __PRIVATE_parseSetData(t,e,n,i,o,l={}){const u=t.ju(l.merge||l.mergeFields?2:0,e,n,o);__PRIVATE_validatePlainObject("Data must be an object, but it was:",u,i);const f=__PRIVATE_parseObject(i,u);let d,p;if(l.merge)d=new FieldMask(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const g=[];for(const E of l.mergeFields){const A=__PRIVATE_fieldPathFromArgument$1(e,E,n);if(!u.contains(A))throw new FirestoreError(C.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(g,A)||g.push(A)}d=new FieldMask(g),p=u.fieldTransforms.filter(E=>d.covers(E.field))}else d=null,p=u.fieldTransforms;return new ParsedSetData(new ObjectValue(f),d,p)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __PRIVATE_DeleteFieldValueImpl}}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform(e){return new FieldTransform(e.path,new __PRIVATE_ServerTimestampTransform)}isEqual(e){return e instanceof __PRIVATE_ServerTimestampFieldValueImpl}}function __PRIVATE_parseUpdateData(t,e,n,i){const o=t.ju(1,e,n);__PRIVATE_validatePlainObject("Data must be an object, but it was:",o,i);const l=[],u=ObjectValue.empty();forEach$1(i,(d,p)=>{const g=__PRIVATE_fieldPathFromDotSeparatedString(e,d,n);p=getModularInstance(p);const E=o.Ku(g);if(p instanceof __PRIVATE_DeleteFieldValueImpl)l.push(g);else{const A=__PRIVATE_parseData(p,E);A!=null&&(l.push(g),u.set(g,A))}});const f=new FieldMask(l);return new ParsedUpdateData(u,f,o.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(t,e,n,i,o,l){const u=t.ju(1,e,n),f=[__PRIVATE_fieldPathFromArgument$1(e,i,n)],d=[o];if(l.length%2!=0)throw new FirestoreError(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)f.push(__PRIVATE_fieldPathFromArgument$1(e,l[A])),d.push(l[A+1]);const p=[],g=ObjectValue.empty();for(let A=f.length-1;A>=0;--A)if(!__PRIVATE_fieldMaskContains(p,f[A])){const R=f[A];let I=d[A];I=getModularInstance(I);const j=u.Ku(R);if(I instanceof __PRIVATE_DeleteFieldValueImpl)p.push(R);else{const q=__PRIVATE_parseData(I,j);q!=null&&(p.push(R),g.set(R,q))}}const E=new FieldMask(p);return new ParsedUpdateData(g,E,u.fieldTransforms)}function __PRIVATE_parseQueryValue(t,e,n,i=!1){return __PRIVATE_parseData(n,t.ju(i?4:3,e))}function __PRIVATE_parseData(t,e){if(__PRIVATE_looksLikeJsonObject(t=getModularInstance(t)))return __PRIVATE_validatePlainObject("Unsupported field value:",e,t),__PRIVATE_parseObject(t,e);if(t instanceof FieldValue)return function(i,o){if(!__PRIVATE_isWrite(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const l=[];let u=0;for(const f of i){let d=__PRIVATE_parseData(f,o.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(t,e)}return function(i,o){if((i=getModularInstance(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return toNumber(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Timestamp.fromDate(i);return{timestampValue:toTimestamp(o.serializer,l)}}if(i instanceof Timestamp){const l=new Timestamp(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:toTimestamp(o.serializer,l)}}if(i instanceof GeoPoint)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(o.serializer,i._byteString)};if(i instanceof DocumentReference){const l=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:__PRIVATE_toResourceName(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof VectorValue)return function(u,f){return{mapValue:{fields:{[it]:{stringValue:_t},[at]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.Wu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(f.serializer,p)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${__PRIVATE_valueDescription(i)}`)}(t,e)}function __PRIVATE_parseObject(t,e){const n={};return isEmpty(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):forEach$1(t,(i,o)=>{const l=__PRIVATE_parseData(o,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function __PRIVATE_looksLikeJsonObject(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Timestamp||t instanceof GeoPoint||t instanceof Bytes||t instanceof DocumentReference||t instanceof FieldValue||t instanceof VectorValue)}function __PRIVATE_validatePlainObject(t,e,n){if(!__PRIVATE_looksLikeJsonObject(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=__PRIVATE_valueDescription(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function __PRIVATE_fieldPathFromArgument$1(t,e,n){if((e=getModularInstance(e))instanceof FieldPath)return e._internalPath;if(typeof e=="string")return __PRIVATE_fieldPathFromDotSeparatedString(t,e);throw __PRIVATE_createError("Field path arguments must be of type string or ",t,!1,void 0,n)}const sn=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(t,e,n){if(e.search(sn)>=0)throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new FieldPath(...e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function __PRIVATE_createError(t,e,n,i,o){const l=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${i}`),u&&(d+=` in document ${o}`),d+=")"),new FirestoreError(C.INVALID_ARGUMENT,f+t+d)}function __PRIVATE_fieldMaskContains(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(e,n,i,o,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(t,e){return typeof e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(t,e):e instanceof FieldPath?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new FirestoreError(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(t,e,...n){let i=[];e instanceof AppliableConstraint&&i.push(e),i=i.concat(n),function(l){const u=l.filter(d=>d instanceof QueryCompositeFilterConstraint).length,f=l.filter(d=>d instanceof QueryFieldFilterConstraint).length;if(u>1||u>0&&f>0)throw new FirestoreError(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)t=o._apply(t);return t}class QueryFieldFilterConstraint extends QueryConstraint{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new QueryFieldFilterConstraint(e,n,i)}_apply(e){const n=this._parse(e);return __PRIVATE_validateNewFieldFilter(e._query,n),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,n))}_parse(e){const n=__PRIVATE_newUserDataReader(e.firestore);return function(l,u,f,d,p,g,E){let A;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(E,g);const I=[];for(const j of E)I.push(__PRIVATE_parseDocumentIdValue(d,l,j));A={arrayValue:{values:I}}}else A=__PRIVATE_parseDocumentIdValue(d,l,E)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(E,g),A=__PRIVATE_parseQueryValue(f,u,E,g==="in"||g==="not-in");return FieldFilter.create(p,g,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function where(t,e,n){const i=e,o=__PRIVATE_fieldPathFromArgument("where",t);return QueryFieldFilterConstraint._create(o,i,n)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new QueryCompositeFilterConstraint(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:CompositeFilter.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,l){let u=o;const f=l.getFlattenedFilters();for(const d of f)__PRIVATE_validateNewFieldFilter(u,d),u=__PRIVATE_queryWithAddedFilter(u,d)}(e._query,n),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new QueryOrderByConstraint(e,n)}_apply(e){const n=function(o,l,u){if(o.startAt!==null)throw new FirestoreError(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new FirestoreError(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(l,u)}(e._query,this._field,this._direction);return new Query(e.firestore,e.converter,function(o,l){const u=o.explicitOrderBy.concat([l]);return new __PRIVATE_QueryImpl(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function orderBy(t,e="asc"){const n=e,i=__PRIVATE_fieldPathFromArgument("orderBy",t);return QueryOrderByConstraint._create(i,n)}function __PRIVATE_parseDocumentIdValue(t,e,n){if(typeof(n=getModularInstance(n))=="string"){if(n==="")throw new FirestoreError(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(e)&&n.indexOf("/")!==-1)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ResourcePath.fromString(n));if(!DocumentKey.isDocumentKey(i))throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return __PRIVATE_refValue(t,new DocumentKey(i))}if(n instanceof DocumentReference)return __PRIVATE_refValue(t,n._key);throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(n)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(t,e){if(!Array.isArray(t)||t.length===0)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(t,e){const n=function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(e,n="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fail()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return forEach$1(e,(o,l)=>{i[o]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,o;const l=(o=(i=(n=e.fields)===null||n===void 0?void 0:n[at].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>__PRIVATE_normalizeNumber(u.doubleValue));return new VectorValue(l)}convertGeoPoint(e){return new GeoPoint(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=__PRIVATE_getPreviousValue(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const n=__PRIVATE_normalizeTimestamp(e);return new Timestamp(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ResourcePath.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(i));const o=new DatabaseId(i.get(1),i.get(3)),l=new DocumentKey(i.popFirst(5));return o.isEqual(n)||__PRIVATE_logError(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,n,i,o,l,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}class QuerySnapshot{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new SnapshotMetadata(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,i.key,i,new SnapshotMetadata(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const d=new QueryDocumentSnapshot(o._firestore,o._userDataWriter,f.doc.key,f.doc,new SnapshotMetadata(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const d=new QueryDocumentSnapshot(o._firestore,o._userDataWriter,f.doc.key,f.doc,new SnapshotMetadata(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),g=u.indexOf(f.doc.key)),{type:__PRIVATE_resultChangeType(f.type),doc:d,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function __PRIVATE_resultChangeType(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(t){t=__PRIVATE_cast(t,DocumentReference);const e=__PRIVATE_cast(t.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(e),t._key).then(n=>__PRIVATE_convertToDocSnapshot(e,t,n))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,n)}}function getDocs(t){t=__PRIVATE_cast(t,Query);const e=__PRIVATE_cast(t.firestore,Firestore),n=ensureFirestoreConfigured(e),i=new __PRIVATE_ExpUserDataWriter(e);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(t._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(n,t._query).then(o=>new QuerySnapshot(e,i,t,o))}function setDoc(t,e,n){t=__PRIVATE_cast(t,DocumentReference);const i=__PRIVATE_cast(t.firestore,Firestore),o=__PRIVATE_applyFirestoreDataConverter(t.converter,e);return executeWrite(i,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Precondition.none())])}function updateDoc(t,e,n,...i){t=__PRIVATE_cast(t,DocumentReference);const o=__PRIVATE_cast(t.firestore,Firestore),l=__PRIVATE_newUserDataReader(o);let u;return u=typeof(e=getModularInstance(e))=="string"||e instanceof FieldPath?__PRIVATE_parseUpdateVarargs(l,"updateDoc",t._key,e,n,i):__PRIVATE_parseUpdateData(l,"updateDoc",t._key,e),executeWrite(o,[u.toMutation(t._key,Precondition.exists(!0))])}function addDoc(t,e){const n=__PRIVATE_cast(t.firestore,Firestore),i=doc(t),o=__PRIVATE_applyFirestoreDataConverter(t.converter,e);return executeWrite(n,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,Precondition.exists(!1))]).then(()=>i)}function executeWrite(t,e){return function(i,o){const l=new __PRIVATE_Deferred;return i.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(i),o,l)),l.promise}(ensureFirestoreConfigured(t),e)}function __PRIVATE_convertToDocSnapshot(t,e,n){const i=n.docs.get(e._key),o=new __PRIVATE_ExpUserDataWriter(t);return new DocumentSnapshot(t,o,e._key,i,new SnapshotMetadata(n.hasPendingWrites,n.fromCache),e.converter)}function serverTimestamp$1(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}(function(e,n=!0){(function(o){D=o})(SDK_VERSION$1),_registerComponent(new Component("firestore",(i,{instanceIdentifier:o,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(i.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(u,i.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new FirestoreError(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(p.options.projectId,g)}(u,o),u);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),registerVersion(b,S,e),registerVersion(b,S,"esm2017")})();const firebaseConfig={apiKey:void 0,authDomain:void 0,databaseURL:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,function(module,exports){typeof navigator<"u"&&function(t,e){module.exports=e()}(lottie$1,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var n,i=t.length,o;for(n=0;n<i;n+=1){o=t[n].prototype;for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e.prototype[l]=o[l])}}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(n){this.audios.push(n)},pause:function(){var n,i=this.audios.length;for(n=0;n<i;n+=1)this.audios[n].pause()},resume:function(){var n,i=this.audios.length;for(n=0;n<i;n+=1)this.audios[n].resume()},setRate:function(n){var i,o=this.audios.length;for(i=0;i<o;i+=1)this.audios[i].setRate(n)},createAudio:function(n){return this.audioFactory?this.audioFactory(n):window.Howl?new window.Howl({src:[n]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(n){this.audioFactory=n},setVolume:function(n){this._volume=n,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var n,i=this.audios.length;for(n=0;n<i;n+=1)this.audios[n].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(n,i){var o=0,l=[],u;switch(n){case"int16":case"uint8c":u=1;break;default:u=1.1;break}for(o=0;o<i;o+=1)l.push(u);return l}function e(n,i){return n==="float32"?new Float32Array(i):n==="int16"?new Int16Array(i):n==="uint8c"?new Uint8ClampedArray(i):t(n,i)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(n){return typeof n}:_typeof$6=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,n=t.length;for(e=0;e<n;e+=1)BMMath[t[e]]=Math[t[e]]})(),BMMath.random=Math.random,BMMath.abs=function(t){var e=_typeof$6(t);if(e==="object"&&t.length){var n=createSizedArray(t.length),i,o=t.length;for(i=0;i<o;i+=1)n[i]=Math.abs(t[i]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,i){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=i<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,i){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=i<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}}();function HSVtoRGB(t,e,n){var i,o,l,u,f,d,p,g;switch(u=Math.floor(t*6),f=t*6-u,d=n*(1-e),p=n*(1-f*e),g=n*(1-(1-f)*e),u%6){case 0:i=n,o=g,l=d;break;case 1:i=p,o=n,l=d;break;case 2:i=d,o=n,l=g;break;case 3:i=d,o=p,l=n;break;case 4:i=g,o=d,l=n;break;case 5:i=n,o=d,l=p;break}return[i,o,l]}function RGBtoHSV(t,e,n){var i=Math.max(t,e,n),o=Math.min(t,e,n),l=i-o,u,f=i===0?0:l/i,d=i/255;switch(i){case o:u=0;break;case t:u=e-n+l*(e<n?6:0),u/=6*l;break;case e:u=n-t+l*2,u/=6*l;break;case n:u=t-e+l*4,u/=6*l;break}return[u,f,d]}function addSaturationToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t=[],e,n;for(e=0;e<256;e+=1)n=e.toString(16),t[e]=n.length===1?"0"+n:n;return function(i,o,l){return i<0&&(i=0),o<0&&(o=0),l<0&&(l=0),"#"+t[i]+t[o]+t[l]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(n){return typeof n}:_typeof$5=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$5(t)}var dataManager=function(){var t=1,e=[],n,i,o={onmessage:function(){},postMessage:function(R){n({data:R})}},l={postMessage:function(R){o.onmessage({data:R})}};function u(A){if(window.Worker&&window.Blob&&getWebWorker()){var R=new Blob(["var _workerSelf = self; self.onmessage = ",A.toString()],{type:"text/javascript"}),I=URL.createObjectURL(R);return new Worker(I)}return n=A,o}function f(){i||(i=u(function(R){function I(){function q(ge,ce){var me,ee,ie=ge.length,oe,de,xe,Ee;for(ee=0;ee<ie;ee+=1)if(me=ge[ee],"ks"in me&&!me.completed){if(me.completed=!0,me.hasMask){var Ae=me.masksProperties;for(de=Ae.length,oe=0;oe<de;oe+=1)if(Ae[oe].pt.k.i)H(Ae[oe].pt.k);else for(Ee=Ae[oe].pt.k.length,xe=0;xe<Ee;xe+=1)Ae[oe].pt.k[xe].s&&H(Ae[oe].pt.k[xe].s[0]),Ae[oe].pt.k[xe].e&&H(Ae[oe].pt.k[xe].e[0])}me.ty===0?(me.layers=U(me.refId,ce),q(me.layers,ce)):me.ty===4?W(me.shapes):me.ty===5&&fe(me)}}function L(ge,ce){if(ge){var me=0,ee=ge.length;for(me=0;me<ee;me+=1)ge[me].t===1&&(ge[me].data.layers=U(ge[me].data.refId,ce),q(ge[me].data.layers,ce))}}function z(ge,ce){for(var me=0,ee=ce.length;me<ee;){if(ce[me].id===ge)return ce[me];me+=1}return null}function U(ge,ce){var me=z(ge,ce);return me?me.layers.__used?JSON.parse(JSON.stringify(me.layers)):(me.layers.__used=!0,me.layers):null}function W(ge){var ce,me=ge.length,ee,ie;for(ce=me-1;ce>=0;ce-=1)if(ge[ce].ty==="sh")if(ge[ce].ks.k.i)H(ge[ce].ks.k);else for(ie=ge[ce].ks.k.length,ee=0;ee<ie;ee+=1)ge[ce].ks.k[ee].s&&H(ge[ce].ks.k[ee].s[0]),ge[ce].ks.k[ee].e&&H(ge[ce].ks.k[ee].e[0]);else ge[ce].ty==="gr"&&W(ge[ce].it)}function H(ge){var ce,me=ge.i.length;for(ce=0;ce<me;ce+=1)ge.i[ce][0]+=ge.v[ce][0],ge.i[ce][1]+=ge.v[ce][1],ge.o[ce][0]+=ge.v[ce][0],ge.o[ce][1]+=ge.v[ce][1]}function Z(ge,ce){var me=ce?ce.split("."):[100,100,100];return ge[0]>me[0]?!0:me[0]>ge[0]?!1:ge[1]>me[1]?!0:me[1]>ge[1]?!1:ge[2]>me[2]?!0:me[2]>ge[2]?!1:null}var Y=function(){var ge=[4,4,14];function ce(ee){var ie=ee.t.d;ee.t.d={k:[{s:ie,t:0}]}}function me(ee){var ie,oe=ee.length;for(ie=0;ie<oe;ie+=1)ee[ie].ty===5&&ce(ee[ie])}return function(ee){if(Z(ge,ee.v)&&(me(ee.layers),ee.assets)){var ie,oe=ee.assets.length;for(ie=0;ie<oe;ie+=1)ee.assets[ie].layers&&me(ee.assets[ie].layers)}}}(),J=function(){var ge=[4,7,99];return function(ce){if(ce.chars&&!Z(ge,ce.v)){var me,ee=ce.chars.length;for(me=0;me<ee;me+=1){var ie=ce.chars[me];ie.data&&ie.data.shapes&&(W(ie.data.shapes),ie.data.ip=0,ie.data.op=99999,ie.data.st=0,ie.data.sr=1,ie.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},ce.chars[me].t||(ie.data.shapes.push({ty:"no"}),ie.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),ne=function(){var ge=[5,7,15];function ce(ee){var ie=ee.t.p;typeof ie.a=="number"&&(ie.a={a:0,k:ie.a}),typeof ie.p=="number"&&(ie.p={a:0,k:ie.p}),typeof ie.r=="number"&&(ie.r={a:0,k:ie.r})}function me(ee){var ie,oe=ee.length;for(ie=0;ie<oe;ie+=1)ee[ie].ty===5&&ce(ee[ie])}return function(ee){if(Z(ge,ee.v)&&(me(ee.layers),ee.assets)){var ie,oe=ee.assets.length;for(ie=0;ie<oe;ie+=1)ee.assets[ie].layers&&me(ee.assets[ie].layers)}}}(),ae=function(){var ge=[4,1,9];function ce(ee){var ie,oe=ee.length,de,xe;for(ie=0;ie<oe;ie+=1)if(ee[ie].ty==="gr")ce(ee[ie].it);else if(ee[ie].ty==="fl"||ee[ie].ty==="st")if(ee[ie].c.k&&ee[ie].c.k[0].i)for(xe=ee[ie].c.k.length,de=0;de<xe;de+=1)ee[ie].c.k[de].s&&(ee[ie].c.k[de].s[0]/=255,ee[ie].c.k[de].s[1]/=255,ee[ie].c.k[de].s[2]/=255,ee[ie].c.k[de].s[3]/=255),ee[ie].c.k[de].e&&(ee[ie].c.k[de].e[0]/=255,ee[ie].c.k[de].e[1]/=255,ee[ie].c.k[de].e[2]/=255,ee[ie].c.k[de].e[3]/=255);else ee[ie].c.k[0]/=255,ee[ie].c.k[1]/=255,ee[ie].c.k[2]/=255,ee[ie].c.k[3]/=255}function me(ee){var ie,oe=ee.length;for(ie=0;ie<oe;ie+=1)ee[ie].ty===4&&ce(ee[ie].shapes)}return function(ee){if(Z(ge,ee.v)&&(me(ee.layers),ee.assets)){var ie,oe=ee.assets.length;for(ie=0;ie<oe;ie+=1)ee.assets[ie].layers&&me(ee.assets[ie].layers)}}}(),se=function(){var ge=[4,4,18];function ce(ee){var ie,oe=ee.length,de,xe;for(ie=oe-1;ie>=0;ie-=1)if(ee[ie].ty==="sh")if(ee[ie].ks.k.i)ee[ie].ks.k.c=ee[ie].closed;else for(xe=ee[ie].ks.k.length,de=0;de<xe;de+=1)ee[ie].ks.k[de].s&&(ee[ie].ks.k[de].s[0].c=ee[ie].closed),ee[ie].ks.k[de].e&&(ee[ie].ks.k[de].e[0].c=ee[ie].closed);else ee[ie].ty==="gr"&&ce(ee[ie].it)}function me(ee){var ie,oe,de=ee.length,xe,Ee,Ae,Ce;for(oe=0;oe<de;oe+=1){if(ie=ee[oe],ie.hasMask){var Oe=ie.masksProperties;for(Ee=Oe.length,xe=0;xe<Ee;xe+=1)if(Oe[xe].pt.k.i)Oe[xe].pt.k.c=Oe[xe].cl;else for(Ce=Oe[xe].pt.k.length,Ae=0;Ae<Ce;Ae+=1)Oe[xe].pt.k[Ae].s&&(Oe[xe].pt.k[Ae].s[0].c=Oe[xe].cl),Oe[xe].pt.k[Ae].e&&(Oe[xe].pt.k[Ae].e[0].c=Oe[xe].cl)}ie.ty===4&&ce(ie.shapes)}}return function(ee){if(Z(ge,ee.v)&&(me(ee.layers),ee.assets)){var ie,oe=ee.assets.length;for(ie=0;ie<oe;ie+=1)ee.assets[ie].layers&&me(ee.assets[ie].layers)}}}();function ue(ge){ge.__complete||(ae(ge),Y(ge),J(ge),ne(ge),se(ge),q(ge.layers,ge.assets),L(ge.chars,ge.assets),ge.__complete=!0)}function fe(ge){ge.t.a.length===0&&"m"in ge.t.p}var _e={};return _e.completeData=ue,_e.checkColors=ae,_e.checkChars=J,_e.checkPathProperties=ne,_e.checkShapes=se,_e.completeLayers=q,_e}if(l.dataManager||(l.dataManager=I()),l.assetLoader||(l.assetLoader=function(){function q(z){var U=z.getResponseHeader("content-type");return U&&z.responseType==="json"&&U.indexOf("json")!==-1||z.response&&_typeof$5(z.response)==="object"?z.response:z.response&&typeof z.response=="string"?JSON.parse(z.response):z.responseText?JSON.parse(z.responseText):null}function L(z,U,W,H){var Z,Y=new XMLHttpRequest;try{Y.responseType="json"}catch{}Y.onreadystatechange=function(){if(Y.readyState===4)if(Y.status===200)Z=q(Y),W(Z);else try{Z=q(Y),W(Z)}catch(J){H&&H(J)}};try{Y.open(["G","E","T"].join(""),z,!0)}catch{Y.open(["G","E","T"].join(""),U+"/"+z,!0)}Y.send()}return{load:L}}()),R.data.type==="loadAnimation")l.assetLoader.load(R.data.path,R.data.fullPath,function(q){l.dataManager.completeData(q),l.postMessage({id:R.data.id,payload:q,status:"success"})},function(){l.postMessage({id:R.data.id,status:"error"})});else if(R.data.type==="complete"){var j=R.data.animation;l.dataManager.completeData(j),l.postMessage({id:R.data.id,payload:j,status:"success"})}else R.data.type==="loadData"&&l.assetLoader.load(R.data.path,R.data.fullPath,function(q){l.postMessage({id:R.data.id,payload:q,status:"success"})},function(){l.postMessage({id:R.data.id,status:"error"})})}),i.onmessage=function(A){var R=A.data,I=R.id,j=e[I];e[I]=null,R.status==="success"?j.onComplete(R.payload):j.onError&&j.onError()})}function d(A,R){t+=1;var I="processId_"+t;return e[I]={onComplete:A,onError:R},I}function p(A,R,I){f();var j=d(R,I);i.postMessage({type:"loadAnimation",path:A,fullPath:window.location.origin+window.location.pathname,id:j})}function g(A,R,I){f();var j=d(R,I);i.postMessage({type:"loadData",path:A,fullPath:window.location.origin+window.location.pathname,id:j})}function E(A,R,I){f();var j=d(R,I);i.postMessage({type:"complete",animation:A,id:j})}return{loadAnimation:p,loadData:g,completeAnimation:E}}(),ImagePreloader=function(){var t=function(){var L=createTag("canvas");L.width=1,L.height=1;var z=L.getContext("2d");return z.fillStyle="rgba(0,0,0,0)",z.fillRect(0,0,1,1),L}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(L,z,U){var W="";if(L.e)W=L.p;else if(z){var H=L.p;H.indexOf("images/")!==-1&&(H=H.split("/")[1]),W=z+H}else W=U,W+=L.u?L.u:"",W+=L.p;return W}function o(L){var z=0,U=setInterval((function(){var W=L.getBBox();(W.width||z>500)&&(this._imageLoaded(),clearInterval(U)),z+=1}).bind(this),50)}function l(L){var z=i(L,this.assetsPath,this.path),U=createNS("image");isSafari?this.testImageLoaded(U):U.addEventListener("load",this._imageLoaded,!1),U.addEventListener("error",(function(){W.img=t,this._imageLoaded()}).bind(this),!1),U.setAttributeNS("http://www.w3.org/1999/xlink","href",z),this._elementHelper.append?this._elementHelper.append(U):this._elementHelper.appendChild(U);var W={img:U,assetData:L};return W}function u(L){var z=i(L,this.assetsPath,this.path),U=createTag("img");U.crossOrigin="anonymous",U.addEventListener("load",this._imageLoaded,!1),U.addEventListener("error",(function(){W.img=t,this._imageLoaded()}).bind(this),!1),U.src=z;var W={img:U,assetData:L};return W}function f(L){var z={assetData:L},U=i(L,this.assetsPath,this.path);return dataManager.loadData(U,(function(W){z.img=W,this._footageLoaded()}).bind(this),(function(){z.img={},this._footageLoaded()}).bind(this)),z}function d(L,z){this.imagesLoadedCb=z;var U,W=L.length;for(U=0;U<W;U+=1)L[U].layers||(!L[U].t||L[U].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(L[U]))):L[U].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(L[U]))))}function p(L){this.path=L||""}function g(L){this.assetsPath=L||""}function E(L){for(var z=0,U=this.images.length;z<U;){if(this.images[z].assetData===L)return this.images[z].img;z+=1}return null}function A(){this.imagesLoadedCb=null,this.images.length=0}function R(){return this.totalImages===this.loadedAssets}function I(){return this.totalFootages===this.loadedFootagesCount}function j(L,z){L==="svg"?(this._elementHelper=z,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function q(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=f.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return q.prototype={loadAssets:d,setAssetsPath:g,setPath:p,loadedImages:R,loadedFootages:I,destroy:A,getAsset:E,createImgData:u,createImageData:l,imageLoaded:e,footageLoaded:n,setCacheType:j},q}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,n){if(this._cbs[e])for(var i=this._cbs[e],o=0;o<i.length;o+=1)i[o](n)},addEventListener:function(e,n){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(n),(function(){this.removeEventListener(e,n)}).bind(this)},removeEventListener:function(e,n){if(!n)this._cbs[e]=null;else if(this._cbs[e]){for(var i=0,o=this._cbs[e].length;i<o;)this._cbs[e][i]===n&&(this._cbs[e].splice(i,1),i-=1,o-=1),i+=1;this._cbs[e].length||(this._cbs[e]=null)}}};var markerParser=function(){function t(e){for(var n=e.split(`\r
`),i={},o,l=0,u=0;u<n.length;u+=1)o=n[u].split(":"),o.length===2&&(i[o[0]]=o[1].trim(),l+=1);if(l===0)throw new Error;return i}return function(e){for(var n=[],i=0;i<e.length;i+=1){var o=e[i],l={time:o.tm,duration:o.dr};try{l.payload=JSON.parse(e[i].cm)}catch{try{l.payload=t(e[i].cm)}catch{l.payload={name:e[i].cm}}}n.push(l)}return n}}(),ProjectInterface=function(){function t(e){this.compositions.push(e)}return function(){function e(n){for(var i=0,o=this.compositions.length;i<o;){if(this.compositions[i].data&&this.compositions[i].data.nm===n)return this.compositions[i].prepareFrame&&this.compositions[i].data.xt&&this.compositions[i].prepareFrame(this.currentFrame),this.compositions[i].compInterface;i+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(e,n){renderers[e]=n};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(n){return typeof n}:_typeof$4=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var n=getRenderer(e);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(t,"autoloadSegments")?t.autoloadSegments:!0,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},i=t.attributes;n.path=i.getNamedItem("data-animation-path")?i.getNamedItem("data-animation-path").value:i.getNamedItem("data-bm-path")?i.getNamedItem("data-bm-path").value:i.getNamedItem("bm-path")?i.getNamedItem("bm-path").value:"",n.animType=i.getNamedItem("data-anim-type")?i.getNamedItem("data-anim-type").value:i.getNamedItem("data-bm-type")?i.getNamedItem("data-bm-type").value:i.getNamedItem("bm-type")?i.getNamedItem("bm-type").value:i.getNamedItem("data-bm-renderer")?i.getNamedItem("data-bm-renderer").value:i.getNamedItem("bm-renderer")?i.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var o=i.getNamedItem("data-anim-loop")?i.getNamedItem("data-anim-loop").value:i.getNamedItem("data-bm-loop")?i.getNamedItem("data-bm-loop").value:i.getNamedItem("bm-loop")?i.getNamedItem("bm-loop").value:"";o==="false"?n.loop=!1:o==="true"?n.loop=!0:o!==""&&(n.loop=parseInt(o,10));var l=i.getNamedItem("data-anim-autoplay")?i.getNamedItem("data-anim-autoplay").value:i.getNamedItem("data-bm-autoplay")?i.getNamedItem("data-bm-autoplay").value:i.getNamedItem("bm-autoplay")?i.getNamedItem("bm-autoplay").value:!0;n.autoplay=l!=="false",n.name=i.getNamedItem("data-name")?i.getNamedItem("data-name").value:i.getNamedItem("data-bm-name")?i.getNamedItem("data-bm-name").value:i.getNamedItem("bm-name")?i.getNamedItem("bm-name").value:"";var u=i.getNamedItem("data-anim-prerender")?i.getNamedItem("data-anim-prerender").value:i.getNamedItem("data-bm-prerender")?i.getNamedItem("data-bm-prerender").value:i.getNamedItem("bm-prerender")?i.getNamedItem("bm-prerender").value:"";u==="false"&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e=this.animationData.layers,n,i=e.length,o=t.layers,l,u=o.length;for(l=0;l<u;l+=1)for(n=0;n<i;){if(e[n].id===o[l].id){e[n]=o[l];break}n+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=t.assets.length,n=0;n<i;n+=1)this.animationData.assets.push(t.assets[n]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var n=typeof t=="number"?t:void 0,i=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(n,i)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if(e=this.markers[n],e.payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!(n&&this.name!==n)){var i=Number(t);if(isNaN(i)){var o=this.getMarkerData(t);o&&this.goToAndStop(o.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!(n&&this.name!==n)){var i=Number(t);if(isNaN(i)){var o=this.getMarkerData(t);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(i,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(n=!0,e=0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,n!==-1&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),_typeof$4(t[0])==="object"){var n,i=t.length;for(n=0;n<i;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return this.segments.length?(this.adjustSegment(this.segments.shift(),t),!0):!1},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;n.indexOf("images/")!==-1&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,n){try{var i=this.renderer.getElementByPath(t);i.updateDocumentData(e,n)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],n=0,i=0,o=0,l=!0,u=!1;function f(ce){for(var me=0,ee=ce.target;me<i;)e[me].animation===ee&&(e.splice(me,1),me-=1,i-=1,ee.isPaused||E()),me+=1}function d(ce,me){if(!ce)return null;for(var ee=0;ee<i;){if(e[ee].elem===ce&&e[ee].elem!==null)return e[ee].animation;ee+=1}var ie=new AnimationItem;return A(ie,ce),ie.setData(ce,me),ie}function p(){var ce,me=e.length,ee=[];for(ce=0;ce<me;ce+=1)ee.push(e[ce].animation);return ee}function g(){o+=1,ae()}function E(){o-=1}function A(ce,me){ce.addEventListener("destroy",f),ce.addEventListener("_active",g),ce.addEventListener("_idle",E),e.push({elem:me,animation:ce}),i+=1}function R(ce){var me=new AnimationItem;return A(me,null),me.setParams(ce),me}function I(ce,me){var ee;for(ee=0;ee<i;ee+=1)e[ee].animation.setSpeed(ce,me)}function j(ce,me){var ee;for(ee=0;ee<i;ee+=1)e[ee].animation.setDirection(ce,me)}function q(ce){var me;for(me=0;me<i;me+=1)e[me].animation.play(ce)}function L(ce){var me=ce-n,ee;for(ee=0;ee<i;ee+=1)e[ee].animation.advanceTime(me);n=ce,o&&!u?window.requestAnimationFrame(L):l=!0}function z(ce){n=ce,window.requestAnimationFrame(L)}function U(ce){var me;for(me=0;me<i;me+=1)e[me].animation.pause(ce)}function W(ce,me,ee){var ie;for(ie=0;ie<i;ie+=1)e[ie].animation.goToAndStop(ce,me,ee)}function H(ce){var me;for(me=0;me<i;me+=1)e[me].animation.stop(ce)}function Z(ce){var me;for(me=0;me<i;me+=1)e[me].animation.togglePause(ce)}function Y(ce){var me;for(me=i-1;me>=0;me-=1)e[me].animation.destroy(ce)}function J(ce,me,ee){var ie=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),oe,de=ie.length;for(oe=0;oe<de;oe+=1)ee&&ie[oe].setAttribute("data-bm-type",ee),d(ie[oe],ce);if(me&&de===0){ee||(ee="svg");var xe=document.getElementsByTagName("body")[0];xe.innerText="";var Ee=createTag("div");Ee.style.width="100%",Ee.style.height="100%",Ee.setAttribute("data-bm-type",ee),xe.appendChild(Ee),d(Ee,ce)}}function ne(){var ce;for(ce=0;ce<i;ce+=1)e[ce].animation.resize()}function ae(){!u&&o&&l&&(window.requestAnimationFrame(z),l=!1)}function se(){u=!0}function ue(){u=!1,ae()}function fe(ce,me){var ee;for(ee=0;ee<i;ee+=1)e[ee].animation.setVolume(ce,me)}function _e(ce){var me;for(me=0;me<i;me+=1)e[me].animation.mute(ce)}function ge(ce){var me;for(me=0;me<i;me+=1)e[me].animation.unmute(ce)}return t.registerAnimation=d,t.loadAnimation=R,t.setSpeed=I,t.setDirection=j,t.play=q,t.pause=U,t.stop=H,t.togglePause=Z,t.searchAnimations=J,t.resize=ne,t.goToAndStop=W,t.destroy=Y,t.freeze=se,t.unfreeze=ue,t.setVolume=fe,t.mute=_e,t.unmute=ge,t.getRegisteredAnimations=p,t}(),BezierFactory=function(){var t={};t.getBezierEasing=n;var e={};function n(z,U,W,H,Z){var Y=Z||("bez_"+z+"_"+U+"_"+W+"_"+H).replace(/\./g,"p");if(e[Y])return e[Y];var J=new L([z,U,W,H]);return e[Y]=J,J}var i=4,o=.001,l=1e-7,u=10,f=11,d=1/(f-1),p=typeof Float32Array=="function";function g(z,U){return 1-3*U+3*z}function E(z,U){return 3*U-6*z}function A(z){return 3*z}function R(z,U,W){return((g(U,W)*z+E(U,W))*z+A(U))*z}function I(z,U,W){return 3*g(U,W)*z*z+2*E(U,W)*z+A(U)}function j(z,U,W,H,Z){var Y,J,ne=0;do J=U+(W-U)/2,Y=R(J,H,Z)-z,Y>0?W=J:U=J;while(Math.abs(Y)>l&&++ne<u);return J}function q(z,U,W,H){for(var Z=0;Z<i;++Z){var Y=I(U,W,H);if(Y===0)return U;var J=R(U,W,H)-z;U-=J/Y}return U}function L(z){this._p=z,this._mSampleValues=p?new Float32Array(f):new Array(f),this._precomputed=!1,this.get=this.get.bind(this)}return L.prototype={get:function(U){var W=this._p[0],H=this._p[1],Z=this._p[2],Y=this._p[3];return this._precomputed||this._precompute(),W===H&&Z===Y?U:U===0?0:U===1?1:R(this._getTForX(U),H,Y)},_precompute:function(){var U=this._p[0],W=this._p[1],H=this._p[2],Z=this._p[3];this._precomputed=!0,(U!==W||H!==Z)&&this._calcSampleValues()},_calcSampleValues:function(){for(var U=this._p[0],W=this._p[2],H=0;H<f;++H)this._mSampleValues[H]=R(H*d,U,W)},_getTForX:function(U){for(var W=this._p[0],H=this._p[2],Z=this._mSampleValues,Y=0,J=1,ne=f-1;J!==ne&&Z[J]<=U;++J)Y+=d;--J;var ae=(U-Z[J])/(Z[J+1]-Z[J]),se=Y+ae*d,ue=I(se,W,H);return ue>=o?q(U,se,W,H):ue===0?se:j(U,Y,Y+d,W,H)}},t}(),pooling=function(){function t(e){return e.concat(createSizedArray(e.length))}return{double:t}}(),poolFactory=function(){return function(t,e,n){var i=0,o=t,l=createSizedArray(o),u={newElement:f,release:d};function f(){var p;return i?(i-=1,p=l[i]):p=e(),p}function d(p){i===o&&(l=pooling.double(l),o*=2),n&&n(p),l[i]=p,i+=1}return u}}(),bezierLengthPool=function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)}(),segmentsLengthPool=function(){function t(){return{lengths:[],totalLength:0}}function e(n){var i,o=n.lengths.length;for(i=0;i<o;i+=1)bezierLengthPool.release(n.lengths[i]);n.lengths.length=0}return poolFactory(8,t,e)}();function bezFunction(){var t=Math;function e(A,R,I,j,q,L){var z=A*j+R*q+I*L-q*j-L*A-I*R;return z>-.001&&z<.001}function n(A,R,I,j,q,L,z,U,W){if(I===0&&L===0&&W===0)return e(A,R,j,q,z,U);var H=t.sqrt(t.pow(j-A,2)+t.pow(q-R,2)+t.pow(L-I,2)),Z=t.sqrt(t.pow(z-A,2)+t.pow(U-R,2)+t.pow(W-I,2)),Y=t.sqrt(t.pow(z-j,2)+t.pow(U-q,2)+t.pow(W-L,2)),J;return H>Z?H>Y?J=H-Z-Y:J=Y-Z-H:Y>Z?J=Y-Z-H:J=Z-H-Y,J>-1e-4&&J<1e-4}var i=function(){return function(A,R,I,j){var q=getDefaultCurveSegments(),L,z,U,W,H,Z=0,Y,J=[],ne=[],ae=bezierLengthPool.newElement();for(U=I.length,L=0;L<q;L+=1){for(H=L/(q-1),Y=0,z=0;z<U;z+=1)W=bmPow(1-H,3)*A[z]+3*bmPow(1-H,2)*H*I[z]+3*(1-H)*bmPow(H,2)*j[z]+bmPow(H,3)*R[z],J[z]=W,ne[z]!==null&&(Y+=bmPow(J[z]-ne[z],2)),ne[z]=J[z];Y&&(Y=bmSqrt(Y),Z+=Y),ae.percents[L]=H,ae.lengths[L]=Z}return ae.addedLength=Z,ae}}();function o(A){var R=segmentsLengthPool.newElement(),I=A.c,j=A.v,q=A.o,L=A.i,z,U=A._length,W=R.lengths,H=0;for(z=0;z<U-1;z+=1)W[z]=i(j[z],j[z+1],q[z],L[z+1]),H+=W[z].addedLength;return I&&U&&(W[z]=i(j[z],j[0],q[z],L[0]),H+=W[z].addedLength),R.totalLength=H,R}function l(A){this.segmentLength=0,this.points=new Array(A)}function u(A,R){this.partialLength=A,this.point=R}var f=function(){var A={};return function(R,I,j,q){var L=(R[0]+"_"+R[1]+"_"+I[0]+"_"+I[1]+"_"+j[0]+"_"+j[1]+"_"+q[0]+"_"+q[1]).replace(/\./g,"p");if(!A[L]){var z=getDefaultCurveSegments(),U,W,H,Z,Y,J=0,ne,ae,se=null;R.length===2&&(R[0]!==I[0]||R[1]!==I[1])&&e(R[0],R[1],I[0],I[1],R[0]+j[0],R[1]+j[1])&&e(R[0],R[1],I[0],I[1],I[0]+q[0],I[1]+q[1])&&(z=2);var ue=new l(z);for(H=j.length,U=0;U<z;U+=1){for(ae=createSizedArray(H),Y=U/(z-1),ne=0,W=0;W<H;W+=1)Z=bmPow(1-Y,3)*R[W]+3*bmPow(1-Y,2)*Y*(R[W]+j[W])+3*(1-Y)*bmPow(Y,2)*(I[W]+q[W])+bmPow(Y,3)*I[W],ae[W]=Z,se!==null&&(ne+=bmPow(ae[W]-se[W],2));ne=bmSqrt(ne),J+=ne,ue.points[U]=new u(ne,ae),se=ae}ue.segmentLength=J,A[L]=ue}return A[L]}}();function d(A,R){var I=R.percents,j=R.lengths,q=I.length,L=bmFloor((q-1)*A),z=A*R.addedLength,U=0;if(L===q-1||L===0||z===j[L])return I[L];for(var W=j[L]>z?-1:1,H=!0;H;)if(j[L]<=z&&j[L+1]>z?(U=(z-j[L])/(j[L+1]-j[L]),H=!1):L+=W,L<0||L>=q-1){if(L===q-1)return I[L];H=!1}return I[L]+(I[L+1]-I[L])*U}function p(A,R,I,j,q,L){var z=d(q,L),U=1-z,W=t.round((U*U*U*A[0]+(z*U*U+U*z*U+U*U*z)*I[0]+(z*z*U+U*z*z+z*U*z)*j[0]+z*z*z*R[0])*1e3)/1e3,H=t.round((U*U*U*A[1]+(z*U*U+U*z*U+U*U*z)*I[1]+(z*z*U+U*z*z+z*U*z)*j[1]+z*z*z*R[1])*1e3)/1e3;return[W,H]}var g=createTypedArray("float32",8);function E(A,R,I,j,q,L,z){q<0?q=0:q>1&&(q=1);var U=d(q,z);L=L>1?1:L;var W=d(L,z),H,Z=A.length,Y=1-U,J=1-W,ne=Y*Y*Y,ae=U*Y*Y*3,se=U*U*Y*3,ue=U*U*U,fe=Y*Y*J,_e=U*Y*J+Y*U*J+Y*Y*W,ge=U*U*J+Y*U*W+U*Y*W,ce=U*U*W,me=Y*J*J,ee=U*J*J+Y*W*J+Y*J*W,ie=U*W*J+Y*W*W+U*J*W,oe=U*W*W,de=J*J*J,xe=W*J*J+J*W*J+J*J*W,Ee=W*W*J+J*W*W+W*J*W,Ae=W*W*W;for(H=0;H<Z;H+=1)g[H*4]=t.round((ne*A[H]+ae*I[H]+se*j[H]+ue*R[H])*1e3)/1e3,g[H*4+1]=t.round((fe*A[H]+_e*I[H]+ge*j[H]+ce*R[H])*1e3)/1e3,g[H*4+2]=t.round((me*A[H]+ee*I[H]+ie*j[H]+oe*R[H])*1e3)/1e3,g[H*4+3]=t.round((de*A[H]+xe*I[H]+Ee*j[H]+Ae*R[H])*1e3)/1e3;return g}return{getSegmentsLength:o,getNewSegment:E,getPointInSegment:p,buildBezierData:f,pointOnLine2D:e,pointOnLine3D:n}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var n=this.offsetTime,i;this.propType==="multidimensional"&&(i=createTypedArray("float32",this.pv.length));for(var o=e.lastIndex,l=o,u=this.keyframes.length-1,f=!0,d,p,g;f;){if(d=this.keyframes[l],p=this.keyframes[l+1],l===u-1&&t>=p.t-n){d.h&&(d=p),o=0;break}if(p.t-n>t){o=l;break}l<u-1?l+=1:(o=0,f=!1)}g=this.keyframesMetadata[l]||{};var E,A,R,I,j,q,L=p.t-n,z=d.t-n,U;if(d.to){g.bezierData||(g.bezierData=bez.buildBezierData(d.s,p.s||d.e,d.to,d.ti));var W=g.bezierData;if(t>=L||t<z){var H=t>=L?W.points.length-1:0;for(A=W.points[H].point.length,E=0;E<A;E+=1)i[E]=W.points[H].point[E]}else{g.__fnct?q=g.__fnct:(q=BezierFactory.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y,d.n).get,g.__fnct=q),R=q((t-z)/(L-z));var Z=W.segmentLength*R,Y,J=e.lastFrame<t&&e._lastKeyframeIndex===l?e._lastAddedLength:0;for(j=e.lastFrame<t&&e._lastKeyframeIndex===l?e._lastPoint:0,f=!0,I=W.points.length;f;){if(J+=W.points[j].partialLength,Z===0||R===0||j===W.points.length-1){for(A=W.points[j].point.length,E=0;E<A;E+=1)i[E]=W.points[j].point[E];break}else if(Z>=J&&Z<J+W.points[j+1].partialLength){for(Y=(Z-J)/W.points[j+1].partialLength,A=W.points[j].point.length,E=0;E<A;E+=1)i[E]=W.points[j].point[E]+(W.points[j+1].point[E]-W.points[j].point[E])*Y;break}j<I-1?j+=1:f=!1}e._lastPoint=j,e._lastAddedLength=J-W.points[j].partialLength,e._lastKeyframeIndex=l}}else{var ne,ae,se,ue,fe;if(u=d.s.length,U=p.s||d.e,this.sh&&d.h!==1)if(t>=L)i[0]=U[0],i[1]=U[1],i[2]=U[2];else if(t<=z)i[0]=d.s[0],i[1]=d.s[1],i[2]=d.s[2];else{var _e=createQuaternion(d.s),ge=createQuaternion(U),ce=(t-z)/(L-z);quaternionToEuler(i,slerp(_e,ge,ce))}else for(l=0;l<u;l+=1)d.h!==1&&(t>=L?R=1:t<z?R=0:(d.o.x.constructor===Array?(g.__fnct||(g.__fnct=[]),g.__fnct[l]?q=g.__fnct[l]:(ne=d.o.x[l]===void 0?d.o.x[0]:d.o.x[l],ae=d.o.y[l]===void 0?d.o.y[0]:d.o.y[l],se=d.i.x[l]===void 0?d.i.x[0]:d.i.x[l],ue=d.i.y[l]===void 0?d.i.y[0]:d.i.y[l],q=BezierFactory.getBezierEasing(ne,ae,se,ue).get,g.__fnct[l]=q)):g.__fnct?q=g.__fnct:(ne=d.o.x,ae=d.o.y,se=d.i.x,ue=d.i.y,q=BezierFactory.getBezierEasing(ne,ae,se,ue).get,d.keyframeMetadata=q),R=q((t-z)/(L-z)))),U=p.s||d.e,fe=d.h===1?d.s[l]:d.s[l]+(U[l]-d.s[l])*R,this.propType==="multidimensional"?i[l]=fe:i=fe}return e.lastIndex=o,i}function slerp(t,e,n){var i=[],o=t[0],l=t[1],u=t[2],f=t[3],d=e[0],p=e[1],g=e[2],E=e[3],A,R,I,j,q;return R=o*d+l*p+u*g+f*E,R<0&&(R=-R,d=-d,p=-p,g=-g,E=-E),1-R>1e-6?(A=Math.acos(R),I=Math.sin(A),j=Math.sin((1-n)*A)/I,q=Math.sin(n*A)/I):(j=1-n,q=n),i[0]=j*o+q*d,i[1]=j*l+q*p,i[2]=j*u+q*g,i[3]=j*f+q*E,i}function quaternionToEuler(t,e){var n=e[0],i=e[1],o=e[2],l=e[3],u=Math.atan2(2*i*l-2*n*o,1-2*i*i-2*o*o),f=Math.asin(2*n*i+2*o*l),d=Math.atan2(2*n*l-2*i*o,1-2*n*n-2*o*o);t[0]=u/degToRads,t[1]=f/degToRads,t[2]=d/degToRads}function createQuaternion(t){var e=t[0]*degToRads,n=t[1]*degToRads,i=t[2]*degToRads,o=Math.cos(e/2),l=Math.cos(n/2),u=Math.cos(i/2),f=Math.sin(e/2),d=Math.sin(n/2),p=Math.sin(i/2),g=o*l*u-f*d*p,E=f*d*u+o*l*p,A=f*l*u+o*d*p,R=o*d*u-f*l*p;return[E,A,R,g]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(t,this._caching);this.pv=i}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if(this.propType==="unidimensional")e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var n=0,i=this.v.length;n<i;)e=t[n]*this.mult,mathAbs(this.v[n]-e)>1e-5&&(this.v[n]=e,this._mdf=!0),n+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,n,i){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,n,i){this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var o,l=e.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),o=0;o<l;o+=1)this.v[o]=e.k[o]*this.mult,this.pv[o]=e.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,n,i){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=n||1,this.elem=t,this.container=i,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,n,i){this.propType="multidimensional";var o,l=e.k.length,u,f,d,p;for(o=0;o<l-1;o+=1)e.k[o].to&&e.k[o].s&&e.k[o+1]&&e.k[o+1].s&&(u=e.k[o].s,f=e.k[o+1].s,d=e.k[o].to,p=e.k[o].ti,(u.length===2&&!(u[0]===f[0]&&u[1]===f[1])&&bez.pointOnLine2D(u[0],u[1],f[0],f[1],u[0]+d[0],u[1]+d[1])&&bez.pointOnLine2D(u[0],u[1],f[0],f[1],f[0]+p[0],f[1]+p[1])||u.length===3&&!(u[0]===f[0]&&u[1]===f[1]&&u[2]===f[2])&&bez.pointOnLine3D(u[0],u[1],u[2],f[0],f[1],f[2],u[0]+d[0],u[1]+d[1],u[2]+d[2])&&bez.pointOnLine3D(u[0],u[1],u[2],f[0],f[1],f[2],f[0]+p[0],f[1]+p[1],f[2]+p[2]))&&(e.k[o].to=null,e.k[o].ti=null),u[0]===f[0]&&u[1]===f[1]&&d[0]===0&&d[1]===0&&p[0]===0&&p[1]===0&&(u.length===2||u[2]===f[2]&&d[2]===0&&p[2]===0)&&(e.k[o].to=null,e.k[o].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=i,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var g=e.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),o=0;o<g;o+=1)this.v[o]=initFrame,this.pv[o]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=addEffect}var PropertyFactory=function(){function t(n,i,o,l,u){i.sid&&(i=n.globalData.slotManager.getProp(i));var f;if(!i.k.length)f=new ValueProperty(n,i,l,u);else if(typeof i.k[0]=="number")f=new MultiDimensionalProperty(n,i,l,u);else switch(o){case 0:f=new KeyframedValueProperty(n,i,l,u);break;case 1:f=new KeyframedMultidimensionalProperty(n,i,l,u);break}return f.effectsSequence.length&&u.addDynamicProperty(f),f}var e={getProp:t};return e}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,n=this.dynamicProperties.length;for(e=0;e<n;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,i,o){var l;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":l=this.v;break;case"i":l=this.i;break;case"o":l=this.o;break;default:l=[];break}(!l[i]||l[i]&&!o)&&(l[i]=pointPool.newElement()),l[i][0]=t,l[i][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,i,o,l,u,f){this.setXYAt(t,e,"v",u,f),this.setXYAt(n,i,"o",u,f),this.setXYAt(o,l,"i",u,f)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,i=this.i,o=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],i[0][0],i[0][1],n[0][0],n[0][1],0,!1),o=1);var l=this._length-1,u=this._length,f;for(f=o;f<u;f+=1)t.setTripleAt(e[l][0],e[l][1],i[l][0],i[l][1],n[l][0],n[l][1],f,!1),l-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function t(){return new ShapePath}function e(o){var l=o._length,u;for(u=0;u<l;u+=1)pointPool.release(o.v[u]),pointPool.release(o.i[u]),pointPool.release(o.o[u]),o.v[u]=null,o.i[u]=null,o.o[u]=null;o._length=0,o.c=!1}function n(o){var l=i.newElement(),u,f=o._length===void 0?o.v.length:o._length;for(l.setLength(f),l.c=o.c,u=0;u<f;u+=1)l.setTripleAt(o.v[u][0],o.v[u][1],o.o[u][0],o.o[u][1],o.i[u][0],o.i[u][1],u);return l}var i=poolFactory(4,t,e);return i.clone=n,i}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=function(){var t={newShapeCollection:o,release:l},e=0,n=4,i=createSizedArray(n);function o(){var u;return e?(e-=1,u=i[e]):u=new ShapeCollection,u}function l(u){var f,d=u._length;for(f=0;f<d;f+=1)shapePool.release(u.shapes[f]);u._length=0,e===n&&(i=pooling.double(i),n*=2),i[e]=u,e+=1}return t}(),ShapePropertyFactory=function(){var t=-999999;function e(L,z,U){var W=U.lastIndex,H,Z,Y,J,ne,ae,se,ue,fe,_e=this.keyframes;if(L<_e[0].t-this.offsetTime)H=_e[0].s[0],Y=!0,W=0;else if(L>=_e[_e.length-1].t-this.offsetTime)H=_e[_e.length-1].s?_e[_e.length-1].s[0]:_e[_e.length-2].e[0],Y=!0;else{for(var ge=W,ce=_e.length-1,me=!0,ee,ie,oe;me&&(ee=_e[ge],ie=_e[ge+1],!(ie.t-this.offsetTime>L));)ge<ce-1?ge+=1:me=!1;if(oe=this.keyframesMetadata[ge]||{},Y=ee.h===1,W=ge,!Y){if(L>=ie.t-this.offsetTime)ue=1;else if(L<ee.t-this.offsetTime)ue=0;else{var de;oe.__fnct?de=oe.__fnct:(de=BezierFactory.getBezierEasing(ee.o.x,ee.o.y,ee.i.x,ee.i.y).get,oe.__fnct=de),ue=de((L-(ee.t-this.offsetTime))/(ie.t-this.offsetTime-(ee.t-this.offsetTime)))}Z=ie.s?ie.s[0]:ee.e[0]}H=ee.s[0]}for(ae=z._length,se=H.i[0].length,U.lastIndex=W,J=0;J<ae;J+=1)for(ne=0;ne<se;ne+=1)fe=Y?H.i[J][ne]:H.i[J][ne]+(Z.i[J][ne]-H.i[J][ne])*ue,z.i[J][ne]=fe,fe=Y?H.o[J][ne]:H.o[J][ne]+(Z.o[J][ne]-H.o[J][ne])*ue,z.o[J][ne]=fe,fe=Y?H.v[J][ne]:H.v[J][ne]+(Z.v[J][ne]-H.v[J][ne])*ue,z.v[J][ne]=fe}function n(){var L=this.comp.renderedFrame-this.offsetTime,z=this.keyframes[0].t-this.offsetTime,U=this.keyframes[this.keyframes.length-1].t-this.offsetTime,W=this._caching.lastFrame;return W!==t&&(W<z&&L<z||W>U&&L>U)||(this._caching.lastIndex=W<L?this._caching.lastIndex:0,this.interpolateShape(L,this.pv,this._caching)),this._caching.lastFrame=L,this.pv}function i(){this.paths=this.localShapeCollection}function o(L,z){if(L._length!==z._length||L.c!==z.c)return!1;var U,W=L._length;for(U=0;U<W;U+=1)if(L.v[U][0]!==z.v[U][0]||L.v[U][1]!==z.v[U][1]||L.o[U][0]!==z.o[U][0]||L.o[U][1]!==z.o[U][1]||L.i[U][0]!==z.i[U][0]||L.i[U][1]!==z.i[U][1])return!1;return!0}function l(L){o(this.v,L)||(this.v=shapePool.clone(L),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function u(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var L;this.kf?L=this.pv:this.data.ks?L=this.data.ks.k:L=this.data.pt.k;var z,U=this.effectsSequence.length;for(z=0;z<U;z+=1)L=this.effectsSequence[z](L);this.setVValue(L),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function f(L,z,U){this.propType="shape",this.comp=L.comp,this.container=L,this.elem=L,this.data=z,this.k=!1,this.kf=!1,this._mdf=!1;var W=U===3?z.pt.k:z.ks.k;this.v=shapePool.clone(W),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function d(L){this.effectsSequence.push(L),this.container.addDynamicProperty(this)}f.prototype.interpolateShape=e,f.prototype.getValue=u,f.prototype.setVValue=l,f.prototype.addEffect=d;function p(L,z,U){this.propType="shape",this.comp=L.comp,this.elem=L,this.container=L,this.offsetTime=L.data.st,this.keyframes=U===3?z.pt.k:z.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var W=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,W),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=i,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[n.bind(this)]}p.prototype.getValue=u,p.prototype.interpolateShape=e,p.prototype.setVValue=l,p.prototype.addEffect=d;var g=function(){var L=roundCorner;function z(U,W){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=W.d,this.elem=U,this.comp=U.comp,this.frameId=-1,this.initDynamicPropertyContainer(U),this.p=PropertyFactory.getProp(U,W.p,1,0,this),this.s=PropertyFactory.getProp(U,W.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return z.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var W=this.p.v[0],H=this.p.v[1],Z=this.s.v[0]/2,Y=this.s.v[1]/2,J=this.d!==3,ne=this.v;ne.v[0][0]=W,ne.v[0][1]=H-Y,ne.v[1][0]=J?W+Z:W-Z,ne.v[1][1]=H,ne.v[2][0]=W,ne.v[2][1]=H+Y,ne.v[3][0]=J?W-Z:W+Z,ne.v[3][1]=H,ne.i[0][0]=J?W-Z*L:W+Z*L,ne.i[0][1]=H-Y,ne.i[1][0]=J?W+Z:W-Z,ne.i[1][1]=H-Y*L,ne.i[2][0]=J?W+Z*L:W-Z*L,ne.i[2][1]=H+Y,ne.i[3][0]=J?W-Z:W+Z,ne.i[3][1]=H+Y*L,ne.o[0][0]=J?W+Z*L:W-Z*L,ne.o[0][1]=H-Y,ne.o[1][0]=J?W+Z:W-Z,ne.o[1][1]=H+Y*L,ne.o[2][0]=J?W-Z*L:W+Z*L,ne.o[2][1]=H+Y,ne.o[3][0]=J?W-Z:W+Z,ne.o[3][1]=H-Y*L}},extendPrototype([DynamicPropertyContainer],z),z}(),E=function(){function L(z,U){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=z,this.comp=z.comp,this.data=U,this.frameId=-1,this.d=U.d,this.initDynamicPropertyContainer(z),U.sy===1?(this.ir=PropertyFactory.getProp(z,U.ir,0,0,this),this.is=PropertyFactory.getProp(z,U.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(z,U.pt,0,0,this),this.p=PropertyFactory.getProp(z,U.p,1,0,this),this.r=PropertyFactory.getProp(z,U.r,0,degToRads,this),this.or=PropertyFactory.getProp(z,U.or,0,0,this),this.os=PropertyFactory.getProp(z,U.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return L.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var U=Math.floor(this.pt.v)*2,W=Math.PI*2/U,H=!0,Z=this.or.v,Y=this.ir.v,J=this.os.v,ne=this.is.v,ae=2*Math.PI*Z/(U*2),se=2*Math.PI*Y/(U*2),ue,fe,_e,ge,ce=-Math.PI/2;ce+=this.r.v;var me=this.data.d===3?-1:1;for(this.v._length=0,ue=0;ue<U;ue+=1){fe=H?Z:Y,_e=H?J:ne,ge=H?ae:se;var ee=fe*Math.cos(ce),ie=fe*Math.sin(ce),oe=ee===0&&ie===0?0:ie/Math.sqrt(ee*ee+ie*ie),de=ee===0&&ie===0?0:-ee/Math.sqrt(ee*ee+ie*ie);ee+=+this.p.v[0],ie+=+this.p.v[1],this.v.setTripleAt(ee,ie,ee-oe*ge*_e*me,ie-de*ge*_e*me,ee+oe*ge*_e*me,ie+de*ge*_e*me,ue,!0),H=!H,ce+=W*me}},convertPolygonToPath:function(){var U=Math.floor(this.pt.v),W=Math.PI*2/U,H=this.or.v,Z=this.os.v,Y=2*Math.PI*H/(U*4),J,ne=-Math.PI*.5,ae=this.data.d===3?-1:1;for(ne+=this.r.v,this.v._length=0,J=0;J<U;J+=1){var se=H*Math.cos(ne),ue=H*Math.sin(ne),fe=se===0&&ue===0?0:ue/Math.sqrt(se*se+ue*ue),_e=se===0&&ue===0?0:-se/Math.sqrt(se*se+ue*ue);se+=+this.p.v[0],ue+=+this.p.v[1],this.v.setTripleAt(se,ue,se-fe*Y*Z*ae,ue-_e*Y*Z*ae,se+fe*Y*Z*ae,ue+_e*Y*Z*ae,J,!0),ne+=W*ae}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],L),L}(),A=function(){function L(z,U){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=z,this.comp=z.comp,this.frameId=-1,this.d=U.d,this.initDynamicPropertyContainer(z),this.p=PropertyFactory.getProp(z,U.p,1,0,this),this.s=PropertyFactory.getProp(z,U.s,1,0,this),this.r=PropertyFactory.getProp(z,U.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return L.prototype={convertRectToPath:function(){var U=this.p.v[0],W=this.p.v[1],H=this.s.v[0]/2,Z=this.s.v[1]/2,Y=bmMin(H,Z,this.r.v),J=Y*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(U+H,W-Z+Y,U+H,W-Z+Y,U+H,W-Z+J,0,!0),this.v.setTripleAt(U+H,W+Z-Y,U+H,W+Z-J,U+H,W+Z-Y,1,!0),Y!==0?(this.v.setTripleAt(U+H-Y,W+Z,U+H-Y,W+Z,U+H-J,W+Z,2,!0),this.v.setTripleAt(U-H+Y,W+Z,U-H+J,W+Z,U-H+Y,W+Z,3,!0),this.v.setTripleAt(U-H,W+Z-Y,U-H,W+Z-Y,U-H,W+Z-J,4,!0),this.v.setTripleAt(U-H,W-Z+Y,U-H,W-Z+J,U-H,W-Z+Y,5,!0),this.v.setTripleAt(U-H+Y,W-Z,U-H+Y,W-Z,U-H+J,W-Z,6,!0),this.v.setTripleAt(U+H-Y,W-Z,U+H-J,W-Z,U+H-Y,W-Z,7,!0)):(this.v.setTripleAt(U-H,W+Z,U-H+J,W+Z,U-H,W+Z,2),this.v.setTripleAt(U-H,W-Z,U-H,W-Z+J,U-H,W-Z,3))):(this.v.setTripleAt(U+H,W-Z+Y,U+H,W-Z+J,U+H,W-Z+Y,0,!0),Y!==0?(this.v.setTripleAt(U+H-Y,W-Z,U+H-Y,W-Z,U+H-J,W-Z,1,!0),this.v.setTripleAt(U-H+Y,W-Z,U-H+J,W-Z,U-H+Y,W-Z,2,!0),this.v.setTripleAt(U-H,W-Z+Y,U-H,W-Z+Y,U-H,W-Z+J,3,!0),this.v.setTripleAt(U-H,W+Z-Y,U-H,W+Z-J,U-H,W+Z-Y,4,!0),this.v.setTripleAt(U-H+Y,W+Z,U-H+Y,W+Z,U-H+J,W+Z,5,!0),this.v.setTripleAt(U+H-Y,W+Z,U+H-J,W+Z,U+H-Y,W+Z,6,!0),this.v.setTripleAt(U+H,W+Z-Y,U+H,W+Z-Y,U+H,W+Z-J,7,!0)):(this.v.setTripleAt(U-H,W-Z,U-H+J,W-Z,U-H,W-Z,1,!0),this.v.setTripleAt(U-H,W+Z,U-H,W+Z-J,U-H,W+Z,2,!0),this.v.setTripleAt(U+H,W+Z,U+H-J,W+Z,U+H,W+Z,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],L),L}();function R(L,z,U){var W;if(U===3||U===4){var H=U===3?z.pt:z.ks,Z=H.k;Z.length?W=new p(L,z,U):W=new f(L,z,U)}else U===5?W=new A(L,z):U===6?W=new g(L,z):U===7&&(W=new E(L,z));return W.k&&L.addDynamicProperty(W),W}function I(){return f}function j(){return p}var q={};return q.getShapeProp=R,q.getConstructorFunction=I,q.getKeyframedConstructorFunction=j,q}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,i=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function l(ee){if(ee===0)return this;var ie=t(ee),oe=e(ee);return this._t(ie,-oe,0,0,oe,ie,0,0,0,0,1,0,0,0,0,1)}function u(ee){if(ee===0)return this;var ie=t(ee),oe=e(ee);return this._t(1,0,0,0,0,ie,-oe,0,0,oe,ie,0,0,0,0,1)}function f(ee){if(ee===0)return this;var ie=t(ee),oe=e(ee);return this._t(ie,0,oe,0,0,1,0,0,-oe,0,ie,0,0,0,0,1)}function d(ee){if(ee===0)return this;var ie=t(ee),oe=e(ee);return this._t(ie,-oe,0,0,oe,ie,0,0,0,0,1,0,0,0,0,1)}function p(ee,ie){return this._t(1,ie,ee,1,0,0)}function g(ee,ie){return this.shear(n(ee),n(ie))}function E(ee,ie){var oe=t(ie),de=e(ie);return this._t(oe,de,0,0,-de,oe,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(ee),1,0,0,0,0,1,0,0,0,0,1)._t(oe,-de,0,0,de,oe,0,0,0,0,1,0,0,0,0,1)}function A(ee,ie,oe){return!oe&&oe!==0&&(oe=1),ee===1&&ie===1&&oe===1?this:this._t(ee,0,0,0,0,ie,0,0,0,0,oe,0,0,0,0,1)}function R(ee,ie,oe,de,xe,Ee,Ae,Ce,Oe,We,qe,Ne,Me,Be,je,ze){return this.props[0]=ee,this.props[1]=ie,this.props[2]=oe,this.props[3]=de,this.props[4]=xe,this.props[5]=Ee,this.props[6]=Ae,this.props[7]=Ce,this.props[8]=Oe,this.props[9]=We,this.props[10]=qe,this.props[11]=Ne,this.props[12]=Me,this.props[13]=Be,this.props[14]=je,this.props[15]=ze,this}function I(ee,ie,oe){return oe=oe||0,ee!==0||ie!==0||oe!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,ee,ie,oe,1):this}function j(ee,ie,oe,de,xe,Ee,Ae,Ce,Oe,We,qe,Ne,Me,Be,je,ze){var ke=this.props;if(ee===1&&ie===0&&oe===0&&de===0&&xe===0&&Ee===1&&Ae===0&&Ce===0&&Oe===0&&We===0&&qe===1&&Ne===0)return ke[12]=ke[12]*ee+ke[15]*Me,ke[13]=ke[13]*Ee+ke[15]*Be,ke[14]=ke[14]*qe+ke[15]*je,ke[15]*=ze,this._identityCalculated=!1,this;var Ge=ke[0],He=ke[1],ct=ke[2],tr=ke[3],ar=ke[4],vt=ke[5],xt=ke[6],ur=ke[7],yr=ke[8],Mt=ke[9],Sr=ke[10],Lt=ke[11],Ft=ke[12],_r=ke[13],Wr=ke[14],mn=ke[15];return ke[0]=Ge*ee+He*xe+ct*Oe+tr*Me,ke[1]=Ge*ie+He*Ee+ct*We+tr*Be,ke[2]=Ge*oe+He*Ae+ct*qe+tr*je,ke[3]=Ge*de+He*Ce+ct*Ne+tr*ze,ke[4]=ar*ee+vt*xe+xt*Oe+ur*Me,ke[5]=ar*ie+vt*Ee+xt*We+ur*Be,ke[6]=ar*oe+vt*Ae+xt*qe+ur*je,ke[7]=ar*de+vt*Ce+xt*Ne+ur*ze,ke[8]=yr*ee+Mt*xe+Sr*Oe+Lt*Me,ke[9]=yr*ie+Mt*Ee+Sr*We+Lt*Be,ke[10]=yr*oe+Mt*Ae+Sr*qe+Lt*je,ke[11]=yr*de+Mt*Ce+Sr*Ne+Lt*ze,ke[12]=Ft*ee+_r*xe+Wr*Oe+mn*Me,ke[13]=Ft*ie+_r*Ee+Wr*We+mn*Be,ke[14]=Ft*oe+_r*Ae+Wr*qe+mn*je,ke[15]=Ft*de+_r*Ce+Wr*Ne+mn*ze,this._identityCalculated=!1,this}function q(ee){var ie=ee.props;return this.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5],ie[6],ie[7],ie[8],ie[9],ie[10],ie[11],ie[12],ie[13],ie[14],ie[15])}function L(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function z(ee){for(var ie=0;ie<16;){if(ee.props[ie]!==this.props[ie])return!1;ie+=1}return!0}function U(ee){var ie;for(ie=0;ie<16;ie+=1)ee.props[ie]=this.props[ie];return ee}function W(ee){var ie;for(ie=0;ie<16;ie+=1)this.props[ie]=ee[ie]}function H(ee,ie,oe){return{x:ee*this.props[0]+ie*this.props[4]+oe*this.props[8]+this.props[12],y:ee*this.props[1]+ie*this.props[5]+oe*this.props[9]+this.props[13],z:ee*this.props[2]+ie*this.props[6]+oe*this.props[10]+this.props[14]}}function Z(ee,ie,oe){return ee*this.props[0]+ie*this.props[4]+oe*this.props[8]+this.props[12]}function Y(ee,ie,oe){return ee*this.props[1]+ie*this.props[5]+oe*this.props[9]+this.props[13]}function J(ee,ie,oe){return ee*this.props[2]+ie*this.props[6]+oe*this.props[10]+this.props[14]}function ne(){var ee=this.props[0]*this.props[5]-this.props[1]*this.props[4],ie=this.props[5]/ee,oe=-this.props[1]/ee,de=-this.props[4]/ee,xe=this.props[0]/ee,Ee=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/ee,Ae=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/ee,Ce=new Matrix;return Ce.props[0]=ie,Ce.props[1]=oe,Ce.props[4]=de,Ce.props[5]=xe,Ce.props[12]=Ee,Ce.props[13]=Ae,Ce}function ae(ee){var ie=this.getInverseMatrix();return ie.applyToPointArray(ee[0],ee[1],ee[2]||0)}function se(ee){var ie,oe=ee.length,de=[];for(ie=0;ie<oe;ie+=1)de[ie]=ae(ee[ie]);return de}function ue(ee,ie,oe){var de=createTypedArray("float32",6);if(this.isIdentity())de[0]=ee[0],de[1]=ee[1],de[2]=ie[0],de[3]=ie[1],de[4]=oe[0],de[5]=oe[1];else{var xe=this.props[0],Ee=this.props[1],Ae=this.props[4],Ce=this.props[5],Oe=this.props[12],We=this.props[13];de[0]=ee[0]*xe+ee[1]*Ae+Oe,de[1]=ee[0]*Ee+ee[1]*Ce+We,de[2]=ie[0]*xe+ie[1]*Ae+Oe,de[3]=ie[0]*Ee+ie[1]*Ce+We,de[4]=oe[0]*xe+oe[1]*Ae+Oe,de[5]=oe[0]*Ee+oe[1]*Ce+We}return de}function fe(ee,ie,oe){var de;return this.isIdentity()?de=[ee,ie,oe]:de=[ee*this.props[0]+ie*this.props[4]+oe*this.props[8]+this.props[12],ee*this.props[1]+ie*this.props[5]+oe*this.props[9]+this.props[13],ee*this.props[2]+ie*this.props[6]+oe*this.props[10]+this.props[14]],de}function _e(ee,ie){if(this.isIdentity())return ee+","+ie;var oe=this.props;return Math.round((ee*oe[0]+ie*oe[4]+oe[12])*100)/100+","+Math.round((ee*oe[1]+ie*oe[5]+oe[13])*100)/100}function ge(){for(var ee=0,ie=this.props,oe="matrix3d(",de=1e4;ee<16;)oe+=i(ie[ee]*de)/de,oe+=ee===15?")":",",ee+=1;return oe}function ce(ee){var ie=1e4;return ee<1e-6&&ee>0||ee>-1e-6&&ee<0?i(ee*ie)/ie:ee}function me(){var ee=this.props,ie=ce(ee[0]),oe=ce(ee[1]),de=ce(ee[4]),xe=ce(ee[5]),Ee=ce(ee[12]),Ae=ce(ee[13]);return"matrix("+ie+","+oe+","+de+","+xe+","+Ee+","+Ae+")"}return function(){this.reset=o,this.rotate=l,this.rotateX=u,this.rotateY=f,this.rotateZ=d,this.skew=g,this.skewFromAxis=E,this.shear=p,this.scale=A,this.setTransform=R,this.translate=I,this.transform=j,this.multiply=q,this.applyToPoint=H,this.applyToX=Z,this.applyToY=Y,this.applyToZ=J,this.applyToPointArray=fe,this.applyToTriplePoints=ue,this.applyToPointStringified=_e,this.toCSS=ge,this.to2dCSS=me,this.clone=U,this.cloneFromProps=W,this.equals=z,this.inversePoints=se,this.inversePoint=ae,this.getInverseMatrix=ne,this._t=this.transform,this.isIdentity=L,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(n){return typeof n}:_typeof$3=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$3(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,e){t==="expressions"&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var i=e[n].split("=");if(decodeURIComponent(i[0])==t)return decodeURIComponent(i[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},e={};t.registerModifier=n,t.getModifier=i;function n(o,l){e[o]||(e[o]=l)}function i(o,l,u){return new e[o](l,u)}return t}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,i,o){var l=[];e<=1?l.push({s:t,e}):t>=1?l.push({s:t-1,e:e-1}):(l.push({s:t,e:1}),l.push({s:0,e:e-1}));var u=[],f,d=l.length,p;for(f=0;f<d;f+=1)if(p=l[f],!(p.e*o<i||p.s*o>i+n)){var g,E;p.s*o<=i?g=0:g=(p.s*o-i)/n,p.e*o>=i+n?E=1:E=(p.e*o-i)/n,u.push([g,E])}return u.length||u.push([0,0]),u},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n;if(this._mdf||t){var i=this.o.v%360/360;if(i<0&&(i+=1),this.s.v>1?e=1+i:this.s.v<0?e=0+i:e=this.s.v+i,this.e.v>1?n=1+i:this.e.v<0?n=0+i:n=this.e.v+i,e>n){var o=e;e=n,n=o}e=Math.round(e*1e4)*1e-4,n=Math.round(n*1e4)*1e-4,this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var l,u,f=this.shapes.length,d,p,g,E,A,R=0;if(n===e)for(u=0;u<f;u+=1)this.shapes[u].localShapeCollection.releaseShapes(),this.shapes[u].shape._mdf=!0,this.shapes[u].shape.paths=this.shapes[u].localShapeCollection,this._mdf&&(this.shapes[u].pathsData.length=0);else if(n===1&&e===0||n===0&&e===1){if(this._mdf)for(u=0;u<f;u+=1)this.shapes[u].pathsData.length=0,this.shapes[u].shape._mdf=!0}else{var I=[],j,q;for(u=0;u<f;u+=1)if(j=this.shapes[u],!j.shape._mdf&&!this._mdf&&!t&&this.m!==2)j.shape.paths=j.localShapeCollection;else{if(l=j.shape.paths,p=l._length,A=0,!j.shape._mdf&&j.pathsData.length)A=j.totalShapeLength;else{for(g=this.releasePathsData(j.pathsData),d=0;d<p;d+=1)E=bez.getSegmentsLength(l.shapes[d]),g.push(E),A+=E.totalLength;j.totalShapeLength=A,j.pathsData=g}R+=A,j.shape._mdf=!0}var L=e,z=n,U=0,W;for(u=f-1;u>=0;u-=1)if(j=this.shapes[u],j.shape._mdf){for(q=j.localShapeCollection,q.releaseShapes(),this.m===2&&f>1?(W=this.calculateShapeEdges(e,n,j.totalShapeLength,U,R),U+=j.totalShapeLength):W=[[L,z]],p=W.length,d=0;d<p;d+=1){L=W[d][0],z=W[d][1],I.length=0,z<=1?I.push({s:j.totalShapeLength*L,e:j.totalShapeLength*z}):L>=1?I.push({s:j.totalShapeLength*(L-1),e:j.totalShapeLength*(z-1)}):(I.push({s:j.totalShapeLength*L,e:j.totalShapeLength}),I.push({s:0,e:j.totalShapeLength*(z-1)}));var H=this.addShapes(j,I[0]);if(I[0].s!==I[0].e){if(I.length>1){var Z=j.shape.paths.shapes[j.shape.paths._length-1];if(Z.c){var Y=H.pop();this.addPaths(H,q),H=this.addShapes(j,I[1],Y)}else this.addPaths(H,q),H=this.addShapes(j,I[1])}this.addPaths(H,q)}}j.shape.paths=q}}},TrimModifier.prototype.addPaths=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,i,o,l,u){o.setXYAt(e[0],e[1],"o",l),o.setXYAt(n[0],n[1],"i",l+1),u&&o.setXYAt(t[0],t[1],"v",l),o.setXYAt(i[0],i[1],"v",l+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,i){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),i&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var i=t.pathsData,o=t.shape.paths.shapes,l,u=t.shape.paths._length,f,d,p=0,g,E,A,R,I=[],j,q=!0;for(n?(E=n._length,j=n._length):(n=shapePool.newElement(),E=0,j=0),I.push(n),l=0;l<u;l+=1){for(A=i[l].lengths,n.c=o[l].c,d=o[l].c?A.length:A.length+1,f=1;f<d;f+=1)if(g=A[f-1],p+g.addedLength<e.s)p+=g.addedLength,n.c=!1;else if(p>e.e){n.c=!1;break}else e.s<=p&&e.e>=p+g.addedLength?(this.addSegment(o[l].v[f-1],o[l].o[f-1],o[l].i[f],o[l].v[f],n,E,q),q=!1):(R=bez.getNewSegment(o[l].v[f-1],o[l].v[f],o[l].o[f-1],o[l].i[f],(e.s-p)/g.addedLength,(e.e-p)/g.addedLength,A[f-1]),this.addSegmentFromArray(R,n,E,q),q=!1,n.c=!1),p+=g.addedLength,E+=1;if(o[l].c&&A.length){if(g=A[f-1],p<=e.e){var L=A[f-1].addedLength;e.s<=p&&e.e>=p+L?(this.addSegment(o[l].v[f-1],o[l].o[f-1],o[l].i[0],o[l].v[0],n,E,q),q=!1):(R=bez.getNewSegment(o[l].v[f-1],o[l].v[0],o[l].o[f-1],o[l].i[0],(e.s-p)/L,(e.e-p)/L,A[f-1]),this.addSegmentFromArray(R,n,E,q),q=!1,n.c=!1)}else n.c=!1;p+=g.addedLength,E+=1}if(n._length&&(n.setXYAt(n.v[j][0],n.v[j][1],"i",j),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),p>e.e)break;l<u-1&&(n=shapePool.newElement(),q=!0,I.push(n),E=0)}return I};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,i=[0,0],o=t._length,l=0;for(l=0;l<o;l+=1)i[0]+=t.v[l][0],i[1]+=t.v[l][1];i[0]/=o,i[1]/=o;var u=shapePool.newElement();u.c=t.c;var f,d,p,g,E,A;for(l=0;l<o;l+=1)f=t.v[l][0]+(i[0]-t.v[l][0])*n,d=t.v[l][1]+(i[1]-t.v[l][1])*n,p=t.o[l][0]+(i[0]-t.o[l][0])*-n,g=t.o[l][1]+(i[1]-t.o[l][1])*-n,E=t.i[l][0]+(i[0]-t.i[l][0])*-n,A=t.i[l][1]+(i[1]-t.i[l][1])*-n,u.setTripleAt(f,d,p,g,E,A,l);return u},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,i=this.shapes.length,o,l,u=this.amount.v;if(u!==0){var f,d;for(n=0;n<i;n+=1){if(f=this.shapes[n],d=f.localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!t))for(d.releaseShapes(),f.shape._mdf=!0,e=f.shape.paths.shapes,l=f.shape.paths._length,o=0;o<l;o+=1)d.addShape(this.processPath(e[o],u));f.shape.paths=f.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(d){var p=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||p,this.a&&d.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&d.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&d.skewFromAxis(-this.sk.v,this.sa.v),this.r?d.rotate(-this.r.v):d.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?d.translate(this.px.v,this.py.v,-this.pz.v):d.translate(this.px.v,this.py.v,0):d.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function n(d){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||d){var p;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var g,E;if(p=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(g=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/p,0),E=this.p.getValueAtTime(this.p.keyframes[0].t/p,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(g=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/p,0),E=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/p,0)):(g=this.p.pv,E=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/p,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){g=[],E=[];var A=this.px,R=this.py;A._caching.lastFrame+A.offsetTime<=A.keyframes[0].t?(g[0]=A.getValueAtTime((A.keyframes[0].t+.01)/p,0),g[1]=R.getValueAtTime((R.keyframes[0].t+.01)/p,0),E[0]=A.getValueAtTime(A.keyframes[0].t/p,0),E[1]=R.getValueAtTime(R.keyframes[0].t/p,0)):A._caching.lastFrame+A.offsetTime>=A.keyframes[A.keyframes.length-1].t?(g[0]=A.getValueAtTime(A.keyframes[A.keyframes.length-1].t/p,0),g[1]=R.getValueAtTime(R.keyframes[R.keyframes.length-1].t/p,0),E[0]=A.getValueAtTime((A.keyframes[A.keyframes.length-1].t-.01)/p,0),E[1]=R.getValueAtTime((R.keyframes[R.keyframes.length-1].t-.01)/p,0)):(g=[A.pv,R.pv],E[0]=A.getValueAtTime((A._caching.lastFrame+A.offsetTime-.01)/p,A.offsetTime),E[1]=R.getValueAtTime((R._caching.lastFrame+R.offsetTime-.01)/p,R.offsetTime))}else E=t,g=E;this.v.rotate(-Math.atan2(g[1]-E[1],g[0]-E[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function i(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function o(){}function l(d){this._addDynamicProperty(d),this.elem.addDynamicProperty(d),this._isDirty=!0}function u(d,p,g){if(this.elem=d,this.frameId=-1,this.propType="transform",this.data=p,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(g||d),p.p&&p.p.s?(this.px=PropertyFactory.getProp(d,p.p.x,0,0,this),this.py=PropertyFactory.getProp(d,p.p.y,0,0,this),p.p.z&&(this.pz=PropertyFactory.getProp(d,p.p.z,0,0,this))):this.p=PropertyFactory.getProp(d,p.p||{k:[0,0,0]},1,0,this),p.rx){if(this.rx=PropertyFactory.getProp(d,p.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(d,p.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(d,p.rz,0,degToRads,this),p.or.k[0].ti){var E,A=p.or.k.length;for(E=0;E<A;E+=1)p.or.k[E].to=null,p.or.k[E].ti=null}this.or=PropertyFactory.getProp(d,p.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(d,p.r||{k:0},0,degToRads,this);p.sk&&(this.sk=PropertyFactory.getProp(d,p.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(d,p.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(d,p.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(d,p.s||{k:[100,100,100]},1,.01,this),p.o?this.o=PropertyFactory.getProp(d,p.o,0,.01,d):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}u.prototype={applyToMatrix:e,getValue:n,precalculateMatrix:i,autoOrient:o},extendPrototype([DynamicPropertyContainer],u),u.prototype.addDynamicProperty=l,u.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function f(d,p,g){return new u(d,p,g)}return{getTransformProperty:f}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,i,o,l){var u=l?-1:1,f=i.s.v[0]+(1-i.s.v[0])*(1-o),d=i.s.v[1]+(1-i.s.v[1])*(1-o);t.translate(i.p.v[0]*u*o,i.p.v[1]*u*o,i.p.v[2]),e.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),e.rotate(-i.r.v*u*o),e.translate(i.a.v[0],i.a.v[1],i.a.v[2]),n.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),n.scale(l?1/f:f,l?1/d:d),n.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,i){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)n-=1,this._elements.unshift(e[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)t[n]._render=e,t[n].ty==="gr"&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,i,o,l,u=!1;if(this._mdf||t){var f=Math.ceil(this.c.v);if(this._groups.length<f){for(;this._groups.length<f;){var d={it:this.cloneElements(this._elements),ty:"gr"};d.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,d),this._groups.splice(0,0,d),this._currentCopies+=1}this.elem.reloadShapes(),u=!0}l=0;var p;for(i=0;i<=this._groups.length-1;i+=1){if(p=l<f,this._groups[i]._render=p,this.changeGroupRender(this._groups[i].it,p),!p){var g=this.elemsData[i].it,E=g[g.length-1];E.transform.op.v!==0?(E.transform.op._mdf=!0,E.transform.op.v=0):E.transform.op._mdf=!1}l+=1}this._currentCopies=f;var A=this.o.v,R=A%1,I=A>0?Math.floor(A):Math.ceil(A),j=this.pMatrix.props,q=this.rMatrix.props,L=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var z=0;if(A>0){for(;z<I;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),z+=1;R&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,R,!1),z+=R)}else if(A<0){for(;z>I;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),z-=1;R&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-R,!0),z-=R)}i=this.data.m===1?0:this._currentCopies-1,o=this.data.m===1?1:-1,l=this._currentCopies;for(var U,W;l;){if(e=this.elemsData[i].it,n=e[e.length-1].transform.mProps.v.props,W=n.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1)),z!==0){for((i!==0&&o===1||i!==this._currentCopies-1&&o===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8],q[9],q[10],q[11],q[12],q[13],q[14],q[15]),this.matrix.transform(L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],L[8],L[9],L[10],L[11],L[12],L[13],L[14],L[15]),this.matrix.transform(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14],j[15]),U=0;U<W;U+=1)n[U]=this.matrix.props[U];this.matrix.reset()}else for(this.matrix.reset(),U=0;U<W;U+=1)n[U]=this.matrix.props[U];z+=1,l-=1,i+=o}}else for(l=this._currentCopies,i=0,o=1;l;)e=this.elemsData[i].it,n=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,l-=1,i+=o;return u},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n=shapePool.newElement();n.c=t.c;var i,o=t._length,l,u,f,d,p,g,E=0,A,R,I,j,q,L;for(i=0;i<o;i+=1)l=t.v[i],f=t.o[i],u=t.i[i],l[0]===f[0]&&l[1]===f[1]&&l[0]===u[0]&&l[1]===u[1]?(i===0||i===o-1)&&!t.c?(n.setTripleAt(l[0],l[1],f[0],f[1],u[0],u[1],E),E+=1):(i===0?d=t.v[o-1]:d=t.v[i-1],p=Math.sqrt(Math.pow(l[0]-d[0],2)+Math.pow(l[1]-d[1],2)),g=p?Math.min(p/2,e)/p:0,q=l[0]+(d[0]-l[0])*g,A=q,L=l[1]-(l[1]-d[1])*g,R=L,I=A-(A-l[0])*roundCorner,j=R-(R-l[1])*roundCorner,n.setTripleAt(A,R,I,j,q,L,E),E+=1,i===o-1?d=t.v[0]:d=t.v[i+1],p=Math.sqrt(Math.pow(l[0]-d[0],2)+Math.pow(l[1]-d[1],2)),g=p?Math.min(p/2,e)/p:0,I=l[0]+(d[0]-l[0])*g,A=I,j=l[1]+(d[1]-l[1])*g,R=j,q=A-(A-l[0])*roundCorner,L=R-(R-l[1])*roundCorner,n.setTripleAt(A,R,I,j,q,L,E),E+=1):(n.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],E),E+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var e,n,i=this.shapes.length,o,l,u=this.rd.v;if(u!==0){var f,d;for(n=0;n<i;n+=1){if(f=this.shapes[n],d=f.localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!t))for(d.releaseShapes(),f.shape._mdf=!0,e=f.shape.paths.shapes,l=f.shape.paths._length,o=0;o<l;o+=1)d.addShape(this.processPath(e[o],u));f.shape.paths=f.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(t,e){return Math.abs(t-e)*1e5<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,n){return t*(1-n)+e*n}function lerpPoint(t,e,n){return[lerp(t[0],e[0],n),lerp(t[1],e[1],n)]}function quadRoots(t,e,n){if(t===0)return[];var i=e*e-4*t*n;if(i<0)return[];var o=-e/(2*t);if(i===0)return[o];var l=Math.sqrt(i)/(2*t);return[o-l,o+l]}function polynomialCoefficients(t,e,n,i){return[-t+3*e-3*n+i,3*t-6*e+3*n,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,n,i,o){o&&pointEqual(t,e)&&(e=lerpPoint(t,i,1/3)),o&&pointEqual(n,i)&&(n=lerpPoint(t,i,2/3));var l=polynomialCoefficients(t[0],e[0],n[0],i[0]),u=polynomialCoefficients(t[1],e[1],n[1],i[1]);this.a=[l[0],u[0]],this.b=[l[1],u[1]],this.c=[l[2],u[2]],this.d=[l[3],u[3]],this.points=[t,e,n,i]}PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,n=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(n<0)return[];var i=Math.sqrt(n);return floatZero(i)?i>0&&i<1?[e]:[]:[e-i,e+i].filter(function(o){return o>0&&o<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),n=lerpPoint(this.points[1],this.points[2],t),i=lerpPoint(this.points[2],this.points[3],t),o=lerpPoint(e,n,t),l=lerpPoint(n,i,t),u=lerpPoint(o,l,t);return[new PolynomialBezier(this.points[0],e,o,u,!0),new PolynomialBezier(u,l,i,this.points[3],!0)]};function extrema(t,e){var n=t.points[0][e],i=t.points[t.points.length-1][e];if(n>i){var o=i;i=n,n=o}for(var l=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),u=0;u<l.length;u+=1)if(l[u]>0&&l[u]<1){var f=t.point(l[u])[e];f<n?n=f:f>i&&(i=f)}return{min:n,max:i}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}};function intersectData(t,e,n){var i=t.boundingBox();return{cx:i.cx,cy:i.cy,width:i.width,height:i.height,bez:t,t:(e+n)/2,t1:e,t2:n}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return Math.abs(t.cx-e.cx)*2<t.width+e.width&&Math.abs(t.cy-e.cy)*2<t.height+e.height}function intersectsImpl(t,e,n,i,o,l){if(boxIntersect(t,e)){if(n>=l||t.width<=i&&t.height<=i&&e.width<=i&&e.height<=i){o.push([t.t,e.t]);return}var u=splitData(t),f=splitData(e);intersectsImpl(u[0],f[0],n+1,i,o,l),intersectsImpl(u[0],f[1],n+1,i,o,l),intersectsImpl(u[1],f[0],n+1,i,o,l),intersectsImpl(u[1],f[1],n+1,i,o,l)}}PolynomialBezier.prototype.intersections=function(t,e,n){e===void 0&&(e=2),n===void 0&&(n=7);var i=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,i,n),i},PolynomialBezier.shapeSegment=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[n],t.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[n],t.i[n],t.o[e],t.v[e],!0)};function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,n,i){var o=[t[0],t[1],1],l=[e[0],e[1],1],u=[n[0],n[1],1],f=[i[0],i[1],1],d=crossProduct(crossProduct(o,l),crossProduct(u,f));return floatZero(d[2])?null:[d[0]/d[2],d[1]/d[2]]}function polarOffset(t,e,n){return[t[0]+Math.cos(e)*n,t[1]-Math.sin(e)*n]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(t,e,n,i,o,l,u){var f=n-Math.PI/2,d=n+Math.PI/2,p=e[0]+Math.cos(n)*i*o,g=e[1]-Math.sin(n)*i*o;t.setTripleAt(p,g,p+Math.cos(f)*l,g-Math.sin(f)*l,p+Math.cos(d)*u,g-Math.sin(d)*u,t.length())}function getPerpendicularVector(t,e){var n=[e[0]-t[0],e[1]-t[1]],i=-Math.PI*.5,o=[Math.cos(i)*n[0]-Math.sin(i)*n[1],Math.sin(i)*n[0]+Math.cos(i)*n[1]];return o}function getProjectingAngle(t,e){var n=e===0?t.length()-1:e-1,i=(e+1)%t.length(),o=t.v[n],l=t.v[i],u=getPerpendicularVector(o,l);return Math.atan2(0,1)-Math.atan2(u[1],u[0])}function zigZagCorner(t,e,n,i,o,l,u){var f=getProjectingAngle(e,n),d=e.v[n%e._length],p=e.v[n===0?e._length-1:n-1],g=e.v[(n+1)%e._length],E=l===2?Math.sqrt(Math.pow(d[0]-p[0],2)+Math.pow(d[1]-p[1],2)):0,A=l===2?Math.sqrt(Math.pow(d[0]-g[0],2)+Math.pow(d[1]-g[1],2)):0;setPoint(t,e.v[n%e._length],f,u,i,A/((o+1)*2),E/((o+1)*2))}function zigZagSegment(t,e,n,i,o,l){for(var u=0;u<i;u+=1){var f=(u+1)/(i+1),d=o===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,p=e.normalAngle(f),g=e.point(f);setPoint(t,g,p,l,n,d/((i+1)*2),d/((i+1)*2)),l=-l}return l}ZigZagModifier.prototype.processPath=function(t,e,n,i){var o=t._length,l=shapePool.newElement();if(l.c=t.c,t.c||(o-=1),o===0)return l;var u=-1,f=PolynomialBezier.shapeSegment(t,0);zigZagCorner(l,t,0,e,n,i,u);for(var d=0;d<o;d+=1)u=zigZagSegment(l,f,e,n,i,-u),d===o-1&&!t.c?f=null:f=PolynomialBezier.shapeSegment(t,(d+1)%o),zigZagCorner(l,t,d+1,e,n,i,u);return l},ZigZagModifier.prototype.processShapes=function(t){var e,n,i=this.shapes.length,o,l,u=this.amplitude.v,f=Math.max(0,Math.round(this.frequency.v)),d=this.pointsType.v;if(u!==0){var p,g;for(n=0;n<i;n+=1){if(p=this.shapes[n],g=p.localShapeCollection,!(!p.shape._mdf&&!this._mdf&&!t))for(g.releaseShapes(),p.shape._mdf=!0,e=p.shape.paths.shapes,l=p.shape.paths._length,o=0;o<l;o+=1)g.addShape(this.processPath(e[o],u,f,d));p.shape.paths=p.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(t,e,n){var i=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,i,n),polarOffset(e,i,n)]}function offsetSegment(t,e){var n,i,o,l,u,f,d;d=linearOffset(t.points[0],t.points[1],e),n=d[0],i=d[1],d=linearOffset(t.points[1],t.points[2],e),o=d[0],l=d[1],d=linearOffset(t.points[2],t.points[3],e),u=d[0],f=d[1];var p=lineIntersection(n,i,o,l);p===null&&(p=i);var g=lineIntersection(u,f,o,l);return g===null&&(g=u),new PolynomialBezier(n,p,g,f)}function joinLines(t,e,n,i,o){var l=e.points[3],u=n.points[0];if(i===3||pointEqual(l,u))return l;if(i===2){var f=-e.tangentAngle(1),d=-n.tangentAngle(0)+Math.PI,p=lineIntersection(l,polarOffset(l,f+Math.PI/2,100),u,polarOffset(u,f+Math.PI/2,100)),g=p?pointDistance(p,l):pointDistance(l,u)/2,E=polarOffset(l,f,2*g*roundCorner);return t.setXYAt(E[0],E[1],"o",t.length()-1),E=polarOffset(u,d,2*g*roundCorner),t.setTripleAt(u[0],u[1],u[0],u[1],E[0],E[1],t.length()),u}var A=pointEqual(l,e.points[2])?e.points[0]:e.points[2],R=pointEqual(u,n.points[1])?n.points[3]:n.points[1],I=lineIntersection(A,l,u,R);return I&&pointDistance(I,l)<o?(t.setTripleAt(I[0],I[1],I[0],I[1],I[0],I[1],t.length()),I):l}function getIntersection(t,e){var n=t.intersections(e);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(t,e){var n=t.slice(),i=e.slice(),o=getIntersection(t[t.length-1],e[0]);return o&&(n[t.length-1]=t[t.length-1].split(o[0])[0],i[0]=e[0].split(o[1])[1]),t.length>1&&e.length>1&&(o=getIntersection(t[0],e[e.length-1]),o)?[[t[0].split(o[0])[0]],[e[e.length-1].split(o[1])[1]]]:[n,i]}function pruneIntersections(t){for(var e,n=1;n<t.length;n+=1)e=pruneSegmentIntersection(t[n-1],t[n]),t[n-1]=e[0],t[n]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var n=t.inflectionPoints(),i,o,l,u;if(n.length===0)return[offsetSegment(t,e)];if(n.length===1||floatEqual(n[1],1))return l=t.split(n[0]),i=l[0],o=l[1],[offsetSegment(i,e),offsetSegment(o,e)];l=t.split(n[0]),i=l[0];var f=(n[1]-n[0])/(1-n[0]);return l=l[1].split(f),u=l[0],o=l[1],[offsetSegment(i,e),offsetSegment(u,e),offsetSegment(o,e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(t,e,n,i){var o=shapePool.newElement();o.c=t.c;var l=t.length();t.c||(l-=1);var u,f,d,p=[];for(u=0;u<l;u+=1)d=PolynomialBezier.shapeSegment(t,u),p.push(offsetSegmentSplit(d,e));if(!t.c)for(u=l-1;u>=0;u-=1)d=PolynomialBezier.shapeSegmentInverted(t,u),p.push(offsetSegmentSplit(d,e));p=pruneIntersections(p);var g=null,E=null;for(u=0;u<p.length;u+=1){var A=p[u];for(E&&(g=joinLines(o,E,A[0],n,i)),E=A[A.length-1],f=0;f<A.length;f+=1)d=A[f],g&&pointEqual(d.points[0],g)?o.setXYAt(d.points[1][0],d.points[1][1],"o",o.length()-1):o.setTripleAt(d.points[0][0],d.points[0][1],d.points[1][0],d.points[1][1],d.points[0][0],d.points[0][1],o.length()),o.setTripleAt(d.points[3][0],d.points[3][1],d.points[3][0],d.points[3][1],d.points[2][0],d.points[2][1],o.length()),g=d.points[3]}return p.length&&joinLines(o,E,p[0][0],n,i),o},OffsetPathModifier.prototype.processShapes=function(t){var e,n,i=this.shapes.length,o,l,u=this.amount.v,f=this.miterLimit.v,d=this.lineJoin;if(u!==0){var p,g;for(n=0;n<i;n+=1){if(p=this.shapes[n],g=p.localShapeCollection,!(!p.shape._mdf&&!this._mdf&&!t))for(g.releaseShapes(),p.shape._mdf=!0,e=p.shape.paths.shapes,l=p.shape.paths._length,o=0;o<l;o+=1)g.addShape(this.processPath(e[o],u,d,f));p.shape.paths=p.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],n="normal",i="normal",o=e.length,l,u=0;u<o;u+=1)switch(l=e[u].toLowerCase(),l){case"italic":i="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200";break}return{style:i,weight:t.fWeight||n}}var FontManager=function(){var t=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},n=[];n=n.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var i=127988,o=917631,l=917601,u=917626,f=65039,d=8205,p=127462,g=127487,E=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function A(ce){var me=ce.split(","),ee,ie=me.length,oe=[];for(ee=0;ee<ie;ee+=1)me[ee]!=="sans-serif"&&me[ee]!=="monospace"&&oe.push(me[ee]);return oe.join(",")}function R(ce,me){var ee=createTag("span");ee.setAttribute("aria-hidden",!0),ee.style.fontFamily=me;var ie=createTag("span");ie.innerText="giItT1WQy@!-/#",ee.style.position="absolute",ee.style.left="-10000px",ee.style.top="-10000px",ee.style.fontSize="300px",ee.style.fontVariant="normal",ee.style.fontStyle="normal",ee.style.fontWeight="normal",ee.style.letterSpacing="0",ee.appendChild(ie),document.body.appendChild(ee);var oe=ie.offsetWidth;return ie.style.fontFamily=A(ce)+", "+me,{node:ie,w:oe,parent:ee}}function I(){var ce,me=this.fonts.length,ee,ie,oe=me;for(ce=0;ce<me;ce+=1)this.fonts[ce].loaded?oe-=1:this.fonts[ce].fOrigin==="n"||this.fonts[ce].origin===0?this.fonts[ce].loaded=!0:(ee=this.fonts[ce].monoCase.node,ie=this.fonts[ce].monoCase.w,ee.offsetWidth!==ie?(oe-=1,this.fonts[ce].loaded=!0):(ee=this.fonts[ce].sansCase.node,ie=this.fonts[ce].sansCase.w,ee.offsetWidth!==ie&&(oe-=1,this.fonts[ce].loaded=!0)),this.fonts[ce].loaded&&(this.fonts[ce].sansCase.parent.parentNode.removeChild(this.fonts[ce].sansCase.parent),this.fonts[ce].monoCase.parent.parentNode.removeChild(this.fonts[ce].monoCase.parent)));oe!==0&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function j(ce,me){var ee=document.body&&me?"svg":"canvas",ie,oe=getFontProperties(ce);if(ee==="svg"){var de=createNS("text");de.style.fontSize="100px",de.setAttribute("font-family",ce.fFamily),de.setAttribute("font-style",oe.style),de.setAttribute("font-weight",oe.weight),de.textContent="1",ce.fClass?(de.style.fontFamily="inherit",de.setAttribute("class",ce.fClass)):de.style.fontFamily=ce.fFamily,me.appendChild(de),ie=de}else{var xe=new OffscreenCanvas(500,500).getContext("2d");xe.font=oe.style+" "+oe.weight+" 100px "+ce.fFamily,ie=xe}function Ee(Ae){return ee==="svg"?(ie.textContent=Ae,ie.getComputedTextLength()):ie.measureText(Ae).width}return{measureText:Ee}}function q(ce,me){if(!ce){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=ce.list;return}if(!document.body){this.isLoaded=!0,ce.list.forEach(function(qe){qe.helper=j(qe),qe.cache={}}),this.fonts=ce.list;return}var ee=ce.list,ie,oe=ee.length,de=oe;for(ie=0;ie<oe;ie+=1){var xe=!0,Ee,Ae;if(ee[ie].loaded=!1,ee[ie].monoCase=R(ee[ie].fFamily,"monospace"),ee[ie].sansCase=R(ee[ie].fFamily,"sans-serif"),!ee[ie].fPath)ee[ie].loaded=!0,de-=1;else if(ee[ie].fOrigin==="p"||ee[ie].origin===3){if(Ee=document.querySelectorAll('style[f-forigin="p"][f-family="'+ee[ie].fFamily+'"], style[f-origin="3"][f-family="'+ee[ie].fFamily+'"]'),Ee.length>0&&(xe=!1),xe){var Ce=createTag("style");Ce.setAttribute("f-forigin",ee[ie].fOrigin),Ce.setAttribute("f-origin",ee[ie].origin),Ce.setAttribute("f-family",ee[ie].fFamily),Ce.type="text/css",Ce.innerText="@font-face {font-family: "+ee[ie].fFamily+"; font-style: normal; src: url('"+ee[ie].fPath+"');}",me.appendChild(Ce)}}else if(ee[ie].fOrigin==="g"||ee[ie].origin===1){for(Ee=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Ae=0;Ae<Ee.length;Ae+=1)Ee[Ae].href.indexOf(ee[ie].fPath)!==-1&&(xe=!1);if(xe){var Oe=createTag("link");Oe.setAttribute("f-forigin",ee[ie].fOrigin),Oe.setAttribute("f-origin",ee[ie].origin),Oe.type="text/css",Oe.rel="stylesheet",Oe.href=ee[ie].fPath,document.body.appendChild(Oe)}}else if(ee[ie].fOrigin==="t"||ee[ie].origin===2){for(Ee=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Ae=0;Ae<Ee.length;Ae+=1)ee[ie].fPath===Ee[Ae].src&&(xe=!1);if(xe){var We=createTag("link");We.setAttribute("f-forigin",ee[ie].fOrigin),We.setAttribute("f-origin",ee[ie].origin),We.setAttribute("rel","stylesheet"),We.setAttribute("href",ee[ie].fPath),me.appendChild(We)}}ee[ie].helper=j(ee[ie],me),ee[ie].cache={},this.fonts.push(ee[ie])}de===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function L(ce){if(ce){this.chars||(this.chars=[]);var me,ee=ce.length,ie,oe=this.chars.length,de;for(me=0;me<ee;me+=1){for(ie=0,de=!1;ie<oe;)this.chars[ie].style===ce[me].style&&this.chars[ie].fFamily===ce[me].fFamily&&this.chars[ie].ch===ce[me].ch&&(de=!0),ie+=1;de||(this.chars.push(ce[me]),oe+=1)}}}function z(ce,me,ee){for(var ie=0,oe=this.chars.length;ie<oe;){if(this.chars[ie].ch===ce&&this.chars[ie].style===me&&this.chars[ie].fFamily===ee)return this.chars[ie];ie+=1}return(typeof ce=="string"&&ce.charCodeAt(0)!==13||!ce)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",ce,me,ee)),e}function U(ce,me,ee){var ie=this.getFontByName(me),oe=ce;if(!ie.cache[oe]){var de=ie.helper;if(ce===" "){var xe=de.measureText("|"+ce+"|"),Ee=de.measureText("||");ie.cache[oe]=(xe-Ee)/100}else ie.cache[oe]=de.measureText(ce)/100}return ie.cache[oe]*ee}function W(ce){for(var me=0,ee=this.fonts.length;me<ee;){if(this.fonts[me].fName===ce)return this.fonts[me];me+=1}return this.fonts[0]}function H(ce){var me=0,ee=ce.charCodeAt(0);if(ee>=55296&&ee<=56319){var ie=ce.charCodeAt(1);ie>=56320&&ie<=57343&&(me=(ee-55296)*1024+ie-56320+65536)}return me}function Z(ce,me){var ee=ce.toString(16)+me.toString(16);return E.indexOf(ee)!==-1}function Y(ce){return ce===d}function J(ce){return ce===f}function ne(ce){var me=H(ce);return me>=p&&me<=g}function ae(ce){return ne(ce.substr(0,2))&&ne(ce.substr(2,2))}function se(ce){return n.indexOf(ce)!==-1}function ue(ce,me){var ee=H(ce.substr(me,2));if(ee!==i)return!1;var ie=0;for(me+=2;ie<5;){if(ee=H(ce.substr(me,2)),ee<l||ee>u)return!1;ie+=1,me+=2}return H(ce.substr(me,2))===o}function fe(){this.isLoaded=!0}var _e=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};_e.isModifier=Z,_e.isZeroWidthJoiner=Y,_e.isFlagEmoji=ae,_e.isRegionalCode=ne,_e.isCombinedCharacter=se,_e.isRegionalFlag=ue,_e.isVariationSelector=J,_e.BLACK_FLAG_CODE_POINT=i;var ge={addChars:L,addFonts:q,getCharData:z,getFontByName:W,measureText:U,checkLoadedFonts:I,setIsLoaded:fe};return _e.prototype=ge,_e}();function SlotManager(t){this.animationData=t}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t};function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,n=this.renderableComponents.length;for(e=0;e<n;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return t[e]||""}}();function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n=t.ef||[];this.effectElements=[];var i,o=n.length,l;for(i=0;i<o;i+=1)l=new GroupEffect(n[i],e),this.effectElements.push(l)}function GroupEffect(t,e){this.init(t,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,i=this.data.ef.length,o,l=this.data.ef;for(n=0;n<i;n+=1){switch(o=null,l[n].ty){case 0:o=new SliderEffect(l[n],e,this);break;case 1:o=new AngleEffect(l[n],e,this);break;case 2:o=new ColorEffect(l[n],e,this);break;case 3:o=new PointEffect(l[n],e,this);break;case 4:case 7:o=new CheckboxEffect(l[n],e,this);break;case 10:o=new LayerIndexEffect(l[n],e,this);break;case 11:o=new MaskIndexEffect(l[n],e,this);break;case 5:o=new EffectsManager(l[n],e);break;default:o=new NoValueEffect(l[n]);break}o&&this.effectElements.push(o)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,n=this.data.masksProperties.length;e<n;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var n=e("layer"),i=e("effects"),o=e("shape"),l=e("text"),u=e("comp");this.layerInterface=n(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var f=i.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(f),this.data.ty===0||this.data.xt?this.compInterface=u(this):this.data.ty===4?(this.layerInterface.shapeInterface=o(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=l(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm),n=this.baseElement||this.layerElement;n.style["mix-blend-mode"]=e},initBaseData:function(e,n,i){this.globalData=n,this.comp=i,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,n){var i,o=this.dynamicProperties.length;for(i=0;i<o;i+=1)(n||this._isParent&&this.dynamicProperties[i].propType==="transform")&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}};function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var e,n=this.layers.length,i;for(this.completeLayers=!0,e=n-1;e>=0;e-=1)this.elements[e]||(i=this.layers[e],i.ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,n=t.length,i,o=this.layers.length;for(e=0;e<n;e+=1)for(i=0;i<o;){if(this.layers[i].id===t[e].id){this.layers[i]=t[e];break}i+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var i=this.elements,o=this.layers,l=0,u=o.length;l<u;)o[l].ind==e&&(!i[l]||i[l]===!0?(this.buildItem(l),this.addPendingElement(t)):(n.push(i[l]),i[l].setAsParent(),o[l].parent!==void 0?this.buildElementParenting(t,o[l].parent,n):t.setHierarchy(n))),l+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var i=this.createComp(t[e]);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},BaseRenderer.prototype.getElementById=function(t){var e,n=this.elements.length;for(e=0;e<n;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e=t.shift(),n;if(typeof e=="number")n=this.elements[e];else{var i,o=this.elements.length;for(i=0;i<o;i+=1)if(this.elements[i].data.nm===e){n=this.elements[i];break}}return t.length===0?n:n.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,n=this.finalTransform.mat,i=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<o;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,n.cloneFromProps(e),i=0;i<o;i+=1)n.multiply(this.hierarchy[i].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,n=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<n;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var i=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(i),e=1;e<n;e+=1){var o=this.localTransforms[e].matrix;i.multiply(o)}i.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var l=this.finalTransform.localOpacity;for(e=0;e<n;e+=1)l*=this.localTransforms[e].opacity*.01;this.finalTransform.localOpacity=l}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var n=0,i=e.length;for(n=0;n<i;n+=1)this.localTransforms.push(e[n])}}},globalToLocal:function(e){var n=[];n.push(this.finalTransform);for(var i=!0,o=this.comp;i;)o.finalTransform?(o.data.hasMask&&n.splice(0,0,o.finalTransform),o=o.comp):i=!1;var l,u=n.length,f;for(l=0;l<u;l+=1)f=n[l].mat.applyToPointArray(0,0,0),e=[e[0]-f[0],e[1]-f[1],0];return e},mHelper:new Matrix};function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i=this.globalData.defs,o,l=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(l),this.solidPath="";var u,f=this.masksProperties,d=0,p=[],g,E,A=createElementID(),R,I,j,q,L="clipPath",z="clip-path";for(o=0;o<l;o+=1)if((f[o].mode!=="a"&&f[o].mode!=="n"||f[o].inv||f[o].o.k!==100||f[o].o.x)&&(L="mask",z="mask"),(f[o].mode==="s"||f[o].mode==="i")&&d===0?(R=createNS("rect"),R.setAttribute("fill","#ffffff"),R.setAttribute("width",this.element.comp.data.w||0),R.setAttribute("height",this.element.comp.data.h||0),p.push(R)):R=null,u=createNS("path"),f[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,f[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[o],3),elem:u,lastPath:""},i.appendChild(u);else{d+=1,u.setAttribute("fill",f[o].mode==="s"?"#000000":"#ffffff"),u.setAttribute("clip-rule","nonzero");var U;if(f[o].x.k!==0?(L="mask",z="mask",q=PropertyFactory.getProp(this.element,f[o].x,0,null,this.element),U=createElementID(),I=createNS("filter"),I.setAttribute("id",U),j=createNS("feMorphology"),j.setAttribute("operator","erode"),j.setAttribute("in","SourceGraphic"),j.setAttribute("radius","0"),I.appendChild(j),i.appendChild(I),u.setAttribute("stroke",f[o].mode==="s"?"#000000":"#ffffff")):(j=null,q=null),this.storedData[o]={elem:u,x:q,expan:j,lastPath:"",lastOperator:"",filterId:U,lastRadius:0},f[o].mode==="i"){E=p.length;var W=createNS("g");for(g=0;g<E;g+=1)W.appendChild(p[g]);var H=createNS("mask");H.setAttribute("mask-type","alpha"),H.setAttribute("id",A+"_"+d),H.appendChild(u),i.appendChild(H),W.setAttribute("mask","url("+getLocationHref()+"#"+A+"_"+d+")"),p.length=0,p.push(W)}else p.push(u);f[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:u,lastPath:"",op:PropertyFactory.getProp(this.element,f[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[o],3),invRect:R},this.viewData[o].prop.k||this.drawPath(f[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(L),l=p.length,o=0;o<l;o+=1)this.maskElement.appendChild(p[o]);d>0&&(this.maskElement.setAttribute("id",A),this.element.maskedElement.setAttribute(z,"url("+getLocationHref()+"#"+A+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e=this.element.finalTransform.mat,n,i=this.masksProperties.length;for(n=0;n<i;n+=1)if((this.viewData[n].prop._mdf||t)&&this.drawPath(this.masksProperties[n],this.viewData[n].prop.v,this.viewData[n]),(this.viewData[n].op._mdf||t)&&this.viewData[n].elem.setAttribute("fill-opacity",this.viewData[n].op.v),this.masksProperties[n].mode!=="n"&&(this.viewData[n].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[n].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[n].x&&(this.storedData[n].x._mdf||t))){var o=this.storedData[n].expan;this.storedData[n].x.v<0?(this.storedData[n].lastOperator!=="erode"&&(this.storedData[n].lastOperator="erode",this.storedData[n].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[n].filterId+")")),o.setAttribute("radius",-this.storedData[n].x.v)):(this.storedData[n].lastOperator!=="dilate"&&(this.storedData[n].lastOperator="dilate",this.storedData[n].elem.setAttribute("filter",null)),this.storedData[n].elem.setAttribute("stroke-width",this.storedData[n].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,e,n){var i=" M"+e.v[0][0]+","+e.v[0][1],o,l;for(l=e._length,o=1;o<l;o+=1)i+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[o][0]+","+e.i[o][1]+" "+e.v[o][0]+","+e.v[o][1];if(e.c&&l>1&&(i+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==i){var u="";n.elem&&(e.c&&(u=t.inv?this.solidPath+i:i),n.elem.setAttribute("d",u)),n.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};t.createFilter=e,t.createAlphaToLuminanceFilter=n;function e(i,o){var l=createNS("filter");return l.setAttribute("id",i),o!==!0&&(l.setAttribute("filterUnits","objectBoundingBox"),l.setAttribute("x","0%"),l.setAttribute("y","0%"),l.setAttribute("width","100%"),l.setAttribute("height","100%")),l}function n(){var i=createNS("feColorMatrix");return i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),i}return t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,n="SourceGraphic",i=t.data.ef?t.data.ef.length:0,o=createElementID(),l=filtersFactory.createFilter(o,!0),u=0;this.filters=[];var f;for(e=0;e<i;e+=1){f=null;var d=t.data.ef[e].ty;if(registeredEffects$1[d]){var p=registeredEffects$1[d].effect;f=new p(l,t.effectsManager.effectElements[e],t,idPrefix+u,n),n=idPrefix+u,registeredEffects$1[d].countsAsEffect&&(u+=1)}f&&this.filters.push(f)}u&&(t.globalData.defs.appendChild(l),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+o+")")),this.filters.length&&t.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,n=this.filters.length,i=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&i.push(this.filters[e]);return i};function registerEffect$1(t,e,n){registeredEffects$1[t]={effect:e,countsAsEffect:n}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var n=createNS("g");n.setAttribute("id",this.layerId),n.appendChild(this.layerElement),e=n,this.globalData.defs.appendChild(n)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var i=createNS("clipPath"),o=createNS("path");o.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var l=createElementID();if(i.setAttribute("id",l),i.appendChild(o),this.globalData.defs.appendChild(i),this.checkMasks()){var u=createNS("g");u.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),u.appendChild(this.layerElement),this.transformedElement=u,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var n=this.layerId+"_"+e,i,o,l,u;if(e===1||e===3){var f=createNS("mask");f.setAttribute("id",n),f.setAttribute("mask-type",e===3?"luminance":"alpha"),l=createNS("use"),l.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),f.appendChild(l),this.globalData.defs.appendChild(f),!featureSupport.maskType&&e===1&&(f.setAttribute("mask-type","luminance"),i=createElementID(),o=filtersFactory.createFilter(i),this.globalData.defs.appendChild(o),o.appendChild(filtersFactory.createAlphaToLuminanceFilter()),u=createNS("g"),u.appendChild(l),f.appendChild(u),u.setAttribute("filter","url("+getLocationHref()+"#"+i+")"))}else if(e===2){var d=createNS("mask");d.setAttribute("id",n),d.setAttribute("mask-type","alpha");var p=createNS("g");d.appendChild(p),i=createElementID(),o=filtersFactory.createFilter(i);var g=createNS("feComponentTransfer");g.setAttribute("in","SourceGraphic"),o.appendChild(g);var E=createNS("feFuncA");E.setAttribute("type","table"),E.setAttribute("tableValues","1.0 0.0"),g.appendChild(E),this.globalData.defs.appendChild(o);var A=createNS("rect");A.setAttribute("width",this.comp.data.w),A.setAttribute("height",this.comp.data.h),A.setAttribute("x","0"),A.setAttribute("y","0"),A.setAttribute("fill","#ffffff"),A.setAttribute("opacity","0"),p.setAttribute("filter","url("+getLocationHref()+"#"+i+")"),p.appendChild(A),l=createNS("use"),l.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),p.appendChild(l),featureSupport.maskType||(d.setAttribute("mask-type","luminance"),o.appendChild(filtersFactory.createAlphaToLuminanceFilter()),u=createNS("g"),p.appendChild(A),u.appendChild(this.layerElement),p.appendChild(u)),this.globalData.defs.appendChild(d)}this.matteMasks[e]=n}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var t={initElement:function(n,i,o){this.initFrame(),this.initBaseData(n,i,o),this.initTransform(n,i,o),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var n=this.baseElement||this.layerElement;n.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var n=this.baseElement||this.layerElement;n.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(n){this._mdf=!1,this.prepareRenderableFrame(n),this.prepareProperties(n,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)})();function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(e){var n,i=this.shapeModifiers.length;for(n=0;n<i;n+=1)this.shapeModifiers[n].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var n=0,i=this.shapeModifiers.length;n<i;)if(this.shapeModifiers[n].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,n=this.shapes.length;for(e=0;e<n;e+=1)this.shapes[e].sh.reset();n=this.shapeModifiers.length;var i;for(e=n-1;e>=0&&(i=this.shapeModifiers[e].processShapes(this._isFirstFrame),!i);e-=1);}},searchProcessedElement:function(e){for(var n=this.processedElements,i=0,o=n.length;i<o;){if(n[i].elem===e)return n[i].pos;i+=1}return 0},addProcessedElement:function(e,n){for(var i=this.processedElements,o=i.length;o;)if(o-=1,i[o].elem===e){i[o].pos=n;return}i.push(new ProcessedElement(e,n))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var i=0,o=t.length;i<o;){if(t[i].mProps.dynamicProperties.length){this._isAnimated=!0;break}i+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(t,e,n,i){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(i);var o,l=e.length||0,u;for(o=0;o<l;o+=1)u=PropertyFactory.getProp(t,e[o].v,0,0,this),this.k=u.k||this.k,this.dataProps[o]={n:e[o].n,p:u};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(t){if(!(this.elem.globalData.frameId===this.frameId&&!t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<n;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var i=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,i=this.o.length/2,o;n<i;){if(o=Math.abs(t[n*4]-t[e*4+n*2]),o>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n=this.data.p*4,i,o;for(e=0;e<n;e+=1)i=e%4===0?100:255,o=Math.round(this.prop.v[e]*i),this.c[e]!==o&&(this.c[e]=o,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=this.data.p*4;e<n;e+=1)i=e%2===0?100:1,o=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==o&&(this.o[e-this.data.p*4]=o,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),i=createNS(e.t===1?"linearGradient":"radialGradient");i.setAttribute("id",n),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var o=[],l,u,f;for(f=e.g.p*4,u=0;u<f;u+=4)l=createNS("stop"),i.appendChild(l),o.push(l);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=i,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,i,o,l=createNS("mask"),u=createNS("path");l.appendChild(u);var f=createElementID(),d=createElementID();l.setAttribute("id",d);var p=createNS(t.t===1?"linearGradient":"radialGradient");p.setAttribute("id",f),p.setAttribute("spreadMethod","pad"),p.setAttribute("gradientUnits","userSpaceOnUse"),o=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var g=this.stops;for(i=t.g.p*4;i<o;i+=2)n=createNS("stop"),n.setAttribute("stop-color","rgb(255,255,255)"),p.appendChild(n),g.push(n);u.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+f+")"),t.ty==="gs"&&(u.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),u.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&u.setAttribute("stroke-miterlimit",t.ml)),this.of=p,this.ms=l,this.ost=g,this.maskId=d,e.msElem=u}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(e,n,i,o){if(n===0)return"";var l=e.o,u=e.i,f=e.v,d,p=" M"+o.applyToPointStringified(f[0][0],f[0][1]);for(d=1;d<n;d+=1)p+=" C"+o.applyToPointStringified(l[d-1][0],l[d-1][1])+" "+o.applyToPointStringified(u[d][0],u[d][1])+" "+o.applyToPointStringified(f[d][0],f[d][1]);return i&&n&&(p+=" C"+o.applyToPointStringified(l[d-1][0],l[d-1][1])+" "+o.applyToPointStringified(u[0][0],u[0][1])+" "+o.applyToPointStringified(f[0][0],f[0][1]),p+="z"),p},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix,n={createRenderFunction:i};function i(E){switch(E.ty){case"fl":return f;case"gf":return p;case"gs":return d;case"st":return g;case"sh":case"el":case"rc":case"sr":return u;case"tr":return o;case"no":return l;default:return null}}function o(E,A,R){(R||A.transform.op._mdf)&&A.transform.container.setAttribute("opacity",A.transform.op.v),(R||A.transform.mProps._mdf)&&A.transform.container.setAttribute("transform",A.transform.mProps.v.to2dCSS())}function l(){}function u(E,A,R){var I,j,q,L,z,U,W=A.styles.length,H=A.lvl,Z,Y,J,ne;for(U=0;U<W;U+=1){if(L=A.sh._mdf||R,A.styles[U].lvl<H){for(Y=e.reset(),J=H-A.styles[U].lvl,ne=A.transformers.length-1;!L&&J>0;)L=A.transformers[ne].mProps._mdf||L,J-=1,ne-=1;if(L)for(J=H-A.styles[U].lvl,ne=A.transformers.length-1;J>0;)Y.multiply(A.transformers[ne].mProps.v),J-=1,ne-=1}else Y=t;if(Z=A.sh.paths,j=Z._length,L){for(q="",I=0;I<j;I+=1)z=Z.shapes[I],z&&z._length&&(q+=buildShapeString(z,z._length,z.c,Y));A.caches[U]=q}else q=A.caches[U];A.styles[U].d+=E.hd===!0?"":q,A.styles[U]._mdf=L||A.styles[U]._mdf}}function f(E,A,R){var I=A.style;(A.c._mdf||R)&&I.pElem.setAttribute("fill","rgb("+bmFloor(A.c.v[0])+","+bmFloor(A.c.v[1])+","+bmFloor(A.c.v[2])+")"),(A.o._mdf||R)&&I.pElem.setAttribute("fill-opacity",A.o.v)}function d(E,A,R){p(E,A,R),g(E,A,R)}function p(E,A,R){var I=A.gf,j=A.g._hasOpacity,q=A.s.v,L=A.e.v;if(A.o._mdf||R){var z=E.ty==="gf"?"fill-opacity":"stroke-opacity";A.style.pElem.setAttribute(z,A.o.v)}if(A.s._mdf||R){var U=E.t===1?"x1":"cx",W=U==="x1"?"y1":"cy";I.setAttribute(U,q[0]),I.setAttribute(W,q[1]),j&&!A.g._collapsable&&(A.of.setAttribute(U,q[0]),A.of.setAttribute(W,q[1]))}var H,Z,Y,J;if(A.g._cmdf||R){H=A.cst;var ne=A.g.c;for(Y=H.length,Z=0;Z<Y;Z+=1)J=H[Z],J.setAttribute("offset",ne[Z*4]+"%"),J.setAttribute("stop-color","rgb("+ne[Z*4+1]+","+ne[Z*4+2]+","+ne[Z*4+3]+")")}if(j&&(A.g._omdf||R)){var ae=A.g.o;for(A.g._collapsable?H=A.cst:H=A.ost,Y=H.length,Z=0;Z<Y;Z+=1)J=H[Z],A.g._collapsable||J.setAttribute("offset",ae[Z*2]+"%"),J.setAttribute("stop-opacity",ae[Z*2+1])}if(E.t===1)(A.e._mdf||R)&&(I.setAttribute("x2",L[0]),I.setAttribute("y2",L[1]),j&&!A.g._collapsable&&(A.of.setAttribute("x2",L[0]),A.of.setAttribute("y2",L[1])));else{var se;if((A.s._mdf||A.e._mdf||R)&&(se=Math.sqrt(Math.pow(q[0]-L[0],2)+Math.pow(q[1]-L[1],2)),I.setAttribute("r",se),j&&!A.g._collapsable&&A.of.setAttribute("r",se)),A.e._mdf||A.h._mdf||A.a._mdf||R){se||(se=Math.sqrt(Math.pow(q[0]-L[0],2)+Math.pow(q[1]-L[1],2)));var ue=Math.atan2(L[1]-q[1],L[0]-q[0]),fe=A.h.v;fe>=1?fe=.99:fe<=-1&&(fe=-.99);var _e=se*fe,ge=Math.cos(ue+A.a.v)*_e+q[0],ce=Math.sin(ue+A.a.v)*_e+q[1];I.setAttribute("fx",ge),I.setAttribute("fy",ce),j&&!A.g._collapsable&&(A.of.setAttribute("fx",ge),A.of.setAttribute("fy",ce))}}}function g(E,A,R){var I=A.style,j=A.d;j&&(j._mdf||R)&&j.dashStr&&(I.pElem.setAttribute("stroke-dasharray",j.dashStr),I.pElem.setAttribute("stroke-dashoffset",j.dashoffset[0])),A.c&&(A.c._mdf||R)&&I.pElem.setAttribute("stroke","rgb("+bmFloor(A.c.v[0])+","+bmFloor(A.c.v[1])+","+bmFloor(A.c.v[2])+")"),(A.o._mdf||R)&&I.pElem.setAttribute("stroke-opacity",A.o.v),(A.w._mdf||R)&&(I.pElem.setAttribute("stroke-width",A.w.v),I.msElem&&I.msElem.setAttribute("stroke-width",A.w.v))}return n}();function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e=this.shapes.length,n,i,o=this.stylesList.length,l,u=[],f=!1;for(i=0;i<o;i+=1){for(l=this.stylesList[i],f=!1,u.length=0,t=0;t<e;t+=1)n=this.shapes[t],n.styles.indexOf(l)!==-1&&(u.push(n),f=n._isAnimated||f);u.length>1&&f&&this.setShapesAsAnimated(u)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,i=new SVGStyleData(t,e),o=i.pElem;if(t.ty==="st")n=new SVGStrokeStyleData(this,t,i);else if(t.ty==="fl")n=new SVGFillStyleData(this,t,i);else if(t.ty==="gf"||t.ty==="gs"){var l=t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;n=new l(this,t,i),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),o.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))}else t.ty==="no"&&(n=new SVGNoStyleData(this,t,i));return(t.ty==="st"||t.ty==="gs")&&(o.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),o.setAttribute("fill-opacity","0"),t.lj===1&&o.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&o.setAttribute("fill-rule","evenodd"),t.ln&&o.setAttribute("id",t.ln),t.cl&&o.setAttribute("class",t.cl),t.bm&&(o.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(i),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),i=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var i=4;t.ty==="rc"?i=5:t.ty==="el"?i=6:t.ty==="sr"&&(i=7);var o=ShapePropertyFactory.getShapeProp(this,t,i,this),l=new SVGShapeData(e,n,o);return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(t,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,i=this.animatedContents.length;n<i;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e=t.styles,n,i=this.stylesList.length;for(n=0;n<i;n+=1)this.stylesList[n].closed||e.push(this.stylesList[n])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,i,o,l,u){var f=[].concat(l),d,p=t.length-1,g,E,A=[],R=[],I,j,q;for(d=p;d>=0;d-=1){if(q=this.searchProcessedElement(t[d]),q?e[d]=n[q-1]:t[d]._render=u,t[d].ty==="fl"||t[d].ty==="st"||t[d].ty==="gf"||t[d].ty==="gs"||t[d].ty==="no")q?e[d].style.closed=!1:e[d]=this.createStyleElement(t[d],o),t[d]._render&&e[d].style.pElem.parentNode!==i&&i.appendChild(e[d].style.pElem),A.push(e[d].style);else if(t[d].ty==="gr"){if(!q)e[d]=this.createGroupElement(t[d]);else for(E=e[d].it.length,g=0;g<E;g+=1)e[d].prevViewData[g]=e[d].it[g];this.searchShapes(t[d].it,e[d].it,e[d].prevViewData,e[d].gr,o+1,f,u),t[d]._render&&e[d].gr.parentNode!==i&&i.appendChild(e[d].gr)}else t[d].ty==="tr"?(q||(e[d]=this.createTransformElement(t[d],i)),I=e[d].transform,f.push(I)):t[d].ty==="sh"||t[d].ty==="rc"||t[d].ty==="el"||t[d].ty==="sr"?(q||(e[d]=this.createShapeElement(t[d],f,o)),this.setElementStyles(e[d])):t[d].ty==="tm"||t[d].ty==="rd"||t[d].ty==="ms"||t[d].ty==="pb"||t[d].ty==="zz"||t[d].ty==="op"?(q?(j=e[d],j.closed=!1):(j=ShapeModifiers.getModifier(t[d].ty),j.init(this,t[d]),e[d]=j,this.shapeModifiers.push(j)),R.push(j)):t[d].ty==="rp"&&(q?(j=e[d],j.closed=!0):(j=ShapeModifiers.getModifier(t[d].ty),e[d]=j,j.init(this,t,d,e),this.shapeModifiers.push(j),u=!1),R.push(j));this.addProcessedElement(t[d],d+1)}for(p=A.length,d=0;d<p;d+=1)A[d].closed=!0;for(p=R.length,d=0;d<p;d+=1)R[d].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e=this.animatedContents.length,n;for(t=0;t<e;t+=1)n=this.animatedContents[t],(this._isFirstFrame||n.element._isAnimated)&&n.data!==!0&&n.fn(n.data,n.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(t,e,n,i,o,l){this.o=t,this.sw=e,this.sc=n,this.fc=i,this.m=o,this.p=l,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!i,m:!0,p:!0}}LetterProps.prototype.update=function(t,e,n,i,o,l){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var u=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,u=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,u=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,u=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,u=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,u=!0),l.length&&(this.p[0]!==l[0]||this.p[1]!==l[1]||this.p[4]!==l[4]||this.p[5]!==l[5]||this.p[12]!==l[12]||this.p[13]!==l[13])&&(this.p=l,this._mdf.p=!0,u=!0),u};function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!t)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var i,o=this.effectsSequence.length,l=t||this.data.d.k[this.keysIndex].s;for(i=0;i<o;i+=1)n!==this.keysIndex?l=this.effectsSequence[i](l,l.t):l=this.effectsSequence[i](this.currentData,l.t);e!==l&&this.setCurrentData(l),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,i=t.length;n<=i-1&&!(n===i-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e=[],n=0,i=t.length,o,l,u=!1,f=!1,d="";n<i;)u=f,f=!1,o=t.charCodeAt(n),d=t.charAt(n),FontManager.isCombinedCharacter(o)?u=!0:o>=55296&&o<=56319?FontManager.isRegionalFlag(t,n)?d=t.substr(n,14):(l=t.charCodeAt(n+1),l>=56320&&l<=57343&&(FontManager.isModifier(o,l)?(d=t.substr(n,2),u=!0):FontManager.isFlagEmoji(t.substr(n,4))?d=t.substr(n,4):d=t.substr(n,2))):o>56319?(l=t.charCodeAt(n+1),FontManager.isVariationSelector(o)&&(u=!0)):FontManager.isZeroWidthJoiner(o)&&(u=!0,f=!0),u?(e[e.length-1]+=d,u=!1):e.push(d),n+=d.length;return e},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e=this.elem.globalData.fontManager,n=this.data,i=[],o,l,u,f=0,d,p=n.m.g,g=0,E=0,A=0,R=[],I=0,j=0,q,L,z=e.getFontByName(t.f),U,W=0,H=getFontProperties(z);t.fWeight=H.weight,t.fStyle=H.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),l=t.finalText.length,t.finalLineHeight=t.lh;var Z=t.tr/1e3*t.finalSize,Y;if(t.sz)for(var J=!0,ne=t.sz[0],ae=t.sz[1],se,ue;J;){ue=this.buildFinalText(t.t),se=0,I=0,l=ue.length,Z=t.tr/1e3*t.finalSize;var fe=-1;for(o=0;o<l;o+=1)Y=ue[o].charCodeAt(0),u=!1,ue[o]===" "?fe=o:(Y===13||Y===3)&&(I=0,u=!0,se+=t.finalLineHeight||t.finalSize*1.2),e.chars?(U=e.getCharData(ue[o],z.fStyle,z.fFamily),W=u?0:U.w*t.finalSize/100):W=e.measureText(ue[o],t.f,t.finalSize),I+W>ne&&ue[o]!==" "?(fe===-1?l+=1:o=fe,se+=t.finalLineHeight||t.finalSize*1.2,ue.splice(o,fe===o?1:0,"\r"),fe=-1,I=0):(I+=W,I+=Z);se+=z.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&ae<se?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=ue,l=t.finalText.length,J=!1)}I=-Z,W=0;var _e=0,ge;for(o=0;o<l;o+=1)if(u=!1,ge=t.finalText[o],Y=ge.charCodeAt(0),Y===13||Y===3?(_e=0,R.push(I),j=I>j?I:j,I=-2*Z,d="",u=!0,A+=1):d=ge,e.chars?(U=e.getCharData(ge,z.fStyle,e.getFontByName(t.f).fFamily),W=u?0:U.w*t.finalSize/100):W=e.measureText(d,t.f,t.finalSize),ge===" "?_e+=W+Z:(I+=W+Z+_e,_e=0),i.push({l:W,an:W,add:g,n:u,anIndexes:[],val:d,line:A,animatorJustifyOffset:0}),p==2){if(g+=W,d===""||d===" "||o===l-1){for((d===""||d===" ")&&(g-=W);E<=o;)i[E].an=g,i[E].ind=f,i[E].extra=W,E+=1;f+=1,g=0}}else if(p==3){if(g+=W,d===""||o===l-1){for(d===""&&(g-=W);E<=o;)i[E].an=g,i[E].ind=f,i[E].extra=W,E+=1;g=0,f+=1}}else i[f].ind=f,i[f].extra=0,f+=1;if(t.l=i,j=I>j?I:j,R.push(I),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=j,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=R;var ce=n.a,me,ee;L=ce.length;var ie,oe,de=[];for(q=0;q<L;q+=1){for(me=ce[q],me.a.sc&&(t.strokeColorAnim=!0),me.a.sw&&(t.strokeWidthAnim=!0),(me.a.fc||me.a.fh||me.a.fs||me.a.fb)&&(t.fillColorAnim=!0),oe=0,ie=me.s.b,o=0;o<l;o+=1)ee=i[o],ee.anIndexes[q]=oe,(ie==1&&ee.val!==""||ie==2&&ee.val!==""&&ee.val!==" "||ie==3&&(ee.n||ee.val==" "||o==l-1)||ie==4&&(ee.n||o==l-1))&&(me.s.rn===1&&de.push(oe),oe+=1);n.a[q].s.totalChars=oe;var xe=-1,Ee;if(me.s.rn===1)for(o=0;o<l;o+=1)ee=i[o],xe!=ee.anIndexes[q]&&(xe=ee.anIndexes[q],Ee=de.splice(Math.floor(Math.random()*de.length),1)[0]),ee.anIndexes[q]=Ee}t.yOffset=t.finalLineHeight||t.finalSize*1.2,t.ls=t.ls||0,t.ascent=z.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var n=this.copyData({},this.data.d.k[e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function i(l,u){this._currentTextLength=-1,this.k=!1,this.data=u,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,u.s||{k:0},0,0,this),"e"in u?this.e=PropertyFactory.getProp(l,u.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(l,u.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,u.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,u.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,u.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,u.a,0,.01,this),this.dynamicProperties.length||this.getValue()}i.prototype={getMult:function(u){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var f=0,d=0,p=1,g=1;this.ne.v>0?f=this.ne.v/100:d=-this.ne.v/100,this.xe.v>0?p=1-this.xe.v/100:g=1+this.xe.v/100;var E=BezierFactory.getBezierEasing(f,d,p,g).get,A=0,R=this.finalS,I=this.finalE,j=this.data.sh;if(j===2)I===R?A=u>=I?1:0:A=t(0,e(.5/(I-R)+(u-R)/(I-R),1)),A=E(A);else if(j===3)I===R?A=u>=I?0:1:A=1-t(0,e(.5/(I-R)+(u-R)/(I-R),1)),A=E(A);else if(j===4)I===R?A=0:(A=t(0,e(.5/(I-R)+(u-R)/(I-R),1)),A<.5?A*=2:A=1-2*(A-.5)),A=E(A);else if(j===5){if(I===R)A=0;else{var q=I-R;u=e(t(0,u+.5-R),I-R);var L=-q/2+u,z=q/2;A=Math.sqrt(1-L*L/(z*z))}A=E(A)}else j===6?(I===R?A=0:(u=e(t(0,u+.5-R),I-R),A=(1+Math.cos(Math.PI+Math.PI*2*u/(I-R)))/2),A=E(A)):(u>=n(R)&&(u-R<0?A=t(0,e(e(I,1)-(R-u),1)):A=t(0,e(I-u,1))),A=E(A));if(this.sm.v!==100){var U=this.sm.v*.01;U===0&&(U=1e-8);var W=.5-U*.5;A<W?A=0:(A=(A-W)/U,A>1&&(A=1))}return A*this.a.v},getValue:function(u){this.iterateDynamicProperties(),this._mdf=u||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,u&&this.data.r===2&&(this.e.v=this._currentTextLength);var f=this.data.r===2?1:100/this.data.totalChars,d=this.o.v/f,p=this.s.v/f+d,g=this.e.v/f+d;if(p>g){var E=p;p=g,g=E}this.finalS=p,this.finalE=g}},extendPrototype([DynamicPropertyContainer],i);function o(l,u,f){return new i(l,u)}return{getTextSelectorProp:o}}();function TextAnimatorDataProperty(t,e,n){var i={propType:!1},o=PropertyFactory.getProp,l=e.a;this.a={r:l.r?o(t,l.r,0,degToRads,n):i,rx:l.rx?o(t,l.rx,0,degToRads,n):i,ry:l.ry?o(t,l.ry,0,degToRads,n):i,sk:l.sk?o(t,l.sk,0,degToRads,n):i,sa:l.sa?o(t,l.sa,0,degToRads,n):i,s:l.s?o(t,l.s,1,.01,n):i,a:l.a?o(t,l.a,1,0,n):i,o:l.o?o(t,l.o,0,.01,n):i,p:l.p?o(t,l.p,1,0,n):i,sw:l.sw?o(t,l.sw,0,0,n):i,sc:l.sc?o(t,l.sc,1,0,n):i,fc:l.fc?o(t,l.fc,1,0,n):i,fh:l.fh?o(t,l.fh,0,0,n):i,fs:l.fs?o(t,l.fs,0,.01,n):i,fb:l.fb?o(t,l.fb,0,.01,n):i,t:l.t?o(t,l.t,0,0,n):i},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e=this._textData.a.length,n,i=PropertyFactory.getProp;for(t=0;t<e;t+=1)n=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,n,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:i(this._elem,this._textData.p.a,0,0,this),f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:i(this._elem,this._textData.p.r,0,0,this),p:i(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var n=this._moreOptions.alignment.v,i=this._animatorsData,o=this._textData,l=this.mHelper,u=this._renderType,f=this.renderedLetters.length,d,p,g,E,A=t.l,R,I,j,q,L,z,U,W,H,Z,Y,J,ne,ae,se;if(this._hasMaskedPath){if(se=this._pathData.m,!this._pathData.n||this._pathData._mdf){var ue=se.v;this._pathData.r.v&&(ue=ue.reverse()),R={tLength:0,segments:[]},E=ue._length-1;var fe;for(J=0,g=0;g<E;g+=1)fe=bez.buildBezierData(ue.v[g],ue.v[g+1],[ue.o[g][0]-ue.v[g][0],ue.o[g][1]-ue.v[g][1]],[ue.i[g+1][0]-ue.v[g+1][0],ue.i[g+1][1]-ue.v[g+1][1]]),R.tLength+=fe.segmentLength,R.segments.push(fe),J+=fe.segmentLength;g=E,se.v.c&&(fe=bez.buildBezierData(ue.v[g],ue.v[0],[ue.o[g][0]-ue.v[g][0],ue.o[g][1]-ue.v[g][1]],[ue.i[0][0]-ue.v[0][0],ue.i[0][1]-ue.v[0][1]]),R.tLength+=fe.segmentLength,R.segments.push(fe),J+=fe.segmentLength),this._pathData.pi=R}if(R=this._pathData.pi,I=this._pathData.f.v,U=0,z=1,q=0,L=!0,Z=R.segments,I<0&&se.v.c)for(R.tLength<Math.abs(I)&&(I=-Math.abs(I)%R.tLength),U=Z.length-1,H=Z[U].points,z=H.length-1;I<0;)I+=H[z].partialLength,z-=1,z<0&&(U-=1,H=Z[U].points,z=H.length-1);H=Z[U].points,W=H[z-1],j=H[z],Y=j.partialLength}E=A.length,d=0,p=0;var _e=t.finalSize*1.2*.714,ge=!0,ce,me,ee,ie,oe;ie=i.length;var de,xe=-1,Ee,Ae,Ce,Oe=I,We=U,qe=z,Ne=-1,Me,Be,je,ze,ke,Ge,He,ct,tr="",ar=this.defaultPropsArray,vt;if(t.j===2||t.j===1){var xt=0,ur=0,yr=t.j===2?-.5:-1,Mt=0,Sr=!0;for(g=0;g<E;g+=1)if(A[g].n){for(xt&&(xt+=ur);Mt<g;)A[Mt].animatorJustifyOffset=xt,Mt+=1;xt=0,Sr=!0}else{for(ee=0;ee<ie;ee+=1)ce=i[ee].a,ce.t.propType&&(Sr&&t.j===2&&(ur+=ce.t.v*yr),me=i[ee].s,de=me.getMult(A[g].anIndexes[ee],o.a[ee].s.totalChars),de.length?xt+=ce.t.v*de[0]*yr:xt+=ce.t.v*de*yr);Sr=!1}for(xt&&(xt+=ur);Mt<g;)A[Mt].animatorJustifyOffset=xt,Mt+=1}for(g=0;g<E;g+=1){if(l.reset(),Me=1,A[g].n)d=0,p+=t.yOffset,p+=ge?1:0,I=Oe,ge=!1,this._hasMaskedPath&&(U=We,z=qe,H=Z[U].points,W=H[z-1],j=H[z],Y=j.partialLength,q=0),tr="",ct="",Ge="",vt="",ar=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Ne!==A[g].line){switch(t.j){case 1:I+=J-t.lineWidths[A[g].line];break;case 2:I+=(J-t.lineWidths[A[g].line])/2;break}Ne=A[g].line}xe!==A[g].ind&&(A[xe]&&(I+=A[xe].extra),I+=A[g].an/2,xe=A[g].ind),I+=n[0]*A[g].an*.005;var Lt=0;for(ee=0;ee<ie;ee+=1)ce=i[ee].a,ce.p.propType&&(me=i[ee].s,de=me.getMult(A[g].anIndexes[ee],o.a[ee].s.totalChars),de.length?Lt+=ce.p.v[0]*de[0]:Lt+=ce.p.v[0]*de),ce.a.propType&&(me=i[ee].s,de=me.getMult(A[g].anIndexes[ee],o.a[ee].s.totalChars),de.length?Lt+=ce.a.v[0]*de[0]:Lt+=ce.a.v[0]*de);for(L=!0,this._pathData.a.v&&(I=A[0].an*.5+(J-this._pathData.f.v-A[0].an*.5-A[A.length-1].an*.5)*xe/(E-1),I+=this._pathData.f.v);L;)q+Y>=I+Lt||!H?(ne=(I+Lt-q)/j.partialLength,Ae=W.point[0]+(j.point[0]-W.point[0])*ne,Ce=W.point[1]+(j.point[1]-W.point[1])*ne,l.translate(-n[0]*A[g].an*.005,-(n[1]*_e)*.01),L=!1):H&&(q+=j.partialLength,z+=1,z>=H.length&&(z=0,U+=1,Z[U]?H=Z[U].points:se.v.c?(z=0,U=0,H=Z[U].points):(q-=j.partialLength,H=null)),H&&(W=j,j=H[z],Y=j.partialLength));Ee=A[g].an/2-A[g].add,l.translate(-Ee,0,0)}else Ee=A[g].an/2-A[g].add,l.translate(-Ee,0,0),l.translate(-n[0]*A[g].an*.005,-n[1]*_e*.01,0);for(ee=0;ee<ie;ee+=1)ce=i[ee].a,ce.t.propType&&(me=i[ee].s,de=me.getMult(A[g].anIndexes[ee],o.a[ee].s.totalChars),(d!==0||t.j!==0)&&(this._hasMaskedPath?de.length?I+=ce.t.v*de[0]:I+=ce.t.v*de:de.length?d+=ce.t.v*de[0]:d+=ce.t.v*de));for(t.strokeWidthAnim&&(je=t.sw||0),t.strokeColorAnim&&(t.sc?Be=[t.sc[0],t.sc[1],t.sc[2]]:Be=[0,0,0]),t.fillColorAnim&&t.fc&&(ze=[t.fc[0],t.fc[1],t.fc[2]]),ee=0;ee<ie;ee+=1)ce=i[ee].a,ce.a.propType&&(me=i[ee].s,de=me.getMult(A[g].anIndexes[ee],o.a[ee].s.totalChars),de.length?l.translate(-ce.a.v[0]*de[0],-ce.a.v[1]*de[1],ce.a.v[2]*de[2]):l.translate(-ce.a.v[0]*de,-ce.a.v[1]*de,ce.a.v[2]*de));for(ee=0;ee<ie;ee+=1)ce=i[ee].a,ce.s.propType&&(me=i[ee].s,de=me.getMult(A[g].anIndexes[ee],o.a[ee].s.totalChars),de.length?l.scale(1+(ce.s.v[0]-1)*de[0],1+(ce.s.v[1]-1)*de[1],1):l.scale(1+(ce.s.v[0]-1)*de,1+(ce.s.v[1]-1)*de,1));for(ee=0;ee<ie;ee+=1){if(ce=i[ee].a,me=i[ee].s,de=me.getMult(A[g].anIndexes[ee],o.a[ee].s.totalChars),ce.sk.propType&&(de.length?l.skewFromAxis(-ce.sk.v*de[0],ce.sa.v*de[1]):l.skewFromAxis(-ce.sk.v*de,ce.sa.v*de)),ce.r.propType&&(de.length?l.rotateZ(-ce.r.v*de[2]):l.rotateZ(-ce.r.v*de)),ce.ry.propType&&(de.length?l.rotateY(ce.ry.v*de[1]):l.rotateY(ce.ry.v*de)),ce.rx.propType&&(de.length?l.rotateX(ce.rx.v*de[0]):l.rotateX(ce.rx.v*de)),ce.o.propType&&(de.length?Me+=(ce.o.v*de[0]-Me)*de[0]:Me+=(ce.o.v*de-Me)*de),t.strokeWidthAnim&&ce.sw.propType&&(de.length?je+=ce.sw.v*de[0]:je+=ce.sw.v*de),t.strokeColorAnim&&ce.sc.propType)for(ke=0;ke<3;ke+=1)de.length?Be[ke]+=(ce.sc.v[ke]-Be[ke])*de[0]:Be[ke]+=(ce.sc.v[ke]-Be[ke])*de;if(t.fillColorAnim&&t.fc){if(ce.fc.propType)for(ke=0;ke<3;ke+=1)de.length?ze[ke]+=(ce.fc.v[ke]-ze[ke])*de[0]:ze[ke]+=(ce.fc.v[ke]-ze[ke])*de;ce.fh.propType&&(de.length?ze=addHueToRGB(ze,ce.fh.v*de[0]):ze=addHueToRGB(ze,ce.fh.v*de)),ce.fs.propType&&(de.length?ze=addSaturationToRGB(ze,ce.fs.v*de[0]):ze=addSaturationToRGB(ze,ce.fs.v*de)),ce.fb.propType&&(de.length?ze=addBrightnessToRGB(ze,ce.fb.v*de[0]):ze=addBrightnessToRGB(ze,ce.fb.v*de))}}for(ee=0;ee<ie;ee+=1)ce=i[ee].a,ce.p.propType&&(me=i[ee].s,de=me.getMult(A[g].anIndexes[ee],o.a[ee].s.totalChars),this._hasMaskedPath?de.length?l.translate(0,ce.p.v[1]*de[0],-ce.p.v[2]*de[1]):l.translate(0,ce.p.v[1]*de,-ce.p.v[2]*de):de.length?l.translate(ce.p.v[0]*de[0],ce.p.v[1]*de[1],-ce.p.v[2]*de[2]):l.translate(ce.p.v[0]*de,ce.p.v[1]*de,-ce.p.v[2]*de));if(t.strokeWidthAnim&&(Ge=je<0?0:je),t.strokeColorAnim&&(He="rgb("+Math.round(Be[0]*255)+","+Math.round(Be[1]*255)+","+Math.round(Be[2]*255)+")"),t.fillColorAnim&&t.fc&&(ct="rgb("+Math.round(ze[0]*255)+","+Math.round(ze[1]*255)+","+Math.round(ze[2]*255)+")"),this._hasMaskedPath){if(l.translate(0,-t.ls),l.translate(0,n[1]*_e*.01+p,0),this._pathData.p.v){ae=(j.point[1]-W.point[1])/(j.point[0]-W.point[0]);var Ft=Math.atan(ae)*180/Math.PI;j.point[0]<W.point[0]&&(Ft+=180),l.rotate(-Ft*Math.PI/180)}l.translate(Ae,Ce,0),I-=n[0]*A[g].an*.005,A[g+1]&&xe!==A[g+1].ind&&(I+=A[g].an/2,I+=t.tr*.001*t.finalSize)}else{switch(l.translate(d,p,0),t.ps&&l.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:l.translate(A[g].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[A[g].line]),0,0);break;case 2:l.translate(A[g].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[A[g].line])/2,0,0);break}l.translate(0,-t.ls),l.translate(Ee,0,0),l.translate(n[0]*A[g].an*.005,n[1]*_e*.01,0),d+=A[g].l+t.tr*.001*t.finalSize}u==="html"?tr=l.toCSS():u==="svg"?tr=l.to2dCSS():ar=[l.props[0],l.props[1],l.props[2],l.props[3],l.props[4],l.props[5],l.props[6],l.props[7],l.props[8],l.props[9],l.props[10],l.props[11],l.props[12],l.props[13],l.props[14],l.props[15]],vt=Me}f<=g?(oe=new LetterProps(vt,Ge,He,ct,tr,ar),this.renderedLetters.push(oe),f+=1,this.lettersChangedFlag=!0):(oe=this.renderedLetters[g],this.lettersChangedFlag=oe.update(vt,Ge,He,ct,tr,ar)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var n,i=e.length,o,l="";for(n=0;n<i;n+=1)e[n].ty==="sh"&&(o=e[n].ks.k,l+=buildShapeString(o,o.i.length,!0,t));return l},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,i,o){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0);break}e.translate(i,o,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(t[0]*255)+","+Math.round(t[1]*255)+","+Math.round(t[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,i=[],o="";e<n;)t[e]==="\r"||t[e]===""?(i.push(o),o=""):o+=t[e],e+=1;return i.push(o),i},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var n=t.shapes[0];if(n.it){var i=n.it[n.it.length-1];i.s&&(i.s.k[0]=e,i.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t,e,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var i=this.globalData.fontManager.getFontByName(n.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var o=n.fWeight,l=n.fStyle;this.layerElement.setAttribute("font-style",l),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",n.t);var u=n.l||[],f=!!this.globalData.fontManager.chars;e=u.length;var d,p=this.mHelper,g="",E=this.data.singleShape,A=0,R=0,I=!0,j=n.tr*.001*n.finalSize;if(E&&!f&&!n.sz){var q=this.textContainer,L="start";switch(n.j){case 1:L="end";break;case 2:L="middle";break;default:L="start";break}q.setAttribute("text-anchor",L),q.setAttribute("letter-spacing",j);var z=this.buildTextContents(n.finalText);for(e=z.length,R=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)d=this.textSpans[t].span||createNS("tspan"),d.textContent=z[t],d.setAttribute("x",0),d.setAttribute("y",R),d.style.display="inherit",q.appendChild(d),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=d,R+=n.finalLineHeight;this.layerElement.appendChild(q)}else{var U=this.textSpans.length,W;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!f||!E||t===0){if(d=U>t?this.textSpans[t].span:createNS(f?"g":"text"),U<=t){if(d.setAttribute("stroke-linecap","butt"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=d,f){var H=createNS("g");d.appendChild(H),this.textSpans[t].childSpan=H}this.textSpans[t].span=d,this.layerElement.appendChild(d)}d.style.display="inherit"}if(p.reset(),E&&(u[t].n&&(A=-j,R+=n.yOffset,R+=I?1:0,I=!1),this.applyTextPropertiesToMatrix(n,p,u[t].line,A,R),A+=u[t].l||0,A+=j),f){W=this.globalData.fontManager.getCharData(n.finalText[t],i.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily);var Z;if(W.t===1)Z=new SVGCompElement(W.data,this.globalData,this);else{var Y=emptyShapeData;W.data&&W.data.shapes&&(Y=this.buildShapeData(W.data,n.finalSize)),Z=new SVGShapeElement(Y,this.globalData,this)}if(this.textSpans[t].glyph){var J=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(J.layerElement),J.destroy()}this.textSpans[t].glyph=Z,Z._debug=!0,Z.prepareFrame(0),Z.renderFrame(),this.textSpans[t].childSpan.appendChild(Z.layerElement),W.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else E&&d.setAttribute("transform","translate("+p.props[12]+","+p.props[13]+")"),d.textContent=u[t].val,d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}E&&d&&d.setAttribute("d",g)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e=this.textSpans.length,n;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<e;t+=1)n=this.textSpans[t].glyph,n&&(n.prepareFrame(this.comp.renderedFrame-this.data.st),n._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,n=this.textAnimator.renderedLetters,i=this.textProperty.currentData.l;e=i.length;var o,l,u;for(t=0;t<e;t+=1)i[t].n||(o=n[t],l=this.textSpans[t].span,u=this.textSpans[t].glyph,u&&u.renderFrame(),o._mdf.m&&l.setAttribute("transform",o.m),o._mdf.o&&l.setAttribute("opacity",o.o),o._mdf.sw&&l.setAttribute("stroke-width",o.sw),o._mdf.sc&&l.setAttribute("stroke",o.sc),o._mdf.fc&&l.setAttribute("fill",o.fc))}};function ISolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)};function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),i=createNS("rect");i.setAttribute("width",t.w),i.setAttribute("height",t.h),i.setAttribute("x",0),i.setAttribute("y",0);var o=createElementID();n.setAttribute("id",o),n.appendChild(i),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,n=this.layers.length;for(e=0;e<n;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){e[t]=!0;var n=this.createItem(this.layers[t]);if(e[t]=n,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt){var i="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(i===-1)return;if(!this.elements[i]||this.elements[i]===!0)this.buildItem(i),this.addPendingElement(n);else{var o=e[i],l=o.getMatte(this.layers[t].tt);n.setMatte(l)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){var i="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,o=this.elements[i],l=o.getMatte(this.layers[e].tt);t.setMatte(l);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(!(this.renderedFrame===t||this.destroyed)){t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var i=0,o;i<e;)this.elements[i]&&this.elements[i]!==!0&&this.elements[i].getBaseElement()&&(o=this.elements[i].getBaseElement()),i+=1;o?this.layerElement.insertBefore(n,o):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=i-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var i=createNS("title"),o=createElementID();i.setAttribute("id",o),i.textContent=e.title,this.svgElement.appendChild(i),n+=o}if(e&&e.description){var l=createNS("desc"),u=createElementID();l.setAttribute("id",u),l.textContent=e.description,this.svgElement.appendChild(l),n+=" "+u}n&&this.svgElement.setAttribute("aria-labelledby",n);var f=createNS("defs");this.svgElement.appendChild(f);var d=createNS("g");this.svgElement.appendChild(d),this.layerElement=d,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:f,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(e){var n,i=e.length,o="_";for(n=0;n<i;n+=1)o+=e[n].transform.key+"_";var l=this.sequences[o];return l||(l={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=l,this.sequenceList.push(l)),l},processSequence:function(e,n){for(var i=0,o=e.transforms.length,l=n;i<o&&!n;){if(e.transforms[i].transform.mProps._mdf){l=!0;break}i+=1}if(l)for(e.finalTransform.reset(),i=o-1;i>=0;i-=1)e.finalTransform.multiply(e.transforms[i].transform.mProps.v);e._mdf=l},processSequences:function(e){var n,i=this.sequenceList.length;for(n=0;n<i;n+=1)this.processSequence(this.sequenceList[n],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",n=null,i=null,o=null;function l(){var d=createNS("svg"),p=createNS("filter"),g=createNS("feColorMatrix");return p.setAttribute("id",e),g.setAttribute("type","matrix"),g.setAttribute("color-interpolation-filters","sRGB"),g.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),p.appendChild(g),d.appendChild(p),d.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(d.style.display="none"),d}function u(){n||(o=l(),document.body.appendChild(o),n=createTag("canvas"),i=n.getContext("2d"),i.filter="url(#"+e+")",i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1))}function f(d){return n||u(),n.width=d.width,n.height=d.height,i.filter="url(#"+e+")",n}return{load:u,get:f}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var n=createTag("canvas");return n.width=t,n.height=e,n}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(t){var e,n=t.data.ef?t.data.ef.length:0;this.filters=[];var i;for(e=0;e<n;e+=1){i=null;var o=t.data.ef[e].ty;if(registeredEffects[o]){var l=registeredEffects[o].effect;i=new l(t.effectsManager.effectElements[e],t)}i&&this.filters.push(i)}this.filters.length&&t.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,n=this.filters.length,i=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&i.push(this.filters[e]);return i};function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,i=this.masksProperties.length,o=!1;for(n=0;n<i;n+=1)this.masksProperties[n].mode!=="n"&&(o=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t=this.element.finalTransform.mat,e=this.element.canvasContext,n,i=this.masksProperties.length,o,l,u;for(e.beginPath(),n=0;n<i;n+=1)if(this.masksProperties[n].mode!=="n"){this.masksProperties[n].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),u=this.viewData[n].v,o=t.applyToPointArray(u.v[0][0],u.v[0][1],0),e.moveTo(o[0],o[1]);var f,d=u._length;for(f=1;f<d;f+=1)l=t.applyToTriplePoints(u.o[f-1],u.i[f],u.v[f]),e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);l=t.applyToTriplePoints(u.o[f-1],u.i[0],u.v[0]),e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,n=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(n);var i=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(i),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var n=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=n}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0],n=e.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],n=e.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var i=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(i.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var o=assetLoader.getLumaCanvas(this.canvasContext.canvas),l=o.getContext("2d");l.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(o,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var n=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(n),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(n),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(t,e,n,i){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o=4;e.ty==="rc"?o=5:e.ty==="el"?o=6:e.ty==="sr"&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,o,t);var l,u=n.length,f;for(l=0;l<u;l+=1)n[l].closed||(f={transforms:i.addTransformSequence(n[l].transforms),trNodes:[]},this.styledShapes.push(f),n[l].elements.push(f))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},i={};if(t.ty==="fl"||t.ty==="st"?(i.c=PropertyFactory.getProp(this,t.c,1,255,this),i.c.k||(n.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")")):(t.ty==="gf"||t.ty==="gs")&&(i.s=PropertyFactory.getProp(this,t.s,1,null,this),i.e=PropertyFactory.getProp(this,t.e,1,null,this),i.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),i.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),i.g=new GradientProperty(this,t.g,this)),i.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],t.lj==1&&(n.ml=t.ml),i.w=PropertyFactory.getProp(this,t.w,0,null,this),i.w.k||(n.wi=i.w.v),t.d){var o=new DashProperty(this,t.d,"canvas",this);i.d=o,i.d.k||(n.da=i.d.dashArray,n.do=i.d.dashoffset[0])}}else n.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(n),i.style=n,i},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return e},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,i,o){var l,u=t.length-1,f,d,p=[],g=[],E,A,R,I=[].concat(o);for(l=u;l>=0;l-=1){if(E=this.searchProcessedElement(t[l]),E?e[l]=n[E-1]:t[l]._shouldRender=i,t[l].ty==="fl"||t[l].ty==="st"||t[l].ty==="gf"||t[l].ty==="gs")E?e[l].style.closed=!1:e[l]=this.createStyleElement(t[l],I),p.push(e[l].style);else if(t[l].ty==="gr"){if(!E)e[l]=this.createGroupElement(t[l]);else for(d=e[l].it.length,f=0;f<d;f+=1)e[l].prevViewData[f]=e[l].it[f];this.searchShapes(t[l].it,e[l].it,e[l].prevViewData,i,I)}else t[l].ty==="tr"?(E||(R=this.createTransformElement(t[l]),e[l]=R),I.push(e[l]),this.addTransformToStyleList(e[l])):t[l].ty==="sh"||t[l].ty==="rc"||t[l].ty==="el"||t[l].ty==="sr"?E||(e[l]=this.createShapeElement(t[l])):t[l].ty==="tm"||t[l].ty==="rd"||t[l].ty==="pb"||t[l].ty==="zz"||t[l].ty==="op"?(E?(A=e[l],A.closed=!1):(A=ShapeModifiers.getModifier(t[l].ty),A.init(this,t[l]),e[l]=A,this.shapeModifiers.push(A)),g.push(A)):t[l].ty==="rp"&&(E?(A=e[l],A.closed=!0):(A=ShapeModifiers.getModifier(t[l].ty),e[l]=A,A.init(this,t,l,e),this.shapeModifiers.push(A),i=!1),g.push(A));this.addProcessedElement(t[l],l+1)}for(this.removeTransformFromStyleList(),this.closeStyles(p),u=g.length,l=0;l<u;l+=1)g[l].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e=this.stylesList.length,n,i,o,l,u,f,d=this.globalData.renderer,p=this.globalData.canvasContext,g,E;for(t=0;t<e;t+=1)if(E=this.stylesList[t],g=E.type,!((g==="st"||g==="gs")&&E.wi===0||!E.data._shouldRender||E.coOp===0||this.globalData.currentGlobalAlpha===0)){for(d.save(),u=E.elements,g==="st"||g==="gs"?(d.ctxStrokeStyle(g==="st"?E.co:E.grd),d.ctxLineWidth(E.wi),d.ctxLineCap(E.lc),d.ctxLineJoin(E.lj),d.ctxMiterLimit(E.ml||0)):d.ctxFillStyle(g==="fl"?E.co:E.grd),d.ctxOpacity(E.coOp),g!=="st"&&g!=="gs"&&p.beginPath(),d.ctxTransform(E.preTransforms.finalTransform.props),i=u.length,n=0;n<i;n+=1){for((g==="st"||g==="gs")&&(p.beginPath(),E.da&&(p.setLineDash(E.da),p.lineDashOffset=E.do)),f=u[n].trNodes,l=f.length,o=0;o<l;o+=1)f[o].t==="m"?p.moveTo(f[o].p[0],f[o].p[1]):f[o].t==="c"?p.bezierCurveTo(f[o].pts[0],f[o].pts[1],f[o].pts[2],f[o].pts[3],f[o].pts[4],f[o].pts[5]):p.closePath();(g==="st"||g==="gs")&&(d.ctxStroke(),E.da&&p.setLineDash(this.dashResetter))}g!=="st"&&g!=="gs"&&this.globalData.renderer.ctxFill(E.r),d.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,i){var o,l=e.length-1,u;for(u=t,o=l;o>=0;o-=1)e[o].ty==="tr"?(u=n[o].transform,this.renderShapeTransform(t,u)):e[o].ty==="sh"||e[o].ty==="el"||e[o].ty==="rc"||e[o].ty==="sr"?this.renderPath(e[o],n[o]):e[o].ty==="fl"?this.renderFill(e[o],n[o],u):e[o].ty==="st"?this.renderStroke(e[o],n[o],u):e[o].ty==="gf"||e[o].ty==="gs"?this.renderGradientFill(e[o],n[o],u):e[o].ty==="gr"?this.renderShape(u,e[o].it,n[o].it):e[o].ty;i&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n=t.trNodes,i=e.paths,o,l,u,f=i._length;n.length=0;var d=t.transforms.finalTransform;for(u=0;u<f;u+=1){var p=i.shapes[u];if(p&&p.v){for(l=p._length,o=1;o<l;o+=1)o===1&&n.push({t:"m",p:d.applyToPointArray(p.v[0][0],p.v[0][1],0)}),n.push({t:"c",pts:d.applyToTriplePoints(p.o[o-1],p.i[o],p.v[o])});l===1&&n.push({t:"m",p:d.applyToPointArray(p.v[0][0],p.v[0][1],0)}),p.c&&l&&(n.push({t:"c",pts:d.applyToTriplePoints(p.o[o-1],p.i[0],p.v[0])}),n.push({t:"z"}))}}t.trNodes=n}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var n,i=e.styledShapes.length;for(n=0;n<i;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var i=e.style;(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var i=e.style,o;if(!i.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var l=this.globalData.canvasContext,u=e.s.v,f=e.e.v;if(t.t===1)o=l.createLinearGradient(u[0],u[1],f[0],f[1]);else{var d=Math.sqrt(Math.pow(u[0]-f[0],2)+Math.pow(u[1]-f[1],2)),p=Math.atan2(f[1]-u[1],f[0]-u[0]),g=e.h.v;g>=1?g=.99:g<=-1&&(g=-.99);var E=d*g,A=Math.cos(p+e.a.v)*E+u[0],R=Math.sin(p+e.a.v)*E+u[1];o=l.createRadialGradient(A,R,0,u[0],u[1],d)}var I,j=t.g.p,q=e.g.c,L=1;for(I=0;I<j;I+=1)e.g._hasOpacity&&e.g._collapsable&&(L=e.g.o[I*2+1]),o.addColorStop(q[I*4]/100,"rgba("+q[I*4+1]+","+q[I*4+2]+","+q[I*4+3]+","+L+")");i.grd=o}i.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var i=e.style,o=e.d;o&&(o._mdf||this._isFirstFrame)&&(i.da=o.dashArray,i.do=o.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(i.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var i=this.globalData.fontManager.getFontByName(t.f),o,l,u=t.l,f=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,l=t.finalText.length;var d,p,g,E,A,R,I,j,q,L,z=this.data.singleShape,U=t.tr*.001*t.finalSize,W=0,H=0,Z=!0,Y=0;for(o=0;o<l;o+=1){d=this.globalData.fontManager.getCharData(t.finalText[o],i.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),p=d&&d.data||{},f.reset(),z&&u[o].n&&(W=-U,H+=t.yOffset,H+=Z?1:0,Z=!1),A=p.shapes?p.shapes[0].it:[],I=A.length,f.scale(t.finalSize/100,t.finalSize/100),z&&this.applyTextPropertiesToMatrix(t,f,u[o].line,W,H),q=createSizedArray(I-1);var J=0;for(R=0;R<I;R+=1)if(A[R].ty==="sh"){for(E=A[R].ks.k.i.length,j=A[R].ks.k,L=[],g=1;g<E;g+=1)g===1&&L.push(f.applyToX(j.v[0][0],j.v[0][1],0),f.applyToY(j.v[0][0],j.v[0][1],0)),L.push(f.applyToX(j.o[g-1][0],j.o[g-1][1],0),f.applyToY(j.o[g-1][0],j.o[g-1][1],0),f.applyToX(j.i[g][0],j.i[g][1],0),f.applyToY(j.i[g][0],j.i[g][1],0),f.applyToX(j.v[g][0],j.v[g][1],0),f.applyToY(j.v[g][0],j.v[g][1],0));L.push(f.applyToX(j.o[g-1][0],j.o[g-1][1],0),f.applyToY(j.o[g-1][0],j.o[g-1][1],0),f.applyToX(j.i[0][0],j.i[0][1],0),f.applyToY(j.i[0][0],j.i[0][1],0),f.applyToX(j.v[0][0],j.v[0][1],0),f.applyToY(j.v[0][0],j.v[0][1],0)),q[J]=L,J+=1}z&&(W+=u[o].l,W+=U),this.textSpans[Y]?this.textSpans[Y].elem=q:this.textSpans[Y]={elem:q},Y+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var t=this.canvasContext;t.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,n,i,o,l,u,f=this.textAnimator.renderedLetters,d=this.textProperty.currentData.l;n=d.length;var p,g=null,E=null,A=null,R,I,j=this.globalData.renderer;for(e=0;e<n;e+=1)if(!d[e].n){if(p=f[e],p&&(j.save(),j.ctxTransform(p.p),j.ctxOpacity(p.o)),this.fill){for(p&&p.fc?g!==p.fc&&(j.ctxFillStyle(p.fc),g=p.fc):g!==this.values.fill&&(g=this.values.fill,j.ctxFillStyle(this.values.fill)),R=this.textSpans[e].elem,o=R.length,this.globalData.canvasContext.beginPath(),i=0;i<o;i+=1)for(I=R[i],u=I.length,this.globalData.canvasContext.moveTo(I[0],I[1]),l=2;l<u;l+=6)this.globalData.canvasContext.bezierCurveTo(I[l],I[l+1],I[l+2],I[l+3],I[l+4],I[l+5]);this.globalData.canvasContext.closePath(),j.ctxFill()}if(this.stroke){for(p&&p.sw?A!==p.sw&&(A=p.sw,j.ctxLineWidth(p.sw)):A!==this.values.sWidth&&(A=this.values.sWidth,j.ctxLineWidth(this.values.sWidth)),p&&p.sc?E!==p.sc&&(E=p.sc,j.ctxStrokeStyle(p.sc)):E!==this.values.stroke&&(E=this.values.stroke,j.ctxStrokeStyle(this.values.stroke)),R=this.textSpans[e].elem,o=R.length,this.globalData.canvasContext.beginPath(),i=0;i<o;i+=1)for(I=R[i],u=I.length,this.globalData.canvasContext.moveTo(I[0],I[1]),l=2;l<u;l+=6)this.globalData.canvasContext.bezierCurveTo(I[l],I[l+1],I[l+2],I[l+3],I[l+4],I[l+5]);this.globalData.canvasContext.closePath(),j.ctxStroke()}p&&this.globalData.renderer.restore()}};function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e=t.getContext("2d"),n=this.img.width,i=this.img.height,o=n/i,l=this.assetData.w/this.assetData.h,u,f,d=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>l&&d==="xMidYMid slice"||o<l&&d!=="xMidYMid slice"?(f=i,u=f*l):(u=n,f=u/l),e.drawImage(this.img,(n-u)/2,(i-f)/2,u,f,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,n,i){this.canvasContext.fillRect(t,e,n,i)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){this.reset();var n,i;t?(n=t,i=e,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=i):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,i=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=i*this.renderConfig.dpr);var o,l;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var u=this.renderConfig.preserveAspectRatio.split(" "),f=u[1]||"meet",d=u[0]||"xMidYMid",p=d.substr(0,4),g=d.substr(4);o=n/i,l=this.transformCanvas.w/this.transformCanvas.h,l>o&&f==="meet"||l<o&&f==="slice"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr)),p==="xMid"&&(l<o&&f==="meet"||l>o&&f==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(i/this.transformCanvas.h))/2*this.renderConfig.dpr:p==="xMax"&&(l<o&&f==="meet"||l>o&&f==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(i/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,g==="YMid"&&(l>o&&f==="meet"||l<o&&f==="slice")?this.transformCanvas.ty=(i-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:g==="YMax"&&(l>o&&f==="meet"||l<o&&f==="slice")?this.transformCanvas.ty=(i-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if(!(this.renderedFrame===t&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=i-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=i-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var t,e=15;for(t=0;t<e;t+=1){var n=new CanvasContext;this.stack[t]=n}this._length=e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var t=this._length*2,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e=this.stack[this.cArrPos],n=e.transform,i,o=this.cTr.props;for(i=0;i<16;i+=1)o[i]=n[i];if(t){this.nativeContext.restore();var l=this.stack[this.cArrPos+1];this.appliedFillStyle=l.fillStyle,this.appliedStrokeStyle=l.strokeStyle,this.appliedLineWidth=l.lineWidth,this.appliedLineCap=l.lineCap,this.appliedLineJoin=l.lineJoin,this.appliedMiterLimit=l.miterLimit}this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),(t||e.opacity!==-1&&this.currentOpacity!==e.opacity)&&(this.nativeContext.globalAlpha=e.opacity,this.currentOpacity=e.opacity),this.currentFillStyle=e.fillStyle,this.currentStrokeStyle=e.strokeStyle,this.currentLineWidth=e.lineWidth,this.currentLineCap=e.lineCap,this.currentLineJoin=e.lineJoin,this.currentMiterLimit=e.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n=this.stack[this.cArrPos],i;for(i=0;i<16;i+=1)n.transform[i]=e[i];this.cArrPos+=1;var o=this.stack[this.cArrPos];o.opacity=n.opacity,o.fillStyle=n.fillStyle,o.strokeStyle=n.strokeStyle,o.lineWidth=n.lineWidth,o.lineCap=n.lineCap,o.lineJoin=n.lineJoin,o.miterLimit=n.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var n=e.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,n,i){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,n,i)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();var e,n=this.layers.length;for(e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var n=this.finalTransform.mat.toCSS();e.transform=n,e.webkitTransform=n}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)};function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n=t.sh.v,i=t.transformers,o,l=n._length,u,f,d,p;if(!(l<=1)){for(o=0;o<l-1;o+=1)u=this.getTransformedPoint(i,n.v[o]),f=this.getTransformedPoint(i,n.o[o]),d=this.getTransformedPoint(i,n.i[o+1]),p=this.getTransformedPoint(i,n.v[o+1]),this.checkBounds(u,f,d,p,e);n.c&&(u=this.getTransformedPoint(i,n.v[o]),f=this.getTransformedPoint(i,n.o[o]),d=this.getTransformedPoint(i,n.i[0]),p=this.getTransformedPoint(i,n.v[0]),this.checkBounds(u,f,d,p,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,i,o){this.getBoundsOfCurve(t,e,n,i);var l=this.shapeBoundingBox;o.x=bmMin(l.left,o.x),o.xMax=bmMax(l.right,o.xMax),o.y=bmMin(l.top,o.y),o.yMax=bmMax(l.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,i){for(var o=[[t[0],i[0]],[t[1],i[1]]],l,u,f,d,p,g,E,A=0;A<2;++A)u=6*t[A]-12*e[A]+6*n[A],l=-3*t[A]+9*e[A]-9*n[A]+3*i[A],f=3*e[A]-3*t[A],u|=0,l|=0,f|=0,l===0&&u===0||(l===0?(d=-f/u,d>0&&d<1&&o[A].push(this.calculateF(d,t,e,n,i,A))):(p=u*u-4*f*l,p>=0&&(g=(-u+bmSqrt(p))/(2*l),g>0&&g<1&&o[A].push(this.calculateF(g,t,e,n,i,A)),E=(-u-bmSqrt(p))/(2*l),E>0&&E<1&&o[A].push(this.calculateF(E,t,e,n,i,A)))));this.shapeBoundingBox.left=bmMin.apply(null,o[0]),this.shapeBoundingBox.top=bmMin.apply(null,o[1]),this.shapeBoundingBox.right=bmMax.apply(null,o[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,o[1])},HShapeElement.prototype.calculateF=function(t,e,n,i,o,l){return bmPow(1-t,3)*e[l]+3*bmPow(1-t,2)*t*n[l]+3*(1-t)*bmPow(t,2)*i[l]+bmPow(t,3)*o[l]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it?this.calculateBoundingBox(t[n].it,e):t[n]&&t[n].style&&t[n].w&&this.expandStrokeBoundingBox(t[n].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var n=0;if(t.keyframes){for(var i=0;i<t.keyframes.length;i+=1){var o=t.keyframes[i].s;o>n&&(n=o)}n*=t.mult}else n=t.v*t.mult;e.x-=n,e.xMax+=n,e.y-=n,e.yMax+=n},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var i=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";i.transform=o,i.webkitTransform=o}}};function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var i=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{e.fontFamily=i.fFamily;var o=t.fWeight,l=t.fStyle;e.fontStyle=l,e.fontWeight=o}var u,f,d=t.l;f=d.length;var p,g,E,A=this.mHelper,R,I="",j=0;for(u=0;u<f;u+=1){if(this.globalData.fontManager.chars?(this.textPaths[j]?p=this.textPaths[j]:(p=createNS("path"),p.setAttribute("stroke-linecap",lineCapEnum[1]),p.setAttribute("stroke-linejoin",lineJoinEnum[2]),p.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[j]?(g=this.textSpans[j],E=g.children[0]):(g=createTag("div"),g.style.lineHeight=0,E=createNS("svg"),E.appendChild(p),styleDiv(g)))):this.isMasked?p=this.textPaths[j]?this.textPaths[j]:createNS("text"):this.textSpans[j]?(g=this.textSpans[j],p=this.textPaths[j]):(g=createTag("span"),styleDiv(g),p=createTag("span"),styleDiv(p),g.appendChild(p)),this.globalData.fontManager.chars){var q=this.globalData.fontManager.getCharData(t.finalText[u],i.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),L;if(q?L=q.data:L=null,A.reset(),L&&L.shapes&&L.shapes.length&&(R=L.shapes[0].it,A.scale(t.finalSize/100,t.finalSize/100),I=this.createPathShape(A,R),p.setAttribute("d",I)),this.isMasked)this.innerElem.appendChild(p);else{if(this.innerElem.appendChild(g),L&&L.shapes){document.body.appendChild(E);var z=E.getBBox();E.setAttribute("width",z.width+2),E.setAttribute("height",z.height+2),E.setAttribute("viewBox",z.x-1+" "+(z.y-1)+" "+(z.width+2)+" "+(z.height+2));var U=E.style,W="translate("+(z.x-1)+"px,"+(z.y-1)+"px)";U.transform=W,U.webkitTransform=W,d[u].yOffset=z.y-1}else E.setAttribute("width",1),E.setAttribute("height",1);g.appendChild(E)}}else if(p.textContent=d[u].val,p.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(p);else{this.innerElem.appendChild(g);var H=p.style,Z="translate3d(0,"+-t.finalSize/1.2+"px,0)";H.transform=Z,H.webkitTransform=Z}this.isMasked?this.textSpans[j]=p:this.textSpans[j]=g,this.textSpans[j].style.display="block",this.textPaths[j]=p,j+=1}for(;j<this.textSpans.length;)this.textSpans[j].style.display="none",j+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var n,i,o=0,l=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;i=u.length;var f,d,p;for(n=0;n<i;n+=1)u[n].n?o+=1:(d=this.textSpans[n],p=this.textPaths[n],f=l[o],o+=1,f._mdf.m&&(this.isMasked?d.setAttribute("transform",f.m):(d.style.webkitTransform=f.m,d.style.transform=f.m)),d.style.opacity=f.o,f.sw&&f._mdf.sw&&p.setAttribute("stroke-width",f.sw),f.sc&&f._mdf.sc&&p.setAttribute("stroke",f.sc),f.fc&&f._mdf.fc&&(p.setAttribute("fill",f.fc),p.style.color=f.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var g=this.innerElem.getBBox();this.currentBBox.w!==g.width&&(this.currentBBox.w=g.width,this.svgElement.setAttribute("width",g.width)),this.currentBBox.h!==g.height&&(this.currentBBox.h=g.height,this.svgElement.setAttribute("height",g.height));var E=1;if(this.currentBBox.w!==g.width+E*2||this.currentBBox.h!==g.height+E*2||this.currentBBox.x!==g.x-E||this.currentBBox.y!==g.y-E){this.currentBBox.w=g.width+E*2,this.currentBBox.h=g.height+E*2,this.currentBBox.x=g.x-E,this.currentBBox.y=g.y-E,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var A="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=A,t.webkitTransform=A}}}};function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var i=PropertyFactory.getProp;if(this.pe=i(this,t.pe,0,0,this),t.ks.p.s?(this.px=i(this,t.ks.p.x,1,0,this),this.py=i(this,t.ks.p.y,1,0,this),this.pz=i(this,t.ks.p.z,1,0,this)):this.p=i(this,t.ks.p,1,0,this),t.ks.a&&(this.a=i(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var o,l=t.ks.or.k.length;for(o=0;o<l;o+=1)t.ks.or.k[o].to=null,t.ks.or.k[o].ti=null}this.or=i(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,t.ks.rx,0,degToRads,this),this.ry=i(this,t.ks.ry,0,degToRads,this),this.rz=i(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e=this.comp.threeDElements.length,n,i,o;for(t=0;t<e;t+=1)if(n=this.comp.threeDElements[t],n.type==="3d"){i=n.perspectiveElem.style,o=n.container.style;var l=this.pe.v+"px",u="0px 0px 0px",f="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";i.perspective=l,i.webkitPerspective=l,o.transformOrigin=u,o.mozTransformOrigin=u,o.webkitTransformOrigin=u,i.transform=f,i.webkitTransform=f}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame,e,n;if(this.hierarchy)for(n=this.hierarchy.length,e=0;e<n;e+=1)t=this.hierarchy[e].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(n=this.hierarchy.length-1,e=n;e>=0;e-=1){var i=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.or.v[0]).rotateY(-i.or.v[1]).rotateZ(i.or.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;this.p?o=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:o=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var l=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),u=[o[0]/l,o[1]/l,o[2]/l],f=Math.sqrt(u[2]*u[2]+u[0]*u[0]),d=Math.atan2(u[1],f),p=Math.atan2(u[0],-u[2]);this.mat.rotateY(p).rotateX(-d)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var g=!this._prevMat.equals(this.mat);if((g||this.pe._mdf)&&this.comp.threeDElements){n=this.comp.threeDElements.length;var E,A,R;for(e=0;e<n;e+=1)if(E=this.comp.threeDElements[e],E.type==="3d"){if(g){var I=this.mat.toCSS();R=E.container.style,R.transform=I,R.webkitTransform=I}this.pe._mdf&&(A=E.perspectiveElem.style,A.perspective=this.pe.v+"px",A.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var i=this.layers[e];if(!i.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var o=0,l,u,f;o<e;)this.elements[o]&&this.elements[o]!==!0&&this.elements[o].getBaseElement&&(u=this.elements[o],f=this.layers[o].ddd?this.getThreeDContainerByPos(o):u.getBaseElement(),l=f||l),o+=1;l?(!i.ddd||!this.supports3d)&&this.layerElement.insertBefore(n,l):(!i.ddd||!this.supports3d)&&this.layerElement.appendChild(n)}else this.addTo3dContainer(n,e)}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var n=createTag("div"),i,o;styleDiv(n);var l=createTag("div");if(styleDiv(l),e==="3d"){i=n.style,i.width=this.globalData.compSize.w+"px",i.height=this.globalData.compSize.h+"px";var u="50% 50%";i.webkitTransformOrigin=u,i.mozTransformOrigin=u,i.transformOrigin=u,o=l.style;var f="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";o.transform=f,o.webkitTransform=f}n.appendChild(l);var d={container:l,perspectiveElem:n,startPos:t,endPos:t,type:e};return this.threeDElements.push(d),d},HybridRendererBase.prototype.build3dContainers=function(){var t,e=this.layers.length,n,i="";for(t=0;t<e;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(i!=="3d"&&(i="3d",n=this.createThreeDContainer(t,"3d")),n.endPos=Math.max(n.endPos,t)):(i!=="2d"&&(i="2d",n=this.createThreeDContainer(t,"2d")),n.endPos=Math.max(n.endPos,t));for(e=this.threeDElements.length,t=e-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var n=0,i=this.threeDElements.length;n<i;){if(e<=this.threeDElements[n].endPos){for(var o=this.threeDElements[n].startPos,l;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(l=this.elements[o].getBaseElement()),o+=1;l?this.threeDElements[n].container.insertBefore(t,l):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,i=e.style;i.width=t.w+"px",i.height=t.h+"px",this.resizerElem=e,styleDiv(e),i.transformStyle="flat",i.mozTransformStyle="flat",i.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),i.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var l=createNS("defs");o.appendChild(l),this.data=t,this.setupGlobalData(t,o),this.globalData.defs=l,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,n=t/e,i=this.globalData.compSize.w/this.globalData.compSize.h,o,l,u,f;i>n?(o=t/this.globalData.compSize.w,l=t/this.globalData.compSize.w,u=0,f=(e-this.globalData.compSize.h*(t/this.globalData.compSize.w))/2):(o=e/this.globalData.compSize.h,l=e/this.globalData.compSize.h,u=(t-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,f=0);var d=this.resizerElem.style;d.webkitTransform="matrix3d("+o+",0,0,0,0,"+l+",0,0,0,0,1,0,"+u+","+f+",0,1)",d.transform=d.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t=this.globalData.compSize.w,e=this.globalData.compSize.h,n,i=this.threeDElements.length;for(n=0;n<i;n+=1){var o=this.threeDElements[n].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,n=t.length,i=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var o=this.createComp(t[e],i,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}};function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n=0,i;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(t,i):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(){return function(t){function e(n){for(var i=0,o=t.layers.length;i<o;){if(t.layers[i].nm===n||t.layers[i].ind===n)return t.elements[i].layerInterface;i+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e}}();function _typeof$2(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(n){return typeof n}:_typeof$2=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$2(t)}function seedRandom(t,e){var n=this,i=256,o=6,l=52,u="random",f=e.pow(i,o),d=e.pow(2,l),p=d*2,g=i-1,E;function A(U,W,H){var Z=[];W=W===!0?{entropy:!0}:W||{};var Y=q(j(W.entropy?[U,z(t)]:U===null?L():U,3),Z),J=new R(Z),ne=function(){for(var se=J.g(o),ue=f,fe=0;se<d;)se=(se+fe)*i,ue*=i,fe=J.g(1);for(;se>=p;)se/=2,ue/=2,fe>>>=1;return(se+fe)/ue};return ne.int32=function(){return J.g(4)|0},ne.quick=function(){return J.g(4)/4294967296},ne.double=ne,q(z(J.S),t),(W.pass||H||function(ae,se,ue,fe){return fe&&(fe.S&&I(fe,J),ae.state=function(){return I(J,{})}),ue?(e[u]=ae,se):ae})(ne,Y,"global"in W?W.global:this==e,W.state)}e["seed"+u]=A;function R(U){var W,H=U.length,Z=this,Y=0,J=Z.i=Z.j=0,ne=Z.S=[];for(H||(U=[H++]);Y<i;)ne[Y]=Y++;for(Y=0;Y<i;Y++)ne[Y]=ne[J=g&J+U[Y%H]+(W=ne[Y])],ne[J]=W;Z.g=function(ae){for(var se,ue=0,fe=Z.i,_e=Z.j,ge=Z.S;ae--;)se=ge[fe=g&fe+1],ue=ue*i+ge[g&(ge[fe]=ge[_e=g&_e+se])+(ge[_e]=se)];return Z.i=fe,Z.j=_e,ue}}function I(U,W){return W.i=U.i,W.j=U.j,W.S=U.S.slice(),W}function j(U,W){var H=[],Z=_typeof$2(U),Y;if(W&&Z=="object")for(Y in U)try{H.push(j(U[Y],W-1))}catch{}return H.length?H:Z=="string"?U:U+"\0"}function q(U,W){for(var H=U+"",Z,Y=0;Y<H.length;)W[g&Y]=g&(Z^=W[g&Y]*19)+H.charCodeAt(Y++);return z(W)}function L(){try{var U=new Uint8Array(i);return(n.crypto||n.msCrypto).getRandomValues(U),z(U)}catch{var W=n.navigator,H=W&&W.plugins;return[+new Date,n,H,n.screen,z(t)]}}function z(U){return String.fromCharCode.apply(0,U)}q(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(n){return typeof n}:_typeof$1=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$1(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return t==="number"||e instanceof Number||t==="boolean"||t==="string"}function $bm_neg(t){var e=_typeof$1(t);if(e==="number"||t instanceof Number||e==="boolean")return-t;if($bm_isInstanceOfArray(t)){var n,i=t.length,o=[];for(n=0;n<i;n+=1)o[n]=-t[n];return o}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=_typeof$1(t),i=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(i,e)||n==="string"||i==="string")return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return t=t.slice(0),t[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var o=0,l=t.length,u=e.length,f=[];o<l||o<u;)(typeof t[o]=="number"||t[o]instanceof Number)&&(typeof e[o]=="number"||e[o]instanceof Number)?f[o]=t[o]+e[o]:f[o]=e[o]===void 0?t[o]:t[o]||e[o],o+=1;return f}return 0}var add=sum;function sub(t,e){var n=_typeof$1(t),i=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(i,e))return n==="string"&&(t=parseInt(t,10)),i==="string"&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return t=t.slice(0),t[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var o=0,l=t.length,u=e.length,f=[];o<l||o<u;)(typeof t[o]=="number"||t[o]instanceof Number)&&(typeof e[o]=="number"||e[o]instanceof Number)?f[o]=t[o]-e[o]:f[o]=e[o]===void 0?t[o]:t[o]||e[o],o+=1;return f}return 0}function mul(t,e){var n=_typeof$1(t),i=_typeof$1(e),o;if(isNumerable(n,t)&&isNumerable(i,e))return t*e;var l,u;if($bm_isInstanceOfArray(t)&&isNumerable(i,e)){for(u=t.length,o=createTypedArray("float32",u),l=0;l<u;l+=1)o[l]=t[l]*e;return o}if(isNumerable(n,t)&&$bm_isInstanceOfArray(e)){for(u=e.length,o=createTypedArray("float32",u),l=0;l<u;l+=1)o[l]=t*e[l];return o}return 0}function div(t,e){var n=_typeof$1(t),i=_typeof$1(e),o;if(isNumerable(n,t)&&isNumerable(i,e))return t/e;var l,u;if($bm_isInstanceOfArray(t)&&isNumerable(i,e)){for(u=t.length,o=createTypedArray("float32",u),l=0;l<u;l+=1)o[l]=t[l]/e;return o}if(isNumerable(n,t)&&$bm_isInstanceOfArray(e)){for(u=e.length,o=createTypedArray("float32",u),l=0;l<u;l+=1)o[l]=t/e[l];return o}return 0}function mod(t,e){return typeof t=="string"&&(t=parseInt(t,10)),typeof e=="string"&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var i=n;n=e,e=i}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(typeof t=="number"||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var n,i=Math.min(t.length,e.length),o=0;for(n=0;n<i;n+=1)o+=Math.pow(e[n]-t[n],2);return Math.sqrt(o)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],n=t[1],i=t[2],o=Math.max(e,n,i),l=Math.min(e,n,i),u,f,d=(o+l)/2;if(o===l)u=0,f=0;else{var p=o-l;switch(f=d>.5?p/(2-o-l):p/(o+l),o){case e:u=(n-i)/p+(n<i?6:0);break;case n:u=(i-e)/p+2;break;case i:u=(e-n)/p+4;break}u/=6}return[u,f,d,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e=t[0],n=t[1],i=t[2],o,l,u;if(n===0)o=i,u=i,l=i;else{var f=i<.5?i*(1+n):i+n-i*n,d=2*i-f;o=hue2rgb(d,f,e+1/3),l=hue2rgb(d,f,e),u=hue2rgb(d,f,e-1/3)}return[o,l,u,t[3]]}function linear(t,e,n,i,o){if((i===void 0||o===void 0)&&(i=e,o=n,e=0,n=1),n<e){var l=n;n=e,e=l}if(t<=e)return i;if(t>=n)return o;var u=n===e?0:(t-e)/(n-e);if(!i.length)return i+(o-i)*u;var f,d=i.length,p=createTypedArray("float32",d);for(f=0;f<d;f+=1)p[f]=i[f]+(o[f]-i[f])*u;return p}function random(t,e){if(e===void 0&&(t===void 0?(t=0,e=1):(e=t,t=void 0)),e.length){var n,i=e.length;t||(t=createTypedArray("float32",i));var o=createTypedArray("float32",i),l=BMMath.random();for(n=0;n<i;n+=1)o[n]=t[n]+l*(e[n]-t[n]);return o}t===void 0&&(t=0);var u=BMMath.random();return t+u*(e-t)}function createPath(t,e,n,i){var o,l=t.length,u=shapePool.newElement();u.setPathData(!!i,l);var f=[0,0],d,p;for(o=0;o<l;o+=1)d=e&&e[o]?e[o]:f,p=n&&n[o]?n[o]:f,u.setTripleAt(t[o][0],t[o][1],p[0]+t[o][0],p[1]+t[o][1],d[0]+t[o][0],d[1]+t[o][1],o,!0);return u}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function t(e,n){var i,o,l=this.pv.length?this.pv.length:1,u=createTypedArray("float32",l);e=5;var f=Math.floor(time*e);for(i=0,o=0;i<f;){for(o=0;o<l;o+=1)u[o]+=-n+n*2*BMMath.random();i+=1}var d=time*e,p=d-Math.floor(d),g=createTypedArray("float32",l);if(l>1){for(o=0;o<l;o+=1)g[o]=this.pv[o]+u[o]+(-n+n*2*BMMath.random())*p;return g}return this.pv+u[0]+(-n+n*2*BMMath.random())*p}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],i=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads,o=-Math.atan2(n[1],n[2])/degToRads;return[o,i,0]}function easeOut(t,e,n,i,o){return applyEase(easeOutBez,t,e,n,i,o)}function easeIn(t,e,n,i,o){return applyEase(easeInBez,t,e,n,i,o)}function ease(t,e,n,i,o){return applyEase(easeInOutBez,t,e,n,i,o)}function applyEase(t,e,n,i,o,l){o===void 0?(o=n,l=i):e=(e-n)/(i-n),e>1?e=1:e<0&&(e=0);var u=t(e);if($bm_isInstanceOfArray(o)){var f,d=o.length,p=createTypedArray("float32",d);for(f=0;f<d;f+=1)p[f]=(l[f]-o[f])*u+o[f];return p}return(l-o)*u+o}function nearestKey(t){var e,n=data.k.length,i,o;if(!data.k.length||typeof data.k[0]=="number")i=0,o=0;else if(i=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)i=1,o=data.k[0].t;else{for(e=0;e<n-1;e+=1)if(t===data.k[e].t){i=e+1,o=data.k[e].t;break}else if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(i=e+2,o=data.k[e+1].t):(i=e+1,o=data.k[e].t);break}i===-1&&(i=e+1,o=data.k[e].t)}var l={};return l.index=i,l.time=o/elem.comp.globalData.frameRate,l}function key(t){var e,n,i;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(i=o.length,n=0;n<i;n+=1)e[n]=o[n],e.value[n]=o[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return!t&&t!==0&&(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return typeof value=="string"?e===void 0?value.substring(t):value.substring(t,e):""}function substr(t,e){return typeof value=="string"?e===void 0?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={};t.initExpressions=e,t.resetFrame=ExpressionManager.resetFrame;function e(n){var i=0,o=[];function l(){i+=1}function u(){i-=1,i===0&&d()}function f(p){o.indexOf(p)===-1&&o.push(p)}function d(){var p,g=o.length;for(p=0;p<g;p+=1)o[p].release();o.length=0}n.renderer.compInterface=CompExpressionInterface(n.renderer),n.renderer.globalData.projectInterface.registerComposition(n.renderer),n.renderer.globalData.pushExpression=l,n.renderer.globalData.popExpression=u,n.renderer.globalData.registerExpressionProperty=f}return t}(),MaskManagerInterface=function(){function t(n,i){this._mask=n,this._data=i}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(i){var o=createSizedArray(i.viewData.length),l,u=i.viewData.length;for(l=0;l<u;l+=1)o[l]=new t(i.viewData[l],i.masksProperties[l]);var f=function(p){for(l=0;l<u;){if(i.masksProperties[l].nm===p)return o[l];l+=1}return null};return f};return e}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(u,f,d){Object.defineProperty(u,"velocity",{get:function(){return f.getVelocityAtTime(f.comp.currentFrame)}}),u.numKeys=f.keyframes?f.keyframes.length:0,u.key=function(p){if(!u.numKeys)return 0;var g="";"s"in f.keyframes[p-1]?g=f.keyframes[p-1].s:"e"in f.keyframes[p-2]?g=f.keyframes[p-2].e:g=f.keyframes[p-2].s;var E=d==="unidimensional"?new Number(g):Object.assign({},g);return E.time=f.keyframes[p-1].t/f.elem.comp.globalData.frameRate,E.value=d==="unidimensional"?g[0]:g,E},u.valueAtTime=f.getValueAtTime,u.speedAtTime=f.getSpeedAtTime,u.velocityAtTime=f.getVelocityAtTime,u.propertyGroup=f.propertyGroup}function i(u){(!u||!("pv"in u))&&(u=t);var f=1/u.mult,d=u.pv*f,p=new Number(d);return p.value=d,n(p,u,"unidimensional"),function(){return u.k&&u.getValue(),d=u.v*f,p.value!==d&&(p=new Number(d),p.value=d,n(p,u,"unidimensional")),p}}function o(u){(!u||!("pv"in u))&&(u=e);var f=1/u.mult,d=u.data&&u.data.l||u.pv.length,p=createTypedArray("float32",d),g=createTypedArray("float32",d);return p.value=g,n(p,u,"multidimensional"),function(){u.k&&u.getValue();for(var E=0;E<d;E+=1)g[E]=u.v[E]*f,p[E]=g[E];return p}}function l(){return t}return function(u){return u?u.propType==="unidimensional"?i(u):o(u):l}}(),TransformExpressionInterface=function(){return function(t){function e(u){switch(u){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)});var n,i,o,l;return t.p?l=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),i=ExpressionPropertyInterface(t.py),t.pz&&(o=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?l():[n(),i(),o?o():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e}}(),LayerExpressionInterface=function(){function t(p){var g=new Matrix;if(p!==void 0){var E=this._elem.finalTransform.mProp.getValueAtTime(p);E.clone(g)}else{var A=this._elem.finalTransform.mProp;A.applyToMatrix(g)}return g}function e(p,g){var E=this.getMatrix(g);return E.props[12]=0,E.props[13]=0,E.props[14]=0,this.applyPoint(E,p)}function n(p,g){var E=this.getMatrix(g);return this.applyPoint(E,p)}function i(p,g){var E=this.getMatrix(g);return E.props[12]=0,E.props[13]=0,E.props[14]=0,this.invertPoint(E,p)}function o(p,g){var E=this.getMatrix(g);return this.invertPoint(E,p)}function l(p,g){if(this._elem.hierarchy&&this._elem.hierarchy.length){var E,A=this._elem.hierarchy.length;for(E=0;E<A;E+=1)this._elem.hierarchy[E].finalTransform.mProp.applyToMatrix(p)}return p.applyToPointArray(g[0],g[1],g[2]||0)}function u(p,g){if(this._elem.hierarchy&&this._elem.hierarchy.length){var E,A=this._elem.hierarchy.length;for(E=0;E<A;E+=1)this._elem.hierarchy[E].finalTransform.mProp.applyToMatrix(p)}return p.inversePoint(g)}function f(p){var g=new Matrix;if(g.reset(),this._elem.finalTransform.mProp.applyToMatrix(g),this._elem.hierarchy&&this._elem.hierarchy.length){var E,A=this._elem.hierarchy.length;for(E=0;E<A;E+=1)this._elem.hierarchy[E].finalTransform.mProp.applyToMatrix(g);return g.inversePoint(p)}return g.inversePoint(p)}function d(){return[1,1,1,1]}return function(p){var g;function E(j){R.mask=new MaskManagerInterface(j,p)}function A(j){R.effect=j}function R(j){switch(j){case"ADBE Root Vectors Group":case"Contents":case 2:return R.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return g;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return R.effect;case"ADBE Text Properties":return R.textInterface;default:return null}}R.getMatrix=t,R.invertPoint=u,R.applyPoint=l,R.toWorld=n,R.toWorldVec=e,R.fromWorld=o,R.fromWorldVec=i,R.toComp=n,R.fromComp=f,R.sampleImage=d,R.sourceRectAtTime=p.sourceRectAtTime.bind(p),R._elem=p,g=TransformExpressionInterface(p.finalTransform.mProp);var I=getDescriptor(g,"anchorPoint");return Object.defineProperties(R,{hasParent:{get:function(){return p.hierarchy.length}},parent:{get:function(){return p.hierarchy[0].layerInterface}},rotation:getDescriptor(g,"rotation"),scale:getDescriptor(g,"scale"),position:getDescriptor(g,"position"),opacity:getDescriptor(g,"opacity"),anchorPoint:I,anchor_point:I,transform:{get:function(){return g}},active:{get:function(){return p.isInRange}}}),R.startTime=p.data.st,R.index=p.data.ind,R.source=p.data.refId,R.height=p.data.ty===0?p.data.h:100,R.width=p.data.ty===0?p.data.w:100,R.inPoint=p.data.ip/p.comp.globalData.frameRate,R.outPoint=p.data.op/p.comp.globalData.frameRate,R._name=p.data.nm,R.registerMaskInterface=E,R.registerEffectsInterface=A,R}}(),propertyGroupFactory=function(){return function(t,e){return function(n){return n=n===void 0?1:n,n<=0?t:e(n-1)}}}(),PropertyInterface=function(){return function(t,e){var n={_name:t};function i(o){return o=o===void 0?1:o,o<=0?n:e(o-1)}return i}}(),EffectsExpressionInterface=function(){var t={createEffectsInterface:e};function e(o,l){if(o.effectsManager){var u=[],f=o.data.ef,d,p=o.effectsManager.effectElements.length;for(d=0;d<p;d+=1)u.push(n(f[d],o.effectsManager.effectElements[d],l,o));var g=o.data.ef||[],E=function(R){for(d=0,p=g.length;d<p;){if(R===g[d].nm||R===g[d].mn||R===g[d].ix)return u[d];d+=1}return null};return Object.defineProperty(E,"numProperties",{get:function(){return g.length}}),E}return null}function n(o,l,u,f){function d(R){for(var I=o.ef,j=0,q=I.length;j<q;){if(R===I[j].nm||R===I[j].mn||R===I[j].ix)return I[j].ty===5?g[j]:g[j]();j+=1}throw new Error}var p=propertyGroupFactory(d,u),g=[],E,A=o.ef.length;for(E=0;E<A;E+=1)o.ef[E].ty===5?g.push(n(o.ef[E],l.effectElements[E],l.effectElements[E].propertyGroup,f)):g.push(i(l.effectElements[E],o.ef[E].ty,f,p));return o.mn==="ADBE Color Control"&&Object.defineProperty(d,"color",{get:function(){return g[0]()}}),Object.defineProperties(d,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:p}}),d.enabled=o.en!==0,d.active=d.enabled,d}function i(o,l,u,f){var d=ExpressionPropertyInterface(o.p);function p(){return l===10?u.comp.compInterface(o.p.v):d()}return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",f)),p}return t}(),ShapePathInterface=function(){return function(e,n,i){var o=n.sh;function l(f){return f==="Shape"||f==="shape"||f==="Path"||f==="path"||f==="ADBE Vector Shape"||f===2?l.path:null}var u=propertyGroupFactory(l,i);return o.setGroupProperty(PropertyInterface("Path",u)),Object.defineProperties(l,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:i}}),l}}(),ShapeExpressionInterface=function(){function t(I,j,q){var L=[],z,U=I?I.length:0;for(z=0;z<U;z+=1)I[z].ty==="gr"?L.push(n(I[z],j[z],q)):I[z].ty==="fl"?L.push(i(I[z],j[z],q)):I[z].ty==="st"?L.push(u(I[z],j[z],q)):I[z].ty==="tm"?L.push(f(I[z],j[z],q)):I[z].ty==="tr"||(I[z].ty==="el"?L.push(p(I[z],j[z],q)):I[z].ty==="sr"?L.push(g(I[z],j[z],q)):I[z].ty==="sh"?L.push(ShapePathInterface(I[z],j[z],q)):I[z].ty==="rc"?L.push(E(I[z],j[z],q)):I[z].ty==="rd"?L.push(A(I[z],j[z],q)):I[z].ty==="rp"?L.push(R(I[z],j[z],q)):I[z].ty==="gf"?L.push(o(I[z],j[z],q)):L.push(l(I[z],j[z])));return L}function e(I,j,q){var L,z=function(H){for(var Z=0,Y=L.length;Z<Y;){if(L[Z]._name===H||L[Z].mn===H||L[Z].propertyIndex===H||L[Z].ix===H||L[Z].ind===H)return L[Z];Z+=1}return typeof H=="number"?L[H-1]:null};z.propertyGroup=propertyGroupFactory(z,q),L=t(I.it,j.it,z.propertyGroup),z.numProperties=L.length;var U=d(I.it[I.it.length-1],j.it[j.it.length-1],z.propertyGroup);return z.transform=U,z.propertyIndex=I.cix,z._name=I.nm,z}function n(I,j,q){var L=function(H){switch(H){case"ADBE Vectors Group":case"Contents":case 2:return L.content;default:return L.transform}};L.propertyGroup=propertyGroupFactory(L,q);var z=e(I,j,L.propertyGroup),U=d(I.it[I.it.length-1],j.it[j.it.length-1],L.propertyGroup);return L.content=z,L.transform=U,Object.defineProperty(L,"_name",{get:function(){return I.nm}}),L.numProperties=I.np,L.propertyIndex=I.ix,L.nm=I.nm,L.mn=I.mn,L}function i(I,j,q){function L(z){return z==="Color"||z==="color"?L.color:z==="Opacity"||z==="opacity"?L.opacity:null}return Object.defineProperties(L,{color:{get:ExpressionPropertyInterface(j.c)},opacity:{get:ExpressionPropertyInterface(j.o)},_name:{value:I.nm},mn:{value:I.mn}}),j.c.setGroupProperty(PropertyInterface("Color",q)),j.o.setGroupProperty(PropertyInterface("Opacity",q)),L}function o(I,j,q){function L(z){return z==="Start Point"||z==="start point"?L.startPoint:z==="End Point"||z==="end point"?L.endPoint:z==="Opacity"||z==="opacity"?L.opacity:null}return Object.defineProperties(L,{startPoint:{get:ExpressionPropertyInterface(j.s)},endPoint:{get:ExpressionPropertyInterface(j.e)},opacity:{get:ExpressionPropertyInterface(j.o)},type:{get:function(){return"a"}},_name:{value:I.nm},mn:{value:I.mn}}),j.s.setGroupProperty(PropertyInterface("Start Point",q)),j.e.setGroupProperty(PropertyInterface("End Point",q)),j.o.setGroupProperty(PropertyInterface("Opacity",q)),L}function l(){function I(){return null}return I}function u(I,j,q){var L=propertyGroupFactory(Y,q),z=propertyGroupFactory(Z,L);function U(J){Object.defineProperty(Z,I.d[J].nm,{get:ExpressionPropertyInterface(j.d.dataProps[J].p)})}var W,H=I.d?I.d.length:0,Z={};for(W=0;W<H;W+=1)U(W),j.d.dataProps[W].p.setGroupProperty(z);function Y(J){return J==="Color"||J==="color"?Y.color:J==="Opacity"||J==="opacity"?Y.opacity:J==="Stroke Width"||J==="stroke width"?Y.strokeWidth:null}return Object.defineProperties(Y,{color:{get:ExpressionPropertyInterface(j.c)},opacity:{get:ExpressionPropertyInterface(j.o)},strokeWidth:{get:ExpressionPropertyInterface(j.w)},dash:{get:function(){return Z}},_name:{value:I.nm},mn:{value:I.mn}}),j.c.setGroupProperty(PropertyInterface("Color",L)),j.o.setGroupProperty(PropertyInterface("Opacity",L)),j.w.setGroupProperty(PropertyInterface("Stroke Width",L)),Y}function f(I,j,q){function L(U){return U===I.e.ix||U==="End"||U==="end"?L.end:U===I.s.ix?L.start:U===I.o.ix?L.offset:null}var z=propertyGroupFactory(L,q);return L.propertyIndex=I.ix,j.s.setGroupProperty(PropertyInterface("Start",z)),j.e.setGroupProperty(PropertyInterface("End",z)),j.o.setGroupProperty(PropertyInterface("Offset",z)),L.propertyIndex=I.ix,L.propertyGroup=q,Object.defineProperties(L,{start:{get:ExpressionPropertyInterface(j.s)},end:{get:ExpressionPropertyInterface(j.e)},offset:{get:ExpressionPropertyInterface(j.o)},_name:{value:I.nm}}),L.mn=I.mn,L}function d(I,j,q){function L(U){return I.a.ix===U||U==="Anchor Point"?L.anchorPoint:I.o.ix===U||U==="Opacity"?L.opacity:I.p.ix===U||U==="Position"?L.position:I.r.ix===U||U==="Rotation"||U==="ADBE Vector Rotation"?L.rotation:I.s.ix===U||U==="Scale"?L.scale:I.sk&&I.sk.ix===U||U==="Skew"?L.skew:I.sa&&I.sa.ix===U||U==="Skew Axis"?L.skewAxis:null}var z=propertyGroupFactory(L,q);return j.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",z)),j.transform.mProps.p.setGroupProperty(PropertyInterface("Position",z)),j.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",z)),j.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",z)),j.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",z)),j.transform.mProps.sk&&(j.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",z)),j.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",z))),j.transform.op.setGroupProperty(PropertyInterface("Opacity",z)),Object.defineProperties(L,{opacity:{get:ExpressionPropertyInterface(j.transform.mProps.o)},position:{get:ExpressionPropertyInterface(j.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(j.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(j.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(j.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(j.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(j.transform.mProps.sa)},_name:{value:I.nm}}),L.ty="tr",L.mn=I.mn,L.propertyGroup=q,L}function p(I,j,q){function L(W){return I.p.ix===W?L.position:I.s.ix===W?L.size:null}var z=propertyGroupFactory(L,q);L.propertyIndex=I.ix;var U=j.sh.ty==="tm"?j.sh.prop:j.sh;return U.s.setGroupProperty(PropertyInterface("Size",z)),U.p.setGroupProperty(PropertyInterface("Position",z)),Object.defineProperties(L,{size:{get:ExpressionPropertyInterface(U.s)},position:{get:ExpressionPropertyInterface(U.p)},_name:{value:I.nm}}),L.mn=I.mn,L}function g(I,j,q){function L(W){return I.p.ix===W?L.position:I.r.ix===W?L.rotation:I.pt.ix===W?L.points:I.or.ix===W||W==="ADBE Vector Star Outer Radius"?L.outerRadius:I.os.ix===W?L.outerRoundness:I.ir&&(I.ir.ix===W||W==="ADBE Vector Star Inner Radius")?L.innerRadius:I.is&&I.is.ix===W?L.innerRoundness:null}var z=propertyGroupFactory(L,q),U=j.sh.ty==="tm"?j.sh.prop:j.sh;return L.propertyIndex=I.ix,U.or.setGroupProperty(PropertyInterface("Outer Radius",z)),U.os.setGroupProperty(PropertyInterface("Outer Roundness",z)),U.pt.setGroupProperty(PropertyInterface("Points",z)),U.p.setGroupProperty(PropertyInterface("Position",z)),U.r.setGroupProperty(PropertyInterface("Rotation",z)),I.ir&&(U.ir.setGroupProperty(PropertyInterface("Inner Radius",z)),U.is.setGroupProperty(PropertyInterface("Inner Roundness",z))),Object.defineProperties(L,{position:{get:ExpressionPropertyInterface(U.p)},rotation:{get:ExpressionPropertyInterface(U.r)},points:{get:ExpressionPropertyInterface(U.pt)},outerRadius:{get:ExpressionPropertyInterface(U.or)},outerRoundness:{get:ExpressionPropertyInterface(U.os)},innerRadius:{get:ExpressionPropertyInterface(U.ir)},innerRoundness:{get:ExpressionPropertyInterface(U.is)},_name:{value:I.nm}}),L.mn=I.mn,L}function E(I,j,q){function L(W){return I.p.ix===W?L.position:I.r.ix===W?L.roundness:I.s.ix===W||W==="Size"||W==="ADBE Vector Rect Size"?L.size:null}var z=propertyGroupFactory(L,q),U=j.sh.ty==="tm"?j.sh.prop:j.sh;return L.propertyIndex=I.ix,U.p.setGroupProperty(PropertyInterface("Position",z)),U.s.setGroupProperty(PropertyInterface("Size",z)),U.r.setGroupProperty(PropertyInterface("Rotation",z)),Object.defineProperties(L,{position:{get:ExpressionPropertyInterface(U.p)},roundness:{get:ExpressionPropertyInterface(U.r)},size:{get:ExpressionPropertyInterface(U.s)},_name:{value:I.nm}}),L.mn=I.mn,L}function A(I,j,q){function L(W){return I.r.ix===W||W==="Round Corners 1"?L.radius:null}var z=propertyGroupFactory(L,q),U=j;return L.propertyIndex=I.ix,U.rd.setGroupProperty(PropertyInterface("Radius",z)),Object.defineProperties(L,{radius:{get:ExpressionPropertyInterface(U.rd)},_name:{value:I.nm}}),L.mn=I.mn,L}function R(I,j,q){function L(W){return I.c.ix===W||W==="Copies"?L.copies:I.o.ix===W||W==="Offset"?L.offset:null}var z=propertyGroupFactory(L,q),U=j;return L.propertyIndex=I.ix,U.c.setGroupProperty(PropertyInterface("Copies",z)),U.o.setGroupProperty(PropertyInterface("Offset",z)),Object.defineProperties(L,{copies:{get:ExpressionPropertyInterface(U.c)},offset:{get:ExpressionPropertyInterface(U.o)},_name:{value:I.nm}}),L.mn=I.mn,L}return function(I,j,q){var L;function z(W){if(typeof W=="number")return W=W===void 0?1:W,W===0?q:L[W-1];for(var H=0,Z=L.length;H<Z;){if(L[H]._name===W)return L[H];H+=1}return null}function U(){return q}return z.propertyGroup=propertyGroupFactory(z,U),L=t(I,j,z.propertyGroup),z.numProperties=L.length,z._name="Contents",z}}(),TextExpressionInterface=function(){return function(t){var e;function n(i){switch(i){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var o=t.textProperty.currentData.t;return(!e||o!==e.value)&&(e=new String(o),e.value=o||new String(o),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),n}}();function _typeof(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(n){return typeof n}:_typeof=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(t)}var FootageInterface=function(){var t=function(i){var o="",l=i.getFootageData();function u(){return o="",l=i.getFootageData(),f}function f(d){if(l[d])return o=d,l=l[d],_typeof(l)==="object"?f:l;var p=d.indexOf(o);if(p!==-1){var g=parseInt(d.substr(p+o.length),10);return l=l[g],_typeof(l)==="object"?f:l}return""}return u},e=function(i){function o(l){return l==="Outline"?o.outlineInterface():null}return o._name="Outline",o.outlineInterface=t(i),o};return function(n){function i(o){return o==="Data"?i.dataInterface:null}return i._name="Data",i.dataInterface=e(n),i}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers=function(){function t(u,f,d){f.x&&(d.k=!0,d.x=!0,d.initiateExpression=ExpressionManager.initiateExpression,d.effectsSequence.push(d.initiateExpression(u,f,d).bind(d)))}function e(u){return u*=this.elem.globalData.frameRate,u-=this.offsetTime,u!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<u?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(u,this._cachingAtTime),this._cachingAtTime.lastFrame=u),this._cachingAtTime.value}function n(u){var f=-.01,d=this.getValueAtTime(u),p=this.getValueAtTime(u+f),g=0;if(d.length){var E;for(E=0;E<d.length;E+=1)g+=Math.pow(p[E]-d[E],2);g=Math.sqrt(g)*100}else g=0;return g}function i(u){if(this.vel!==void 0)return this.vel;var f=-.001,d=this.getValueAtTime(u),p=this.getValueAtTime(u+f),g;if(d.length){g=createTypedArray("float32",d.length);var E;for(E=0;E<d.length;E+=1)g[E]=(p[E]-d[E])/f}else g=(p-d)/f;return g}function o(){return this.pv}function l(u){this.propertyGroup=u}return{searchExpressions:t,getSpeedAtTime:n,getVelocityAtTime:i,getValueAtTime:e,getStaticValueAtTime:o,setGroupProperty:l}}();function addPropertyDecorator(){function t(A,R,I){if(!this.k||!this.keyframes)return this.pv;A=A?A.toLowerCase():"";var j=this.comp.renderedFrame,q=this.keyframes,L=q[q.length-1].t;if(j<=L)return this.pv;var z,U;I?(R?z=Math.abs(L-this.elem.comp.globalData.frameRate*R):z=Math.max(0,L-this.elem.data.ip),U=L-z):((!R||R>q.length-1)&&(R=q.length-1),U=q[q.length-1-R].t,z=L-U);var W,H,Z;if(A==="pingpong"){var Y=Math.floor((j-U)/z);if(Y%2!==0)return this.getValueAtTime((z-(j-U)%z+U)/this.comp.globalData.frameRate,0)}else if(A==="offset"){var J=this.getValueAtTime(U/this.comp.globalData.frameRate,0),ne=this.getValueAtTime(L/this.comp.globalData.frameRate,0),ae=this.getValueAtTime(((j-U)%z+U)/this.comp.globalData.frameRate,0),se=Math.floor((j-U)/z);if(this.pv.length){for(Z=new Array(J.length),H=Z.length,W=0;W<H;W+=1)Z[W]=(ne[W]-J[W])*se+ae[W];return Z}return(ne-J)*se+ae}else if(A==="continue"){var ue=this.getValueAtTime(L/this.comp.globalData.frameRate,0),fe=this.getValueAtTime((L-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Z=new Array(ue.length),H=Z.length,W=0;W<H;W+=1)Z[W]=ue[W]+(ue[W]-fe[W])*((j-L)/this.comp.globalData.frameRate)/5e-4;return Z}return ue+(ue-fe)*((j-L)/.001)}return this.getValueAtTime(((j-U)%z+U)/this.comp.globalData.frameRate,0)}function e(A,R,I){if(!this.k)return this.pv;A=A?A.toLowerCase():"";var j=this.comp.renderedFrame,q=this.keyframes,L=q[0].t;if(j>=L)return this.pv;var z,U;I?(R?z=Math.abs(this.elem.comp.globalData.frameRate*R):z=Math.max(0,this.elem.data.op-L),U=L+z):((!R||R>q.length-1)&&(R=q.length-1),U=q[R].t,z=U-L);var W,H,Z;if(A==="pingpong"){var Y=Math.floor((L-j)/z);if(Y%2===0)return this.getValueAtTime(((L-j)%z+L)/this.comp.globalData.frameRate,0)}else if(A==="offset"){var J=this.getValueAtTime(L/this.comp.globalData.frameRate,0),ne=this.getValueAtTime(U/this.comp.globalData.frameRate,0),ae=this.getValueAtTime((z-(L-j)%z+L)/this.comp.globalData.frameRate,0),se=Math.floor((L-j)/z)+1;if(this.pv.length){for(Z=new Array(J.length),H=Z.length,W=0;W<H;W+=1)Z[W]=ae[W]-(ne[W]-J[W])*se;return Z}return ae-(ne-J)*se}else if(A==="continue"){var ue=this.getValueAtTime(L/this.comp.globalData.frameRate,0),fe=this.getValueAtTime((L+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Z=new Array(ue.length),H=Z.length,W=0;W<H;W+=1)Z[W]=ue[W]+(ue[W]-fe[W])*(L-j)/.001;return Z}return ue+(ue-fe)*(L-j)/.001}return this.getValueAtTime((z-((L-j)%z+L))/this.comp.globalData.frameRate,0)}function n(A,R){if(!this.k)return this.pv;if(A=(A||.4)*.5,R=Math.floor(R||5),R<=1)return this.pv;var I=this.comp.renderedFrame/this.comp.globalData.frameRate,j=I-A,q=I+A,L=R>1?(q-j)/(R-1):1,z=0,U=0,W;this.pv.length?W=createTypedArray("float32",this.pv.length):W=0;for(var H;z<R;){if(H=this.getValueAtTime(j+z*L),this.pv.length)for(U=0;U<this.pv.length;U+=1)W[U]+=H[U];else W+=H;z+=1}if(this.pv.length)for(U=0;U<this.pv.length;U+=1)W[U]/=R;else W/=R;return W}function i(A){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var R=this._transformCachingAtTime.v;if(R.cloneFromProps(this.pre.props),this.appliedTransformations<1){var I=this.a.getValueAtTime(A);R.translate(-I[0]*this.a.mult,-I[1]*this.a.mult,I[2]*this.a.mult)}if(this.appliedTransformations<2){var j=this.s.getValueAtTime(A);R.scale(j[0]*this.s.mult,j[1]*this.s.mult,j[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var q=this.sk.getValueAtTime(A),L=this.sa.getValueAtTime(A);R.skewFromAxis(-q*this.sk.mult,L*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var z=this.r.getValueAtTime(A);R.rotate(-z*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var U=this.rz.getValueAtTime(A),W=this.ry.getValueAtTime(A),H=this.rx.getValueAtTime(A),Z=this.or.getValueAtTime(A);R.rotateZ(-U*this.rz.mult).rotateY(W*this.ry.mult).rotateX(H*this.rx.mult).rotateZ(-Z[2]*this.or.mult).rotateY(Z[1]*this.or.mult).rotateX(Z[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Y=this.px.getValueAtTime(A),J=this.py.getValueAtTime(A);if(this.data.p.z){var ne=this.pz.getValueAtTime(A);R.translate(Y*this.px.mult,J*this.py.mult,-ne*this.pz.mult)}else R.translate(Y*this.px.mult,J*this.py.mult,0)}else{var ae=this.p.getValueAtTime(A);R.translate(ae[0]*this.p.mult,ae[1]*this.p.mult,-ae[2]*this.p.mult)}return R}function o(){return this.v.clone(new Matrix)}var l=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(A,R,I){var j=l(A,R,I);return j.dynamicProperties.length?j.getValueAtTime=i.bind(j):j.getValueAtTime=o.bind(j),j.setGroupProperty=expressionHelpers.setGroupProperty,j};var u=PropertyFactory.getProp;PropertyFactory.getProp=function(A,R,I,j,q){var L=u(A,R,I,j,q);L.kf?L.getValueAtTime=expressionHelpers.getValueAtTime.bind(L):L.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(L),L.setGroupProperty=expressionHelpers.setGroupProperty,L.loopOut=t,L.loopIn=e,L.smooth=n,L.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(L),L.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(L),L.numKeys=R.a===1?R.k.length:0,L.propertyIndex=R.ix;var z=0;return I!==0&&(z=createTypedArray("float32",R.a===1?R.k[0].s.length:R.k.length)),L._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:z},expressionHelpers.searchExpressions(A,R,L),L.k&&q.addDynamicProperty(L),L};function f(A){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),A*=this.elem.globalData.frameRate,A-=this.offsetTime,A!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<A?this._caching.lastIndex:0,this._cachingAtTime.lastTime=A,this.interpolateShape(A,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var d=ShapePropertyFactory.getConstructorFunction(),p=ShapePropertyFactory.getKeyframedConstructorFunction();function g(){}g.prototype={vertices:function(R,I){this.k&&this.getValue();var j=this.v;I!==void 0&&(j=this.getValueAtTime(I,0));var q,L=j._length,z=j[R],U=j.v,W=createSizedArray(L);for(q=0;q<L;q+=1)R==="i"||R==="o"?W[q]=[z[q][0]-U[q][0],z[q][1]-U[q][1]]:W[q]=[z[q][0],z[q][1]];return W},points:function(R){return this.vertices("v",R)},inTangents:function(R){return this.vertices("i",R)},outTangents:function(R){return this.vertices("o",R)},isClosed:function(){return this.v.c},pointOnPath:function(R,I){var j=this.v;I!==void 0&&(j=this.getValueAtTime(I,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(j));for(var q=this._segmentsLength,L=q.lengths,z=q.totalLength*R,U=0,W=L.length,H=0,Z;U<W;){if(H+L[U].addedLength>z){var Y=U,J=j.c&&U===W-1?0:U+1,ne=(z-H)/L[U].addedLength;Z=bez.getPointInSegment(j.v[Y],j.v[J],j.o[Y],j.i[J],ne,L[U]);break}else H+=L[U].addedLength;U+=1}return Z||(Z=j.c?[j.v[0][0],j.v[0][1]]:[j.v[j._length-1][0],j.v[j._length-1][1]]),Z},vectorOnPath:function(R,I,j){R==1?R=this.v.c:R==0&&(R=.999);var q=this.pointOnPath(R,I),L=this.pointOnPath(R+.001,I),z=L[0]-q[0],U=L[1]-q[1],W=Math.sqrt(Math.pow(z,2)+Math.pow(U,2));if(W===0)return[0,0];var H=j==="tangent"?[z/W,U/W]:[-U/W,z/W];return H},tangentOnPath:function(R,I){return this.vectorOnPath(R,I,"tangent")},normalOnPath:function(R,I){return this.vectorOnPath(R,I,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([g],d),extendPrototype([g],p),p.prototype.getValueAtTime=f,p.prototype.initiateExpression=ExpressionManager.initiateExpression;var E=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(A,R,I,j,q){var L=E(A,R,I,j,q);return L.propertyIndex=R.ix,L.lock=!1,I===3?expressionHelpers.searchExpressions(A,R.pt,L):I===4&&expressionHelpers.searchExpressions(A,R.ks,L),L.k&&A.addDynamicProperty(L),L}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,n){var i=this.calculateExpression(n);if(e.t!==i){var o={};return this.copyData(o,e),o.t=i.toString(),o.__complete=!1,o}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),n=this.searchExpressions();return this.kf=e||n,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function t(e,n){var i=createNS("feMerge");i.setAttribute("result",e);var o,l;for(l=0;l<n.length;l+=1)o=createNS("feMergeNode"),o.setAttribute("in",n[l]),i.appendChild(o),i.appendChild(o);return i}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,n,i,o){this.filterManager=e;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","linearRGB"),l.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=l,l.setAttribute("result",i+"_tint_1"),t.appendChild(l),l=createNS("feColorMatrix"),l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),l.setAttribute("result",i+"_tint_2"),t.appendChild(l),this.matrixFilter=l;var u=this.createMergeNode(i,[o,i+"_tint_1",i+"_tint_2"]);t.appendChild(u)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+i+" 0"),this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}};function SVGFillFilter(t,e,n,i){this.filterManager=e;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",i),t.appendChild(o),this.matrixFilter=o}SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}};function SVGStrokeEffect(t,e,n){this.initialized=!1,this.filterManager=e,this.elem=n,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,n,i,o;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,i=0):(i=this.filterManager.effectElements[0].p.v-1,o=i+1),n=createNS("g"),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-dashoffset",1),i;i<o;i+=1)e=createNS("path"),n.appendChild(e),this.paths.push({p:e,m:i});if(this.filterManager.effectElements[10].p.v===3){var l=createNS("mask"),u=createElementID();l.setAttribute("id",u),l.setAttribute("mask-type","alpha"),l.appendChild(n),this.elem.globalData.defs.appendChild(l);var f=createNS("g");for(f.setAttribute("mask","url("+getLocationHref()+"#"+u+")");t[0];)f.appendChild(t[0]);this.elem.layerElement.appendChild(f),this.masker=l,n.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(t=this.elem.layerElement.children||this.elem.layerElement.childNodes;t.length;)this.elem.layerElement.removeChild(t[0]);this.elem.layerElement.appendChild(n),this.elem.layerElement.removeAttribute("mask"),n.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=n},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,n=this.paths.length,i,o;for(e=0;e<n;e+=1)if(this.paths[e].m!==-1&&(i=this.elem.maskManager.viewData[this.paths[e].m],o=this.paths[e].p,(t||this.filterManager._mdf||i.prop._mdf)&&o.setAttribute("d",i.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf)){var l;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var u=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,f=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,d=o.getTotalLength();l="0 0 0 "+d*u+" ";var p=d*(f-u),g=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,E=Math.floor(p/g),A;for(A=0;A<E;A+=1)l+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";l+="0 "+d*10+" 0 0"}else l="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",l)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var R=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(R[0]*255)+","+bmFloor(R[1]*255)+","+bmFloor(R[2]*255)+")")}};function SVGTritoneFilter(t,e,n,i){this.filterManager=e;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(o);var l=createNS("feComponentTransfer");l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("result",i),this.matrixFilter=l;var u=createNS("feFuncR");u.setAttribute("type","table"),l.appendChild(u),this.feFuncR=u;var f=createNS("feFuncG");f.setAttribute("type","table"),l.appendChild(f),this.feFuncG=f;var d=createNS("feFuncB");d.setAttribute("type","table"),l.appendChild(d),this.feFuncB=d,t.appendChild(l)}SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,o=i[0]+" "+n[0]+" "+e[0],l=i[1]+" "+n[1]+" "+e[1],u=i[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",l),this.feFuncB.setAttribute("tableValues",u)}};function SVGProLevelsFilter(t,e,n,i){this.filterManager=e;var o=this.filterManager.effectElements,l=createNS("feComponentTransfer");(o[10].p.k||o[10].p.v!==0||o[11].p.k||o[11].p.v!==1||o[12].p.k||o[12].p.v!==1||o[13].p.k||o[13].p.v!==0||o[14].p.k||o[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",l)),(o[17].p.k||o[17].p.v!==0||o[18].p.k||o[18].p.v!==1||o[19].p.k||o[19].p.v!==1||o[20].p.k||o[20].p.v!==0||o[21].p.k||o[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",l)),(o[24].p.k||o[24].p.v!==0||o[25].p.k||o[25].p.v!==1||o[26].p.k||o[26].p.v!==1||o[27].p.k||o[27].p.v!==0||o[28].p.k||o[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",l)),(o[31].p.k||o[31].p.v!==0||o[32].p.k||o[32].p.v!==1||o[33].p.k||o[33].p.v!==1||o[34].p.k||o[34].p.v!==0||o[35].p.k||o[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",l)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(l.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(l)),(o[3].p.k||o[3].p.v!==0||o[4].p.k||o[4].p.v!==1||o[5].p.k||o[5].p.v!==1||o[6].p.k||o[6].p.v!==0||o[7].p.k||o[7].p.v!==1)&&(l=createNS("feComponentTransfer"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("result",i),t.appendChild(l),this.feFuncRComposed=this.createFeFunc("feFuncR",l),this.feFuncGComposed=this.createFeFunc("feFuncG",l),this.feFuncBComposed=this.createFeFunc("feFuncB",l))}SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,i,o){for(var l=0,u=256,f,d=Math.min(t,e),p=Math.max(t,e),g=Array.call(null,{length:u}),E,A=0,R=o-i,I=e-t;l<=256;)f=l/256,f<=d?E=I<0?o:i:f>=p?E=I<0?i:o:E=i+R*Math.pow((f-t)/I,1/n),g[A]=E,A+=1,l+=256/(u-1);return g.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(t,e,n,i,o){var l=e.container.globalData.renderConfig.filterSize,u=e.data.fs||l;t.setAttribute("x",u.x||l.x),t.setAttribute("y",u.y||l.y),t.setAttribute("width",u.width||l.width),t.setAttribute("height",u.height||l.height),this.filterManager=e;var f=createNS("feGaussianBlur");f.setAttribute("in","SourceAlpha"),f.setAttribute("result",i+"_drop_shadow_1"),f.setAttribute("stdDeviation","0"),this.feGaussianBlur=f,t.appendChild(f);var d=createNS("feOffset");d.setAttribute("dx","25"),d.setAttribute("dy","0"),d.setAttribute("in",i+"_drop_shadow_1"),d.setAttribute("result",i+"_drop_shadow_2"),this.feOffset=d,t.appendChild(d);var p=createNS("feFlood");p.setAttribute("flood-color","#00ff00"),p.setAttribute("flood-opacity","1"),p.setAttribute("result",i+"_drop_shadow_3"),this.feFlood=p,t.appendChild(p);var g=createNS("feComposite");g.setAttribute("in",i+"_drop_shadow_3"),g.setAttribute("in2",i+"_drop_shadow_2"),g.setAttribute("operator","in"),g.setAttribute("result",i+"_drop_shadow_4"),t.appendChild(g);var E=this.createMergeNode(i,[i+"_drop_shadow_4",o]);t.appendChild(E)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=n*Math.cos(i),l=n*Math.sin(i);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",l)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var i=n.children,o=0,l=i.length;o<l&&i[o]!==t.layerElement;)o+=1;var u;o<=l-2&&(u=i[o+1]);var f=createNS("use");f.setAttribute("href","#"+e),u?n.insertBefore(f,u):n.appendChild(f)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),i=createNS("mask");i.setAttribute("id",e.layerId),i.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var o=t.globalData.defs;o.appendChild(i);var l=createNS("symbol");l.setAttribute("id",n),this.replaceInParent(e,n),l.appendChild(e.layerElement),o.appendChild(l);var u=createNS("use");u.setAttribute("href","#"+n),i.appendChild(u),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,i=e.length;n<i;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(t,e,n,i){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var o=createNS("feGaussianBlur");o.setAttribute("result",i),t.appendChild(o),this.feGaussianBlur=o}SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3,n=this.filterManager.effectElements[0].p.v*e,i=this.filterManager.effectElements[1].p.v,o=i==3?0:n,l=i==2?0:n;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+l);var u=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",u)}};function TransformEffect(){}TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,n=e[0].p.v,i=e[1].p.v,o=e[2].p.v===1,l=e[3].p.v,u=o?l:e[4].p.v,f=e[5].p.v,d=e[6].p.v,p=e[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(u*.01,l*.01,1),this.matrix.rotate(-p*degToRads),this.matrix.skewFromAxis(-f*degToRads,(d+90)*degToRads),this.matrix.translate(i[0],i[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(t,e){this.init(e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(t){this.init(t)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})}(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports),v$2="5.7.3",fr$2=60,ip$2=0,op$2=180,w$2=1920,h$2=1920,nm$2="animation",ddd$2=0,assets$2=[],layers$2=JSON.parse('[{"ddd":0,"ind":1,"ty":4,"nm":"Tick","parent":4,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3.115,"s":[100]},{"t":20.796875,"s":[100]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":12,"s":[-165]},{"t":39,"s":[0]}],"ix":10},"p":{"a":0,"k":[346.916,346.917,0],"ix":2},"a":{"a":0,"k":[278.033,227.218,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":19.533,"s":[20,20,100]},{"t":38.48046875,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-153.033,0.588],[-51.404,102.218],[153.032,-102.218]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":55,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[278.033,227.218],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.33],"y":[1]},"o":{"x":[0.67],"y":[0]},"t":20.164,"s":[0]},{"t":38.48046875,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Glow Mask","td":1,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3.115,"s":[100]},{"t":20.796875,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.783,"y":0.48},"o":{"x":0.506,"y":0},"t":0,"s":[1099.01,1187.835,0],"to":[-51.058,-20.951,0],"ti":[23.519,29.424,0]},{"i":{"x":0.576,"y":1},"o":{"x":0.337,"y":0.496},"t":19.533,"s":[989.155,1114.015,0],"to":[-26.997,-33.775,0],"ti":[3.563,56.649,0]},{"t":32.1640625,"s":[947.01,981.835,0]}],"ix":2},"a":{"a":0,"k":[346.917,346.917,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":19.533,"s":[20,20,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":38.48,"s":[110,110,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":51.109,"s":[95,95,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":58.688,"s":[102,102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":63.74,"s":[98,98,100]},{"t":70.0546875,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-191.459],[191.459,0],[0,191.458],[-191.458,0]],"o":[[0,191.458],[-191.458,0],[0,-191.459],[191.459,0]],"v":[[346.667,0],[0,346.667],[-346.667,0],[0,-346.666]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.118000000598,0.442999985639,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[346.916,346.917],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Glow","tt":1,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":3.115,"s":[100]},{"i":{"x":[0.833],"y":[0.643]},"o":{"x":[0.72],"y":[0]},"t":70.055,"s":[100]},{"t":89,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.788},"o":{"x":0.72,"y":0},"t":59.951,"s":[56,440,0],"to":[226.667,131.333,0],"ti":[-226.667,-131.333,0]},{"t":89,"s":[1416,1228,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[348.655,1.947],[0,0],[35.647,880.072]],"o":[[0,0],[-8.868,-0.049],[0,0],[-3.819,-94.283]],"v":[[211.999,-440],[-480,280],[-136,648],[483.999,-312]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.76862745098,0.823067997951,1,1],"ix":4},"o":{"a":0,"k":30,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Background Circle (Blue)","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":8,"s":[100]},{"t":20.796875,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,960,0],"ix":2},"a":{"a":0,"k":[346.917,346.917,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":19.533,"s":[20,20,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":39,"s":[110,110,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":51.109,"s":[95,95,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":58.688,"s":[102,102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":63.74,"s":[98,98,100]},{"t":70.0546875,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-191.459],[191.459,0],[0,191.458],[-191.458,0]],"o":[[0,191.458],[-191.458,0],[0,-191.459],[191.459,0]],"v":[[346.667,0],[0,346.667],[-346.667,0],[0,-346.666]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.313725490196,0.81568627451,0.360784313725,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[346.916,346.917],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Element 11","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":10.793,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12.871,"s":[100]},{"i":{"x":[0.833],"y":[0.601]},"o":{"x":[0.72],"y":[0]},"t":27.42,"s":[100]},{"t":56,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.33,"y":1},"o":{"x":0.174,"y":0},"t":15.99,"s":[957.368,957.581,0],"to":[-154.333,61,0],"ti":[34.333,-69,0]},{"t":32.615234375,"s":[774.545,1455.048,0]}],"ix":2},"a":{"a":0,"k":[88.379,84.132,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-17.539,13.457],[-12.743,-16.607],[0,0]],"o":[[-12.743,-16.608],[17.539,-13.458],[0,0],[0,0]],"v":[[-25.635,34.132],[-16.894,-20.673],[38.306,-14.931],[38.379,-14.837]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.255000005984,0.685999971278,0.501999978458,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[88.378,84.131],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":1815,"st":15,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Element 10","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":10.793,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12.871,"s":[100]},{"i":{"x":[0.833],"y":[0.601]},"o":{"x":[0.72],"y":[0]},"t":27.42,"s":[100]},{"t":56,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.33,"y":1},"o":{"x":0.229,"y":0},"t":15.99,"s":[960,960,0],"to":[59.019,77.842,0],"ti":[-71.667,-48,0]},{"t":34.6953125,"s":[1314.113,1427.051,0]}],"ix":2},"a":{"a":0,"k":[33.514,41.664,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[3.281,-1.895],[0,0],[1.894,3.281],[0,0],[-3.281,1.894],[0,0],[-1.894,-3.282],[0,0]],"o":[[0,0],[-3.281,1.894],[0,0],[-1.894,-3.283],[0,0],[3.281,-1.895],[0,0],[1.894,3.281]],"v":[[28.859,29.055],[10.732,39.52],[1.361,37.009],[-31.37,-19.681],[-28.859,-29.053],[-10.732,-39.519],[-1.361,-37.008],[31.37,19.683]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.275,0.513999968884,0.961000031116,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[33.514,41.664],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":1815,"st":15,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Element 9","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":10.793,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12.871,"s":[100]},{"i":{"x":[0.833],"y":[0.601]},"o":{"x":[0.72],"y":[0]},"t":27.42,"s":[100]},{"t":56,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.33,"y":1},"o":{"x":0.189,"y":0},"t":15.99,"s":[961.262,961.213,0],"to":[70.333,-5.667,0],"ti":[-62.333,-30.333,0]},{"t":33.134765625,"s":[1420.768,1239.936,0]}],"ix":2},"a":{"a":0,"k":[60.548,78.82,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[2.886,-21.917],[20.753,2.734],[0.039,0.005]],"o":[[20.754,2.733],[-2.886,21.918],[-0.04,-0.005],[0,0]],"v":[[-12.409,-41.32],[20.162,3.615],[-22.93,38.586],[-23.048,38.571]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.972549019608,0.149019607843,0.505882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":15,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[60.548,78.82],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":1815,"st":15,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Element 8","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":10.793,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12.871,"s":[100]},{"i":{"x":[0.833],"y":[0.601]},"o":{"x":[0.72],"y":[0]},"t":27.42,"s":[100]},{"t":56,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.33,"y":1},"o":{"x":0.263,"y":0},"t":15.99,"s":[959.692,959.692,0],"to":[46.333,-81.667,0],"ti":[-98.333,51.667,0]},{"t":46.126953125,"s":[1397.413,873.271,0]}],"ix":2},"a":{"a":0,"k":[47.326,47.325,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-11.644,-3.948],[0,0],[-3.912,2.92],[0,0],[0.157,-12.294],[0,0],[-3.985,-2.819],[0,0],[11.74,-3.65],[0,0],[1.449,-4.662],[0,0],[7.098,10.038],[0,0],[4.882,-0.063],[0,0],[-7.354,9.853],[0,0],[1.569,4.624],[0,0]],"o":[[0,0],[4.623,1.568],[0,0],[9.854,-7.353],[0,0],[-0.062,4.882],[0,0],[10.038,7.099],[0,0],[-4.662,1.449],[0,0],[-3.649,11.74],[0,0],[-2.82,-3.986],[0,0],[-12.293,0.156],[0,0],[2.92,-3.913],[0,0],[-3.948,-11.644]],"v":[[-17.558,-36.37],[-13.481,-34.987],[0.154,-37.147],[3.606,-39.722],[27.31,-27.644],[27.255,-23.339],[33.522,-11.038],[37.038,-8.552],[32.877,17.724],[28.763,19.002],[19.003,28.764],[17.724,32.876],[-8.551,37.037],[-11.037,33.522],[-23.338,27.255],[-27.644,27.31],[-39.721,3.606],[-37.146,0.155],[-34.987,-13.481],[-36.37,-17.558]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.736999990426,0.195999998205,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[47.325,47.325],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":1815,"st":15,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"Element 7","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":10.793,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12.871,"s":[100]},{"i":{"x":[0.833],"y":[0.601]},"o":{"x":[0.72],"y":[0]},"t":27.42,"s":[100]},{"t":56,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.33,"y":1},"o":{"x":0.229,"y":0},"t":15.99,"s":[958.09,958.244,0],"to":[18.333,-110,0],"ti":[-64.333,76,0]},{"t":34.6953125,"s":[1316.148,645.839,0]}],"ix":2},"a":{"a":0,"k":[77.856,74.774,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-12.731,9.768],[-9.249,-12.055],[-0.018,-0.022]],"o":[[-9.249,-12.055],[12.73,-9.768],[0.018,0.023],[0,0]],"v":[[-18.607,24.774],[-12.262,-15.006],[27.805,-10.838],[27.857,-10.77]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.972549019608,0.149019607843,0.505882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[77.856,74.774],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":1815,"st":15,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"Element 6","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":10.793,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12.871,"s":[100]},{"i":{"x":[0.833],"y":[0.601]},"o":{"x":[0.72],"y":[0]},"t":27.42,"s":[100]},{"t":56,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.33,"y":1},"o":{"x":0.189,"y":0},"t":15.99,"s":[959.693,959.693,0],"to":[-138,24.333,0],"ti":[110,-64.333,0]},{"t":33.134765625,"s":[529.471,1363.811,0]}],"ix":2},"a":{"a":0,"k":[47.326,47.325,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-11.644,-3.948],[0,0],[-3.913,2.92],[0,0],[0.157,-12.294],[0,0],[-3.986,-2.819],[0,0],[11.74,-3.65],[0,0],[1.449,-4.662],[0,0],[7.099,10.038],[0,0],[4.881,-0.062],[0,0],[-7.353,9.853],[0,0],[1.568,4.624],[0,0]],"o":[[0,0],[4.623,1.567],[0,0],[9.853,-7.352],[0,0],[-0.063,4.882],[0,0],[10.038,7.1],[0,0],[-4.662,1.449],[0,0],[-3.649,11.741],[0,0],[-2.819,-3.987],[0,0],[-12.293,0.157],[0,0],[2.92,-3.913],[0,0],[-3.948,-11.644]],"v":[[-17.558,-36.37],[-13.481,-34.987],[0.154,-37.147],[3.605,-39.723],[27.31,-27.644],[27.255,-23.339],[33.521,-11.038],[37.037,-8.553],[32.875,17.724],[28.763,19.002],[19.003,28.764],[17.724,32.875],[-8.552,37.037],[-11.039,33.522],[-23.339,27.254],[-27.645,27.31],[-39.722,3.606],[-37.146,0.154],[-34.987,-13.481],[-36.37,-17.558]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.737254901961,0.196078446332,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[47.325,47.325],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":1815,"st":15,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"Element 5","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":10.793,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12.871,"s":[100]},{"i":{"x":[0.833],"y":[0.601]},"o":{"x":[0.72],"y":[0]},"t":27.42,"s":[100]},{"t":56,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.33,"y":1},"o":{"x":0.283,"y":0},"t":15.99,"s":[960,960,0],"to":[-178.333,3,0],"ti":[124.333,-150,0]},{"t":47.166015625,"s":[517.297,1177.159,0]}],"ix":2},"a":{"a":0,"k":[30.771,30.771,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-16.856],[16.856,0],[0,16.856],[-16.857,0]],"o":[[0,16.856],[-16.857,0],[0,-16.856],[16.856,0]],"v":[[30.521,0],[0,30.521],[-30.521,0],[0,-30.521]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.972549019608,0.149019607843,0.505882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[30.771,30.771],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":1815,"st":15,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"Element 4","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":10.793,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12.871,"s":[100]},{"i":{"x":[0.833],"y":[0.601]},"o":{"x":[0.72],"y":[0]},"t":27.42,"s":[100]},{"t":56,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.33,"y":1},"o":{"x":0.273,"y":0},"t":15.99,"s":[960,960,0],"to":[-94.667,-86.667,0],"ti":[140.667,20.667,0]},{"t":46.64453125,"s":[446.624,934.727,0]}],"ix":2},"a":{"a":0,"k":[42,25.144,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.829,-3.697],[0,0],[3.698,-0.828],[0,0],[0.83,3.697],[0,0],[-3.697,0.828],[0,0]],"o":[[0,0],[0.829,3.697],[0,0],[-3.697,0.828],[0,0],[-0.828,-3.697],[0,0],[3.697,-0.828]],"v":[[36.343,-18.872],[40.921,1.552],[35.727,9.747],[-28.148,24.066],[-36.344,18.872],[-40.922,-1.553],[-35.728,-9.747],[28.148,-24.066]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.313725490196,0.81568627451,0.360784313725,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[42,25.144],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":1815,"st":15,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"Element 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":10.793,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12.871,"s":[100]},{"i":{"x":[0.833],"y":[0.601]},"o":{"x":[0.72],"y":[0]},"t":27.42,"s":[100]},{"t":56,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.33,"y":1},"o":{"x":0.174,"y":0},"t":15.99,"s":[959.693,959.692,0],"to":[-113.667,-146,0],"ti":[119.667,22.5,0]},{"t":42.48828125,"s":[529.471,736.071,0]}],"ix":2},"a":{"a":0,"k":[47.326,47.325,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-11.644,-3.948],[0,0],[-3.913,2.92],[0,0],[0.157,-12.294],[0,0],[-3.986,-2.819],[0,0],[11.74,-3.65],[0,0],[1.449,-4.662],[0,0],[7.099,10.038],[0,0],[4.881,-0.063],[0,0],[-7.353,9.854],[0,0],[1.568,4.624],[0,0]],"o":[[0,0],[4.623,1.568],[0,0],[9.853,-7.353],[0,0],[-0.063,4.882],[0,0],[10.038,7.099],[0,0],[-4.662,1.449],[0,0],[-3.649,11.74],[0,0],[-2.819,-3.986],[0,0],[-12.293,0.157],[0,0],[2.92,-3.912],[0,0],[-3.948,-11.644]],"v":[[-17.558,-36.37],[-13.481,-34.987],[0.154,-37.147],[3.605,-39.722],[27.31,-27.644],[27.255,-23.339],[33.521,-11.038],[37.037,-8.552],[32.875,17.724],[28.763,19.002],[19.003,28.764],[17.724,32.876],[-8.552,37.037],[-11.039,33.522],[-23.339,27.255],[-27.645,27.309],[-39.722,3.605],[-37.146,0.154],[-34.987,-13.481],[-36.37,-17.558]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.274509803922,0.513725490196,0.960784313725,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[47.325,47.325],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":1815,"st":15,"bm":0},{"ddd":0,"ind":15,"ty":4,"nm":"Element 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":10.793,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":12.871,"s":[100]},{"i":{"x":[0.833],"y":[0.601]},"o":{"x":[0.72],"y":[0]},"t":27.42,"s":[100]},{"t":56,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.33,"y":1},"o":{"x":0.292,"y":0},"t":15.99,"s":[960,960,0],"to":[-95.667,-127,0],"ti":[3.667,95,0]},{"t":47.6875,"s":[788.638,547.457,0]}],"ix":2},"a":{"a":0,"k":[33.515,41.664,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[3.281,-1.895],[0,0],[1.895,3.281],[0,0],[-3.281,1.894],[0,0],[-1.895,-3.281],[0,0]],"o":[[0,0],[-3.282,1.895],[0,0],[-1.895,-3.281],[0,0],[3.281,-1.894],[0,0],[1.895,3.282]],"v":[[28.859,29.054],[10.733,39.519],[1.36,37.008],[-31.37,-19.683],[-28.859,-29.054],[-10.732,-39.52],[-1.36,-37.009],[31.37,19.682]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.274509803922,0.513725490196,0.960784313725,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[33.515,41.664],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":1815,"st":15,"bm":0},{"ddd":0,"ind":16,"ty":4,"nm":"Element 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":10.793,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":12.871,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":27.42,"s":[100]},{"t":56,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.33,"y":1},"o":{"x":0.252,"y":0},"t":15.99,"s":[960,960,0],"to":[22,-151.667,0],"ti":[40,75.667,0]},{"t":45.607421875,"s":[1027.199,504.507,0]}],"ix":2},"a":{"a":0,"k":[30.771,30.771,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-16.856],[16.856,0],[0,16.857],[-16.857,0]],"o":[[0,16.857],[-16.857,0],[0,-16.856],[16.856,0]],"v":[[30.522,-0.001],[0,30.522],[-30.522,-0.001],[0,-30.522]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.255000005984,0.685999971278,0.501999978458,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[30.771,30.772],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":1815,"st":15,"bm":0}]'),markers$2=[],successAnimation={v:v$2,fr:fr$2,ip:ip$2,op:op$2,w:w$2,h:h$2,nm:nm$2,ddd:ddd$2,assets:assets$2,layers:layers$2,markers:markers$2},loginForm=({})=>{const[t,e]=reactExports.useState(""),[n,i]=reactExports.useState(""),o=useNavigate(),l=async p=>{if(p.preventDefault(),!t||!n){alert("請輸入電子郵件和密碼！");return}try{const E=(await signInWithEmailAndPassword(auth,t,n)).user;d(!0),console.log("✅ 登入成功:",E),setTimeout(()=>{o("/")},1800)}catch(g){g.code.includes("auth/user-not-found")?alert("使用者不存在！"):g.code.includes("auth/wrong-password")?alert("密碼錯誤！"):g.code.includes("auth/invalid-credential")?alert("帳號或密碼錯誤，請檢查電子郵件和密碼是否正確！"):alert("登入失敗："+g.message),console.log("🔥 登入失敗: ",g.message)}},u=reactExports.useRef(null),[f,d]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(f){const p=lottie.loadAnimation({container:u.current,renderer:"svg",loop:!0,autoplay:!0,animationData:successAnimation});return()=>p.destroy()}},[f]),jsxRuntimeExports.jsxs("div",{className:"login-box",children:[jsxRuntimeExports.jsxs("h2",{className:"formTitle",children:[jsxRuntimeExports.jsx(User$1,{size:30}),"登入"]}),jsxRuntimeExports.jsxs("form",{action:"#",className:"loginForm",children:[jsxRuntimeExports.jsxs("div",{className:"input-wrapper",children:[jsxRuntimeExports.jsx(Mail,{size:24,className:"icon"}),jsxRuntimeExports.jsx("input",{type:"email",className:"input-field",placeholder:"帳號",required:!0,onChange:p=>{e(p.target.value)}})]}),jsxRuntimeExports.jsxs("div",{className:"input-wrapper",children:[jsxRuntimeExports.jsx(LockKeyhole,{size:24,className:"icon"}),jsxRuntimeExports.jsx("input",{type:"password",className:"input-field",placeholder:"密碼",required:!0,onChange:p=>{i(p.target.value)}})]}),jsxRuntimeExports.jsx("a",{className:"forgot-pass",onClick:()=>{o("/forgot")},children:"忘記密碼?"}),jsxRuntimeExports.jsx("button",{className:"login-button",onClick:l,children:"登入"})]}),jsxRuntimeExports.jsxs("p",{children:["還沒有帳號?",jsxRuntimeExports.jsx("a",{href:"/register",children:"註冊"})]}),f&&jsxRuntimeExports.jsx("div",{className:"overlay",children:jsxRuntimeExports.jsxs("div",{className:"animation-container",children:[jsxRuntimeExports.jsx("div",{ref:u}),jsxRuntimeExports.jsx("p",{children:"登入成功！您將移至首頁"})]})})]})};function App$9(){return jsxRuntimeExports.jsx("div",{className:"login-page",children:jsxRuntimeExports.jsx("div",{className:"form-container",children:jsxRuntimeExports.jsx(loginForm,{})})})}const AvatarImg="data:image/webp;base64,UklGRhACAABXRUJQVlA4WAoAAAAQAAAAZAAAZAAAQUxQSIwAAAABf0CQbTODDeH+oGeIiKR1haPatpbl4DIiAVN3AvBHogERiEAEd4cCZCCBu/3Y6P4BiOj/BABG926qDkL8NB6mcuzHxdR2AVNTvARc1EwnaVM+SFWvyFZvxUnPtF8t4L5ZwPN/39kCzr0FbEu9CQW9PIGHnB+2agsbGE+xOMBcq2L7oqVUdvA7k9PlG1ZQOCBeAQAAcAwAnQEqZQBlAD6RRJ1JJaQjIS2z2EiwEglpABbQ/h19A7AgyBVO3fvZiRVSObU8Cr24Zgkbl/Sd2Ba0kKClvCtOjzxxc6+tYy6Jk+0HPbnlEZ/fw/MwrUukOH8ACSwVAzPeNZAQaBwHhBQAAP7zgAMp5txbz0iHQW2fJkDHxd/+/Z1O+q1HBWew1XLnJxBm9k/0D5xMM9N/urnXPpy2T36vZMdNSW9pacm9IVz/4+A3O4QnLIaXuff1tkCFH9rooGluQU7DLU7+LJ/62drFOFIyohffQZjx4yYCNzjHzZDALMtWK3u10R28X/9NFVfxm97zOSJydNqzheSZqF9yzkrsMwj9Aa2Y3ty7mXitKNoizc/kV14N4bxBmWSTTQImYyrUSLiFrHjHrFKpgsaed797K9InwqJuzztjMYnu0A/4pRLtEF1aG18ALDu3AAA9MrL9fWb0V4csYIeeAAA=";var define_process_env_default={};const name="@firebase/database",version="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SDK_VERSION="";function setSDKVersion(t){SDK_VERSION=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DOMStorageWrapper{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),stringify(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:jsonEval(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return contains(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const createStoragefor=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new DOMStorageWrapper(e)}}catch{}return new MemoryStorage},PersistentStorage=createStoragefor("localStorage"),SessionStorage=createStoragefor("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/database"),LUIDGenerator=function(){let t=1;return function(){return t++}}(),sha1=function(t){const e=stringToByteArray(t),n=new Sha1;n.update(e);const i=n.digest();return base64.encodeByteArray(i)},buildLogMessage_=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=buildLogMessage_.apply(null,i):typeof i=="object"?e+=stringify(i):e+=i,e+=" "}return e};let logger=null,firstLog_=!0;const enableLogging$1=function(t,e){assert(!0,"Can't turn on custom loggers persistently."),logClient.logLevel=LogLevel.VERBOSE,logger=logClient.log.bind(logClient)},log$1=function(...t){if(firstLog_===!0&&(firstLog_=!1,logger===null&&SessionStorage.get("logging_enabled")===!0&&enableLogging$1()),logger){const e=buildLogMessage_.apply(null,t);logger(e)}},logWrapper=function(t){return function(...e){log$1(t,...e)}},error=function(...t){const e="FIREBASE INTERNAL ERROR: "+buildLogMessage_(...t);logClient.error(e)},fatal=function(...t){const e=`FIREBASE FATAL ERROR: ${buildLogMessage_(...t)}`;throw logClient.error(e),new Error(e)},warn$1=function(...t){const e="FIREBASE WARNING: "+buildLogMessage_(...t);logClient.warn(e)},warnIfPageIsSecure=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&warn$1("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},MIN_NAME="[MIN_NAME]",MAX_NAME="[MAX_NAME]",nameCompare=function(t,e){if(t===e)return 0;if(t===MIN_NAME||e===MAX_NAME)return-1;if(e===MIN_NAME||t===MAX_NAME)return 1;{const n=tryParseInt(t),i=tryParseInt(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},stringCompare=function(t,e){return t===e?0:t<e?-1:1},requireKey=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+stringify(e))},ObjectToUniqueKey=function(t){if(typeof t!="object"||t===null)return stringify(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=stringify(e[i]),n+=":",n+=ObjectToUniqueKey(t[e[i]]);return n+="}",n},splitStringBySize=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function each(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const doubleToIEEE754String=function(t){assert(!isInvalidJSONNumber(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,l,u,f,d;t===0?(l=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),i),l=f+i,u=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-i-n))));const p=[];for(d=n;d;d-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(d=e;d;d-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(o?1:0),p.reverse();const g=p.join("");let E="";for(d=0;d<64;d+=8){let A=parseInt(g.substr(d,8),2).toString(16);A.length===1&&(A="0"+A),E=E+A}return E.toLowerCase()},isChromeExtensionContentScript=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function errorForServerCode(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const INTEGER_REGEXP_=new RegExp("^-?(0*)\\d{1,10}$"),INTEGER_32_MIN=-2147483648,INTEGER_32_MAX=2147483647,tryParseInt=function(t){if(INTEGER_REGEXP_.test(t)){const e=Number(t);if(e>=INTEGER_32_MIN&&e<=INTEGER_32_MAX)return e}return null},exceptionGuard=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw warn$1("Exception was thrown by user callback.",n),e},Math.floor(0))}},beingCrawled=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AppCheckTokenProvider{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,_isFirebaseServerApp(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){warn$1(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAuthTokenProvider{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(log$1("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn$1(e)}}class EmulatorTokenProvider{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}EmulatorTokenProvider.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PROTOCOL_VERSION="5",VERSION_PARAM="v",TRANSPORT_SESSION_PARAM="s",REFERER_PARAM="r",FORGE_REF="f",FORGE_DOMAIN_RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LAST_SESSION_PARAM="ls",APPLICATION_ID_PARAM="p",APP_CHECK_TOKEN_PARAM="ac",WEBSOCKET="websocket",LONG_POLLING="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RepoInfo{constructor(e,n,i,o,l=!1,u="",f=!1,d=!1,p=null){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=d,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=PersistentStorage.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&PersistentStorage.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function repoInfoNeedsQueryParam(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function repoInfoConnectionURL(t,e,n){assert(typeof e=="string","typeof type must == string"),assert(typeof n=="object","typeof params must == object");let i;if(e===WEBSOCKET)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===LONG_POLLING)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);repoInfoNeedsQueryParam(t)&&(n.ns=t.namespace);const o=[];return each(n,(l,u)=>{o.push(l+"="+u)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsCollection{constructor(){this.counters_={}}incrementCounter(e,n=1){contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return deepCopy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const collections={},reporters={};function statsManagerGetCollection(t){const e=t.toString();return collections[e]||(collections[e]=new StatsCollection),collections[e]}function statsManagerGetOrCreateReporter(t,e){const n=t.toString();return reporters[n]||(reporters[n]=e()),reporters[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PacketReceiver{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&exceptionGuard(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4;class BrowserPollConnection{constructor(e,n,i,o,l,u,f){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper(e),this.stats_=statsManagerGetCollection(n),this.urlFn=d=>(this.appCheckToken&&(d[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),repoInfoConnectionURL(n,LONG_POLLING,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new PacketReceiver(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LP_CONNECT_TIMEOUT)),executeWhenDOMReady(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder((...l)=>{const[u,f,d,p,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===FIREBASE_LONGPOLL_START_PARAM)this.id=f,this.password=d;else if(u===FIREBASE_LONGPOLL_CLOSE_COMMAND)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const i={};i[FIREBASE_LONGPOLL_START_PARAM]="t",i[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=this.scriptTagHolder.uniqueCallbackIdentifier),i[VERSION_PARAM]=PROTOCOL_VERSION,this.transportSessionId&&(i[TRANSPORT_SESSION_PARAM]=this.transportSessionId),this.lastSessionId&&(i[LAST_SESSION_PARAM]=this.lastSessionId),this.applicationId&&(i[APPLICATION_ID_PARAM]=this.applicationId),this.appCheckToken&&(i[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(i[REFERER_PARAM]=FORGE_REF);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return BrowserPollConnection.forceAllow_?!0:!BrowserPollConnection.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!isChromeExtensionContentScript()&&!isWindowsStoreApp()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=stringify(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=base64Encode(n),o=splitStringBySize(i,MAX_PAYLOAD_SIZE);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",i[FIREBASE_LONGPOLL_ID_PARAM]=e,i[FIREBASE_LONGPOLL_PW_PARAM]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=stringify(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class FirebaseIFrameScriptHolder{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=e,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=n,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){log$1("frame writing exception"),f.stack&&log$1(f.stack),log$1(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||log$1("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,e[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,e[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+SEG_HEADER_SIZE+i.length<=MAX_URL_DATA_SIZE;){const u=this.pendingSegs.shift();i=i+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+o+"="+u.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+o+"="+u.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+o+"="+u.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(KEEPALIVE_REQUEST_INTERVAL)),l=()=>{clearTimeout(o),i()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{log$1("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3;let WebSocketImpl=null;typeof MozWebSocket<"u"?WebSocketImpl=MozWebSocket:typeof WebSocket<"u"&&(WebSocketImpl=WebSocket);class WebSocketConnection{constructor(e,n,i,o,l,u,f){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(n),this.connURL=WebSocketConnection.connectionURL_(n,u,f,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,l){const u={};return u[VERSION_PARAM]=PROTOCOL_VERSION,typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(u[REFERER_PARAM]=FORGE_REF),n&&(u[TRANSPORT_SESSION_PARAM]=n),i&&(u[LAST_SESSION_PARAM]=i),o&&(u[APP_CHECK_TOKEN_PARAM]=o),l&&(u[APPLICATION_ID_PARAM]=l),repoInfoConnectionURL(e,WEBSOCKET,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,PersistentStorage.set("previous_websocket_failure",!0);try{let i;isNodeSdk(),this.mySock=new WebSocketImpl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&WebSocketImpl!==null&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return PersistentStorage.isInMemoryStorage||PersistentStorage.get("previous_websocket_failure")===!0}markConnectionHealthy(){PersistentStorage.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=jsonEval(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(assert(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=stringify(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=splitStringBySize(n,WEBSOCKET_MAX_FRAME_SIZE);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}WebSocketConnection.responsesRequiredToBeHealthy=2;WebSocketConnection.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransportManager{static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=WebSocketConnection&&WebSocketConnection.isAvailable();let i=n&&!WebSocketConnection.previouslyFailed();if(e.webSocketOnly&&(n||warn$1("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[WebSocketConnection];else{const o=this.transports_=[];for(const l of TransportManager.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}TransportManager.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10*1024,BYTES_RECEIVED_HEALTHY_OVERRIDE=100*1024,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h";class Connection{constructor(e,n,i,o,l,u,f,d,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=setTimeoutNonBlocking(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(MESSAGE_TYPE in e){const n=e[MESSAGE_TYPE];n===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():n===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=requireKey("t",e),i=requireKey("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=requireKey("t",e),i=requireKey("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=requireKey(MESSAGE_TYPE,e);if(MESSAGE_DATA in e){const i=e[MESSAGE_DATA];if(n===SERVER_HELLO){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===CONTROL_SHUTDOWN?this.onConnectionShutdown_(i):n===CONTROL_RESET?this.onReset_(i):n===CONTROL_ERROR?error("Server Error: "+i):n===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),PROTOCOL_VERSION!==i&&warn$1("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),setTimeoutNonBlocking(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UPGRADE_TIMEOUT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ServerActions{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EventEmitter$1=class{constructor(e){this.allowedEvents_=e,this.listeners_={},assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!i||i===o[l].context)){o.splice(l,1);return}}validateEventType_(e){assert(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnlineMonitor extends EventEmitter$1{static getInstance(){return new OnlineMonitor}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!isMobileCordova()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return assert(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_PATH_DEPTH=32,MAX_PATH_LENGTH_BYTES=768;let Path$1=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function newEmptyPath(){return new Path$1("")}function pathGetFront(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pathGetLength(t){return t.pieces_.length-t.pieceNum_}function pathPopFront(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Path$1(t.pieces_,e)}function pathGetBack(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pathToUrlEncodedString(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pathSlice(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function pathParent(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Path$1(e,0)}function pathChild(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Path$1)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new Path$1(n,0)}function pathIsEmpty(t){return t.pieceNum_>=t.pieces_.length}function newRelativePath(t,e){const n=pathGetFront(t),i=pathGetFront(e);if(n===null)return e;if(n===i)return newRelativePath(pathPopFront(t),pathPopFront(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function pathCompare(t,e){const n=pathSlice(t,0),i=pathSlice(e,0);for(let o=0;o<n.length&&o<i.length;o++){const l=nameCompare(n[o],i[o]);if(l!==0)return l}return n.length===i.length?0:n.length<i.length?-1:1}function pathEquals(t,e){if(pathGetLength(t)!==pathGetLength(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function pathContains(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(pathGetLength(t)>pathGetLength(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class ValidationPath{constructor(e,n){this.errorPrefix_=n,this.parts_=pathSlice(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=stringLength(this.parts_[i]);validationPathCheckValid(this)}}function validationPathPush(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=stringLength(e),validationPathCheckValid(t)}function validationPathPop(t){const e=t.parts_.pop();t.byteLength_-=stringLength(e),t.parts_.length>0&&(t.byteLength_-=1)}function validationPathCheckValid(t){if(t.byteLength_>MAX_PATH_LENGTH_BYTES)throw new Error(t.errorPrefix_+"has a key path longer than "+MAX_PATH_LENGTH_BYTES+" bytes ("+t.byteLength_+").");if(t.parts_.length>MAX_PATH_DEPTH)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MAX_PATH_DEPTH+") or object contains a cycle "+validationPathToErrorString(t))}function validationPathToErrorString(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VisibilityMonitor extends EventEmitter$1{static getInstance(){return new VisibilityMonitor}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return assert(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=60*5*1e3,RECONNECT_MAX_DELAY_FOR_ADMINS=30*1e3,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4,SERVER_KILL_INTERRUPT_REASON="server_kill",INVALID_TOKEN_THRESHOLD=3;class PersistentConnection extends ServerActions{constructor(e,n,i,o,l,u,f,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=d,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=logWrapper("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(stringify(l)),assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new Deferred,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;u.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,i,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),assert(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(u).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const l={p:i},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,f=>{const d=f.d,p=f.s;PersistentConnection.warnOnListenWarnings_(d,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",f),p!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(p,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&contains(e,"w")){const i=safeGet(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();warn$1(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=isValidFormat(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";o&&(l.q=i,l.t=o),this.sendRequest(u,l)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const l={p:n,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,l){this.initConnection_();const u={p:n,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+stringify(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):error("Unrecognized action received from server: "+stringify(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+PersistentConnection.nextConnectionId_++,l=this.lastSessionId;let u=!1,f=null;const d=function(){f?f.close():(u=!0,i())},p=function(E){assert(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(E)};this.realtime_={close:d,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,A]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?log$1("getToken() completed but was canceled"):(log$1("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=A&&A.token,f=new Connection(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,R=>{warn$1(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(SERVER_KILL_INTERRUPT_REASON)},l))}catch(E){this.log_("Failed to get token: "+E),u||(this.repoInfo_.nodeAdmin&&warn$1(E),d())}}}interrupt(e){log$1("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){log$1("Resuming connection for reason: "+e),delete this.interruptReasons_[e],isEmpty$1(this.interruptReasons_)&&(this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(l=>ObjectToUniqueKey(l)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new Path$1(e).toString();let o;if(this.listens.has(i)){const l=this.listens.get(i);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){log$1("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=INVALID_TOKEN_THRESHOLD&&(this.reconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){log$1("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=INVALID_TOKEN_THRESHOLD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+SDK_VERSION.replace(/\./g,"-")]=1,isMobileCordova()?e["framework.cordova"]=1:isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=OnlineMonitor.getInstance().currentlyOnline();return isEmpty$1(this.interruptReasons_)&&e}}PersistentConnection.nextPersistentConnectionId_=0;PersistentConnection.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NamedNode{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new NamedNode(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Index$1=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new NamedNode(MIN_NAME,e),o=new NamedNode(MIN_NAME,n);return this.compare(i,o)!==0}minPost(){return NamedNode.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __EMPTY_NODE;class KeyIndex extends Index$1{static get __EMPTY_NODE(){return __EMPTY_NODE}static set __EMPTY_NODE(e){__EMPTY_NODE=e}compare(e,n){return nameCompare(e.name,n.name)}isDefinedOn(e){throw assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,__EMPTY_NODE)}makePost(e,n){return assert(typeof e=="string","KeyIndex indexValue must always be a string."),new NamedNode(e,__EMPTY_NODE)}toString(){return".key"}}const KEY_INDEX=new KeyIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMapIterator{constructor(e,n,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class LLRBNode{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??LLRBNode.RED,this.left=o??SortedMap.EMPTY_NODE,this.right=l??SortedMap.EMPTY_NODE}copy(e,n,i,o,l){return new LLRBNode(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return SortedMap.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}LLRBNode.RED=!0;LLRBNode.BLACK=!1;class LLRBEmptyNode{copy(e,n,i,o,l){return this}insert(e,n,i){return new LLRBNode(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class SortedMap{constructor(e,n=SortedMap.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new SortedMap(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new SortedMapIterator(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new SortedMapIterator(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new SortedMapIterator(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new SortedMapIterator(this.root_,null,this.comparator_,!0,e)}}SortedMap.EMPTY_NODE=new LLRBEmptyNode;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAME_ONLY_COMPARATOR(t,e){return nameCompare(t.name,e.name)}function NAME_COMPARATOR(t,e){return nameCompare(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MAX_NODE$2;function setMaxNode$1(t){MAX_NODE$2=t}const priorityHashText=function(t){return typeof t=="number"?"number:"+doubleToIEEE754String(t):"string:"+t},validatePriorityNode=function(t){if(t.isLeafNode()){const e=t.val();assert(typeof e=="string"||typeof e=="number"||typeof e=="object"&&contains(e,".sv"),"Priority must be a string or number.")}else assert(t===MAX_NODE$2||t.isEmpty(),"priority of unexpected type.");assert(t===MAX_NODE$2||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __childrenNodeConstructor;class LeafNode{static set __childrenNodeConstructor(e){__childrenNodeConstructor=e}static get __childrenNodeConstructor(){return __childrenNodeConstructor}constructor(e,n=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,assert(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new LeafNode(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pathIsEmpty(e)?this:pathGetFront(e)===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=pathGetFront(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(assert(i!==".priority"||pathGetLength(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+priorityHashText(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=doubleToIEEE754String(this.value_):e+=this.value_,this.lazyHash_=sha1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof LeafNode.__childrenNodeConstructor?-1:(assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=LeafNode.VALUE_TYPE_ORDER.indexOf(n),l=LeafNode.VALUE_TYPE_ORDER.indexOf(i);return assert(o>=0,"Unknown leaf type: "+n),assert(l>=0,"Unknown leaf type: "+i),o===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nodeFromJSON$1,MAX_NODE$1;function setNodeFromJSON(t){nodeFromJSON$1=t}function setMaxNode(t){MAX_NODE$1=t}class PriorityIndex extends Index$1{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),l=i.compareTo(o);return l===0?nameCompare(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,new LeafNode("[PRIORITY-POST]",MAX_NODE$1))}makePost(e,n){const i=nodeFromJSON$1(e);return new NamedNode(n,new LeafNode("[PRIORITY-POST]",i))}toString(){return".priority"}}const PRIORITY_INDEX=new PriorityIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LOG_2=Math.log(2);class Base12Num{constructor(e){const n=l=>parseInt(Math.log(l)/LOG_2,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const buildChildSet=function(t,e,n,i){t.sort(e);const o=function(d,p){const g=p-d;let E,A;if(g===0)return null;if(g===1)return E=t[d],A=n?n(E):E,new LLRBNode(A,E.node,LLRBNode.BLACK,null,null);{const R=parseInt(g/2,10)+d,I=o(d,R),j=o(R+1,p);return E=t[R],A=n?n(E):E,new LLRBNode(A,E.node,LLRBNode.BLACK,I,j)}},l=function(d){let p=null,g=null,E=t.length;const A=function(I,j){const q=E-I,L=E;E-=I;const z=o(q+1,L),U=t[q],W=n?n(U):U;R(new LLRBNode(W,U.node,j,null,z))},R=function(I){p?(p.left=I,p=I):(g=I,p=I)};for(let I=0;I<d.count;++I){const j=d.nextBitIsOne(),q=Math.pow(2,d.count-(I+1));j?A(q,LLRBNode.BLACK):(A(q,LLRBNode.BLACK),A(q,LLRBNode.RED))}return g},u=new Base12Num(t.length),f=l(u);return new SortedMap(i||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _defaultIndexMap;const fallbackObject={};class IndexMap{static get Default(){return assert(fallbackObject&&PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),_defaultIndexMap=_defaultIndexMap||new IndexMap({".priority":fallbackObject},{".priority":PRIORITY_INDEX}),_defaultIndexMap}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=safeGet(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof SortedMap?n:null}hasIndex(e){return contains(this.indexSet_,e.toString())}addIndex(e,n){assert(e!==KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=n.getIterator(NamedNode.Wrap);let u=l.getNext();for(;u;)o=o||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let f;o?f=buildChildSet(i,e.getCompare()):f=fallbackObject;const d=e.toString(),p=Object.assign({},this.indexSet_);p[d]=e;const g=Object.assign({},this.indexes_);return g[d]=f,new IndexMap(g,p)}addToIndexes(e,n){const i=map$2(this.indexes_,(o,l)=>{const u=safeGet(this.indexSet_,l);if(assert(u,"Missing index implementation for "+l),o===fallbackObject)if(u.isDefinedOn(e.node)){const f=[],d=n.getIterator(NamedNode.Wrap);let p=d.getNext();for(;p;)p.name!==e.name&&f.push(p),p=d.getNext();return f.push(e),buildChildSet(f,u.getCompare())}else return fallbackObject;else{const f=n.get(e.name);let d=o;return f&&(d=d.remove(new NamedNode(e.name,f))),d.insert(e,e.node)}});return new IndexMap(i,this.indexSet_)}removeFromIndexes(e,n){const i=map$2(this.indexes_,o=>{if(o===fallbackObject)return o;{const l=n.get(e.name);return l?o.remove(new NamedNode(e.name,l)):o}});return new IndexMap(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EMPTY_NODE;class ChildrenNode{static get EMPTY_NODE(){return EMPTY_NODE||(EMPTY_NODE=new ChildrenNode(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||EMPTY_NODE}updatePriority(e){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?EMPTY_NODE:n}}getChild(e){const n=pathGetFront(e);return n===null?this:this.getImmediateChild(n).getChild(pathPopFront(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(assert(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new NamedNode(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(i,this.children_));const u=o.isEmpty()?EMPTY_NODE:this.priorityNode_;return new ChildrenNode(o,u,l)}}updateChild(e,n){const i=pathGetFront(e);if(i===null)return n;{assert(pathGetFront(e)!==".priority"||pathGetLength(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(pathPopFront(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,l=!0;if(this.forEachChild(PRIORITY_INDEX,(u,f)=>{n[u]=f.val(e),i++,l&&ChildrenNode.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*i){const u=[];for(const f in n)u[f]=n[f];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(PRIORITY_INDEX,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":sha1(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const l=o.getPredecessorKey(new NamedNode(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new NamedNode(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new NamedNode(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,NamedNode.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,NamedNode.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===MAX_NODE?-1:0}withIndex(e){if(e===KEY_INDEX||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===KEY_INDEX||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(PRIORITY_INDEX),o=n.getIterator(PRIORITY_INDEX);let l=i.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=o.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===KEY_INDEX?null:this.indexMap_.get(e.toString())}}ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}}const MAX_NODE=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(MIN_NAME,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(MAX_NAME,MAX_NODE)}});KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE;LeafNode.__childrenNodeConstructor=ChildrenNode;setMaxNode$1(MAX_NODE);setMaxNode(MAX_NODE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const USE_HINZE=!0;function nodeFromJSON(t,e=null){if(t===null)return ChildrenNode.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),assert(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new LeafNode(n,nodeFromJSON(e))}if(!(t instanceof Array)&&USE_HINZE){const n=[];let i=!1;if(each(t,(u,f)=>{if(u.substring(0,1)!=="."){const d=nodeFromJSON(f);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),n.push(new NamedNode(u,d)))}}),n.length===0)return ChildrenNode.EMPTY_NODE;const l=buildChildSet(n,NAME_ONLY_COMPARATOR,u=>u.name,NAME_COMPARATOR);if(i){const u=buildChildSet(n,PRIORITY_INDEX.getCompare());return new ChildrenNode(l,nodeFromJSON(e),new IndexMap({".priority":u},{".priority":PRIORITY_INDEX}))}else return new ChildrenNode(l,nodeFromJSON(e),IndexMap.Default)}else{let n=ChildrenNode.EMPTY_NODE;return each(t,(i,o)=>{if(contains(t,i)&&i.substring(0,1)!=="."){const l=nodeFromJSON(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(nodeFromJSON(e))}}setNodeFromJSON(nodeFromJSON);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PathIndex extends Index$1{constructor(e){super(),this.indexPath_=e,assert(!pathIsEmpty(e)&&pathGetFront(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),l=i.compareTo(o);return l===0?nameCompare(e.name,n.name):l}makePost(e,n){const i=nodeFromJSON(e),o=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,i);return new NamedNode(n,o)}maxPost(){const e=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,MAX_NODE);return new NamedNode(MAX_NAME,e)}toString(){return pathSlice(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ValueIndex extends Index$1{compare(e,n){const i=e.node.compareTo(n.node);return i===0?nameCompare(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost(e,n){const i=nodeFromJSON(e);return new NamedNode(n,i)}toString(){return".value"}}const VALUE_INDEX=new ValueIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function changeValue(t){return{type:"value",snapshotNode:t}}function changeChildAdded(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function changeChildRemoved(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function changeChildChanged(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function changeChildMoved(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedFilter{constructor(e){this.index_=e}updateChild(e,n,i,o,l,u){assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(o).equals(i.getChild(o))&&f.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(changeChildRemoved(n,f)):assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(changeChildAdded(n,i)):u.trackChildChange(changeChildChanged(n,i,f))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(PRIORITY_INDEX,(o,l)=>{n.hasChild(o)||i.trackChildChange(changeChildRemoved(o,l))}),n.isLeafNode()||n.forEachChild(PRIORITY_INDEX,(o,l)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(l)||i.trackChildChange(changeChildChanged(o,l,u))}else i.trackChildChange(changeChildAdded(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ChildrenNode.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RangedFilter{constructor(e){this.indexedFilter_=new IndexedFilter(e.getIndex()),this.index_=e.getIndex(),this.startPost_=RangedFilter.getStartPost_(e),this.endPost_=RangedFilter.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,l,u){return this.matches(new NamedNode(n,i))||(i=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,l,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ChildrenNode.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ChildrenNode.EMPTY_NODE);const l=this;return n.forEachChild(PRIORITY_INDEX,(u,f)=>{l.matches(new NamedNode(u,f))||(o=o.updateImmediateChild(u,ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LimitedFilter{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new RangedFilter(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,l,u){return this.rangedFilter_.matches(new NamedNode(n,i))||(i=ChildrenNode.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,l,u):this.fullLimitUpdateChild_(e,n,i,l,u)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ChildrenNode.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const f=l.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))o=o.updateImmediateChild(f.name,f.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ChildrenNode.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let u=0;for(;l.hasNext();){const f=l.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:o=o.updateImmediateChild(f.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,l){let u;if(this.reverse_){const E=this.index_.getCompare();u=(A,R)=>E(R,A)}else u=this.index_.getCompare();const f=e;assert(f.numChildren()===this.limit_,"");const d=new NamedNode(n,i),p=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(f.hasChild(n)){const E=f.getImmediateChild(n);let A=o.getChildAfterChild(this.index_,p,this.reverse_);for(;A!=null&&(A.name===n||f.hasChild(A.name));)A=o.getChildAfterChild(this.index_,A,this.reverse_);const R=A==null?1:u(A,d);if(g&&!i.isEmpty()&&R>=0)return l!=null&&l.trackChildChange(changeChildChanged(n,i,E)),f.updateImmediateChild(n,i);{l!=null&&l.trackChildChange(changeChildRemoved(n,E));const j=f.updateImmediateChild(n,ChildrenNode.EMPTY_NODE);return A!=null&&this.rangedFilter_.matches(A)?(l!=null&&l.trackChildChange(changeChildAdded(A.name,A.node)),j.updateImmediateChild(A.name,A.node)):j}}else return i.isEmpty()?e:g&&u(p,d)>=0?(l!=null&&(l.trackChildChange(changeChildRemoved(p.name,p.node)),l.trackChildChange(changeChildAdded(n,i))),f.updateImmediateChild(n,i).updateImmediateChild(p.name,ChildrenNode.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PRIORITY_INDEX}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MIN_NAME}hasEnd(){return this.endSet_}getIndexEndValue(){return assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:MAX_NAME}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===PRIORITY_INDEX}copy(){const e=new QueryParams;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function queryParamsGetNodeFilter(t){return t.loadsAllData()?new IndexedFilter(t.getIndex()):t.hasLimit()?new LimitedFilter(t):new RangedFilter(t)}function queryParamsToRestQueryStringParameters(t){const e={};if(t.isDefault())return e;let n;if(t.index_===PRIORITY_INDEX?n="$priority":t.index_===VALUE_INDEX?n="$value":t.index_===KEY_INDEX?n="$key":(assert(t.index_ instanceof PathIndex,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=stringify(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=stringify(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+stringify(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=stringify(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+stringify(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function queryParamsGetQueryObject(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==PRIORITY_INDEX&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ReadonlyRestClient extends ServerActions{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(assert(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=logWrapper("p:rest:"),this.listens_={}}listen(e,n,i,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=ReadonlyRestClient.getListenId_(e,i),f={};this.listens_[u]=f;const d=queryParamsToRestQueryStringParameters(e._queryParams);this.restRequest_(l+".json",d,(p,g)=>{let E=g;if(p===404&&(E=null,p=null),p===null&&this.onDataUpdate_(l,E,!1,i),safeGet(this.listens_,u)===f){let A;p?p===401?A="permission_denied":A="rest_error:"+p:A="ok",o(A,null)}})}unlisten(e,n){const i=ReadonlyRestClient.getListenId_(e,n);delete this.listens_[i]}get(e){const n=queryParamsToRestQueryStringParameters(e._queryParams),i=e._path.toString(),o=new Deferred;return this.restRequest_(i+".json",n,(l,u)=>{let f=u;l===404&&(f=null,l=null),l===null?(this.onDataUpdate_(i,f,!1,null),o.resolve(f)):o.reject(new Error(f))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+querystring(n);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&f.readyState===4){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let d=null;if(f.status>=200&&f.status<300){try{d=jsonEval(f.responseText)}catch{warn$1("Failed to parse JSON response for "+u+": "+f.responseText)}i(null,d)}else f.status!==401&&f.status!==404&&warn$1("Got unsuccessful REST response for "+u+" Status: "+f.status),i(f.status);i=null}},f.open("GET",u,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember(t,e,n){if(pathIsEmpty(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=pathGetFront(e);t.children.has(i)||t.children.set(i,newSparseSnapshotTree());const o=t.children.get(i);e=pathPopFront(e),sparseSnapshotTreeRemember(o,e,n)}}function sparseSnapshotTreeForget(t,e){if(pathIsEmpty(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(PRIORITY_INDEX,(i,o)=>{sparseSnapshotTreeRemember(t,new Path$1(i),o)}),sparseSnapshotTreeForget(t,e)}}else if(t.children.size>0){const n=pathGetFront(e);return e=pathPopFront(e),t.children.has(n)&&sparseSnapshotTreeForget(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function sparseSnapshotTreeForEachTree(t,e,n){t.value!==null?n(e,t.value):sparseSnapshotTreeForEachChild(t,(i,o)=>{const l=new Path$1(e.toString()+"/"+i);sparseSnapshotTreeForEachTree(o,l,n)})}function sparseSnapshotTreeForEachChild(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsListener{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&each(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIRST_STATS_MIN_TIME=10*1e3,FIRST_STATS_MAX_TIME=30*1e3,REPORT_STATS_INTERVAL=5*60*1e3;class StatsReporter{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new StatsListener(e);const i=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;each(e,(o,l)=>{l>0&&contains(this.statsToReport_,o)&&(n[o]=l,i=!0)}),i&&this.server_.reportStats(n),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(Math.random()*2*REPORT_STATS_INTERVAL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OperationType;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(OperationType||(OperationType={}));function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AckUserWrite{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=OperationType.ACK_USER_WRITE,this.source=newOperationSourceUser()}operationForChild(e){if(pathIsEmpty(this.path)){if(this.affectedTree.value!=null)return assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Path$1(e));return new AckUserWrite(newEmptyPath(),n,this.revert)}}else return assert(pathGetFront(this.path)===e,"operationForChild called for unrelated child."),new AckUserWrite(pathPopFront(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ListenComplete{constructor(e,n){this.source=e,this.path=n,this.type=OperationType.LISTEN_COMPLETE}operationForChild(e){return pathIsEmpty(this.path)?new ListenComplete(this.source,newEmptyPath()):new ListenComplete(this.source,pathPopFront(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overwrite{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=OperationType.OVERWRITE}operationForChild(e){return pathIsEmpty(this.path)?new Overwrite(this.source,newEmptyPath(),this.snap.getImmediateChild(e)):new Overwrite(this.source,pathPopFront(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Merge{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=OperationType.MERGE}operationForChild(e){if(pathIsEmpty(this.path)){const n=this.children.subtree(new Path$1(e));return n.isEmpty()?null:n.value?new Overwrite(this.source,newEmptyPath(),n.value):new Merge(this.source,newEmptyPath(),n)}else return assert(pathGetFront(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,pathPopFront(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CacheNode{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pathIsEmpty(e))return this.isFullyInitialized()&&!this.filtered_;const n=pathGetFront(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventGenerator{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function eventGeneratorGenerateEventsForChanges(t,e,n,i){const o=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(changeChildMoved(u.childName,u.snapshotNode))}),eventGeneratorGenerateEventsForType(t,o,"child_removed",e,i,n),eventGeneratorGenerateEventsForType(t,o,"child_added",e,i,n),eventGeneratorGenerateEventsForType(t,o,"child_moved",l,i,n),eventGeneratorGenerateEventsForType(t,o,"child_changed",e,i,n),eventGeneratorGenerateEventsForType(t,o,"value",e,i,n),o}function eventGeneratorGenerateEventsForType(t,e,n,i,o,l){const u=i.filter(f=>f.type===n);u.sort((f,d)=>eventGeneratorCompareChanges(t,f,d)),u.forEach(f=>{const d=eventGeneratorMaterializeSingleChange(t,f,l);o.forEach(p=>{p.respondsTo(f.type)&&e.push(p.createEvent(d,t.query_))})})}function eventGeneratorMaterializeSingleChange(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function eventGeneratorCompareChanges(t,e,n){if(e.childName==null||n.childName==null)throw assertionError("Should only compare child_ events.");const i=new NamedNode(e.childName,e.snapshotNode),o=new NamedNode(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewCache(t,e){return{eventCache:t,serverCache:e}}function viewCacheUpdateEventSnap(t,e,n,i){return newViewCache(new CacheNode(e,n,i),t.serverCache)}function viewCacheUpdateServerSnap(t,e,n,i){return newViewCache(t.eventCache,new CacheNode(e,n,i))}function viewCacheGetCompleteEventSnap(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function viewCacheGetCompleteServerSnap(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let emptyChildrenSingleton;const EmptyChildren=()=>(emptyChildrenSingleton||(emptyChildrenSingleton=new SortedMap(stringCompare)),emptyChildrenSingleton);class ImmutableTree{static fromObject(e){let n=new ImmutableTree(null);return each(e,(i,o)=>{n=n.set(new Path$1(i),o)}),n}constructor(e,n=EmptyChildren()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty(e))return null;{const i=pathGetFront(e),o=this.children.get(i);if(o!==null){const l=o.findRootMostMatchingPathAndValue(pathPopFront(e),n);return l!=null?{path:pathChild(new Path$1(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pathIsEmpty(e))return this;{const n=pathGetFront(e),i=this.children.get(n);return i!==null?i.subtree(pathPopFront(e)):new ImmutableTree(null)}}set(e,n){if(pathIsEmpty(e))return new ImmutableTree(n,this.children);{const i=pathGetFront(e),l=(this.children.get(i)||new ImmutableTree(null)).set(pathPopFront(e),n),u=this.children.insert(i,l);return new ImmutableTree(this.value,u)}}remove(e){if(pathIsEmpty(e))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{const n=pathGetFront(e),i=this.children.get(n);if(i){const o=i.remove(pathPopFront(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new ImmutableTree(null):new ImmutableTree(this.value,l)}else return this}}get(e){if(pathIsEmpty(e))return this.value;{const n=pathGetFront(e),i=this.children.get(n);return i?i.get(pathPopFront(e)):null}}setTree(e,n){if(pathIsEmpty(e))return n;{const i=pathGetFront(e),l=(this.children.get(i)||new ImmutableTree(null)).setTree(pathPopFront(e),n);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new ImmutableTree(this.value,u)}}fold(e){return this.fold_(newEmptyPath(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(pathChild(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,newEmptyPath(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(pathIsEmpty(e))return null;{const l=pathGetFront(e),u=this.children.get(l);return u?u.findOnPath_(pathPopFront(e),pathChild(n,l),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,newEmptyPath(),n)}foreachOnPath_(e,n,i){if(pathIsEmpty(e))return this;{this.value&&i(n,this.value);const o=pathGetFront(e),l=this.children.get(o);return l?l.foreachOnPath_(pathPopFront(e),pathChild(n,o),i):new ImmutableTree(null)}}foreach(e){this.foreach_(newEmptyPath(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(pathChild(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CompoundWrite{constructor(e){this.writeTree_=e}static empty(){return new CompoundWrite(new ImmutableTree(null))}}function compoundWriteAddWrite(t,e,n){if(pathIsEmpty(e))return new CompoundWrite(new ImmutableTree(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let l=i.value;const u=newRelativePath(o,e);return l=l.updateChild(u,n),new CompoundWrite(t.writeTree_.set(o,l))}else{const o=new ImmutableTree(n),l=t.writeTree_.setTree(e,o);return new CompoundWrite(l)}}}function compoundWriteAddWrites(t,e,n){let i=t;return each(n,(o,l)=>{i=compoundWriteAddWrite(i,pathChild(e,o),l)}),i}function compoundWriteRemoveWrite(t,e){if(pathIsEmpty(e))return CompoundWrite.empty();{const n=t.writeTree_.setTree(e,new ImmutableTree(null));return new CompoundWrite(n)}}function compoundWriteHasCompleteWrite(t,e){return compoundWriteGetCompleteNode(t,e)!=null}function compoundWriteGetCompleteNode(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(newRelativePath(n.path,e)):null}function compoundWriteGetCompleteChildren(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(PRIORITY_INDEX,(i,o)=>{e.push(new NamedNode(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new NamedNode(i,o.value))}),e}function compoundWriteChildCompoundWrite(t,e){if(pathIsEmpty(e))return t;{const n=compoundWriteGetCompleteNode(t,e);return n!=null?new CompoundWrite(new ImmutableTree(n)):new CompoundWrite(t.writeTree_.subtree(e))}}function compoundWriteIsEmpty(t){return t.writeTree_.isEmpty()}function compoundWriteApply(t,e){return applySubtreeWrite(newEmptyPath(),t.writeTree_,e)}function applySubtreeWrite(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(assert(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=applySubtreeWrite(pathChild(t,o),l,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(pathChild(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeTreeChildWrites(t,e){return newWriteTreeRef(e,t)}function writeTreeAddOverwrite(t,e,n,i,o){assert(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=compoundWriteAddWrite(t.visibleWrites,e,n)),t.lastWriteId=i}function writeTreeGetWrite(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function writeTreeRemoveWrite(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);assert(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,l=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const f=t.allWrites[u];f.visible&&(u>=n&&writeTreeRecordContainsPath_(f,i.path)?o=!1:pathContains(i.path,f.path)&&(l=!0)),u--}if(o){if(l)return writeTreeResetTree_(t),!0;if(i.snap)t.visibleWrites=compoundWriteRemoveWrite(t.visibleWrites,i.path);else{const f=i.children;each(f,d=>{t.visibleWrites=compoundWriteRemoveWrite(t.visibleWrites,pathChild(i.path,d))})}return!0}else return!1}function writeTreeRecordContainsPath_(t,e){if(t.snap)return pathContains(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&pathContains(pathChild(t.path,n),e))return!0;return!1}function writeTreeResetTree_(t){t.visibleWrites=writeTreeLayerTree_(t.allWrites,writeTreeDefaultFilter_,newEmptyPath()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function writeTreeDefaultFilter_(t){return t.visible}function writeTreeLayerTree_(t,e,n){let i=CompoundWrite.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const u=l.path;let f;if(l.snap)pathContains(n,u)?(f=newRelativePath(n,u),i=compoundWriteAddWrite(i,f,l.snap)):pathContains(u,n)&&(f=newRelativePath(u,n),i=compoundWriteAddWrite(i,newEmptyPath(),l.snap.getChild(f)));else if(l.children){if(pathContains(n,u))f=newRelativePath(n,u),i=compoundWriteAddWrites(i,f,l.children);else if(pathContains(u,n))if(f=newRelativePath(u,n),pathIsEmpty(f))i=compoundWriteAddWrites(i,newEmptyPath(),l.children);else{const d=safeGet(l.children,pathGetFront(f));if(d){const p=d.getChild(pathPopFront(f));i=compoundWriteAddWrite(i,newEmptyPath(),p)}}}else throw assertionError("WriteRecord should have .snap or .children")}}return i}function writeTreeCalcCompleteEventCache(t,e,n,i,o){if(!i&&!o){const l=compoundWriteGetCompleteNode(t.visibleWrites,e);if(l!=null)return l;{const u=compoundWriteChildCompoundWrite(t.visibleWrites,e);if(compoundWriteIsEmpty(u))return n;if(n==null&&!compoundWriteHasCompleteWrite(u,newEmptyPath()))return null;{const f=n||ChildrenNode.EMPTY_NODE;return compoundWriteApply(u,f)}}}else{const l=compoundWriteChildCompoundWrite(t.visibleWrites,e);if(!o&&compoundWriteIsEmpty(l))return n;if(!o&&n==null&&!compoundWriteHasCompleteWrite(l,newEmptyPath()))return null;{const u=function(p){return(p.visible||o)&&(!i||!~i.indexOf(p.writeId))&&(pathContains(p.path,e)||pathContains(e,p.path))},f=writeTreeLayerTree_(t.allWrites,u,e),d=n||ChildrenNode.EMPTY_NODE;return compoundWriteApply(f,d)}}}function writeTreeCalcCompleteEventChildren(t,e,n){let i=ChildrenNode.EMPTY_NODE;const o=compoundWriteGetCompleteNode(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(PRIORITY_INDEX,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(n){const l=compoundWriteChildCompoundWrite(t.visibleWrites,e);return n.forEachChild(PRIORITY_INDEX,(u,f)=>{const d=compoundWriteApply(compoundWriteChildCompoundWrite(l,new Path$1(u)),f);i=i.updateImmediateChild(u,d)}),compoundWriteGetCompleteChildren(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=compoundWriteChildCompoundWrite(t.visibleWrites,e);return compoundWriteGetCompleteChildren(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function writeTreeCalcEventCacheAfterServerOverwrite(t,e,n,i,o){assert(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=pathChild(e,n);if(compoundWriteHasCompleteWrite(t.visibleWrites,l))return null;{const u=compoundWriteChildCompoundWrite(t.visibleWrites,l);return compoundWriteIsEmpty(u)?o.getChild(n):compoundWriteApply(u,o.getChild(n))}}function writeTreeCalcCompleteChild(t,e,n,i){const o=pathChild(e,n),l=compoundWriteGetCompleteNode(t.visibleWrites,o);if(l!=null)return l;if(i.isCompleteForChild(n)){const u=compoundWriteChildCompoundWrite(t.visibleWrites,o);return compoundWriteApply(u,i.getNode().getImmediateChild(n))}else return null}function writeTreeShadowingWrite(t,e){return compoundWriteGetCompleteNode(t.visibleWrites,e)}function writeTreeCalcIndexedSlice(t,e,n,i,o,l,u){let f;const d=compoundWriteChildCompoundWrite(t.visibleWrites,e),p=compoundWriteGetCompleteNode(d,newEmptyPath());if(p!=null)f=p;else if(n!=null)f=compoundWriteApply(d,n);else return[];if(f=f.withIndex(u),!f.isEmpty()&&!f.isLeafNode()){const g=[],E=u.getCompare(),A=l?f.getReverseIteratorFrom(i,u):f.getIteratorFrom(i,u);let R=A.getNext();for(;R&&g.length<o;)E(R,i)!==0&&g.push(R),R=A.getNext();return g}else return[]}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache(t,e,n,i){return writeTreeCalcCompleteEventCache(t.writeTree,t.treePath,e,n,i)}function writeTreeRefCalcCompleteEventChildren(t,e){return writeTreeCalcCompleteEventChildren(t.writeTree,t.treePath,e)}function writeTreeRefCalcEventCacheAfterServerOverwrite(t,e,n,i){return writeTreeCalcEventCacheAfterServerOverwrite(t.writeTree,t.treePath,e,n,i)}function writeTreeRefShadowingWrite(t,e){return writeTreeShadowingWrite(t.writeTree,pathChild(t.treePath,e))}function writeTreeRefCalcIndexedSlice(t,e,n,i,o,l){return writeTreeCalcIndexedSlice(t.writeTree,t.treePath,e,n,i,o,l)}function writeTreeRefCalcCompleteChild(t,e,n){return writeTreeCalcCompleteChild(t.writeTree,t.treePath,e,n)}function writeTreeRefChild(t,e){return newWriteTreeRef(pathChild(t.treePath,e),t.writeTree)}function newWriteTreeRef(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;assert(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),assert(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,changeChildChanged(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,changeChildRemoved(i,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,changeChildAdded(i,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,changeChildChanged(i,e.snapshotNode,o.oldSnap));else throw assertionError("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NoCompleteChildSource_{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const NO_COMPLETE_CHILD_SOURCE=new NoCompleteChildSource_;class WriteTreeCompleteChildSource{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),l=writeTreeRefCalcIndexedSlice(this.writes_,o,n,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewProcessor(t){return{filter:t}}function viewProcessorAssertIndexed(t,e){assert(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),assert(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation(t,e,n,i,o){const l=new ChildChangeAccumulator;let u,f;if(n.type===OperationType.OVERWRITE){const p=n;p.source.fromUser?u=viewProcessorApplyUserOverwrite(t,e,p.path,p.snap,i,o,l):(assert(p.source.fromServer,"Unknown source."),f=p.source.tagged||e.serverCache.isFiltered()&&!pathIsEmpty(p.path),u=viewProcessorApplyServerOverwrite(t,e,p.path,p.snap,i,o,f,l))}else if(n.type===OperationType.MERGE){const p=n;p.source.fromUser?u=viewProcessorApplyUserMerge(t,e,p.path,p.children,i,o,l):(assert(p.source.fromServer,"Unknown source."),f=p.source.tagged||e.serverCache.isFiltered(),u=viewProcessorApplyServerMerge(t,e,p.path,p.children,i,o,f,l))}else if(n.type===OperationType.ACK_USER_WRITE){const p=n;p.revert?u=viewProcessorRevertUserWrite(t,e,p.path,i,o,l):u=viewProcessorAckUserWrite(t,e,p.path,p.affectedTree,i,o,l)}else if(n.type===OperationType.LISTEN_COMPLETE)u=viewProcessorListenComplete(t,e,n.path,i,l);else throw assertionError("Unknown operation type: "+n.type);const d=l.getChanges();return viewProcessorMaybeAddValueEvent(e,u,d),{viewCache:u,changes:d}}function viewProcessorMaybeAddValueEvent(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=viewCacheGetCompleteEventSnap(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(changeValue(viewCacheGetCompleteEventSnap(e)))}}function viewProcessorGenerateEventCacheAfterServerEvent(t,e,n,i,o,l){const u=e.eventCache;if(writeTreeRefShadowingWrite(i,n)!=null)return e;{let f,d;if(pathIsEmpty(n))if(assert(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=viewCacheGetCompleteServerSnap(e),g=p instanceof ChildrenNode?p:ChildrenNode.EMPTY_NODE,E=writeTreeRefCalcCompleteEventChildren(i,g);f=t.filter.updateFullNode(e.eventCache.getNode(),E,l)}else{const p=writeTreeRefCalcCompleteEventCache(i,viewCacheGetCompleteServerSnap(e));f=t.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const p=pathGetFront(n);if(p===".priority"){assert(pathGetLength(n)===1,"Can't have a priority with additional path components");const g=u.getNode();d=e.serverCache.getNode();const E=writeTreeRefCalcEventCacheAfterServerOverwrite(i,n,g,d);E!=null?f=t.filter.updatePriority(g,E):f=u.getNode()}else{const g=pathPopFront(n);let E;if(u.isCompleteForChild(p)){d=e.serverCache.getNode();const A=writeTreeRefCalcEventCacheAfterServerOverwrite(i,n,u.getNode(),d);A!=null?E=u.getNode().getImmediateChild(p).updateChild(g,A):E=u.getNode().getImmediateChild(p)}else E=writeTreeRefCalcCompleteChild(i,p,e.serverCache);E!=null?f=t.filter.updateChild(u.getNode(),p,E,g,o,l):f=u.getNode()}}return viewCacheUpdateEventSnap(e,f,u.isFullyInitialized()||pathIsEmpty(n),t.filter.filtersNodes())}}function viewProcessorApplyServerOverwrite(t,e,n,i,o,l,u,f){const d=e.serverCache;let p;const g=u?t.filter:t.filter.getIndexedFilter();if(pathIsEmpty(n))p=g.updateFullNode(d.getNode(),i,null);else if(g.filtersNodes()&&!d.isFiltered()){const R=d.getNode().updateChild(n,i);p=g.updateFullNode(d.getNode(),R,null)}else{const R=pathGetFront(n);if(!d.isCompleteForPath(n)&&pathGetLength(n)>1)return e;const I=pathPopFront(n),q=d.getNode().getImmediateChild(R).updateChild(I,i);R===".priority"?p=g.updatePriority(d.getNode(),q):p=g.updateChild(d.getNode(),R,q,I,NO_COMPLETE_CHILD_SOURCE,null)}const E=viewCacheUpdateServerSnap(e,p,d.isFullyInitialized()||pathIsEmpty(n),g.filtersNodes()),A=new WriteTreeCompleteChildSource(o,E,l);return viewProcessorGenerateEventCacheAfterServerEvent(t,E,n,o,A,f)}function viewProcessorApplyUserOverwrite(t,e,n,i,o,l,u){const f=e.eventCache;let d,p;const g=new WriteTreeCompleteChildSource(o,e,l);if(pathIsEmpty(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,u),d=viewCacheUpdateEventSnap(e,p,!0,t.filter.filtersNodes());else{const E=pathGetFront(n);if(E===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),i),d=viewCacheUpdateEventSnap(e,p,f.isFullyInitialized(),f.isFiltered());else{const A=pathPopFront(n),R=f.getNode().getImmediateChild(E);let I;if(pathIsEmpty(A))I=i;else{const j=g.getCompleteChild(E);j!=null?pathGetBack(A)===".priority"&&j.getChild(pathParent(A)).isEmpty()?I=j:I=j.updateChild(A,i):I=ChildrenNode.EMPTY_NODE}if(R.equals(I))d=e;else{const j=t.filter.updateChild(f.getNode(),E,I,A,g,u);d=viewCacheUpdateEventSnap(e,j,f.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function viewProcessorCacheHasChild(t,e){return t.eventCache.isCompleteForChild(e)}function viewProcessorApplyUserMerge(t,e,n,i,o,l,u){let f=e;return i.foreach((d,p)=>{const g=pathChild(n,d);viewProcessorCacheHasChild(e,pathGetFront(g))&&(f=viewProcessorApplyUserOverwrite(t,f,g,p,o,l,u))}),i.foreach((d,p)=>{const g=pathChild(n,d);viewProcessorCacheHasChild(e,pathGetFront(g))||(f=viewProcessorApplyUserOverwrite(t,f,g,p,o,l,u))}),f}function viewProcessorApplyMerge(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function viewProcessorApplyServerMerge(t,e,n,i,o,l,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,p;pathIsEmpty(n)?p=i:p=new ImmutableTree(null).setTree(n,i);const g=e.serverCache.getNode();return p.children.inorderTraversal((E,A)=>{if(g.hasChild(E)){const R=e.serverCache.getNode().getImmediateChild(E),I=viewProcessorApplyMerge(t,R,A);d=viewProcessorApplyServerOverwrite(t,d,new Path$1(E),I,o,l,u,f)}}),p.children.inorderTraversal((E,A)=>{const R=!e.serverCache.isCompleteForChild(E)&&A.value===null;if(!g.hasChild(E)&&!R){const I=e.serverCache.getNode().getImmediateChild(E),j=viewProcessorApplyMerge(t,I,A);d=viewProcessorApplyServerOverwrite(t,d,new Path$1(E),j,o,l,u,f)}}),d}function viewProcessorAckUserWrite(t,e,n,i,o,l,u){if(writeTreeRefShadowingWrite(o,n)!=null)return e;const f=e.serverCache.isFiltered(),d=e.serverCache;if(i.value!=null){if(pathIsEmpty(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return viewProcessorApplyServerOverwrite(t,e,n,d.getNode().getChild(n),o,l,f,u);if(pathIsEmpty(n)){let p=new ImmutableTree(null);return d.getNode().forEachChild(KEY_INDEX,(g,E)=>{p=p.set(new Path$1(g),E)}),viewProcessorApplyServerMerge(t,e,n,p,o,l,f,u)}else return e}else{let p=new ImmutableTree(null);return i.foreach((g,E)=>{const A=pathChild(n,g);d.isCompleteForPath(A)&&(p=p.set(g,d.getNode().getChild(A)))}),viewProcessorApplyServerMerge(t,e,n,p,o,l,f,u)}}function viewProcessorListenComplete(t,e,n,i,o){const l=e.serverCache,u=viewCacheUpdateServerSnap(e,l.getNode(),l.isFullyInitialized()||pathIsEmpty(n),l.isFiltered());return viewProcessorGenerateEventCacheAfterServerEvent(t,u,n,i,NO_COMPLETE_CHILD_SOURCE,o)}function viewProcessorRevertUserWrite(t,e,n,i,o,l){let u;if(writeTreeRefShadowingWrite(i,n)!=null)return e;{const f=new WriteTreeCompleteChildSource(i,e,o),d=e.eventCache.getNode();let p;if(pathIsEmpty(n)||pathGetFront(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=writeTreeRefCalcCompleteEventCache(i,viewCacheGetCompleteServerSnap(e));else{const E=e.serverCache.getNode();assert(E instanceof ChildrenNode,"serverChildren would be complete if leaf node"),g=writeTreeRefCalcCompleteEventChildren(i,E)}g=g,p=t.filter.updateFullNode(d,g,l)}else{const g=pathGetFront(n);let E=writeTreeRefCalcCompleteChild(i,g,e.serverCache);E==null&&e.serverCache.isCompleteForChild(g)&&(E=d.getImmediateChild(g)),E!=null?p=t.filter.updateChild(d,g,E,pathPopFront(n),f,l):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(d,g,ChildrenNode.EMPTY_NODE,pathPopFront(n),f,l):p=d,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=writeTreeRefCalcCompleteEventCache(i,viewCacheGetCompleteServerSnap(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,l)))}return u=e.serverCache.isFullyInitialized()||writeTreeRefShadowingWrite(i,newEmptyPath())!=null,viewCacheUpdateEventSnap(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class View{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new IndexedFilter(i.getIndex()),l=queryParamsGetNodeFilter(i);this.processor_=newViewProcessor(l);const u=n.serverCache,f=n.eventCache,d=o.updateFullNode(ChildrenNode.EMPTY_NODE,u.getNode(),null),p=l.updateFullNode(ChildrenNode.EMPTY_NODE,f.getNode(),null),g=new CacheNode(d,u.isFullyInitialized(),o.filtersNodes()),E=new CacheNode(p,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=newViewCache(E,g),this.eventGenerator_=new EventGenerator(this.query_)}get query(){return this.query_}}function viewGetServerCache(t){return t.viewCache_.serverCache.getNode()}function viewGetCompleteServerCache(t,e){const n=viewCacheGetCompleteServerSnap(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pathIsEmpty(e)&&!n.getImmediateChild(pathGetFront(e)).isEmpty())?n.getChild(e):null}function viewIsEmpty(t){return t.eventRegistrations_.length===0}function viewAddEventRegistration(t,e){t.eventRegistrations_.push(e)}function viewRemoveEventRegistration(t,e,n){const i=[];if(n){assert(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,o);u&&i.push(u)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function viewApplyOperation(t,e,n,i){e.type===OperationType.MERGE&&e.source.queryId!==null&&(assert(viewCacheGetCompleteServerSnap(t.viewCache_),"We should always have a full cache before handling merges"),assert(viewCacheGetCompleteEventSnap(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=viewProcessorApplyOperation(t.processor_,o,e,n,i);return viewProcessorAssertIndexed(t.processor_,l.viewCache),assert(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,viewGenerateEventsForChanges_(t,l.changes,l.viewCache.eventCache.getNode(),null)}function viewGetInitialEvents(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(PRIORITY_INDEX,(l,u)=>{i.push(changeChildAdded(l,u))}),n.isFullyInitialized()&&i.push(changeValue(n.getNode())),viewGenerateEventsForChanges_(t,i,n.getNode(),e)}function viewGenerateEventsForChanges_(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return eventGeneratorGenerateEventsForChanges(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor$1;class SyncPoint{constructor(){this.views=new Map}}function syncPointSetReferenceConstructor(t){assert(!referenceConstructor$1,"__referenceConstructor has already been defined"),referenceConstructor$1=t}function syncPointGetReferenceConstructor(){return assert(referenceConstructor$1,"Reference.ts has not been loaded"),referenceConstructor$1}function syncPointIsEmpty(t){return t.views.size===0}function syncPointApplyOperation(t,e,n,i){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return assert(l!=null,"SyncTree gave us an op for an invalid query."),viewApplyOperation(l,e,n,i)}else{let l=[];for(const u of t.views.values())l=l.concat(viewApplyOperation(u,e,n,i));return l}}function syncPointGetView(t,e,n,i,o){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let f=writeTreeRefCalcCompleteEventCache(n,o?i:null),d=!1;f?d=!0:i instanceof ChildrenNode?(f=writeTreeRefCalcCompleteEventChildren(n,i),d=!1):(f=ChildrenNode.EMPTY_NODE,d=!1);const p=newViewCache(new CacheNode(f,d,!1),new CacheNode(i,o,!1));return new View(e,p)}return u}function syncPointAddEventRegistration(t,e,n,i,o,l){const u=syncPointGetView(t,e,i,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),viewAddEventRegistration(u,n),viewGetInitialEvents(u,n)}function syncPointRemoveEventRegistration(t,e,n,i){const o=e._queryIdentifier,l=[];let u=[];const f=syncPointHasCompleteView(t);if(o==="default")for(const[d,p]of t.views.entries())u=u.concat(viewRemoveEventRegistration(p,n,i)),viewIsEmpty(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||l.push(p.query));else{const d=t.views.get(o);d&&(u=u.concat(viewRemoveEventRegistration(d,n,i)),viewIsEmpty(d)&&(t.views.delete(o),d.query._queryParams.loadsAllData()||l.push(d.query)))}return f&&!syncPointHasCompleteView(t)&&l.push(new(syncPointGetReferenceConstructor())(e._repo,e._path)),{removed:l,events:u}}function syncPointGetQueryViews(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function syncPointGetCompleteServerCache(t,e){let n=null;for(const i of t.views.values())n=n||viewGetCompleteServerCache(i,e);return n}function syncPointViewForQuery(t,e){if(e._queryParams.loadsAllData())return syncPointGetCompleteView(t);{const i=e._queryIdentifier;return t.views.get(i)}}function syncPointViewExistsForQuery(t,e){return syncPointViewForQuery(t,e)!=null}function syncPointHasCompleteView(t){return syncPointGetCompleteView(t)!=null}function syncPointGetCompleteView(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor;function syncTreeSetReferenceConstructor(t){assert(!referenceConstructor,"__referenceConstructor has already been defined"),referenceConstructor=t}function syncTreeGetReferenceConstructor(){return assert(referenceConstructor,"Reference.ts has not been loaded"),referenceConstructor}let syncTreeNextQueryTag_=1;class SyncTree{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function syncTreeApplyUserOverwrite(t,e,n,i,o){return writeTreeAddOverwrite(t.pendingWriteTree_,e,n,i,o),o?syncTreeApplyOperationToSyncPoints_(t,new Overwrite(newOperationSourceUser(),e,n)):[]}function syncTreeAckUserWrite(t,e,n=!1){const i=writeTreeGetWrite(t.pendingWriteTree_,e);if(writeTreeRemoveWrite(t.pendingWriteTree_,e)){let l=new ImmutableTree(null);return i.snap!=null?l=l.set(newEmptyPath(),!0):each(i.children,u=>{l=l.set(new Path$1(u),!0)}),syncTreeApplyOperationToSyncPoints_(t,new AckUserWrite(i.path,l,n))}else return[]}function syncTreeApplyServerOverwrite(t,e,n){return syncTreeApplyOperationToSyncPoints_(t,new Overwrite(newOperationSourceServer(),e,n))}function syncTreeApplyServerMerge(t,e,n){const i=ImmutableTree.fromObject(n);return syncTreeApplyOperationToSyncPoints_(t,new Merge(newOperationSourceServer(),e,i))}function syncTreeApplyListenComplete(t,e){return syncTreeApplyOperationToSyncPoints_(t,new ListenComplete(newOperationSourceServer(),e))}function syncTreeApplyTaggedListenComplete(t,e,n){const i=syncTreeQueryKeyForTag_(t,n);if(i){const o=syncTreeParseQueryKey_(i),l=o.path,u=o.queryId,f=newRelativePath(l,e),d=new ListenComplete(newOperationSourceServerTaggedQuery(u),f);return syncTreeApplyTaggedOperation_(t,l,d)}else return[]}function syncTreeRemoveEventRegistration(t,e,n,i,o=!1){const l=e._path,u=t.syncPointTree_.get(l);let f=[];if(u&&(e._queryIdentifier==="default"||syncPointViewExistsForQuery(u,e))){const d=syncPointRemoveEventRegistration(u,e,n,i);syncPointIsEmpty(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const p=d.removed;if(f=d.events,!o){const g=p.findIndex(A=>A._queryParams.loadsAllData())!==-1,E=t.syncPointTree_.findOnPath(l,(A,R)=>syncPointHasCompleteView(R));if(g&&!E){const A=t.syncPointTree_.subtree(l);if(!A.isEmpty()){const R=syncTreeCollectDistinctViewsForSubTree_(A);for(let I=0;I<R.length;++I){const j=R[I],q=j.query,L=syncTreeCreateListenerForView_(t,j);t.listenProvider_.startListening(syncTreeQueryForListening_(q),syncTreeTagForQuery(t,q),L.hashFn,L.onComplete)}}}!E&&p.length>0&&!i&&(g?t.listenProvider_.stopListening(syncTreeQueryForListening_(e),null):p.forEach(A=>{const R=t.queryToTagMap.get(syncTreeMakeQueryKey_(A));t.listenProvider_.stopListening(syncTreeQueryForListening_(A),R)}))}syncTreeRemoveTags_(t,p)}return f}function syncTreeApplyTaggedQueryOverwrite(t,e,n,i){const o=syncTreeQueryKeyForTag_(t,i);if(o!=null){const l=syncTreeParseQueryKey_(o),u=l.path,f=l.queryId,d=newRelativePath(u,e),p=new Overwrite(newOperationSourceServerTaggedQuery(f),d,n);return syncTreeApplyTaggedOperation_(t,u,p)}else return[]}function syncTreeApplyTaggedQueryMerge(t,e,n,i){const o=syncTreeQueryKeyForTag_(t,i);if(o){const l=syncTreeParseQueryKey_(o),u=l.path,f=l.queryId,d=newRelativePath(u,e),p=ImmutableTree.fromObject(n),g=new Merge(newOperationSourceServerTaggedQuery(f),d,p);return syncTreeApplyTaggedOperation_(t,u,g)}else return[]}function syncTreeAddEventRegistration(t,e,n,i=!1){const o=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(o,(A,R)=>{const I=newRelativePath(A,o);l=l||syncPointGetCompleteServerCache(R,I),u=u||syncPointHasCompleteView(R)});let f=t.syncPointTree_.get(o);f?(u=u||syncPointHasCompleteView(f),l=l||syncPointGetCompleteServerCache(f,newEmptyPath())):(f=new SyncPoint,t.syncPointTree_=t.syncPointTree_.set(o,f));let d;l!=null?d=!0:(d=!1,l=ChildrenNode.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((R,I)=>{const j=syncPointGetCompleteServerCache(I,newEmptyPath());j&&(l=l.updateImmediateChild(R,j))}));const p=syncPointViewExistsForQuery(f,e);if(!p&&!e._queryParams.loadsAllData()){const A=syncTreeMakeQueryKey_(e);assert(!t.queryToTagMap.has(A),"View does not exist, but we have a tag");const R=syncTreeGetNextQueryTag_();t.queryToTagMap.set(A,R),t.tagToQueryMap.set(R,A)}const g=writeTreeChildWrites(t.pendingWriteTree_,o);let E=syncPointAddEventRegistration(f,e,n,g,l,d);if(!p&&!u&&!i){const A=syncPointViewForQuery(f,e);E=E.concat(syncTreeSetupListener_(t,e,A))}return E}function syncTreeCalcCompleteEventCache(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,f)=>{const d=newRelativePath(u,e),p=syncPointGetCompleteServerCache(f,d);if(p)return p});return writeTreeCalcCompleteEventCache(o,e,l,n,!0)}function syncTreeApplyOperationToSyncPoints_(t,e){return syncTreeApplyOperationHelper_(e,t.syncPointTree_,null,writeTreeChildWrites(t.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_(t,e,n,i){if(pathIsEmpty(t.path))return syncTreeApplyOperationDescendantsHelper_(t,e,n,i);{const o=e.get(newEmptyPath());n==null&&o!=null&&(n=syncPointGetCompleteServerCache(o,newEmptyPath()));let l=[];const u=pathGetFront(t.path),f=t.operationForChild(u),d=e.children.get(u);if(d&&f){const p=n?n.getImmediateChild(u):null,g=writeTreeRefChild(i,u);l=l.concat(syncTreeApplyOperationHelper_(f,d,p,g))}return o&&(l=l.concat(syncPointApplyOperation(o,t,i,n))),l}}function syncTreeApplyOperationDescendantsHelper_(t,e,n,i){const o=e.get(newEmptyPath());n==null&&o!=null&&(n=syncPointGetCompleteServerCache(o,newEmptyPath()));let l=[];return e.children.inorderTraversal((u,f)=>{const d=n?n.getImmediateChild(u):null,p=writeTreeRefChild(i,u),g=t.operationForChild(u);g&&(l=l.concat(syncTreeApplyOperationDescendantsHelper_(g,f,d,p)))}),o&&(l=l.concat(syncPointApplyOperation(o,t,i,n))),l}function syncTreeCreateListenerForView_(t,e){const n=e.query,i=syncTreeTagForQuery(t,n);return{hashFn:()=>(viewGetServerCache(e)||ChildrenNode.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?syncTreeApplyTaggedListenComplete(t,n._path,i):syncTreeApplyListenComplete(t,n._path);{const l=errorForServerCode(o,n);return syncTreeRemoveEventRegistration(t,n,null,l)}}}}function syncTreeTagForQuery(t,e){const n=syncTreeMakeQueryKey_(e);return t.queryToTagMap.get(n)}function syncTreeMakeQueryKey_(t){return t._path.toString()+"$"+t._queryIdentifier}function syncTreeQueryKeyForTag_(t,e){return t.tagToQueryMap.get(e)}function syncTreeParseQueryKey_(t){const e=t.indexOf("$");return assert(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Path$1(t.substr(0,e))}}function syncTreeApplyTaggedOperation_(t,e,n){const i=t.syncPointTree_.get(e);assert(i,"Missing sync point for query tag that we're tracking");const o=writeTreeChildWrites(t.pendingWriteTree_,e);return syncPointApplyOperation(i,n,o,null)}function syncTreeCollectDistinctViewsForSubTree_(t){return t.fold((e,n,i)=>{if(n&&syncPointHasCompleteView(n))return[syncPointGetCompleteView(n)];{let o=[];return n&&(o=syncPointGetQueryViews(n)),each(i,(l,u)=>{o=o.concat(u)}),o}})}function syncTreeQueryForListening_(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(syncTreeGetReferenceConstructor())(t._repo,t._path):t}function syncTreeRemoveTags_(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=syncTreeMakeQueryKey_(i),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function syncTreeGetNextQueryTag_(){return syncTreeNextQueryTag_++}function syncTreeSetupListener_(t,e,n){const i=e._path,o=syncTreeTagForQuery(t,e),l=syncTreeCreateListenerForView_(t,n),u=t.listenProvider_.startListening(syncTreeQueryForListening_(e),o,l.hashFn,l.onComplete),f=t.syncPointTree_.subtree(i);if(o)assert(!syncPointHasCompleteView(f.value),"If we're adding a query, it shouldn't be shadowed");else{const d=f.fold((p,g,E)=>{if(!pathIsEmpty(p)&&g&&syncPointHasCompleteView(g))return[syncPointGetCompleteView(g).query];{let A=[];return g&&(A=A.concat(syncPointGetQueryViews(g).map(R=>R.query))),each(E,(R,I)=>{A=A.concat(I)}),A}});for(let p=0;p<d.length;++p){const g=d[p];t.listenProvider_.stopListening(syncTreeQueryForListening_(g),syncTreeTagForQuery(t,g))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistingValueProvider{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ExistingValueProvider(n)}node(){return this.node_}}class DeferredValueProvider{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pathChild(this.path_,e);return new DeferredValueProvider(this.syncTree_,n)}node(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)}}const generateWithValues=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},resolveDeferredLeafValue=function(t,e,n){if(!t||typeof t!="object")return t;if(assert(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return resolveScalarDeferredValue(t[".sv"],e,n);if(typeof t[".sv"]=="object")return resolveComplexDeferredValue(t[".sv"],e);assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},resolveScalarDeferredValue=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:assert(!1,"Unexpected server value: "+t)}},resolveComplexDeferredValue=function(t,e,n){t.hasOwnProperty("increment")||assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&assert(!1,"Unexpected increment value: "+i);const o=e.node();if(assert(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const u=o.getValue();return typeof u!="number"?i:u+i},resolveDeferredValueTree=function(t,e,n,i){return resolveDeferredValue(e,new DeferredValueProvider(n,t),i)},resolveDeferredValueSnapshot=function(t,e,n){return resolveDeferredValue(t,new ExistingValueProvider(e),n)};function resolveDeferredValue(t,e,n){const i=t.getPriority().val(),o=resolveDeferredLeafValue(i,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,f=resolveDeferredLeafValue(u.getValue(),e,n);return f!==u.getValue()||o!==u.getPriority().val()?new LeafNode(f,nodeFromJSON(o)):t}else{const u=t;return l=u,o!==u.getPriority().val()&&(l=l.updatePriority(new LeafNode(o))),u.forEachChild(PRIORITY_INDEX,(f,d)=>{const p=resolveDeferredValue(d,e.getImmediateChild(f),n);p!==d&&(l=l.updateImmediateChild(f,p))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tree{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function treeSubTree(t,e){let n=e instanceof Path$1?e:new Path$1(e),i=t,o=pathGetFront(n);for(;o!==null;){const l=safeGet(i.node.children,o)||{children:{},childCount:0};i=new Tree(o,i,l),n=pathPopFront(n),o=pathGetFront(n)}return i}function treeGetValue(t){return t.node.value}function treeSetValue(t,e){t.node.value=e,treeUpdateParents(t)}function treeHasChildren(t){return t.node.childCount>0}function treeIsEmpty(t){return treeGetValue(t)===void 0&&!treeHasChildren(t)}function treeForEachChild(t,e){each(t.node.children,(n,i)=>{e(new Tree(n,t,i))})}function treeForEachDescendant(t,e,n,i){n&&e(t),treeForEachChild(t,o=>{treeForEachDescendant(o,e,!0)})}function treeForEachAncestor(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function treeGetPath(t){return new Path$1(t.parent===null?t.name:treeGetPath(t.parent)+"/"+t.name)}function treeUpdateParents(t){t.parent!==null&&treeUpdateChild(t.parent,t.name,t)}function treeUpdateChild(t,e,n){const i=treeIsEmpty(n),o=contains(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,treeUpdateParents(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,treeUpdateParents(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,MAX_LEAF_SIZE_=10*1024*1024,isValidKey=function(t){return typeof t=="string"&&t.length!==0&&!INVALID_KEY_REGEX_.test(t)},isValidPathString=function(t){return typeof t=="string"&&t.length!==0&&!INVALID_PATH_REGEX_.test(t)},isValidRootPathString=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString(t)},isValidPriority=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!isInvalidJSONNumber(t)||t&&typeof t=="object"&&contains(t,".sv")},validateFirebaseDataArg=function(t,e,n,i){validateFirebaseData(errorPrefix(t,"value"),e,n)},validateFirebaseData=function(t,e,n){const i=n instanceof Path$1?new ValidationPath(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+validationPathToErrorString(i));if(typeof e=="function")throw new Error(t+"contains a function "+validationPathToErrorString(i)+" with contents = "+e.toString());if(isInvalidJSONNumber(e))throw new Error(t+"contains "+e.toString()+" "+validationPathToErrorString(i));if(typeof e=="string"&&e.length>MAX_LEAF_SIZE_/3&&stringLength(e)>MAX_LEAF_SIZE_)throw new Error(t+"contains a string greater than "+MAX_LEAF_SIZE_+" utf8 bytes "+validationPathToErrorString(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(each(e,(u,f)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!isValidKey(u)))throw new Error(t+" contains an invalid key ("+u+") "+validationPathToErrorString(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);validationPathPush(i,u),validateFirebaseData(t,f,i),validationPathPop(i)}),o&&l)throw new Error(t+' contains ".value" child '+validationPathToErrorString(i)+" in addition to actual children.")}},validateFirebaseMergePaths=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const l=pathSlice(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!isValidKey(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(pathCompare);let o=null;for(n=0;n<e.length;n++){if(i=e[n],o!==null&&pathContains(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},validateFirebaseMergeDataArg=function(t,e,n,i){const o=errorPrefix(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];each(e,(u,f)=>{const d=new Path$1(u);if(validateFirebaseData(o,f,pathChild(n,d)),pathGetBack(d)===".priority"&&!isValidPriority(f))throw new Error(o+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(d)}),validateFirebaseMergePaths(o,l)},validatePriority=function(t,e,n){if(isInvalidJSONNumber(e))throw new Error(errorPrefix(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!isValidPriority(e))throw new Error(errorPrefix(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},validatePathString=function(t,e,n,i){if(!isValidPathString(n))throw new Error(errorPrefix(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},validateRootPathString=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),validatePathString(t,e,n)},validateWritablePath=function(t,e){if(pathGetFront(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},validateUrl=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!isValidKey(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!isValidRootPathString(n))throw new Error(errorPrefix(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eventQueueQueueEvents(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],l=o.getPath();n!==null&&!pathEquals(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function eventQueueRaiseEventsAtPath(t,e,n){eventQueueQueueEvents(t,n),eventQueueRaiseQueuedEventsMatchingPredicate(t,i=>pathEquals(i,e))}function eventQueueRaiseEventsForChangedPath(t,e,n){eventQueueQueueEvents(t,n),eventQueueRaiseQueuedEventsMatchingPredicate(t,i=>pathContains(i,e)||pathContains(e,i))}function eventQueueRaiseQueuedEventsMatchingPredicate(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const l=o.path;e(l)?(eventListRaise(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function eventListRaise(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();logger&&log$1("event: "+n.toString()),exceptionGuard(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INTERRUPT_REASON="repo_interrupt",MAX_TRANSACTION_RETRIES=25;class Repo{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function repoStart(t,e,n){if(t.stats_=statsManagerGetCollection(t.repoInfo_),t.forceRestClient_||beingCrawled())t.server_=new ReadonlyRestClient(t.repoInfo_,(i,o,l,u)=>{repoOnDataUpdate(t,i,o,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>repoOnConnectStatus(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{stringify(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new PersistentConnection(t.repoInfo_,e,(i,o,l,u)=>{repoOnDataUpdate(t,i,o,l,u)},i=>{repoOnConnectStatus(t,i)},i=>{repoOnServerInfoUpdate(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=statsManagerGetOrCreateReporter(t.repoInfo_,()=>new StatsReporter(t.stats_,t.server_)),t.infoData_=new SnapshotHolder,t.infoSyncTree_=new SyncTree({startListening:(i,o,l,u)=>{let f=[];const d=t.infoData_.getNode(i._path);return d.isEmpty()||(f=syncTreeApplyServerOverwrite(t.infoSyncTree_,i._path,d),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),repoUpdateInfo(t,"connected",!1),t.serverSyncTree_=new SyncTree({startListening:(i,o,l,u)=>(t.server_.listen(i,l,o,(f,d)=>{const p=u(f,d);eventQueueRaiseEventsForChangedPath(t.eventQueue_,i._path,p)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function repoServerTime(t){const n=t.infoData_.getNode(new Path$1(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function repoGenerateServerValues(t){return generateWithValues({timestamp:repoServerTime(t)})}function repoOnDataUpdate(t,e,n,i,o){t.dataUpdateCount++;const l=new Path$1(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(i){const d=map$2(n,p=>nodeFromJSON(p));u=syncTreeApplyTaggedQueryMerge(t.serverSyncTree_,l,d,o)}else{const d=nodeFromJSON(n);u=syncTreeApplyTaggedQueryOverwrite(t.serverSyncTree_,l,d,o)}else if(i){const d=map$2(n,p=>nodeFromJSON(p));u=syncTreeApplyServerMerge(t.serverSyncTree_,l,d)}else{const d=nodeFromJSON(n);u=syncTreeApplyServerOverwrite(t.serverSyncTree_,l,d)}let f=l;u.length>0&&(f=repoRerunTransactions(t,l)),eventQueueRaiseEventsForChangedPath(t.eventQueue_,f,u)}function repoOnConnectStatus(t,e){repoUpdateInfo(t,"connected",e),e===!1&&repoRunOnDisconnectEvents(t)}function repoOnServerInfoUpdate(t,e){each(e,(n,i)=>{repoUpdateInfo(t,n,i)})}function repoUpdateInfo(t,e,n){const i=new Path$1("/.info/"+e),o=nodeFromJSON(n);t.infoData_.updateSnapshot(i,o);const l=syncTreeApplyServerOverwrite(t.infoSyncTree_,i,o);eventQueueRaiseEventsForChangedPath(t.eventQueue_,i,l)}function repoGetNextWriteId(t){return t.nextWriteId_++}function repoSetWithPriority(t,e,n,i,o){repoLog(t,"set",{path:e.toString(),value:n,priority:i});const l=repoGenerateServerValues(t),u=nodeFromJSON(n,i),f=syncTreeCalcCompleteEventCache(t.serverSyncTree_,e),d=resolveDeferredValueSnapshot(u,f,l),p=repoGetNextWriteId(t),g=syncTreeApplyUserOverwrite(t.serverSyncTree_,e,d,p,!0);eventQueueQueueEvents(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(A,R)=>{const I=A==="ok";I||warn$1("set at "+e+" failed: "+A);const j=syncTreeAckUserWrite(t.serverSyncTree_,p,!I);eventQueueRaiseEventsForChangedPath(t.eventQueue_,e,j),repoCallOnCompleteCallback(t,o,A,R)});const E=repoAbortTransactions(t,e);repoRerunTransactions(t,E),eventQueueRaiseEventsForChangedPath(t.eventQueue_,E,[])}function repoRunOnDisconnectEvents(t){repoLog(t,"onDisconnectEvents");const e=repoGenerateServerValues(t),n=newSparseSnapshotTree();sparseSnapshotTreeForEachTree(t.onDisconnect_,newEmptyPath(),(o,l)=>{const u=resolveDeferredValueTree(o,l,t.serverSyncTree_,e);sparseSnapshotTreeRemember(n,o,u)});let i=[];sparseSnapshotTreeForEachTree(n,newEmptyPath(),(o,l)=>{i=i.concat(syncTreeApplyServerOverwrite(t.serverSyncTree_,o,l));const u=repoAbortTransactions(t,o);repoRerunTransactions(t,u)}),t.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath(t.eventQueue_,newEmptyPath(),i)}function repoOnDisconnectCancel(t,e,n){t.server_.onDisconnectCancel(e.toString(),(i,o)=>{i==="ok"&&sparseSnapshotTreeForget(t.onDisconnect_,e),repoCallOnCompleteCallback(t,n,i,o)})}function repoOnDisconnectSet(t,e,n,i){const o=nodeFromJSON(n);t.server_.onDisconnectPut(e.toString(),o.val(!0),(l,u)=>{l==="ok"&&sparseSnapshotTreeRemember(t.onDisconnect_,e,o),repoCallOnCompleteCallback(t,i,l,u)})}function repoOnDisconnectSetWithPriority(t,e,n,i,o){const l=nodeFromJSON(n,i);t.server_.onDisconnectPut(e.toString(),l.val(!0),(u,f)=>{u==="ok"&&sparseSnapshotTreeRemember(t.onDisconnect_,e,l),repoCallOnCompleteCallback(t,o,u,f)})}function repoOnDisconnectUpdate(t,e,n,i){if(isEmpty$1(n)){log$1("onDisconnect().update() called with empty data.  Don't do anything."),repoCallOnCompleteCallback(t,i,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(o,l)=>{o==="ok"&&each(n,(u,f)=>{const d=nodeFromJSON(f);sparseSnapshotTreeRemember(t.onDisconnect_,pathChild(e,u),d)}),repoCallOnCompleteCallback(t,i,o,l)})}function repoAddEventCallbackForQuery(t,e,n){let i;pathGetFront(e._path)===".info"?i=syncTreeAddEventRegistration(t.infoSyncTree_,e,n):i=syncTreeAddEventRegistration(t.serverSyncTree_,e,n),eventQueueRaiseEventsAtPath(t.eventQueue_,e._path,i)}function repoRemoveEventCallbackForQuery(t,e,n){let i;pathGetFront(e._path)===".info"?i=syncTreeRemoveEventRegistration(t.infoSyncTree_,e,n):i=syncTreeRemoveEventRegistration(t.serverSyncTree_,e,n),eventQueueRaiseEventsAtPath(t.eventQueue_,e._path,i)}function repoInterrupt(t){t.persistentConnection_&&t.persistentConnection_.interrupt(INTERRUPT_REASON)}function repoLog(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),log$1(n,...e)}function repoCallOnCompleteCallback(t,e,n,i){e&&exceptionGuard(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;i&&(l+=": "+i);const u=new Error(l);u.code=o,e(u)}})}function repoGetLatestState(t,e,n){return syncTreeCalcCompleteEventCache(t.serverSyncTree_,e,n)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions(t,e=t.transactionQueueTree_){if(e||repoPruneCompletedTransactionsBelowNode(t,e),treeGetValue(e)){const n=repoBuildTransactionQueue(t,e);assert(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&repoSendTransactionQueue(t,treeGetPath(e),n)}else treeHasChildren(e)&&treeForEachChild(e,n=>{repoSendReadyTransactions(t,n)})}function repoSendTransactionQueue(t,e,n){const i=n.map(p=>p.currentWriteId),o=repoGetLatestState(t,e,i);let l=o;const u=o.hash();for(let p=0;p<n.length;p++){const g=n[p];assert(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const E=newRelativePath(e,g.path);l=l.updateChild(E,g.currentOutputSnapshotRaw)}const f=l.val(!0),d=e;t.server_.put(d.toString(),f,p=>{repoLog(t,"transaction put response",{path:d.toString(),status:p});let g=[];if(p==="ok"){const E=[];for(let A=0;A<n.length;A++)n[A].status=2,g=g.concat(syncTreeAckUserWrite(t.serverSyncTree_,n[A].currentWriteId)),n[A].onComplete&&E.push(()=>n[A].onComplete(null,!0,n[A].currentOutputSnapshotResolved)),n[A].unwatcher();repoPruneCompletedTransactionsBelowNode(t,treeSubTree(t.transactionQueueTree_,e)),repoSendReadyTransactions(t,t.transactionQueueTree_),eventQueueRaiseEventsForChangedPath(t.eventQueue_,e,g);for(let A=0;A<E.length;A++)exceptionGuard(E[A])}else{if(p==="datastale")for(let E=0;E<n.length;E++)n[E].status===3?n[E].status=4:n[E].status=0;else{warn$1("transaction at "+d.toString()+" failed: "+p);for(let E=0;E<n.length;E++)n[E].status=4,n[E].abortReason=p}repoRerunTransactions(t,e)}},u)}function repoRerunTransactions(t,e){const n=repoGetAncestorTransactionNode(t,e),i=treeGetPath(n),o=repoBuildTransactionQueue(t,n);return repoRerunTransactionQueue(t,o,i),i}function repoRerunTransactionQueue(t,e,n){if(e.length===0)return;const i=[];let o=[];const u=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const d=e[f],p=newRelativePath(n,d.path);let g=!1,E;if(assert(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,E=d.abortReason,o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=MAX_TRANSACTION_RETRIES)g=!0,E="maxretry",o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,d.currentWriteId,!0));else{const A=repoGetLatestState(t,d.path,u);d.currentInputSnapshot=A;const R=e[f].update(A.val());if(R!==void 0){validateFirebaseData("transaction failed: Data returned ",R,d.path);let I=nodeFromJSON(R);typeof R=="object"&&R!=null&&contains(R,".priority")||(I=I.updatePriority(A.getPriority()));const q=d.currentWriteId,L=repoGenerateServerValues(t),z=resolveDeferredValueSnapshot(I,A,L);d.currentOutputSnapshotRaw=I,d.currentOutputSnapshotResolved=z,d.currentWriteId=repoGetNextWriteId(t),u.splice(u.indexOf(q),1),o=o.concat(syncTreeApplyUserOverwrite(t.serverSyncTree_,d.path,z,d.currentWriteId,d.applyLocally)),o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,q,!0))}else g=!0,E="nodata",o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,d.currentWriteId,!0))}eventQueueRaiseEventsForChangedPath(t.eventQueue_,n,o),o=[],g&&(e[f].status=2,function(A){setTimeout(A,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(E==="nodata"?i.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):i.push(()=>e[f].onComplete(new Error(E),!1,null))))}repoPruneCompletedTransactionsBelowNode(t,t.transactionQueueTree_);for(let f=0;f<i.length;f++)exceptionGuard(i[f]);repoSendReadyTransactions(t,t.transactionQueueTree_)}function repoGetAncestorTransactionNode(t,e){let n,i=t.transactionQueueTree_;for(n=pathGetFront(e);n!==null&&treeGetValue(i)===void 0;)i=treeSubTree(i,n),e=pathPopFront(e),n=pathGetFront(e);return i}function repoBuildTransactionQueue(t,e){const n=[];return repoAggregateTransactionQueuesForNode(t,e,n),n.sort((i,o)=>i.order-o.order),n}function repoAggregateTransactionQueuesForNode(t,e,n){const i=treeGetValue(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);treeForEachChild(e,o=>{repoAggregateTransactionQueuesForNode(t,o,n)})}function repoPruneCompletedTransactionsBelowNode(t,e){const n=treeGetValue(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,treeSetValue(e,n.length>0?n:void 0)}treeForEachChild(e,i=>{repoPruneCompletedTransactionsBelowNode(t,i)})}function repoAbortTransactions(t,e){const n=treeGetPath(repoGetAncestorTransactionNode(t,e)),i=treeSubTree(t.transactionQueueTree_,e);return treeForEachAncestor(i,o=>{repoAbortTransactionsOnNode(t,o)}),repoAbortTransactionsOnNode(t,i),treeForEachDescendant(i,o=>{repoAbortTransactionsOnNode(t,o)}),n}function repoAbortTransactionsOnNode(t,e){const n=treeGetValue(e);if(n){const i=[];let o=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(assert(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(assert(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(syncTreeAckUserWrite(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?treeSetValue(e,void 0):n.length=l+1,eventQueueRaiseEventsForChangedPath(t.eventQueue_,treeGetPath(e),o);for(let u=0;u<i.length;u++)exceptionGuard(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodePath(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function decodeQuery(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):warn$1(`Invalid query segment '${n}' in query '${t}'`)}return e}const parseRepoInfo=function(t,e){const n=parseDatabaseURL(t),i=n.namespace;n.domain==="firebase.com"&&fatal(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||warnIfPageIsSecure();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new RepoInfo(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new Path$1(n.pathString)}},parseDatabaseURL=function(t){let e="",n="",i="",o="",l="",u=!0,f="https",d=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(f=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let E=t.indexOf("?");E===-1&&(E=t.length),e=t.substring(0,Math.min(g,E)),g<E&&(o=decodePath(t.substring(g,E)));const A=decodeQuery(t.substring(Math.min(t.length,E)));p=e.indexOf(":"),p>=0?(u=f==="https"||f==="wss",d=parseInt(e.substring(p+1),10)):p=e.length;const R=e.slice(0,p);if(R.toLowerCase()==="localhost")n="localhost";else if(R.split(".").length<=2)n=R;else{const I=e.indexOf(".");i=e.substring(0,I).toLowerCase(),n=e.substring(I+1),l=i}"ns"in A&&(l=A.ns)}return{host:e,port:d,domain:n,subdomain:i,secure:u,scheme:f,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DataEvent{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+stringify(this.snapshot.exportVal())}}class CancelEvent{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CallbackContext{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnDisconnect{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Deferred;return repoOnDisconnectCancel(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){validateWritablePath("OnDisconnect.remove",this._path);const e=new Deferred;return repoOnDisconnectSet(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){validateWritablePath("OnDisconnect.set",this._path),validateFirebaseDataArg("OnDisconnect.set",e,this._path);const n=new Deferred;return repoOnDisconnectSet(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){validateWritablePath("OnDisconnect.setWithPriority",this._path),validateFirebaseDataArg("OnDisconnect.setWithPriority",e,this._path),validatePriority("OnDisconnect.setWithPriority",n);const i=new Deferred;return repoOnDisconnectSetWithPriority(this._repo,this._path,e,n,i.wrapCallback(()=>{})),i.promise}update(e){validateWritablePath("OnDisconnect.update",this._path),validateFirebaseMergeDataArg("OnDisconnect.update",e,this._path);const n=new Deferred;return repoOnDisconnectUpdate(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryImpl{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){const e=queryParamsGetQueryObject(this._queryParams),n=ObjectToUniqueKey(e);return n==="{}"?"default":n}get _queryObject(){return queryParamsGetQueryObject(this._queryParams)}isEqual(e){if(e=getModularInstance(e),!(e instanceof QueryImpl))return!1;const n=this._repo===e._repo,i=pathEquals(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+pathToUrlEncodedString(this._path)}}class ReferenceImpl extends QueryImpl{constructor(e,n){super(e,n,new QueryParams,!1)}get parent(){const e=pathParent(this._path);return e===null?null:new ReferenceImpl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class DataSnapshot{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Path$1(e),i=child(this.ref,e);return new DataSnapshot(this._node.getChild(n),i,PRIORITY_INDEX)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new DataSnapshot(o,child(this.ref,i),PRIORITY_INDEX)))}hasChild(e){const n=new Path$1(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ref(t,e){return t=getModularInstance(t),t._checkNotDeleted("ref"),e!==void 0?child(t._root,e):t._root}function child(t,e){return t=getModularInstance(t),pathGetFront(t._path)===null?validateRootPathString("child","path",e):validatePathString("child","path",e),new ReferenceImpl(t._repo,pathChild(t._path,e))}function onDisconnect(t){return t=getModularInstance(t),new OnDisconnect(t._repo,t._path)}function set(t,e){t=getModularInstance(t),validateWritablePath("set",t._path),validateFirebaseDataArg("set",e,t._path);const n=new Deferred;return repoSetWithPriority(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class ValueEventRegistration{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot(e.snapshotNode,new ReferenceImpl(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new CancelEvent(this,e,n):null}matches(e){return e instanceof ValueEventRegistration?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function addEventListener(t,e,n,i,o){let l;if(typeof i=="object"&&(l=void 0,o=i),typeof i=="function"&&(l=i),o&&o.onlyOnce){const d=n,p=(g,E)=>{repoRemoveEventCallbackForQuery(t._repo,t,f),d(g,E)};p.userCallback=n.userCallback,p.context=n.context,n=p}const u=new CallbackContext(n,l||void 0),f=new ValueEventRegistration(u);return repoAddEventCallbackForQuery(t._repo,t,f),()=>repoRemoveEventCallbackForQuery(t._repo,t,f)}function onValue(t,e,n,i){return addEventListener(t,"value",e,n,i)}syncPointSetReferenceConstructor(ReferenceImpl);syncTreeSetReferenceConstructor(ReferenceImpl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_DATABASE_EMULATOR_HOST_VAR="FIREBASE_DATABASE_EMULATOR_HOST",repos={};let useRestClient=!1;function repoManagerApplyEmulatorSettings(t,e,n,i){t.repoInfo_=new RepoInfo(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function repoManagerDatabaseFromApp(t,e,n,i,o){let l=i||t.options.databaseURL;l===void 0&&(t.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log$1("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=parseRepoInfo(l,o),f=u.repoInfo,d;typeof process<"u"&&define_process_env_default&&(d=define_process_env_default[FIREBASE_DATABASE_EMULATOR_HOST_VAR]),d?(l=`http://${d}?ns=${f.namespace}`,u=parseRepoInfo(l,o),f=u.repoInfo):u.repoInfo.secure;const p=new FirebaseAuthTokenProvider(t.name,t.options,e);validateUrl("Invalid Firebase Database URL",u),pathIsEmpty(u.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");const g=repoManagerCreateRepo(f,t,p,new AppCheckTokenProvider(t,n));return new Database(g,t)}function repoManagerDeleteRepo(t,e){const n=repos[e];(!n||n[t.key]!==t)&&fatal(`Database ${e}(${t.repoInfo_}) has already been deleted.`),repoInterrupt(t),delete n[t.key]}function repoManagerCreateRepo(t,e,n,i){let o=repos[e.name];o||(o={},repos[e.name]=o);let l=o[t.toURLString()];return l&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new Repo(t,useRestClient,n,i),o[t.toURLString()]=l,l}class Database{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}_delete(){return this._rootInternal!==null&&(repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fatal("Cannot call "+e+" on a deleted database.")}}function getDatabase(t=getApp(),e){const n=_getProvider(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=getDefaultEmulatorHostnameAndPort("database");i&&connectDatabaseEmulator(n,...i)}return n}function connectDatabaseEmulator(t,e,n,i={}){t=getModularInstance(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&deepEqual$1(i,l.repoInfo_.emulatorOptions))return;fatal("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&fatal('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new EmulatorTokenProvider(EmulatorTokenProvider.OWNER);else if(i.mockUserToken){const f=typeof i.mockUserToken=="string"?i.mockUserToken:createMockUserToken(i.mockUserToken,t.app.options.projectId);u=new EmulatorTokenProvider(f)}repoManagerApplyEmulatorSettings(l,o,i,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerDatabase(t){setSDKVersion(SDK_VERSION$1),_registerComponent(new Component("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return repoManagerDatabaseFromApp(i,o,l,n)},"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,t),registerVersion(name,version,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_TIMESTAMP={".sv":"timestamp"};function serverTimestamp(){return SERVER_TIMESTAMP}PersistentConnection.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};PersistentConnection.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};registerDatabase();const authChanges=t=>onAuthStateChanged(auth,async e=>{if(e){const n=await getCurrentUser(e.uid);try{setupPresence(e.uid)}catch(i){console.log("[authChanges] setupPresence error:",i)}t({firestoreData:n,uid:e.uid}),initUserFields(e.uid)}else console.log("❌使用者未登入"),t(null)}),getCurrentUser=async t=>{try{const e=doc(db,"users",t),n=await getDoc(e);return n.exists()?n.data():(console.log("🔍 尚未登入"),null)}catch(e){console.log("🔥 取得currentUser失敗: ",e)}},getAllUsers=async()=>{try{return(await getDocs(collection(db,"users"))).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.log("取得所有使用者失敗: ",t),[]}},registerWithImg=async(t,e,n,i,o)=>{try{const u=(await createUserWithEmailAndPassword(auth,e,n)).user;console.log("🎉註冊成功: ",u),await setDoc(doc(db,"users",u.uid),{name:t,email:e,identity:i,favorites:[{id:1,title:"基礎詞彙",content:[]},{id:2,title:"日常對話",content:[]},{id:3,title:"旅遊用語",content:[]}],user_errors:{},joinDate:new Date().toISOString(),avatarUrl:o})}catch(l){throw console.log("🔥 註冊錯誤: ",l.code,l.message),l}},updateProfile=async(t,e)=>{try{const n=doc(db,"users",t),i=await getDoc(n);if(!i.exists())throw new Error("使用者資料不存在");const o=i.data(),l={};return e.name!==o.name&&(l.name=e.name),e.identity!==o.identity&&(l.identity=e.identity),e.avatarUrl!==o.avatarUrl&&(l.avatarUrl=e.avatarUrl),Object.keys(l).length===0?{success:!1,message:"沒有更新的資料"}:(await updateDoc(n,l),{success:!0,firestoreData:{...o,...l},uid:t})}catch(n){throw console.log("🔥 更新失敗: ",n.code,n.message),n}},initUserFields=async t=>{try{const e=doc(db,"users",t),n=await getDoc(e);if(!n.exists()){console.error("❌ 使用者資料不存在");return}const i=n.data(),o={},l=[];i.favorites||(o.favorites=[{id:1,title:"基礎詞彙",content:[]},{id:2,title:"日常對話",content:[]},{id:3,title:"旅遊用語",content:[]}],l.push("favorites")),i.user_errors||(o.user_errors={},l.push("user_errors")),Object.keys(o).length>0?(await updateDoc(e,o),console.log(`✅ 成功新增欄位：${l.join(", ")}`)):console.log("🔍 所有欄位已存在，無需初始化")}catch(e){console.error("🔥 初始化欄位失敗：",e.message)}},signOut=async()=>{try{await auth.signOut()}catch(t){console.log("🔥 登出失敗: ",t.message),alert("登出失敗："+t.message)}},setupPresence=t=>{const e=getDatabase(),n=ref(e,`/status/${t}`),i=ref(e,".info/connected");onValue(i,async o=>{if(o.val()!==!1)try{await onDisconnect(n).set({state:"offline",lastChanged:serverTimestamp()}),await set(n,{state:"online",lastChanged:serverTimestamp()})}catch(l){console.log("[presence] error while setting presence:",l)}},o=>{console.log("[presence] .info/connected error:",o)})},registerForm=({})=>{const[t,e]=reactExports.useState(""),[n,i]=reactExports.useState(""),[o,l]=reactExports.useState(""),[u,f]=reactExports.useState(!1),[d,p]=reactExports.useState("學生"),[g,E]=reactExports.useState(null),[A,R]=reactExports.useState(null),[I,j]=reactExports.useState(!1),[q,L]=reactExports.useState(!1),z=useNavigate(),U=reactExports.useRef(null),W=async()=>{try{await registerWithImg(t,n,o,d,A),L(!0),setTimeout(()=>{z("/login")},1500)}catch(Y){Y.code==="auth/email-already-in-use"?alert("Email 已被註冊過，請使用其他 Email。"):alert("註冊失敗，請稍後再試。"),L(!1)}},H=Y=>{const J=Y.target.value;l(J),J.length>=6?f(!0):f(!1)},Z=async Y=>{const J=Y.target.files[0];if(!J)return;E(URL.createObjectURL(J)),j(!0);const ne=new FormData;ne.append("file",J),data.append("upload_preset",void 0),data.append("cloud_name",void 0);try{const se=await(await fetch("https://api.cloudinary.com/v1_1/undefined/image/upload/f_auto,q_auto",{method:"POST",body:ne})).json();R(se.secure_url)}catch(ae){console.error("圖片上傳失敗",ae),alert("圖片上傳失敗，請稍後再試。")}finally{j(!1)}};return reactExports.useEffect(()=>{if(q){const Y=lottie.loadAnimation({container:U.current,renderer:"svg",loop:!0,autoplay:!0,animationData:successAnimation});return()=>Y.destroy()}},[q]),jsxRuntimeExports.jsx("div",{className:"register-container",children:jsxRuntimeExports.jsxs("div",{className:"register-box",children:[jsxRuntimeExports.jsx("h2",{className:"formTitle",children:"註冊"}),jsxRuntimeExports.jsxs("p",{className:"register-subtitle",children:["立即體驗源·語",jsxRuntimeExports.jsxs("button",{children:[jsxRuntimeExports.jsx(Footprints,{size:22}),"訪客登入"]})]}),jsxRuntimeExports.jsxs("form",{action:"#",className:"registerForm",children:[jsxRuntimeExports.jsxs("div",{className:"input-wrapper",children:[jsxRuntimeExports.jsx("img",{src:g||AvatarImg,style:{height:"101px",padding:"inherit"}}),jsxRuntimeExports.jsx("input",{id:"avatarInput",type:"file",accept:"image/*",className:"input-field",onChange:Z})]}),jsxRuntimeExports.jsxs("div",{className:"input-wrapper",children:[jsxRuntimeExports.jsx(User$1,{size:24,className:"icon"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input-field",placeholder:"使用者名稱",required:!0,onChange:Y=>e(Y.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"input-wrapper",children:[jsxRuntimeExports.jsx(Mail,{size:24,className:"icon"}),jsxRuntimeExports.jsx("input",{type:"email",className:"input-field",placeholder:"帳號",required:!0,onChange:Y=>i(Y.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"input-wrapper",children:[jsxRuntimeExports.jsx(LockKeyhole,{size:24,className:"icon"}),jsxRuntimeExports.jsx("input",{type:"password",className:"input-field",placeholder:"密碼",required:!0,onChange:H,value:o})]}),jsxRuntimeExports.jsxs("div",{className:"password-requirements",children:[jsxRuntimeExports.jsx("span",{className:`check-icon ${u?"valid":"invalid"}`,children:jsxRuntimeExports.jsx(CircleCheckBig,{size:20})}),jsxRuntimeExports.jsx("p",{children:"密碼至少需要 6 個字元"})]}),jsxRuntimeExports.jsx("div",{className:"input-wrapper",children:jsxRuntimeExports.jsxs("select",{name:"identity",className:"input-field",style:{cursor:"pointer"},value:d,onChange:Y=>p(Y.target.value),children:[jsxRuntimeExports.jsx("option",{value:"學生",children:"學生"}),jsxRuntimeExports.jsx("option",{value:"教師",children:"教師"}),jsxRuntimeExports.jsx("option",{value:"其他",children:"其他"})]})}),jsxRuntimeExports.jsx("button",{type:"button",className:"register-button",onClick:W,disabled:I,children:I?"上傳頭像中...":"註冊"}),jsxRuntimeExports.jsxs("p",{children:["已經有帳戶了?",jsxRuntimeExports.jsx("a",{href:"/login",children:"登入"})]})]}),q&&jsxRuntimeExports.jsx("div",{className:"overlay",children:jsxRuntimeExports.jsxs("div",{className:"animation-container",children:[jsxRuntimeExports.jsx("div",{ref:U}),jsxRuntimeExports.jsx("p",{children:"註冊成功！您將移至登入頁面"})]})})]})})},App$8=({})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:"register-page",children:jsxRuntimeExports.jsx(registerForm,{})})}),AuthContext=reactExports.createContext(),AuthProvider=({children:t})=>{const[e,n]=reactExports.useState(null);reactExports.useEffect(()=>{const o=authChanges(l=>{n(l)});return()=>o()},[]);const i=o=>{n(o)};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{userData:e,updateUserData:i},children:t})},useAuth=()=>reactExports.useContext(AuthContext),Edit=()=>{const t=useNavigate(),n=useLocation().state,[i,o]=reactExports.useState({name:n.firestoreData.name,email:n.firestoreData.email,identity:n.firestoreData.identity,joinDate:n.firestoreData.joinDate,password:"********",avatarUrl:n.firestoreData.avatarUrl?n.firestoreData.avatarUrl:AvatarImg}),l=reactExports.useRef(null),[u,f]=reactExports.useState(i.avatarUrl),[d,p]=reactExports.useState(!1),g=()=>{l.current.click()},E=async j=>{const q=j.target.files[0];if(!q)return;f(URL.createObjectURL(q)),p(!0);const L=new FormData;L.append("file",q),L.append("upload_preset",void 0),L.append("cloud_name",void 0);try{const U=await(await fetch("https://api.cloudinary.com/v1_1/undefined/image/upload",{method:"POST",body:L})).json();o(W=>({...W,avatarUrl:U.secure_url}))}catch(z){console.error("圖片上傳失敗",z),alert("圖片上傳失敗，請稍後再試。")}finally{p(!1)}},A=(j,q)=>{o(L=>({...L,[j]:q}))},{updateUserData:R}=useAuth(),I=async()=>{try{const j=await updateProfile(n.uid,i);j.success?(R(j),t("/")):alert("⚠️ "+j.message)}catch{alert("🔥 更新失敗，請稍後再試")}};return jsxRuntimeExports.jsxs("div",{className:"edit-container",children:[jsxRuntimeExports.jsx("h2",{className:"edit-title",children:"編輯個人資料"}),jsxRuntimeExports.jsxs("div",{className:"avatar-uploader",onClick:g,children:[jsxRuntimeExports.jsx("img",{src:u,alt:"頭像",className:"avatar-image"}),jsxRuntimeExports.jsxs("div",{className:"edit-overlay",children:[jsxRuntimeExports.jsx(Pen,{size:18}),jsxRuntimeExports.jsx("span",{children:d?"上傳中...":"變更圖片"})]}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",ref:l,onChange:E,style:{display:"none"}})]}),jsxRuntimeExports.jsxs("div",{className:"edit-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(User$1,{size:16})," 姓名"]}),jsxRuntimeExports.jsx("input",{type:"text",value:i.name,onChange:j=>A("name",j.target.value),placeholder:"請輸入您的姓名"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Shield,{size:16})," 身分"]}),jsxRuntimeExports.jsxs("select",{value:i.identity,onChange:j=>A("identity",j.target.value),children:[jsxRuntimeExports.jsx("option",{children:"學生"}),jsxRuntimeExports.jsx("option",{children:"教師"}),jsxRuntimeExports.jsx("option",{children:"其他"})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Calendar$1,{size:16})," 加入日期"]}),jsxRuntimeExports.jsx("input",{type:"text",value:new Date(i.joinDate).toLocaleDateString("zh-TW"),disabled:!0,style:{backgroundColor:"#f5f5f5",color:"#888"}})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Mail,{size:16})," 信箱"]}),jsxRuntimeExports.jsx("input",{type:"email",value:i.email,disabled:!0,style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Lock,{size:16})," 密碼"]}),jsxRuntimeExports.jsx("input",{type:"password",value:i.password,disabled:!0,style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}}),jsxRuntimeExports.jsx("a",{className:"forgot-pass",onClick:()=>{t("/reset")},children:"變更密碼"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"12px",marginTop:"24px"},children:[jsxRuntimeExports.jsx("button",{className:"cancel-btn",type:"button",onClick:()=>window.history.back(),children:"取消"}),jsxRuntimeExports.jsxs("button",{className:"save-btn",onClick:I,children:[jsxRuntimeExports.jsx(Save,{size:16})," 儲存變更"]})]})]})]})},Forgot$1=({})=>{const t=useNavigate(),[e,n]=reactExports.useState(""),[i,o]=reactExports.useState(""),[l,u]=reactExports.useState(null),f=async()=>{const d=getAuth();try{await sendPasswordResetEmail(d,e),o("已寄送密碼重設信件，請至信箱確認。"),u(!0)}catch(p){switch(console.error("重設信件寄送失敗：",p),p.code){case"auth/invalid-email":o("Email 格式不正確");break;case"auth/user-not-found":o("找不到此 Email 對應的帳號");break;default:o("寄送失敗，請稍後再試")}u(!1)}};return jsxRuntimeExports.jsxs("div",{className:"forgot-container",children:[jsxRuntimeExports.jsx("h2",{children:"忘記密碼"}),jsxRuntimeExports.jsx("p",{className:"instruction",children:"請輸入您的電子郵件，我們會寄送重設密碼的連結。"}),jsxRuntimeExports.jsx("input",{type:"email",placeholder:"輸入您的 Email",value:e,onChange:d=>n(d.target.value)}),jsxRuntimeExports.jsxs("div",{className:"forgot-button",children:[jsxRuntimeExports.jsx("button",{className:"forgot-cancel-btn",onClick:()=>t(-1),children:"取消"}),jsxRuntimeExports.jsx("button",{className:"forgot-submit-btn",onClick:f,children:"重設密碼"})]}),i&&jsxRuntimeExports.jsx("div",{className:`message ${l?"success":"error"}`,children:i})]})},Forgot=({})=>{const e=getAuth().currentUser,n=useNavigate(),[i,o]=reactExports.useState(""),[l,u]=reactExports.useState(""),[f,d]=reactExports.useState(!1),p=reactExports.useRef(null),g=async()=>{try{const E=EmailAuthProvider.credential(e.email,i);await reauthenticateWithCredential(e,E),await updatePassword(e,l),d(!0),setTimeout(()=>{n(-1)},1500)}catch(E){switch(console.error("密碼更新失敗："+E.message),d(!1),E.code){case"auth/wrong-password":case"auth/invalid-credential":alert("目前密碼錯誤，請再試一次。");break;case"auth/weak-password":alert("新密碼強度不足，請使用至少 6 個字元。");break;default:alert("密碼更新失敗")}}};return reactExports.useEffect(()=>{if(f&&p.current){const E=lottie.loadAnimation({container:p.current,renderer:"svg",loop:!1,autoplay:!0,animationData:successAnimation});return()=>E.destroy()}},[f]),jsxRuntimeExports.jsxs("div",{className:"reset-container",children:[jsxRuntimeExports.jsx("h2",{children:"變更密碼"}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"目前密碼",value:i,onChange:E=>o(E.target.value)}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"新密碼",value:l,onChange:E=>u(E.target.value)}),jsxRuntimeExports.jsxs("div",{className:"reset-button",children:[jsxRuntimeExports.jsx("button",{className:"reset-cancel-btn",onClick:()=>n(-1),children:"取消"}),jsxRuntimeExports.jsx("button",{className:"reset-submit-btn",onClick:g,children:"變更密碼"})]}),f&&jsxRuntimeExports.jsx("div",{className:"overlay",children:jsxRuntimeExports.jsxs("div",{className:"animation-container",children:[jsxRuntimeExports.jsx("div",{ref:p}),jsxRuntimeExports.jsx("p",{children:"密碼更新成功！將移至編輯資料頁面"})]})})]})},pexelsPhoto="/LinguaRoot/assets/pexels-photo-CCe2MHI-.webp",App$7=()=>{const[t,e]=reactExports.useState(null),[n,i]=reactExports.useState(null),[o,l]=reactExports.useState(Date.now()),u=reactExports.useRef(null),[f,d]=reactExports.useState("請選擇圖片"),p=useNavigate(),g=I=>{const j=I.target.files.length>0?I.target.files[0]:null;if(j==null&&d(n.name),j){const q=new FileReader;q.onloadend=()=>{e(q.result)},q.readAsDataURL(j),i(j),d(j.name)}},E=()=>{e(null),i(null),l(Date.now()),d("請選擇圖片")},A=()=>{n&&(new FormData().append("image",n),p("/camera/label",{state:{image:t,file:n}}))},R=()=>{u.current&&u.current.click()};return jsxRuntimeExports.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{backgroundImage:`url(${pexelsPhoto})`,backgroundSize:"cover",backgroundPosition:"center",minHeight:"calc(100vh - 70px)"},children:jsxRuntimeExports.jsx(Container,{className:"p-4 rounded-2 shadow-lg",style:{backgroundColor:"white",maxWidth:"900px",width:"90%",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)"},children:jsxRuntimeExports.jsxs(Row,{className:"g-4",children:[jsxRuntimeExports.jsxs(Col,{xs:12,md:6,className:"d-flex flex-column justify-content-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h3",{className:"fw-bolder text-secondary",children:"影像變單字"}),jsxRuntimeExports.jsx("h3",{className:"fw-bolder text-secondary",children:"學習更有趣"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"display-6 fw-bolder",children:"打造專屬你的"}),jsxRuntimeExports.jsx("h1",{className:"display-5 fw-bolder text-danger",children:"《TAYAL單字卡》"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:g,ref:u,style:{display:"none"}},o),jsxRuntimeExports.jsxs("div",{className:"mt-4 d-flex gap-2",style:{alignItems:"center,flex-start"},children:["     ",jsxRuntimeExports.jsx("button",{className:"btn btn-outline-secondary",onClick:R,children:"選擇圖片"}),jsxRuntimeExports.jsx("div",{className:"center",style:{display:"flex",alignItems:"center"},children:jsxRuntimeExports.jsxs("h6",{style:{width:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginBottom:0},children:[" ",f]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 d-flex gap-2",style:{alignItems:"flex-start"},children:["     ",jsxRuntimeExports.jsxs(Button,{onClick:A,variant:"primary",disabled:!t,children:[jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-upload",viewBox:"0 0 16 16",children:[jsxRuntimeExports.jsx("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),jsxRuntimeExports.jsx("path",{d:"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"})]}),"  提交"]}),jsxRuntimeExports.jsxs(Button,{onClick:E,variant:"danger",disabled:!t,children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-lg",viewBox:"0 0 16 16",children:jsxRuntimeExports.jsx("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"})}),"  取消選擇"]})]})]}),jsxRuntimeExports.jsx(Col,{xs:12,md:6,className:"d-flex justify-content-center align-items-center",children:jsxRuntimeExports.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded-3 border-3",style:{width:"500px",height:"500px",backgroundColor:"white",cursor:"pointer",borderRadius:"20px"},onClick:R,children:t?jsxRuntimeExports.jsx("img",{src:t,alt:"預覽圖片",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}):jsxRuntimeExports.jsxs("div",{className:"center",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("div",{className:"mt-4 d-flex gap-1",style:{justifyContent:"center"},children:["   ",jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",fill:"#7B7B7B",className:"bi bi-image",viewBox:"0 0 16 16",children:[jsxRuntimeExports.jsx("path",{d:"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"}),jsxRuntimeExports.jsx("path",{d:"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"})]}),jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"#7B7B7B",className:"bi bi-plus-lg",viewBox:"0 0 16 16",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"})})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h4",{className:"text-muted",style:{marginTop:"10px",textColor:"#7B7B7B"},children:"請選擇圖片"})]})})})]})})})};function bind(t,e){return function(){return t.apply(e,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(t=>e=>{const n=toString$1.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer$1(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction$1(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString$2=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber$2=typeOfTest("number"),isObject$2=t=>t!==null&&typeof t=="object",isBoolean$1=t=>t===!0||t===!1,isPlainObject$1=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject$2(t)&&isFunction$1(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction$1(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction$1(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,o;if(typeof t!="object"&&(t=[t]),isArray$1(t))for(i=0,o=t.length;i<o;i++)e.call(null,t[i],i,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),u=l.length;let f;for(i=0;i<u;i++)f=l[i],e.call(null,t[f],f,t)}}function findKey(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,o;for(;i-- >0;)if(o=n[i],e===o.toLowerCase())return o;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge(){const{caseless:t}=isContextDefined(this)&&this||{},e={},n=(i,o)=>{const l=t&&findKey(e,o)||o;isPlainObject$1(e[l])&&isPlainObject$1(i)?e[l]=merge(e[l],i):isPlainObject$1(i)?e[l]=merge({},i):isArray$1(i)?e[l]=i.slice():e[l]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&forEach(arguments[i],n);return e}const extend$1=(t,e,n,{allOwnKeys:i}={})=>(forEach(e,(o,l)=>{n&&isFunction$1(o)?t[l]=bind(o,n):t[l]=o},{allOwnKeys:i}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject=(t,e,n,i)=>{let o,l,u;const f={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),l=o.length;l-- >0;)u=o[l],(!i||i(u,t,e))&&!f[u]&&(e[u]=t[u],f[u]=!0);t=n!==!1&&getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},toArray$1=t=>{if(!t)return null;if(isArray$1(t))return t;let e=t.length;if(!isNumber$2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},isTypedArray$1=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=i.next())&&!o.done;){const l=o.value;e.call(t,l[0],l[1])}},matchAll=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),hasOwnProperty$1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};forEach(n,(o,l)=>{let u;(u=e(o,l,t))!==!1&&(i[l]=u||o)}),Object.defineProperties(t,i)},freezeMethods=t=>{reduceDescriptors(t,(e,n)=>{if(isFunction$1(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(isFunction$1(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet=(t,e)=>{const n={},i=o=>{o.forEach(l=>{n[l]=!0})};return isArray$1(t)?i(t):i(String(t).split(e)),n},noop$3=()=>{},toFiniteNumber=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function isSpecCompliantForm(t){return!!(t&&isFunction$1(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const toJSONObject=t=>{const e=new Array(10),n=(i,o)=>{if(isObject$2(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;const l=isArray$1(i)?[]:{};return forEach(i,(u,f)=>{const d=n(u,o+1);!isUndefined(d)&&(l[f]=d)}),e[o]=void 0,l}}return i};return n(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject$2(t)||isFunction$1(t))&&isFunction$1(t.then)&&isFunction$1(t.catch),_setImmediate=((t,e)=>t?setImmediate:e?((n,i)=>(_global.addEventListener("message",({source:o,data:l})=>{o===_global&&l===n&&i.length&&i.shift()()},!1),o=>{i.push(o),_global.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray:isArray$1,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$2,isBoolean:isBoolean$1,isObject:isObject$2,isPlainObject:isPlainObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$3,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError$1(t,e,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function t(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(t,e,n,i,o,l)=>{const u=Object.create(prototype$1);return utils$1.toFlatObject(t,u,function(d){return d!==Error.prototype},f=>f!=="isAxiosError"),AxiosError$1.call(u,t.message,e,n,i,o),u.cause=t,u.name=t.name,l&&Object.assign(u,l),u};const httpAdapter=null;function isVisitable(t){return utils$1.isPlainObject(t)||utils$1.isArray(t)}function removeBrackets(t){return utils$1.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,n){return t?t.concat(e).map(function(o,l){return o=removeBrackets(o),!n&&l?"["+o+"]":o}).join(n?".":""):e}function isFlatArray(t){return utils$1.isArray(t)&&!t.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function t(e){return/^is[A-Z]/.test(e)});function toFormData$1(t,e,n){if(!utils$1.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=utils$1.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,q){return!utils$1.isUndefined(q[j])});const i=n.metaTokens,o=n.visitor||g,l=n.dots,u=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(e);if(!utils$1.isFunction(o))throw new TypeError("visitor must be a function");function p(I){if(I===null)return"";if(utils$1.isDate(I))return I.toISOString();if(!d&&utils$1.isBlob(I))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(I)||utils$1.isTypedArray(I)?d&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function g(I,j,q){let L=I;if(I&&!q&&typeof I=="object"){if(utils$1.endsWith(j,"{}"))j=i?j:j.slice(0,-2),I=JSON.stringify(I);else if(utils$1.isArray(I)&&isFlatArray(I)||(utils$1.isFileList(I)||utils$1.endsWith(j,"[]"))&&(L=utils$1.toArray(I)))return j=removeBrackets(j),L.forEach(function(U,W){!(utils$1.isUndefined(U)||U===null)&&e.append(u===!0?renderKey([j],W,l):u===null?j:j+"[]",p(U))}),!1}return isVisitable(I)?!0:(e.append(renderKey(q,j,l),p(I)),!1)}const E=[],A=Object.assign(predicates,{defaultVisitor:g,convertValue:p,isVisitable});function R(I,j){if(!utils$1.isUndefined(I)){if(E.indexOf(I)!==-1)throw Error("Circular reference detected in "+j.join("."));E.push(I),utils$1.forEach(I,function(L,z){(!(utils$1.isUndefined(L)||L===null)&&o.call(e,L,utils$1.isString(z)?z.trim():z,j,A))===!0&&R(L,j?j.concat(z):[z])}),E.pop()}}if(!utils$1.isObject(t))throw new TypeError("data must be an object");return R(t),e}function encode$1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData$1(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function t(e,n){this._pairs.push([e,n])};prototype.toString=function t(e){const n=e?function(i){return e.call(this,i,encode$1)}:encode$1;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,n){if(!e)return t;const i=n&&n.encode||encode;utils$1.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let l;if(o?l=o(e,n):l=utils$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,n).toString(i),l){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(i){i!==null&&e(i)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(t,e){return toFormData$1(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(n,i,o,l){return platform.isNode&&utils$1.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils$1.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},n=Object.keys(t);let i;const o=n.length;let l;for(i=0;i<o;i++)l=n[i],e[l]=t[l];return e}function formDataToJSON(t){function e(n,i,o,l){let u=n[l++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),d=l>=n.length;return u=!u&&utils$1.isArray(o)?o.length:u,d?(utils$1.hasOwnProp(o,u)?o[u]=[o[u],i]:o[u]=i,!f):((!o[u]||!utils$1.isObject(o[u]))&&(o[u]=[]),e(n,i,o[u],l)&&utils$1.isArray(o[u])&&(o[u]=arrayToObject(o[u])),!f)}if(utils$1.isFormData(t)&&utils$1.isFunction(t.entries)){const n={};return utils$1.forEachEntry(t,(i,o)=>{e(parsePropPath(i),o,n,0)}),n}return null}function stringifySafely(t,e,n){if(utils$1.isString(t))try{return(e||JSON.parse)(t),utils$1.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function t(e,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,l=utils$1.isObject(e);if(l&&utils$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1.isFormData(e))return o?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e)||utils$1.isReadableStream(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((f=utils$1.isFileList(e))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return toFormData$1(f?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||o?(n.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function t(e){const n=this.transitional||defaults$1.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(utils$1.isResponse(e)||utils$1.isReadableStream(e))return e;if(e&&utils$1.isString(e)&&(i&&!this.responseType||o)){const u=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?AxiosError$1.from(f,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function t(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],t=>{defaults$1.headers[t]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const e={};let n,i,o;return t&&t.split(`
`).forEach(function(u){o=u.indexOf(":"),n=u.substring(0,o).trim().toLowerCase(),i=u.substring(o+1).trim(),!(!n||e[n]&&ignoreDuplicateOf[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$1.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,n,i,o){if(utils$1.isFunction(i))return i.call(this,e,n);if(o&&(e=n),!!utils$1.isString(e)){if(utils$1.isString(i))return e.indexOf(i)!==-1;if(utils$1.isRegExp(i))return i.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function buildAccessors(t,e){const n=utils$1.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(o,l,u){return this[i].call(this,e,o,l,u)},configurable:!0})})}let AxiosHeaders$1=class{constructor(e){e&&this.set(e)}set(e,n,i){const o=this;function l(f,d,p){const g=normalizeHeader(d);if(!g)throw new Error("header name must be a non-empty string");const E=utils$1.findKey(o,g);(!E||o[E]===void 0||p===!0||p===void 0&&o[E]!==!1)&&(o[E||d]=normalizeValue(f))}const u=(f,d)=>utils$1.forEach(f,(p,g)=>l(p,g,d));if(utils$1.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))u(parseHeaders(e),n);else if(utils$1.isHeaders(e))for(const[f,d]of e.entries())l(d,f,i);else e!=null&&l(n,e,i);return this}get(e,n){if(e=normalizeHeader(e),e){const i=utils$1.findKey(this,e);if(i){const o=this[i];if(!n)return o;if(n===!0)return parseTokens(o);if(utils$1.isFunction(n))return n.call(this,o,i);if(utils$1.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=normalizeHeader(e),e){const i=utils$1.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||matchHeaderValue(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let o=!1;function l(u){if(u=normalizeHeader(u),u){const f=utils$1.findKey(i,u);f&&(!n||matchHeaderValue(i,i[f],f,n))&&(delete i[f],o=!0)}}return utils$1.isArray(e)?e.forEach(l):l(e),o}clear(e){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const l=n[i];(!e||matchHeaderValue(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const n=this,i={};return utils$1.forEach(this,(o,l)=>{const u=utils$1.findKey(i,l);if(u){n[u]=normalizeValue(o),delete n[l];return}const f=e?formatHeader(l):String(l).trim();f!==l&&delete n[l],n[f]=normalizeValue(o),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return utils$1.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=e&&utils$1.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function l(u){const f=normalizeHeader(u);i[f]||(buildAccessors(o,u),i[f]=!0)}return utils$1.isArray(e)?e.forEach(l):l(e),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(t,e){const n=this||defaults$1,i=e||n,o=AxiosHeaders$1.from(i.headers);let l=i.data;return utils$1.forEach(t,function(f){l=f.call(n,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function isCancel$1(t){return!!(t&&t.__CANCEL__)}function CanceledError$1(t,e,n){AxiosError$1.call(this,t??"canceled",AxiosError$1.ERR_CANCELED,e,n),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new AxiosError$1("Request failed with status code "+n.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const n=new Array(t),i=new Array(t);let o=0,l=0,u;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),g=i[l];u||(u=p),n[o]=d,i[o]=p;let E=l,A=0;for(;E!==o;)A+=n[E++],E=E%t;if(o=(o+1)%t,o===l&&(l=(l+1)%t),p-u<e)return;const R=g&&p-g;return R?Math.round(A*1e3/R):void 0}}function throttle$1(t,e){let n=0,i=1e3/e,o,l;const u=(p,g=Date.now())=>{n=g,o=null,l&&(clearTimeout(l),l=null),t.apply(null,p)};return[(...p)=>{const g=Date.now(),E=g-n;E>=i?u(p,g):(o=p,l||(l=setTimeout(()=>{l=null,u(o)},i-E)))},()=>o&&u(o)]}const progressEventReducer=(t,e,n=3)=>{let i=0;const o=speedometer(50,250);return throttle$1(l=>{const u=l.loaded,f=l.lengthComputable?l.total:void 0,d=u-i,p=o(d),g=u<=f;i=u;const E={loaded:u,total:f,progress:f?u/f:void 0,bytes:d,rate:p||void 0,estimated:p&&f&&g?(f-u)/p:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(E)},n)},progressEventDecorator=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},asyncDecorator=t=>(...e)=>utils$1.asap(()=>t(...e)),isURLSameOrigin=platform.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,platform.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,e,n,i,o,l){const u=[t+"="+encodeURIComponent(e)];utils$1.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),utils$1.isString(i)&&u.push("path="+i),utils$1.isString(o)&&u.push("domain="+o),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e,n){let i=!isAbsoluteURL(e);return t&&i||n==!1?combineURLs(t,e):e}const headersToObject=t=>t instanceof AxiosHeaders$1?{...t}:t;function mergeConfig$1(t,e){e=e||{};const n={};function i(p,g,E,A){return utils$1.isPlainObject(p)&&utils$1.isPlainObject(g)?utils$1.merge.call({caseless:A},p,g):utils$1.isPlainObject(g)?utils$1.merge({},g):utils$1.isArray(g)?g.slice():g}function o(p,g,E,A){if(utils$1.isUndefined(g)){if(!utils$1.isUndefined(p))return i(void 0,p,E,A)}else return i(p,g,E,A)}function l(p,g){if(!utils$1.isUndefined(g))return i(void 0,g)}function u(p,g){if(utils$1.isUndefined(g)){if(!utils$1.isUndefined(p))return i(void 0,p)}else return i(void 0,g)}function f(p,g,E){if(E in e)return i(p,g);if(E in t)return i(void 0,p)}const d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(p,g,E)=>o(headersToObject(p),headersToObject(g),E,!0)};return utils$1.forEach(Object.keys(Object.assign({},t,e)),function(g){const E=d[g]||o,A=E(t[g],e[g],g);utils$1.isUndefined(A)&&E!==f||(n[g]=A)}),n}const resolveConfig=t=>{const e=mergeConfig$1({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:u,auth:f}=e;e.headers=u=AxiosHeaders$1.from(u),e.url=buildURL(buildFullPath(e.baseURL,e.url),t.params,t.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let d;if(utils$1.isFormData(n)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[p,...g]=d?d.split(";").map(E=>E.trim()).filter(Boolean):[];u.setContentType([p||"multipart/form-data",...g].join("; "))}}if(platform.hasStandardBrowserEnv&&(i&&utils$1.isFunction(i)&&(i=i(e)),i||i!==!1&&isURLSameOrigin(e.url))){const p=o&&l&&cookies.read(l);p&&u.set(o,p)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(n,i){const o=resolveConfig(t);let l=o.data;const u=AxiosHeaders$1.from(o.headers).normalize();let{responseType:f,onUploadProgress:d,onDownloadProgress:p}=o,g,E,A,R,I;function j(){R&&R(),I&&I(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let q=new XMLHttpRequest;q.open(o.method.toUpperCase(),o.url,!0),q.timeout=o.timeout;function L(){if(!q)return;const U=AxiosHeaders$1.from("getAllResponseHeaders"in q&&q.getAllResponseHeaders()),H={data:!f||f==="text"||f==="json"?q.responseText:q.response,status:q.status,statusText:q.statusText,headers:U,config:t,request:q};settle(function(Y){n(Y),j()},function(Y){i(Y),j()},H),q=null}"onloadend"in q?q.onloadend=L:q.onreadystatechange=function(){!q||q.readyState!==4||q.status===0&&!(q.responseURL&&q.responseURL.indexOf("file:")===0)||setTimeout(L)},q.onabort=function(){q&&(i(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,t,q)),q=null)},q.onerror=function(){i(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,t,q)),q=null},q.ontimeout=function(){let W=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const H=o.transitional||transitionalDefaults;o.timeoutErrorMessage&&(W=o.timeoutErrorMessage),i(new AxiosError$1(W,H.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,t,q)),q=null},l===void 0&&u.setContentType(null),"setRequestHeader"in q&&utils$1.forEach(u.toJSON(),function(W,H){q.setRequestHeader(H,W)}),utils$1.isUndefined(o.withCredentials)||(q.withCredentials=!!o.withCredentials),f&&f!=="json"&&(q.responseType=o.responseType),p&&([A,I]=progressEventReducer(p,!0),q.addEventListener("progress",A)),d&&q.upload&&([E,R]=progressEventReducer(d),q.upload.addEventListener("progress",E),q.upload.addEventListener("loadend",R)),(o.cancelToken||o.signal)&&(g=U=>{q&&(i(!U||U.type?new CanceledError$1(null,t,q):U),q.abort(),q=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const z=parseProtocol(o.url);if(z&&platform.protocols.indexOf(z)===-1){i(new AxiosError$1("Unsupported protocol "+z+":",AxiosError$1.ERR_BAD_REQUEST,t));return}q.send(l||null)})},composeSignals=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,o;const l=function(p){if(!o){o=!0,f();const g=p instanceof Error?p:this.reason;i.abort(g instanceof AxiosError$1?g:new CanceledError$1(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,l(new AxiosError$1(`timeout ${e} of ms exceeded`,AxiosError$1.ETIMEDOUT))},e);const f=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),t=null)};t.forEach(p=>p.addEventListener("abort",l));const{signal:d}=i;return d.unsubscribe=()=>utils$1.asap(f),d}},streamChunk=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,o;for(;i<n;)o=i+e,yield t.slice(i,o),i=o},readBytes=async function*(t,e){for await(const n of readStream(t))yield*streamChunk(n,e)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},trackStream=(t,e,n,i)=>{const o=readBytes(t,e);let l=0,u,f=d=>{u||(u=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:p,value:g}=await o.next();if(p){f(),d.close();return}let E=g.byteLength;if(n){let A=l+=E;n(A)}d.enqueue(new Uint8Array(g))}catch(p){throw f(p),p}},cancel(d){return f(d),o.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),test$1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test$1(()=>{let t=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test$1(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(t=>t.body)};isFetchSupported&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$1.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new AxiosError$1(`Response type '${e}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,i)})})})(new Response);const getBodyLength=async t=>{if(t==null)return 0;if(utils$1.isBlob(t))return t.size;if(utils$1.isSpecCompliantForm(t))return(await new Request(platform.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(t)||utils$1.isArrayBuffer(t))return t.byteLength;if(utils$1.isURLSearchParams(t)&&(t=t+""),utils$1.isString(t))return(await encodeText(t)).byteLength},resolveBodyLength=async(t,e)=>{const n=utils$1.toFiniteNumber(t.getContentLength());return n??getBodyLength(e)},fetchAdapter=isFetchSupported&&(async t=>{let{url:e,method:n,data:i,signal:o,cancelToken:l,timeout:u,onDownloadProgress:f,onUploadProgress:d,responseType:p,headers:g,withCredentials:E="same-origin",fetchOptions:A}=resolveConfig(t);p=p?(p+"").toLowerCase():"text";let R=composeSignals([o,l&&l.toAbortSignal()],u),I;const j=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let q;try{if(d&&supportsRequestStream&&n!=="get"&&n!=="head"&&(q=await resolveBodyLength(g,i))!==0){let H=new Request(e,{method:"POST",body:i,duplex:"half"}),Z;if(utils$1.isFormData(i)&&(Z=H.headers.get("content-type"))&&g.setContentType(Z),H.body){const[Y,J]=progressEventDecorator(q,progressEventReducer(asyncDecorator(d)));i=trackStream(H.body,DEFAULT_CHUNK_SIZE,Y,J)}}utils$1.isString(E)||(E=E?"include":"omit");const L="credentials"in Request.prototype;I=new Request(e,{...A,signal:R,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:i,duplex:"half",credentials:L?E:void 0});let z=await fetch(I);const U=supportsResponseStream&&(p==="stream"||p==="response");if(supportsResponseStream&&(f||U&&j)){const H={};["status","statusText","headers"].forEach(ne=>{H[ne]=z[ne]});const Z=utils$1.toFiniteNumber(z.headers.get("content-length")),[Y,J]=f&&progressEventDecorator(Z,progressEventReducer(asyncDecorator(f),!0))||[];z=new Response(trackStream(z.body,DEFAULT_CHUNK_SIZE,Y,()=>{J&&J(),j&&j()}),H)}p=p||"text";let W=await resolvers[utils$1.findKey(resolvers,p)||"text"](z,t);return!U&&j&&j(),await new Promise((H,Z)=>{settle(H,Z,{data:W,headers:AxiosHeaders$1.from(z.headers),status:z.status,statusText:z.statusText,config:t,request:I})})}catch(L){throw j&&j(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,t,I),{cause:L.cause||L}):AxiosError$1.from(L,L&&L.code,t,I)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$1.isFunction(t)||t===null||t===!1,adapters={getAdapter:t=>{t=utils$1.isArray(t)?t:[t];const{length:e}=t;let n,i;const o={};for(let l=0;l<e;l++){n=t[l];let u;if(i=n,!isResolvedHandle(n)&&(i=knownAdapters[(u=String(n)).toLowerCase()],i===void 0))throw new AxiosError$1(`Unknown adapter '${u}'`);if(i)break;o[u||"#"+l]=i}if(!i){const l=Object.entries(o).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(renderReason).join(`
`):" "+renderReason(l[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError$1(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults$1.adapter)(t).then(function(i){return throwIfCancellationRequested(t),i.data=transformData.call(t,t.transformResponse,i),i.headers=AxiosHeaders$1.from(i.headers),i},function(i){return isCancel$1(i)||(throwIfCancellationRequested(t),i&&i.response&&(i.response.data=transformData.call(t,t.transformResponse,i.response),i.response.headers=AxiosHeaders$1.from(i.response.headers))),Promise.reject(i)})}const VERSION$1="1.8.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function t(e,n,i){function o(l,u){return"[Axios v"+VERSION$1+"] Transitional option '"+l+"'"+u+(i?". "+i:"")}return(l,u,f)=>{if(e===!1)throw new AxiosError$1(o(u," has been removed"+(n?" in "+n:"")),AxiosError$1.ERR_DEPRECATED);return n&&!deprecatedWarnings[u]&&(deprecatedWarnings[u]=!0,console.warn(o(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,u,f):!0}};validators$1.spelling=function t(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function assertOptions(t,e,n){if(typeof t!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let o=i.length;for(;o-- >0;){const l=i[o],u=e[l];if(u){const f=t[l],d=f===void 0||u(f,l,t);if(d!==!0)throw new AxiosError$1("option "+l+" must be "+d,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new AxiosError$1("Unknown option "+l,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=mergeConfig$1(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:l}=n;i!==void 0&&validator.assertOptions(i,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils$1.isFunction(o)?n.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),validator.assertOptions(n,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=l&&utils$1.merge(l.common,l[n.method]);l&&utils$1.forEach(["delete","get","head","post","put","patch","common"],I=>{delete l[I]}),n.headers=AxiosHeaders$1.concat(u,l);const f=[];let d=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(d=d&&j.synchronous,f.unshift(j.fulfilled,j.rejected))});const p=[];this.interceptors.response.forEach(function(j){p.push(j.fulfilled,j.rejected)});let g,E=0,A;if(!d){const I=[dispatchRequest.bind(this),void 0];for(I.unshift.apply(I,f),I.push.apply(I,p),A=I.length,g=Promise.resolve(n);E<A;)g=g.then(I[E++],I[E++]);return g}A=f.length;let R=n;for(E=0;E<A;){const I=f[E++],j=f[E++];try{R=I(R)}catch(q){j.call(this,q);break}}try{g=dispatchRequest.call(this,R)}catch(I){return Promise.reject(I)}for(E=0,A=p.length;E<A;)g=g.then(p[E++],p[E++]);return g}getUri(e){e=mergeConfig$1(this.defaults,e);const n=buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls);return buildURL(n,e.params,e.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function t(e){Axios$1.prototype[e]=function(n,i){return this.request(mergeConfig$1(i||{},{method:e,url:n,data:(i||{}).data}))}});utils$1.forEach(["post","put","patch"],function t(e){function n(i){return function(l,u,f){return this.request(mergeConfig$1(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Axios$1.prototype[e]=n(),Axios$1.prototype[e+"Form"]=n(!0)});let CancelToken$1=class Kh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(o=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](o);i._listeners=null}),this.promise.then=o=>{let l;const u=new Promise(f=>{i.subscribe(f),l=f}).then(o);return u.cancel=function(){i.unsubscribe(l)},u},e(function(l,u,f){i.reason||(i.reason=new CanceledError$1(l,u,f),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Kh(function(o){e=o}),cancel:e}}};function spread$1(t){return function(n){return t.apply(null,n)}}function isAxiosError$1(t){return utils$1.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([t,e])=>{HttpStatusCode$1[e]=t});function createInstance(t){const e=new Axios$1(t),n=bind(Axios$1.prototype.request,e);return utils$1.extend(n,Axios$1.prototype,e,{allOwnKeys:!0}),utils$1.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return createInstance(mergeConfig$1(t,o))},n}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function t(e){return Promise.all(e)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=t=>formDataToJSON(utils$1.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,App$6=()=>{var L,z;const t=useLocation(),e=useNavigate(),n=(L=t.state)==null?void 0:L.image,i=(z=t.state)==null?void 0:z.file,[o,l]=reactExports.useState([]),[u,f]=reactExports.useState(new Set),[d,p]=reactExports.useState(!1),[g,E]=reactExports.useState(!1),[A,R]=reactExports.useState(null),[I,j]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!i){console.error("未成功上傳圖片，將返回頁面"),e("/camera");return}if(j(!0),g)l([{description:"花",score:.95},{description:"男人",score:.85},{description:"水",score:.9},{description:"魚",score:.9},{description:"睡覺",score:.9},{description:"水果",score:.9}]),j(!1);else{const U=new FormData;U.append("file",i),axios.post("http://127.0.0.1:8001/vision/analyze_image/",U,{headers:{"Content-Type":"multipart/form-data"}}).then(W=>{W.data.error?p(!0):(l(W.data.labels||[]),R(W.data.annotated_image||null))}).catch(W=>{console.error("API 錯誤:",W),W.response?(console.log("📄 錯誤狀態碼:",W.response.status),console.log("📄 錯誤訊息:",W.response.data)):console.log("❌ 無法連線到伺服器"),p(!0)}).finally(()=>{j(!1)})}},[i,e]);const q=U=>{f(W=>{const H=new Set(W);return H.has(U)?H.delete(U):H.add(U),H})};return jsxRuntimeExports.jsx("div",{className:"d-flex justify-content-center align-items-center min-vh-100",style:{backgroundImage:`url(${pexelsPhoto})`,backgroundSize:"cover",backgroundPosition:"center"},children:jsxRuntimeExports.jsx(Container,{className:"p-4 rounded-2 shadow-lg",style:{backgroundColor:"white",maxWidth:"900px",width:"90%"},children:jsxRuntimeExports.jsxs(Row,{className:"g-4",children:[jsxRuntimeExports.jsx(Col,{xs:12,md:6,className:"d-flex justify-content-center align-items-center",children:jsxRuntimeExports.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded-3 border-3",style:{width:"500px",height:"500px",backgroundColor:"white",borderRadius:"20px"},children:I?jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"spinner-border text-primary",role:"status"}),jsxRuntimeExports.jsx("div",{className:"mt-3 fw-bold",children:"正在辨識中，請稍候..."})]}):d?jsxRuntimeExports.jsx("h4",{className:"text-danger",children:"辨識失敗"}):A?jsxRuntimeExports.jsx("img",{src:A,alt:"辨識圖片",className:"img-fluid rounded shadow",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}):n?jsxRuntimeExports.jsx("img",{src:n,alt:"上傳圖片",className:"img-fluid rounded shadow",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}):null})}),jsxRuntimeExports.jsxs(Col,{xs:12,md:6,className:"d-flex flex-column align-items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"fw-bolder",children:[jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-check2-circle",viewBox:"0 0 16 16",children:[jsxRuntimeExports.jsx("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"}),jsxRuntimeExports.jsx("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"})]})," 選擇欲查看之單詞"]}),jsxRuntimeExports.jsxs("h6",{className:"fw-bolder",children:["可複選，您已選擇"," ",jsxRuntimeExports.jsx("span",{className:"text-danger",children:u.size})," 個"]}),I&&jsxRuntimeExports.jsxs("div",{className:"text-center my-2",children:[jsxRuntimeExports.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"1.5rem",height:"1.5rem"}}),jsxRuntimeExports.jsx("div",{className:"mt-1 text-secondary",children:"載入中..."})]}),d?jsxRuntimeExports.jsx("h4",{className:"text-danger fw-bold",children:"辨識失敗"}):jsxRuntimeExports.jsx("div",{className:"w-100 d-flex flex-column align-items-center",style:{maxHeight:"300px",overflowY:"auto"},children:o.map((U,W)=>jsxRuntimeExports.jsx(Card$1,{className:`shadow-sm p-2 mb-2 w-100 ${u.has(U.description)?"border-primary":""}`,onClick:()=>q(U.description),style:{cursor:"pointer",transition:"0.3s",maxWidth:"250px"},children:jsxRuntimeExports.jsxs(Card$1.Body,{className:"d-flex justify-content-between align-items-center",children:[jsxRuntimeExports.jsx("span",{className:"fw-bold",children:U.description}),jsxRuntimeExports.jsxs("span",{className:"text-muted",children:[(U.score*100).toFixed(2),"%"]})]})},W))}),jsxRuntimeExports.jsxs("div",{className:"mt-4 d-flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{className:"mt-3",variant:"primary",disabled:u.size===0,onClick:()=>e("/camera/result",{state:{selectedWords:Array.from(u)}}),children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",className:"bi bi-check2",viewBox:"0 0 16 16",children:jsxRuntimeExports.jsx("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"})}),"  確認"]}),jsxRuntimeExports.jsxs(Button,{className:"mt-3",variant:"secondary",onClick:()=>e("/camera"),children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-return-left",viewBox:"0 0 16 16",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5"})}),"  返回"]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("h6",{className:"fw-bolder text-danger",children:[jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-exclamation-circle",viewBox:"0 0 16 16",children:[jsxRuntimeExports.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),jsxRuntimeExports.jsx("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"})]})," 注意，確認後將無法回到此頁面"]})]})]})})})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$o=["attr","size","title"];function _objectWithoutProperties$o(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$o(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$o(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _extends$A(){return _extends$A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$A.apply(this,arguments)}function ownKeys$H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$H(Object(n),!0).forEach(function(i){_defineProperty$O(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$H(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$O(t,e,n){return e=_toPropertyKey$O(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$O(t){var e=_toPrimitive$O(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$O(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tree2Element(t){return t&&t.map((e,n)=>React.createElement(e.tag,_objectSpread$H({key:n},e.attr),Tree2Element(e.child)))}function GenIcon(t){return e=>React.createElement(IconBase,_extends$A({attr:_objectSpread$H({},t.attr)},e),Tree2Element(t.child))}function IconBase(t){var e=n=>{var{attr:i,size:o,title:l}=t,u=_objectWithoutProperties$o(t,_excluded$o),f=o||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),React.createElement("svg",_extends$A({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:d,style:_objectSpread$H(_objectSpread$H({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&React.createElement("title",null,l),t.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,n=>e(n)):e(DefaultContext)}function FaHeart(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function FaPlayCircle(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"},child:[]}]})(t)}function FaRegHeart(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(t)}const renderStars$1=t=>{if(!t)return null;const e=(t.match(/★/g)||[]).length,n=t.match(/\((\d+)\)/),i=n?n[1]:"";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[[...Array(e)].map((o,l)=>jsxRuntimeExports.jsx("span",{style:{color:"#FFC107",fontSize:"1rem",marginRight:"1px"},children:"⭐"},l)),i&&jsxRuntimeExports.jsxs("span",{style:{marginLeft:"2px",color:"#666"},children:["（",i,"）"]})]})},WordCard$1=({word:t,result:e,keyName:n,expandedWord:i,toggleExpand:o,toggleFavorite:l,playAudio:u,isFavorited:f})=>{var d;return jsxRuntimeExports.jsxs(ListGroup$1.Item,{className:"d-flex flex-column",children:[jsxRuntimeExports.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[jsxRuntimeExports.jsxs("div",{onClick:()=>o(n),style:{cursor:"pointer",flex:1},children:[jsxRuntimeExports.jsxs("h3",{className:"fw-bolder text-danger",children:[e.word_tayal||"無資料",e.word_audio&&jsxRuntimeExports.jsx(Button,{variant:"link",onClick:p=>{p.stopPropagation(),u(e.word_audio)},children:jsxRuntimeExports.jsx(FaPlayCircle,{size:20,className:"text-warning"})})]}),jsxRuntimeExports.jsx("h5",{className:"fw-bolder",children:t})]}),jsxRuntimeExports.jsx(Button,{variant:"link",onClick:()=>l(n),children:f?jsxRuntimeExports.jsx(FaHeart,{color:"red"}):jsxRuntimeExports.jsx(FaRegHeart,{color:"black"})})]}),i===n&&jsxRuntimeExports.jsx("div",{className:"mt-2 pt-2 border-top",children:jsxRuntimeExports.jsxs(ListGroup$1,{variant:"flush",children:[jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsx("strong",{children:"詞頻："}),renderStars$1(e.word_fre)]}),jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsx("strong",{children:"分類："}),e.word_str||""]}),(d=e.defins)==null?void 0:d.map((p,g)=>{var E;return jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsx("h5",{className:"fw-bolder",children:p.word_ch||""}),jsxRuntimeExports.jsxs("h6",{children:[jsxRuntimeExports.jsx("strong",{children:"分類："}),p.word_cate||""]}),jsxRuntimeExports.jsx("br",{}),(E=p.examples)==null?void 0:E.map((A,R)=>{var j,q;return((j=A.ex_tay)==null?void 0:j.trim())||((q=A.ex_ch)==null?void 0:q.trim())?jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsxs("h6",{className:"fw-bolder text-danger",children:[A.ex_tay,A.ex_tay_audio&&jsxRuntimeExports.jsx(Button,{variant:"link",onClick:()=>u(A.ex_tay_audio),children:jsxRuntimeExports.jsx(FaPlayCircle,{size:20,className:"text-warning"})})]}),jsxRuntimeExports.jsx("h6",{className:"fw-bolder",children:A.ex_ch})]},`${g}-${R}`):null})]},g)})]})})]},n)},App$5=()=>{var me;const[t,e]=reactExports.useState(""),i=((me=useLocation().state)==null?void 0:me.selectedWords)||[],[o,l]=reactExports.useState({exact_match_results:{},fuzzy_match_results:{}}),[u,f]=reactExports.useState(!1),[d,p]=reactExports.useState(""),[g,E]=reactExports.useState(null),[A,R]=reactExports.useState(new Set),[I,j]=reactExports.useState("asc"),[q,L]=reactExports.useState(""),[z,U]=reactExports.useState(null),[W,H]=reactExports.useState(null),[Z,Y]=reactExports.useState(!1),[J,ne]=reactExports.useState(""),ae=useNavigate();reactExports.useEffect(()=>{if(i.length===0){p("請選擇至少一個單詞！");return}f(!0),axios.post("http://127.0.0.1:8001/dictionary/search/",{words:i}).then(oe=>{l({exact_match_results:oe.data.exact_match_results||{},fuzzy_match_results:oe.data.fuzzy_match_results||{}})}).catch(oe=>{var de,xe;p("查詢失敗: "+(((xe=(de=oe.response)==null?void 0:de.data)==null?void 0:xe.error)||oe.message))}).finally(()=>f(!1));const ee=localStorage.getItem("favoriteWords");ee&&R(new Set(JSON.parse(ee)));const ie=authChanges(async oe=>{if(oe){H(oe);const de=oe.firestoreData.favorites.find(Ee=>Ee.id===1),xe=new Set((de==null?void 0:de.content)||[]);R(xe)}else H(null),R(new Set)});return()=>ie()},[i]);const se=ee=>E(ie=>ie===ee?null:ee),ue=async ee=>{R(ie=>{const oe=new Set(ie);return oe.has(ee)?oe.delete(ee):oe.add(ee),oe});try{const ie=W.firestoreData.favorites.find(de=>de.id===1);let oe=(ie==null?void 0:ie.content)||[];oe.includes(ee)?oe=oe.filter(de=>de!==ee):oe=[...oe,ee],await fe(W.uid,1,oe),H(de=>{if(!de)return de;const xe=de.firestoreData.favorites.map(Ee=>Ee.id===1?{...Ee,content:oe}:Ee);return{...de,firestoreData:{...de.firestoreData,favorites:xe}}})}catch(ie){console.error("同步收藏失敗",ie)}};async function fe(ee,ie,oe){const de=doc(db,"users",ee),xe=await getDoc(de);if(!xe.exists())throw new Error("使用者文件不存在");const Ce=(xe.data().favorites||[]).map(Oe=>Oe.id===ie?{...Oe,content:oe}:Oe);await updateDoc(de,{favorites:Ce})}const _e=ee=>{if(ee){z&&z.pause();const ie=new Audio(ee);ie.play(),U(ie)}},ge=ee=>ee.filter(ie=>{const oe=(ie.word_tayal||"").toLowerCase(),de=!q||oe.startsWith(q),xe=A.has(ie.word_tayal),Ae=((ie.word_fre||"").match(/★/g)||[]).length,Ce=!J||Ae===parseInt(J);return de&&(!Z||xe)&&Ce}).sort((ie,oe)=>{const de=(ie.word_tayal||"").toLowerCase(),xe=(oe.word_tayal||"").toLowerCase();return I==="asc"?de.localeCompare(xe):xe.localeCompare(de)}),ce=Array.from({length:26},(ee,ie)=>String.fromCharCode(97+ie)).concat("'");return Object.values(o.exact_match_results).map(ee=>ge(ee).length).reduce((ee,ie)=>ee+ie,0),Object.values(o.fuzzy_match_results).flatMap(ee=>Object.values(ee).map(ie=>ge(ie).length)).reduce((ee,ie)=>ee+ie,0),jsxRuntimeExports.jsxs(Container,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{style:{position:"sticky",top:0,background:"white",zIndex:900,paddingBottom:"1rem",marginBottom:"1rem",borderBottom:"1px solid #ccc"},children:[jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("h2",{className:"fw-bolder center",style:{display:"flex",alignItems:"center",whiteSpace:"nowrap",marginBottom:0},children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:jsxRuntimeExports.jsx("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})}),"  查詢結果"]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{className:"d-flex mb-3 align-items-center",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline-dark",className:"me-3",onClick:()=>j(ee=>ee==="asc"?"desc":"asc"),children:["排序： ",I==="asc"?"A→Z":"Z→A"]}),jsxRuntimeExports.jsxs(Dropdown$1,{onSelect:ee=>L(ee),children:[jsxRuntimeExports.jsxs(Dropdown$1.Toggle,{variant:"outline-dark",className:"btn",children:["開頭： ",q||"全部"]}),jsxRuntimeExports.jsxs(Dropdown$1.Menu,{children:[jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:"",children:"全部"}),ce.map(ee=>jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:ee,children:ee},ee))]})]}),jsxRuntimeExports.jsxs(Dropdown$1,{onSelect:ee=>ne(ee),className:"ms-3",children:[jsxRuntimeExports.jsxs(Dropdown$1.Toggle,{variant:"outline-dark",children:["詞頻： ",J?`${J}★`:"全部"]}),jsxRuntimeExports.jsxs(Dropdown$1.Menu,{children:[jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:"",children:"全部"}),[4,3,2,1].map(ee=>jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:ee,children:`${ee}★`},ee))]})]}),jsxRuntimeExports.jsx(Button,{className:"ms-3",variant:Z?"danger":"outline-dark",onClick:()=>Y(ee=>!ee),children:Z?"顯示全部":"只顯示收藏"})]}),jsxRuntimeExports.jsx("div",{className:"d-flex mb-3 align-items-center",children:jsxRuntimeExports.jsxs(Button,{className:"mt-3",variant:"secondary",onClick:()=>ae("/camera"),children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-return-left",viewBox:"0 0 16 16",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5"})}),"  返回"]})})]}),u&&jsxRuntimeExports.jsx(Spinner,{animation:"border",variant:"primary"}),d&&jsxRuntimeExports.jsx(Alert$1,{variant:"danger",children:d}),jsxRuntimeExports.jsx("br",{}),Object.keys(o.exact_match_results).length>0&&(()=>{const ee=Object.values(o.exact_match_results).flat(),ie=ge(ee);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("h4",{className:"fw-bold text-success",children:["完全匹配結果 (",ie.length,")"]}),jsxRuntimeExports.jsx(ListGroup$1,{children:ie.map((oe,de)=>{var Ae,Ce;const xe=((Ce=(Ae=oe.defins)==null?void 0:Ae[0])==null?void 0:Ce.word_ch)||oe.word_ch||"",Ee=`${xe}-${de}-${oe.word_tayal||""}`;return jsxRuntimeExports.jsx(WordCard$1,{keyName:Ee,word:xe,result:oe,expandedWord:g,toggleExpand:se,toggleFavorite:()=>ue(oe.word_tayal),playAudio:_e,isFavorited:A.has(oe.word_tayal)},Ee)})})]})})(),jsxRuntimeExports.jsx("br",{}),Object.keys(o.fuzzy_match_results).length>0&&(()=>{const ee=Object.values(o.fuzzy_match_results).flatMap(oe=>Object.values(oe).flat()),ie=ge(ee);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("h4",{className:"fw-bold text-warning",children:["相關匹配結果 (",ie.length,")"]}),jsxRuntimeExports.jsx(ListGroup$1,{children:ie.map((oe,de)=>{var Ae,Ce;const xe=((Ce=(Ae=oe.defins)==null?void 0:Ae[0])==null?void 0:Ce.word_ch)||oe.word_ch||"",Ee=`${xe}-${de}-${oe.word_tayal||""}`;return jsxRuntimeExports.jsx(WordCard$1,{keyName:Ee,word:xe,result:oe,expandedWord:g,toggleExpand:se,toggleFavorite:()=>ue(oe.word_tayal),playAudio:_e,isFavorited:A.has(oe.word_tayal)},Ee)})})]})})()]})},renderStars=t=>{if(!t)return null;const e=(t.match(/★/g)||[]).length,n=t.match(/\((\d+)\)/),i=n?n[1]:"";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[[...Array(e)].map((o,l)=>jsxRuntimeExports.jsx("span",{style:{color:"#FFC107",fontSize:"1rem",marginRight:"1px"},children:"⭐"},l)),i&&jsxRuntimeExports.jsxs("span",{style:{marginLeft:"2px",color:"#666"},children:["（",i,"）"]})]})},WordCard=({word:t,result:e,keyName:n,expandedWord:i,toggleExpand:o,toggleFavorite:l,playAudio:u,isFavorited:f})=>{var d;return jsxRuntimeExports.jsxs(ListGroup$1.Item,{className:"d-flex flex-column",children:[jsxRuntimeExports.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[jsxRuntimeExports.jsxs("div",{onClick:()=>o(n),style:{cursor:"pointer",flex:1},children:[jsxRuntimeExports.jsxs("h3",{className:"fw-bolder text-danger",children:[e.word_tayal||"無資料",e.word_audio&&jsxRuntimeExports.jsx(Button,{variant:"link",onClick:p=>{p.stopPropagation(),u(e.word_audio)},children:jsxRuntimeExports.jsx(FaPlayCircle,{size:20,className:"text-warning"})})]}),jsxRuntimeExports.jsx("h5",{className:"fw-bolder",children:t})]}),jsxRuntimeExports.jsx(Button,{variant:"link",onClick:()=>l(n),children:f?jsxRuntimeExports.jsx(FaHeart,{color:"red"}):jsxRuntimeExports.jsx(FaRegHeart,{color:"black"})})]}),i===n&&jsxRuntimeExports.jsx("div",{className:"mt-2 pt-2 border-top",children:jsxRuntimeExports.jsxs(ListGroup$1,{variant:"flush",children:[jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsx("strong",{children:"詞頻："}),renderStars(e.word_fre)]}),jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsx("strong",{children:"分類："}),e.word_str||""]}),(d=e.defins)==null?void 0:d.map((p,g)=>{var E;return jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsx("h5",{className:"fw-bolder",children:p.word_ch||""}),jsxRuntimeExports.jsxs("h6",{children:[jsxRuntimeExports.jsx("strong",{children:"分類："}),p.word_cate||""]}),jsxRuntimeExports.jsx("br",{}),(E=p.examples)==null?void 0:E.map((A,R)=>{var j,q;return((j=A.ex_tay)==null?void 0:j.trim())||((q=A.ex_ch)==null?void 0:q.trim())?jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsxs("h6",{className:"fw-bolder text-danger",children:[A.ex_tay,A.ex_tay_audio&&jsxRuntimeExports.jsx(Button,{variant:"link",onClick:()=>u(A.ex_tay_audio),children:jsxRuntimeExports.jsx(FaPlayCircle,{size:20,className:"text-warning"})})]}),jsxRuntimeExports.jsx("h6",{className:"fw-bolder",children:A.ex_ch})]},`${g}-${R}`):null})]},g)})]})})]},n)},App$4=()=>{const[t,e]=reactExports.useState(""),[n,i]=reactExports.useState({exact_match_results:{},fuzzy_match_results:{},all_results:{}}),[o,l]=reactExports.useState(!1),[u,f]=reactExports.useState(""),[d,p]=reactExports.useState(null),[g,E]=reactExports.useState(new Set),[A,R]=reactExports.useState("asc"),[I,j]=reactExports.useState(""),[q,L]=reactExports.useState(null),[z,U]=reactExports.useState(null),[W,H]=reactExports.useState(!1),[Z,Y]=reactExports.useState(""),[J,ne]=reactExports.useState(!1),[ae,se]=reactExports.useState(!1),ue=ie=>p(oe=>oe===ie?null:ie),fe=async ie=>{E(oe=>{const de=new Set(oe);return de.has(ie)?de.delete(ie):de.add(ie),de});try{const oe=z.firestoreData.favorites.find(xe=>xe.id===1);let de=(oe==null?void 0:oe.content)||[];de.includes(ie)?de=de.filter(xe=>xe!==ie):de=[...de,ie],await _e(z.uid,1,de),U(xe=>{if(!xe)return xe;const Ee=xe.firestoreData.favorites.map(Ae=>Ae.id===1?{...Ae,content:de}:Ae);return{...xe,firestoreData:{...xe.firestoreData,favorites:Ee}}})}catch(oe){console.error("同步收藏失敗",oe)}};async function _e(ie,oe,de){const xe=doc(db,"users",ie),Ee=await getDoc(xe);if(!Ee.exists())throw new Error("使用者文件不存在");const Oe=(Ee.data().favorites||[]).map(We=>We.id===oe?{...We,content:de}:We);await updateDoc(xe,{favorites:Oe})}const ge=async()=>{var ie,oe;l(!0),f("");try{let de;t.trim()===""?(de=await axios.post("http://127.0.0.1:8001/dictionary/all/"),console.log("API回傳(search):",de.data),i({exact_match_results:{},fuzzy_match_results:{},all_results:de.data.all_results||{}})):(de=await axios.post("http://127.0.0.1:8001/dictionary/allsearch/",{keyword:t.trim()}),console.log("API回傳(search):",de.data),i({exact_match_results:Array.isArray(de.data.exact_match_results)?{[t.trim()]:de.data.exact_match_results}:de.data.exact_match_results,fuzzy_match_results:de.data.fuzzy_match_results||{},all_results:{}}))}catch(de){f("查詢失敗: "+(((oe=(ie=de.response)==null?void 0:ie.data)==null?void 0:oe.detail)||de.message))}finally{l(!1)}};reactExports.useEffect(()=>{const ie=()=>{se(window.innerWidth<768)};return ie(),window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]),reactExports.useEffect(()=>{const ie=localStorage.getItem("favoriteWords");ie&&E(new Set(JSON.parse(ie))),ge();const oe=authChanges(async de=>{if(de){U(de);const xe=de.firestoreData.favorites.find(Ae=>Ae.id===1),Ee=new Set((xe==null?void 0:xe.content)||[]);E(Ee)}else U(null),E(new Set)});return()=>oe()},[]);const ce=ie=>{if(ie){q&&q.pause();const oe=new Audio(ie);oe.play(),L(oe)}},me=ie=>ie.filter(oe=>{const de=(oe.word_tayal||"").toLowerCase(),xe=!I||de.startsWith(I),Ee=g.has(oe.word_tayal),Ce=((oe.word_fre||"").match(/★/g)||[]).length,Oe=!Z||Ce===parseInt(Z);return xe&&(!W||Ee)&&Oe}).sort((oe,de)=>{const xe=(oe.word_tayal||"").toLowerCase(),Ee=(de.word_tayal||"").toLowerCase();return A==="asc"?xe.localeCompare(Ee):Ee.localeCompare(xe)}),ee=Array.from({length:26},(ie,oe)=>String.fromCharCode(97+oe)).concat("'");return jsxRuntimeExports.jsxs(Container,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{style:{position:"sticky",top:0,background:"white",zIndex:900,paddingBottom:"1rem",marginBottom:"1rem",borderBottom:"1px solid #ccc"},children:[jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("h2",{className:"fw-bolder center",style:{display:"flex",alignItems:"center",whiteSpace:"nowrap",marginBottom:0},children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:jsxRuntimeExports.jsx("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})}),"  單詞查詢"]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs(InputGroup$1,{className:"mb-3",children:[jsxRuntimeExports.jsx(Form$1.Control,{placeholder:"請輸入查詢內容",value:t,onChange:ie=>e(ie.target.value),onKeyDown:ie=>{ie.key==="Enter"&&(ie.preventDefault(),ge())}}),jsxRuntimeExports.jsx(Button,{variant:"danger",onClick:ge,style:{maxWidth:"60px",paddingLeft:"6px",paddingRight:"6px"},children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:jsxRuntimeExports.jsx("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})})})]}),jsxRuntimeExports.jsx("div",{className:"d-flex mb-3 align-items-center",children:ae?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline-dark",className:"mb-3",onClick:()=>ne(!0),children:"篩選 / 排序"}),jsxRuntimeExports.jsxs(Offcanvas$1,{show:J,onHide:()=>ne(!1),placement:"end",children:[jsxRuntimeExports.jsx(Offcanvas$1.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Offcanvas$1.Title,{children:"篩選 / 排序選項"})}),jsxRuntimeExports.jsx(Offcanvas$1.Body,{children:jsxRuntimeExports.jsxs("div",{className:"d-flex flex-column gap-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline-dark",onClick:()=>{R(ie=>ie==="asc"?"desc":"asc"),ne(!1)},children:["排序： ",A==="asc"?"A→Z":"Z→A"]}),jsxRuntimeExports.jsxs(Dropdown$1,{onSelect:ie=>{j(ie),ne(!1)},children:[jsxRuntimeExports.jsxs(Dropdown$1.Toggle,{variant:"outline-dark",className:"btn",children:["開頭： ",I||"全部"]}),jsxRuntimeExports.jsxs(Dropdown$1.Menu,{children:[jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:"",children:"全部"}),ee.map(ie=>jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:ie,children:ie},ie))]})]}),jsxRuntimeExports.jsxs(Dropdown$1,{onSelect:ie=>{Y(ie),ne(!1)},children:[jsxRuntimeExports.jsxs(Dropdown$1.Toggle,{variant:"outline-dark",children:["詞頻： ",Z?`${Z}★`:"全部"]}),jsxRuntimeExports.jsxs(Dropdown$1.Menu,{children:[jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:"",children:"全部"}),[4,3,2,1].map(ie=>jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:ie,children:`${ie}★`},ie))]})]}),jsxRuntimeExports.jsx(Button,{variant:W?"danger":"outline-dark",onClick:()=>{H(ie=>!ie),ne(!1)},children:W?"顯示全部":"只顯示收藏"})]})})]})]}):jsxRuntimeExports.jsxs("div",{className:"d-flex mb-3 align-items-center flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline-dark",className:"me-3",onClick:()=>R(ie=>ie==="asc"?"desc":"asc"),children:["排序： ",A==="asc"?"A→Z":"Z→A"]}),jsxRuntimeExports.jsxs(Dropdown$1,{onSelect:ie=>j(ie),children:[jsxRuntimeExports.jsxs(Dropdown$1.Toggle,{variant:"outline-dark",className:"btn",children:["開頭： ",I||"全部"]}),jsxRuntimeExports.jsxs(Dropdown$1.Menu,{children:[jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:"",children:"全部"}),ee.map(ie=>jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:ie,children:ie},ie))]})]}),jsxRuntimeExports.jsxs(Dropdown$1,{onSelect:ie=>Y(ie),className:"ms-3",children:[jsxRuntimeExports.jsxs(Dropdown$1.Toggle,{variant:"outline-dark",children:["詞頻： ",Z?`${Z}★`:"全部"]}),jsxRuntimeExports.jsxs(Dropdown$1.Menu,{children:[jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:"",children:"全部"}),[4,3,2,1].map(ie=>jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:ie,children:`${ie}★`},ie))]})]}),jsxRuntimeExports.jsx(Button,{className:"ms-3",variant:W?"danger":"outline-dark",onClick:()=>H(ie=>!ie),children:W?"顯示全部":"只顯示收藏"})]})})]}),jsxRuntimeExports.jsx("br",{}),o&&jsxRuntimeExports.jsx(Spinner,{animation:"border",variant:"primary"}),u&&jsxRuntimeExports.jsx(Alert$1,{variant:"danger",children:u}),Object.keys(n.all_results).length>0&&(()=>{const ie=Object.values(n.all_results).flat(),oe=me(ie);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("h4",{className:"fw-bold text-primary",children:["全部詞條 (",oe.length,")"]}),jsxRuntimeExports.jsx(ListGroup$1,{children:oe.map((de,xe)=>{var Ce,Oe;const Ee=((Oe=(Ce=de.defins)==null?void 0:Ce[0])==null?void 0:Oe.word_ch)||de.word_ch||"",Ae=`${Ee}-${xe}-${de.word_tayal||""}`;return jsxRuntimeExports.jsx(WordCard,{keyName:Ae,word:Ee,result:de,expandedWord:d,toggleExpand:ue,toggleFavorite:()=>fe(de.word_tayal),playAudio:ce,isFavorited:g.has(de.word_tayal)},Ae)})})]})})(),Object.keys(n.exact_match_results).length>0&&(()=>{const ie=Object.values(n.exact_match_results).flat(),oe=me(ie);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("h4",{className:"fw-bold text-success",children:["完全匹配結果 (",oe.length,")"]}),jsxRuntimeExports.jsx(ListGroup$1,{children:oe.map((de,xe)=>{var Ce,Oe;const Ee=((Oe=(Ce=de.defins)==null?void 0:Ce[0])==null?void 0:Oe.word_ch)||de.word_ch||"",Ae=`${Ee}-${xe}-${de.word_tayal||""}`;return jsxRuntimeExports.jsx(WordCard,{keyName:Ae,word:Ee,result:de,expandedWord:d,toggleExpand:ue,toggleFavorite:()=>fe(de.word_tayal),playAudio:ce,isFavorited:g.has(de.word_tayal)},Ae)})})]})})(),jsxRuntimeExports.jsx("br",{}),Object.keys(n.fuzzy_match_results).length>0&&(()=>{const ie=Object.values(n.fuzzy_match_results).flatMap(de=>Object.values(de).flat()),oe=me(ie);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("h4",{className:"fw-bold text-warning",children:["相關匹配結果 (",oe.length,")"]}),jsxRuntimeExports.jsx(ListGroup$1,{children:oe.map((de,xe)=>{var Ce,Oe;const Ee=((Oe=(Ce=de.defins)==null?void 0:Ce[0])==null?void 0:Oe.word_ch)||de.word_ch||"",Ae=`${Ee}-${xe}-${de.word_tayal||""}`;return jsxRuntimeExports.jsx(WordCard,{keyName:Ae,word:Ee,result:de,expandedWord:d,toggleExpand:ue,toggleFavorite:()=>fe(de.word_tayal),playAudio:ce,isFavorited:g.has(de.word_tayal)},Ae)})})]})})()]})},Game_areaTest=reactExports.forwardRef(({gameDataLoaded:t},e)=>{const[n,i]=reactExports.useState(null),[o,l]=reactExports.useState(!0),[u,f]=reactExports.useState(null),[d,p]=reactExports.useState([]),g=(E,A,R)=>{const I=R.target.value.toLowerCase();if(I.length>1)return;const j=d.map((q,L)=>L===E?q.map((z,U)=>U===A?I:z):q);p(j)};return reactExports.useEffect(()=>{(async()=>{try{const R=(await axios.get("http://127.0.0.1:8000/CrosswordPuzzle/generate/")).data;i(R),console.log("Crossword Data:",R);const I=R.grid_solution.map(j=>j.replace(/\s/g,"").split("").map(L=>L!=="-"?"":"-"));p(I),t&&t(R,I)}catch(A){f("Failed to fetch crossword: "+A.message),console.error("Error fetching crossword:",A)}finally{l(!1)}})()},[]),reactExports.useImperativeHandle(e,()=>({getUserAnswers:()=>d,getCurrentAnswers:()=>n==null?void 0:n.grid_solution,getCrosswordLegend:()=>n==null?void 0:n.legend,getCrosswordGridDisplay:()=>n==null?void 0:n.grid_display})),o?jsxRuntimeExports.jsx("div",{className:"area-loading",children:"載入填字遊戲中"}):u?jsxRuntimeExports.jsxs("div",{className:"area-loading",children:["錯誤: ",u]}):n?jsxRuntimeExports.jsxs("div",{className:"start2-background",children:[jsxRuntimeExports.jsx("div",{className:"area-grid",style:{gridTemplateColumns:`repeat(${n.grid_solution[0].replace(/\s/g,"").length}, 30px)`},children:n.grid_solution.map((E,A)=>E.replace(/\s/g,"").split("").map((I,j)=>{var z;const q=I==="-",L=n.legend.find(U=>U.direction==="across"&&U.start_row-1===A&&U.start_col-1===j||U.direction==="down"&&U.start_row-1===A&&U.start_col-1===j);return jsxRuntimeExports.jsxs("div",{className:"area-cell-container",style:{backgroundColor:q?"#ccc":"white",position:"relative"},children:[L&&jsxRuntimeExports.jsx("div",{className:"area-cell-number-label",children:L.number}),!q&&jsxRuntimeExports.jsx("input",{className:"area-inputgrid",type:"text",maxLength:"1",value:((z=d[A])==null?void 0:z[j])||"",onChange:U=>g(A,j,U),readOnly:q,style:{cursor:q?"default":"text",textTransform:"lowercase"}})]},`${A}-${j}`)}))}),jsxRuntimeExports.jsxs("div",{className:"area-topic",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{children:"橫向題目"}),jsxRuntimeExports.jsx("ul",{children:n.legend.filter(E=>E.direction==="across").map(E=>jsxRuntimeExports.jsxs("li",{children:[E.number,". ",E.clue]},E.number))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{children:"縱向題目"}),jsxRuntimeExports.jsx("ul",{children:n.legend.filter(E=>E.direction==="down").map(E=>jsxRuntimeExports.jsxs("li",{children:[E.number,". ",E.clue]},E.number))})]})]})]}):jsxRuntimeExports.jsx("div",{className:"area-loading",children:"沒有產生填字遊戲"})}),GameResultCard=({word:t,isCorrect:e})=>jsxRuntimeExports.jsx("div",{className:"game-result-card-container",children:jsxRuntimeExports.jsx("div",{className:`game-result-card ${e?"correct":"incorrect"}`,children:jsxRuntimeExports.jsxs("div",{className:"game-result-card-front",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h5",{children:t.clue})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"user-answer",children:["你的答案: ",t.user_word||"無答案"]}),jsxRuntimeExports.jsxs("p",{className:"correct-answer",children:["正確答案: ",t.correct_word]}),jsxRuntimeExports.jsx("div",{className:"result-likebtn",children:jsxRuntimeExports.jsx(LikeButton,{})})]})]})})}),LikeButton=()=>{const[t,e]=reactExports.useState(!1),n=()=>{e(!t)};return jsxRuntimeExports.jsx("button",{onClick:n,className:"result-likebtn",children:t?"❤️":"♡"})},Game_result=({results:t})=>{if(!t)return null;const{total_words:e,correct_words_count:n,word_details:i}=t,o=i.filter(u=>u.is_correct),l=i.filter(u=>!u.is_correct);return jsxRuntimeExports.jsxs("div",{className:"result-background",children:[jsxRuntimeExports.jsx("h2",{className:"result-title",children:"遊戲結果"}),jsxRuntimeExports.jsxs("div",{className:"stats-container",children:[jsxRuntimeExports.jsxs("div",{className:"result-total",children:[jsxRuntimeExports.jsx("p",{children:"總單字數"}),jsxRuntimeExports.jsx("p",{children:e})]}),jsxRuntimeExports.jsxs("div",{className:"result-correct",children:[jsxRuntimeExports.jsx("p",{children:"正確單字數"}),jsxRuntimeExports.jsx("p",{children:n})]}),jsxRuntimeExports.jsxs("div",{className:"result-incorrect",children:[jsxRuntimeExports.jsx("p",{children:"錯誤單字數"}),jsxRuntimeExports.jsx("p",{children:l.length})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"result-correctword",children:["✅ 正確的單字 (",o.length,")"]}),jsxRuntimeExports.jsx("div",{children:o.length>0?o.map((u,f)=>jsxRuntimeExports.jsx(GameResultCard,{word:u,isCorrect:!0},f)):jsxRuntimeExports.jsx("p",{children:"沒有正確的單字。"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"result-incorrectword",children:["❌ 錯誤的單字 (",l.length,")"]}),jsxRuntimeExports.jsx("div",{children:l.length>0?l.map((u,f)=>jsxRuntimeExports.jsx(GameResultCard,{word:u,isCorrect:!1},f)):jsxRuntimeExports.jsx("p",{children:"沒有錯誤的單字。"})})]})]})};function Game_Start(){const[t,e]=reactExports.useState(!1),[n,i]=reactExports.useState(!0),[o,l]=reactExports.useState(!1),[u,f]=reactExports.useState(null),[d,p]=reactExports.useState(null),[g,E]=reactExports.useState(null),A=reactExports.useRef(null),R=()=>{console.log("START"),e(!0),i(!1),l(!1)},I=async()=>{if(console.log("SUBMIT"),e(!1),A.current){const q=A.current.getUserAnswers(),L=A.current.getCurrentAnswers(),z=A.current.getCrosswordLegend(),U=A.current.getCrosswordGridDisplay();console.log(q),console.log(L);try{const W=await axios.post("http://127.0.0.1:8000/CrosswordPuzzle/submit/",{user_answers:q,crossword_solution:L,crossword_legend:z,crossword_grid_display:U});E(W.data),console.log("API 呼叫成功！：",W.data),l(!0)}catch(W){console.error("呼叫 API 時發生錯誤:",W)}}},j=(q,L)=>{f(q),p(L)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[n&&jsxRuntimeExports.jsxs("div",{className:"start1-background",children:[jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h5",{className:"game-title",children:"歡迎來到《Tninun TAYAL - 編織泰雅》的世界！"}),jsxRuntimeExports.jsx("h5",{className:"game-title",children:"在泰雅族的傳統中，編織不僅是技藝，更是文化與記憶的傳承"}),jsxRuntimeExports.jsx("h5",{className:"game-title",children:"每一條細線都蘊含著祖先的智慧"}),jsxRuntimeExports.jsx("h5",{className:"game-title",children:"每一格紋路都訴說著族群的故事"}),jsxRuntimeExports.jsx("h5",{className:"game-title",children:"現在，我們將這份精神融入遊戲裡學習族語"}),jsxRuntimeExports.jsx("h5",{className:"game-title",children:"就像編織一樣一步一腳印，將每個單字、詞彙仔細地填入格中"}),jsxRuntimeExports.jsx("h5",{className:"game-title",children:"這場遊戲，不只是挑戰，更是一趟溫暖的文化旅程！"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h5",{className:"game-title",children:"準備好拿起你的線梭，跟著我們一起，編織出屬於你的泰雅族語地圖！"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{className:"strat-button",onClick:R,children:"開始"})]}),jsxRuntimeExports.jsx("div",{children:t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Game_areaTest,{ref:A,gameDataLoaded:j}),jsxRuntimeExports.jsx("div",{className:"cubmit",children:jsxRuntimeExports.jsx("button",{className:"cubmit-button",onClick:I,children:"完成"})})]})}),g&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Game_result,{results:g})})]})}const v$1="4.8.0",meta={g:"LottieFiles AE ",a:"",k:"",d:"",tc:""},fr$1=29.9700012207031,ip$1=0,op$1=150.000006109625,w$1=1080,h$1=1080,nm$1="Login - 01",ddd$1=0,assets$1=JSON.parse('[{"id":"image_0","w":10,"h":35,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAjCAYAAACtkZtDAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAAA2UlEQVQ4jc3UYRWCMBSG4feagAg0kAhEIIIRjEAEIhDBCNpgNCACDT5/jOHgMPAo5+j9BdvDNu52ZwCSMqABcl7RA1czG6YWSU7r4WJUJlCIEuAEFGxHHqDbdvQBvhV/Dn3CJeVbSQzaRqzEaJiZHb7GH8FuCR8JOCzh11N/Du+J/tvsTVK2UmBurE5g3OvogwpfQ87M5qMdHtPUkgqgivpuZjavUElt4ty2Map3booafB7LneVVAWY78BxgvwO7ANttRzM9SbpIGlI/AvM8ZvjtK/GHxMW37ROY9/QKoYgEagAAAABJRU5ErkJggg==","e":1},{"id":"image_1","w":66,"h":66,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAADy0lEQVR4nO2cT1biWBSHv/usdgo7KHpQ1OlRsYPKDpqsQDytNWYJuAPGWn2gVhBdQcUdUKM62gNkBzpV4PYgiSgmQCDJg+A3AvLyuOeX+/7fG6EAvN6wynjcgKmDSA2ltvgO9TFyx4SB+60+KMJGyati7/tNE8QBbYJ83Kw2vUKMjxlfusd/3WVh3zyZCuH1fteYHLSBFlDJsu4ZeoXIpftPvZ9lrZkIEQrQAY6yqG81dIRIJytBNhLC6w2rTJ66FCrAPDoC2u7J58tNallbiLAP6JNbE0iLXnFw2HKP/7xf5+7UQgRe8NgH+XudP8yZB1Sa7uknP+2NJk1h7/y2weTJ31IRACqI/vQubjppb1zZI7zz2wYGn61pCkv54Z7UW6sWXkmIHRQhYmUxlgqxwyJErCTGQiFKIELEUjESO0uvN6xi6LP7IgAcef/ethYVSB41Jo994Eu29lhE6Xrnt42ky7FChJOlbR0i16USengsb4TwesNqOGMsI1+S5hhvPSJYO5ShX4hHpO31ftfmf34lRFjA4gKqECrhSvkVrz0ipkBJOZr3imch9sQbZsw9dPPiQrtoWyzTDAaGgJdNo1W8LVapMH1qRl8MRPOGEo8USUxnDz/0CHHsWGIZ4WvUPEIhtLmofKmZPDoAJpxJbnjusMsErcEEJ1B7jNIAMDB1LJtiF+ErgEGkZtcS+3i9YdUsP5DdA8bjRqrt/DLzLkSIQaguL1Z+3j0ixKCsdWhaNt49IuRdCADVewPq27bDNu63+sBg5M62IXbREYBhQiHhe1vMAMAUFce4tYjxYbYxc2XRFLtMgj4yECJUZf/QUdQiAiHMeKPQvN1F/OiTAQjCeveweUzpRh9nEyqRffOKXy8HimchglDeYEzdC2TmDTA/xRbpFGmLPXQ0H8P9Soi98YqYBx636Cr3YbByHRfR/0aIIMq9xCOIxj/o+GX4wWELeMjRHDuoniUtKRIDTr2L/xxEf+ZnVcEo1+5p3Um6nLgx455+8lE9y8WowtERH/5YeNC9PBb7+22f3Q4pemCKs2yVvVp0/u6KsZIIkCZfY/fEWFkESLF5G0a3/1jXqmLRURoRIOUutntSbyEcs81Dq3LNwWEj7c7bWll+YR5Hn22L3lc9c08/d9a5dbO8z4ubDiJtbEfkKdco7U32XzfOBLaTBRyRXTZwZrnhLwQpImbzF0I3y/zwzN8W4PWGVaZPzXBxk2EfoiMQnyndPI4gcnttAjxnDTsgDkojCtxaDR0BA8T4TNTP+/wlVyHimL1UIwHVexuHTv8DSl1Q0K4ZaJUAAAAASUVORK5CYII=","e":1},{"id":"image_2","w":69,"h":116,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAAB0CAYAAADTq/8hAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAACbUlEQVR4nO3dMU4UYRjG8eeb2Ygdm2hlwxSQ0DGJIW4nN4AbOOEEc4T1BF5AcewsOcLaoTbQmYgJNsbKaCdxmdeCXZyQR0IjCPP/NzvvzDebyS+zyXZfLlJRVsP7Sw9f33uw9uHbl/2v2XU/0P/QYCFvpNiMLJtIEiiSFDGcHS1KoNhAMYFiAsUEigkUEygmUEygmEAxgWICxQSKCRQTKCZQTKCYQDGBYgLFBIoJFBMoJlBMoJhAMYFiAsUEigkUEygmUEygmEAxgWICxQSKCRQTKCZQTKCYQDGBYgLFBIoJFBMoJlBMoJhAMYFiAsUEigkUEygmUEygmEAxgWICxQSKCRQTKCZQTKCYQDGBYgLFBIoJFBMoJlBMoJhAMYFiAsUEigkUEygmUEygmEAxgWICxQSKCRQTKCZQTKCYQDGBYgLFBIoJFBMoJlAkKWnYHUE5ba079B6lKKvuW/JDAkX5nXzjbAjtS6Aoy9qtP4Mmpx89riirYUQ6Q0kn7a7Uc5TB3azWbEc5SZ8/vm/6/fMpymqoUD2fU9J4ftxblNMNGTtvyd5OM7/WS5TlR9u1FJvzOSLV3eu9Q1kZbVeSns3nlOLVp3cvdrtreoWyPNoeR+hl59TBr59Rn1+XrvCZrq3VUVVM26xR0uPO6YPpcbtxtN98P7/+VqOsrFel8lRHpCfnLv0VRJqhrI6qYqpB8a8f8ipKaos2okxKW5KWzIKnh3s74wu/Y2W9Kmf7BC9etPDGF3qToq3nf9AuahBZPpbitoL8SCl2Q3lz+Pb55LI3DabHJ9VgIW86Gynf6FIWR6F0JGWTw73LQ3T7DfD8eYjyPE78AAAAAElFTkSuQmCC","e":1},{"id":"image_3","w":41,"h":66,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAABCCAYAAADKU/9vAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAAC/klEQVRoge2ZP2/TQBiHf+850JF0YQLFUlspG2Yp3ppvQNgYrfQLZGXCjGz9ACU1G1vbjTHdUorA2RAJyJU6V/FGqHMvQ5ySf07i9BK7kp/JPr/ne+Q7+947E5ZEN6y89lArkWADEqWpQUQdELuAqLcbh/Vl26K4FbZ298tEsAB+GbOqT8QnDM2JK7yw5I5ZsZhhAyjElJuEcQYh7EVl50oWTUsPpHBA2Luz3GTzp0G3Z3mu05kZNetiv2vZAfBIpdoYlyRluXXhuFEBIurCjlmxiPgYqxUEgAILUd/a3S9HBUx9kuH4O1qd13SY6dWvLx9OxssnJMMuPl6P1gQ+SVka7/oRyaJp6QELF6vv4llcBl1pDL9MI2MykMJBsoIAUNA2yB4uuH2SSY3DKEjK54Nuv32S4Yc6NTCJg8GxAPovC1TMJCoh7BVNSwdCyf5cnD5umKoAIHTDyi+RLKwFApUBQGgPtVLCLrMoFE1LFyTYSNpkFj2IkohMWFMCA3pkgpEamIx7IMl5AYKetMc8BBhe0hLzSH13k2BPgGjm+iJpGOSJ/ro4vbAkVwCinrTILB6InksAsP2i0kHyye40mu3zmhFmQTyx+EkJDhC+3QzNSdIkiqArHSCUbDcO62CcJWo0BhF/HCzG/n8nhbCTEpqCr4HtwYk2OLi++uZtPjE2CWQmojXKm5/nR58HJyMzTq/LNoDmuo1GYJy1z2sHw0Ujkp7rdEhKC4C/Tq8hmsFfObEnNDF3ty4cl6QsYf2iPkk5dRtwaoKRgGgzR9KI2v6LzIJaF46bI2lg5WOUToOuLP1oOF5kxCK32TYrNhhVqJ06fSJUW42aMy9QmxcAANdX3+uPnz77xIRNgO66uvRBeB905evfX48ai1SI/fdBN6x8bkNYAKqItzXTJMLBzR95Mm+PfJzYkgPCIfA2Rkvv2o2avUxbqV8+AJmkOjJJVWSSqsgkVZFJqiKTVEUmqYpMUhWZpCoySVVkkqq4F5K5ZSsS4HGMfXai5f9h/gOdNQT+j+kyFgAAAABJRU5ErkJggg==","e":1},{"id":"image_4","w":174,"h":224,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAADgCAYAAACaXl3yAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAAO30lEQVR4nO3dT2wU1x0H8O8br23WYBsUDkVuiC8x8Yk/kYLUSGUj1YcIKCaVgq2qyialUiul1FycQ5pmI9QDXOqSKKkUkixNI/5IARxq5UCkLpESiUgJ5kQgF0iCyAEUGxuv/+2+HmZ2M7t4bc/s25n5eb8fCbE7u/PmYb5+8+a9N7sKdUhrvRbAFgAJZ1Oi4pujZxTAmPP3qFLqRrjVCYcKuwJBcILaCzugCQCPhFkfw8YBZJw/5+olyCs2uK6w9gLYE3J1gnQFQBorPMQrLrha604AAwCSANorve+Ly9dw9fp3+P72HVy9/i0A4Pvbd3Hr9p0gqulJW2sLuh99GADQsWE9fr5hPbY/vgndj25E65r4YrsOAxhSSmUCqGagVkxwncCmADy30Otff/MdPhz5DJe+ulYM6krQsWE9tm/bhJ4dW/GrX26t9LaLAFIrKcDig+t0CVIA/lL+2q0f7iJ98gIuXLwcyZbUtLbWFvzql1vxm11P4omtmxZ6y0UAyZXQhRAdXK11L+z+XEmX4IvL13D07WFc+upaKPWKgo4N63Fg/x48s/MXC738GuwuxFjA1TJGZHCdVjaNsosuBvZBiwT4JoBepdRoCNWqmrjgaq0TAM7B1cre+uEujr49jDMjn4VWr6jr7tqIvx7sW6gLcVApNRRGnaohKrha6wEA/3BvO37qExw9Nox7E1Mh1UqWZF8PDuzfUz4acRzAgKSug5jgaq3TcI0YTExm8dKhd3Dh4uXwKiVUx4b1+NeRF/GYM8TmuAIgISW8kQ+u058dgiu0X3/zHf44+EZdjBTU0uFXfl/e9xXT7410cJ3QZgBsLmw7M/I5/j50gl0DQ57Z+SQOv/KCe9M47JY30uGNenAzAHYUnp8Z+RwvHXonvAqtUBLDG9nglvdpGdra2r5tE9468mf3RVuk+7xW2BVYiNa6pE/L0Nbepa+ulf+MNwPION21yIlccLXWSbimbxna4Fy4eBkvHXrXvWkz7AvjyIlUV0FrvQX2xVg7YM+E/fZPR0KtUz1K9vXg5YE+96bnlVLpkKqzoMi0uK5p3HbAHvL60+AbodapXqVPXsCZkc/dm95zGpXIiExwYa/w2gzYkwuDh97lkFeI/j50Al9/8517UzqkqiwoEsF11h8U+7VHjw2vqDWzEt2bmMJgWX9Xa50KqToPiERw4boA+OLyNaRPXgizLuS4ev1bvH7sI/emV50F+6EL/eLM+S1+FbC7CLt/lwpsKrdwS8z2bY+hu+thtLW2BHJcvy59eQ3f376DS19dC3S6+/z7Kfe6hotKqURgB68g1OA6F2Q34FyQvX7sIxw9Nlzz4z6z88mlbnWJvMKtSGdGPqv5tUB310Z89O9X3ZueCvs2oLCDm4LT2t764S4SvYM1O1ZbawuS+3qQ7OtZ6gZDcc6MfI6jx4Zr2gqXLcgJvdUNLbjlre1Lh96t2ULwnh1b8fLBfnT87KGFXr6Cnz6XYAzAjajdk+VcvAI/fS7EjvL3TExmkT55oWZnrI4N65E5e9i9aa9S6lxNDrYMYQY3hRq3tm2tLXh5oL/SbStpAOmohXQ5XJ8ZMQDXyjmgtks+D+zfgz/v/3XhaaitbpijCgOFB0ffNt9KdGxYjw/eHCwP7TjsW1U6lVIpiaEFAKXUmFIqrZTaAuAp2GcNAMBjjz6M8++nsH3bgnf5VuXD0jPiDteZIHChBNdZj9AO2K2t6S5Cd9fG8ithwP5wjE6J91ctRimVcQL8WmFb65o4/vPmIJ7Z+aTRY926fad8Ri1p9AAehNXiFltb02O23V0b8cGbg+UXYM8rpXqjukTPBKVUCsBW2GcVAMDhV14wHt70qZL/r+fCWj0WeHCdAWzXHQ3mWtu21ha8deRFd2jHYQ/dpI0dJMKchd+dcHUdDr/yArq7Nho7xtXr35ZPBSeNFe5BGC1usvDgk08vGx2DfOvIi+6Rg8Iq/oyxAwjgnFUScIX3gzcH0bFhvbFjvFd6lkwaK9iDMILbW3hgsrU9sH9P+WcGDET51pNacsLbC6fb0LomjiN/e2HxnTz45NOSO6s3hzENHGhwy7sJpm4t7+7a6B6mAYDX6qV7UIkzYlJsJJ7YugnJvh4jZd+bmCoPb8JIwR4E3eIWf5Bl//Cq/PVgyaLnK86FSt1zukn/LDw/sH+PsfUYZR9z1VvpfbUSdHAThQemPt9r+7ZN5V2EpJGCV44U7AkXtK6JI7nPTKtbdrZMGCnUg9CCa6qbcOAPJZ97d7xe+7WVOP3dVOF5sq/HSKt76/Yd3PrhbuFpe9B3SAQWXKd/2w7Y8+ompiS7uzaWt7apqgtdgZz+frHVNTW2e+nLkrNmwkihyxRki1v8jbz6jZm7G8pOe8elTuEGJFV4YOoirez/sdNIocsUSnDLflN969lRsp42baTQFcppdccBoONnDxmZlCi7vWpldhVguMXt7ir54o6b9TbR4FNxGWKPgUX0V0tn0B5YallLQQa3OKdtYras7AefqbrA+lAM7vbHq189dm9iChOT2arL8SOcroKBobCyH3xoC5qFyRQeVPhyE8/cZ88glzkGGdyK3znmR/ejJX00DoEtgzM0drPw3OTim6AFvlbBNfZXFfeyRY4meFL8JW8zcO/d1esl/dzAljgGElz3KcTU+K3LxaoLrC/F4G7f9ljVhZVdrwQ2shCVDwTxxERLQbKJDC4Rg0siMbgkEoNLIjG4JBKDSyIxuCQSg0siMbgkEoNLIjG4JBKDSyIxuCQSg0siMbgkEoNLIjG4JBKDSyIxuCQSg0siMbgkEoNLIjG4JBKDSyIxuCQSg0siMbgkEoNLIjG4JBKDSyIxuCQSg0siMbgkkvK7449nz65tmo0lLGALYCV+ekUH+n1XJIDGTTjf06E1RpWFUeSsTLz/6Rt+i/Qc3OzpkaSG7lUae5Z+N1FlGrgCjfRM81x63d69Y172XXZws6dHksjrFBQe8V5FokWNA3pouml+aLkBXjK42RMfd8LKp9kFoJrTuAmtk/H+3Zml3rroxdn9U+d7YeVGGVoKhMIjsNT/pk6ODC391gqyp0eS0Po9szUjWrbj8X27kpVeXDC4DC1FRMXwPhDc+6fO91pQZ2teJaLlWTC8JcG1L8RyozD8hdFEVVHq+fizO9PuTaUXZ1Y+DYaWokbroR/Pni35guticLOnR5IcPaCIal8121gy0vBTi5vXqaBrQ+TBc9kTH3cWnliA09pyRoyizsqlig8BQEP3hlYZouUr5tT68ezZtVwwQ0K03z91vhcArKbZWCLkyhAtm9JWAgAsez0tkQxK2Xm1SheBE0WdPWTLW3dIpFhoR1a+7xqiyNCADv6ok6dHtgQT3AYLqqkJaG6CisUAi6FdUebmoefmoGfmgLm5mh+uIZdfW9PgqlXNUPFVQGN4DTsFoDEG1RiDaokDuRz09Az01DSga9cc1yZRjY2w2lYDDQ01KZ4irKEBanULVDwOfX8KOjtdk8OYDa5SUKvj9m8e1TdLQbWuhlrVjPy9CSCXN1u8sZKUgrW2jaGlUo0xWOvWAo2NRos1E9xYA6yH1rEvSwuzFKx1bVCrms0VWXUJSsFqb+VIAS1Jta0x1vJWHVxrbRsvwmjZrPZWoKH69rKqEtSaFnYPyBtLwWprrb4Y33vGGnghRv40xqBWV5cd38FVa1ZXdWCqbyoer2ra319wGxuhmswOb1CdsRRUyyr/u/vZyeSwBtUvFfffXfAeXKWg4gwuGWApqOYmf7t63YFdBDKqKaDgcviLTFJN/vLkPbgxBpcM8jl55b2rwOCSaT6Gxby3uFyTQBHAmyVJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRGJwSSQGl0RicEkkBpdEYnBJJAaXRPIe3LyuQTWIvPEcXD0/X4t6UD3T3htD7y3u3JznXYgqmvPXEHoP7nzO14GIFqJ9NoTeuwozs+znkjF6esbXfr5GFfTMrK+DEZXI5Xyfwf0Fd2rK18GI3PT9rO99/Y3j5vLQWX9NPBEAIJfz3U0AqpiA0FNT7OuSb3qyurO2/5mzXB76PrsM5J2ema36OqmqKV+dnWaXgbyZm4e+N1l1MVWvVdCT930PIlOdyWvkJyZ9zZSVit2ofpGN1siP3WN4aXF5jfzYuJEJrHj/0zcsrfRY1SU54WW3gRY0N4/8j2NGZ10tpfWokZK0hp6YhJ64z9EGKtJTWfuMnMsbKlFdBIBYHhg1uShXZ6ehZ2ehWlqg4s0GSyZJ9OycPcFgeFGW1hgFgNhs03xm1Wyj0cKRy9ut79SUHeDmJsBSZo9BkaRnZqGnpmu2ilCrfAYAFABMnf7vOaWxpyZHcqjmJiDWADQ2QsViDPIKoWfngPl5YD5nj81WPWKwqPH4vl1rASAGAFrrtIKqaXD1zCwwAwBZsAdMfmit0oXHFgCs3rf7HDRuhlYjomVQ2hoqPC5el+WVHginOkTLcjze//SNwpNicFfv232uMNRAFDHj001zJQ1r6UhY3koCGA+wQkRLykMn1+3dWzJRVhLceP/TN5DXvcFWi6gyrdU/7d5AqQfmHuL9uzNQ6vlgqkW0qOMtfTsXvPaqOJiaPT2ShNbv1a5ORIs6Ht+3K1npxYqzvfFnd6aR10+BfV4KmNY4uFhogSXW48b7d2emm+Y6tcKw0ZoRLUTjJvL6qZa+XUNLvXXZ867ZE+cTsKwUoHdUVTmiB41rjdRyAlvgecGAHWCVBNALoN3r/kQFWmFYQZ2LP7sz7XXfqla62CFGAlCd9h+iyrTSY0rr0TwwOts0nykfm/Xi/942eb7LlmoAAAAAAElFTkSuQmCC","e":1},{"id":"image_5","w":1,"h":1,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAAADElEQVQImWNgoBwAAABEAAGC/mVLAAAAAElFTkSuQmCC","e":1},{"id":"image_6","w":384,"h":4,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAAECAYAAACHkejFAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAAAeElEQVRYhe3OsQ2CQBiG4e+XS2wZ4QoLSypD5yrECRjI4kZgBEoSG0oSKVyB3tzvFneJeZ8JHovd0IZzk+TeCgDw98zz+H6l1S63xyzTvXYIAFDMESx3J/M8SjpqbwAAZZj5tC3pY5J07Yf4VYiVTwCAAvblOUvSD9NaGhYF4PQOAAAAAElFTkSuQmCC","e":1},{"id":"image_7","w":690,"h":445,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArIAAAG9CAYAAADpx5XIAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAAdUElEQVR4nO3dfWyV55ng4fvYBgKYQIEEEwhxSkwz0g5f09lYrJSk3U20qqWZNsso1XZJ3ZTZLhnt1khJu6tVWidII7VBCl1py3SWpk78xyaaiKTSuFqlu6WJRozTKgQYrZpyQkIIxDjBNI6NzZfP2T8Arz8JJMd+z2NflxTJ5z023FIL/vH6ed4nF3xitWsbF8y4ruLLEcW7i4VcbdbzAABpyFUUj0Tkfn3+TOHFI/tbPsx6nlTlsh4gRbfXN9YORK65WMx9PetZAIC05XLFpyuj2PxGe8uRrGdJTWXWA6Smrv7BxkIx92JE7o6sZwEApoLc2kLkvrFw+bozp46/3p71NClxR/Ya1NV/o2XkXdjqubOj4d76WL+mLubNnZPVaABAInpO98W+A/l4ee+BONF5ath7uVzx6Xz7zxqzmSw9QvYq3Vb/YHMU4/uXX1fPnR2bNzXEV+/7QpZjAQAJa3upPZ7c+Xz0nu4fvFaM4o8Ov/qzpgzHSoaQvQq31W++O4qFPZdf1312WfzwsW/F0iWLshwLAJgCOjq74jvf/0nk3zo+eK1YzH3l8G9++mKGYyWhIusBklAstFz+sGbJwvjx9q0iFgAoiaVLFsWPt2+Nus8uG7yWyxVbatc2LshwrCQI2Y9RV/9gY0Tccvn1D5u/FfOqZ2c3EAAw5cyrnh2PPvLA0Evzq2ZVNGY0TjKE7McoFmNwjUrDPfWxauXyLMcBAKaoVSuXx+ZNXxp6yTrZjyFkr+D2+sbaiFhz+fXmB740/icDAHxKDffWD315y6UWYRxC9gouRFXt5Y9rliy0LhYAmFBLlywatlZ2ICruzmqWFFRlPUB5K9x9+SNLCoBrcejwscgfPhYREXUrl/s7BLhqq1bePPgEg2JEbbbTlDche5V8EwKuxr4D+Xh8+zOjHnJes2RhbN2yMe7asGacrwS4aGnNwqxHSIalBQAl0vZSezz0yI5RERsRcaLzVHy3+W+j7SWnTwKUipAFKIGOzq54cufzw66tW10X61bXDbu2bXtrdHR2TeZoAFOWpQUAJdD2UvvgEZPVc2fHj7c3DS5JOnT4WDz08I7B95/dvSe2btmY2awAU4U7sgAl8NqB/ODHmzc1DFtXv2rl8mHheujSJjAAPh0hC1BiY53+V+1EQICSE7IAJXDTkOdMP7v7V6Pef3b3nsGPHXMNUBrWyAKUQMO99dH2y4tPJMi/dTw2/Ye/jq/e98WIiPj7l9rj9YP5YZ8LwKcnZAFKYP2aumi4Z3jMbtveOurz7tyw2rNkAUrE0gKAEnn0kU3RcM/4d1vv3LA6Hn34gUmcCGBqc0cWoIQefWRTNNxbHy/vPTD4dIJVK5fHXRvWxPo1dR/z1QBcCyELUGLr19SJVoBJYGkBAABJErIAACRJyAIAkCQhCwBAkoQsAABJErIAACTJ47fK3KHDx+KVvQfitQP5yB8+Fr2n+7MeCQCmrOq5s6Nu5fJYtXJ5NNxbH6tWLs96JK5AyJapfQfy8T9a24adzw4ATKze0/3x+sF8vH4wH8+9sCdqliyMrVs2Olq6TAnZMtPT2x/btj8Tr+w9mPUoADDtneg8Fd9t/tvBI6bnVc/OeiSGELJlpKOzK77z/Z9E/q3jw67f17AhvnjH52P5oqXR+4cLcf5sIaMJAWDqmr9oVsxZUBmHO47G//mH1+KXL78ePb0Xl/S9svdgbNry1/HD5m9ZblBGhGyZ6Ontjy0P74gTnacGr/2rO9fFX/3bfxMfvH0+ut89G/l3uzOcEACmtpMnLkbrjJnz4hsNX47v/tX98YP//lzsbtsbERfvzj708I5o/Zv/EkuXLMpyVC7x1IIy8Z3mnwyL2B/812/G1+76crz5Wm90nzqb4WQAML2cP1eIN14/Ff/Y1hlND9wfP3j0wcElBb2n++M73/9JxhNymZAtA8/u3jNsU9cP/vO/j+q+pYP/MgQAJt/5c4V49X93xOdX/XH84NFvDl7Pv3U8drW2ZTgZlwnZjPX09g/7w/DtzV+J6rM3Rl/vhQynAgAu2/dKZ3zuppXxHzf/2eC1Z3fvGVw/S3aEbMbaXmoffDbssppF8ae160UsAJSZfa90xte/8q9jWc3FtbG9p/vjuRd+lfFUCNmMtb30j4Mff/vrfxEd75zOcBoAYDz/1P5B/Ke//PPB13//UnuG0xAhZDPV09s/7FFbN8yuyXAaAJhc8xfNisVLZ8f8RbNK+rlzqmfE4qWzY/HS0j7z9eSJ/viX9Z8f3Ph1ovNUdHR2lfT34Np4/FaG8oePDX78Lz7/z+Lk8TMZTgMAk2f9nUtiRd31g6/feP1UvLFv7Ci8ff2iuH3dwsHXR/Mfxb5XOsf83BV118f6O5cMvu4+dTb+oe1YnD9XmmewH81/FH9UtyJ+8/rvIyKi48Qpj+LKkDuyZaJuxYqsRwCASbGi7vphERsRcfu6hTGnesaoz52/aNawiB3v6y/74/obhn/9wlnjfu4n0d11Nu74k88Nvj405KYUk0/IZmjfwUODH9+08MYMJwGAyTNn3uhgvXh99A+KZ8wcO1XG+jUWL5095ucvra2+xgnH19d7ftjr3tN9Jfu1uXZCtkxU5CqzHgEAJkVfz/kxr4/14//xlgSM9Wt0d419gNB41z8JTxYqL0IWAJhUR/MfjTq18mj+ozGDs7vrbBzNfzT82qnR1yIuRu8/tX8w7Fpf74Vx196SPpu9AIBJt+eFo7Gi7vqYM29GdHedjY53esf93H2vdEbHO6dj/qJZ0ddzfsyIvezw//0wTp7oj6W3VMf5swNxNP9RyTZ6UX6ELACQiSsF6Ugd7/ReMXaH6u46W9LlBJQvSwsAAEiSkAUAIElCFgCAJAlZAACSZLMXTBNzqqvGPDUHgGtztCPrCbhMyJaJ7uIH8fXNG7IeAwD4GPt2vZb1CFxiaQEAAEkSsgAAJEnIAgCQJCELAECShCwAAEkSsgAAJEnIAgCQJCELAECShCwAAEkSsgAAJEnIAgCQJCELAECShCwAAEkSsgAAJEnIAgCQJCELAECShCwAAEkSsgAAJEnIAgCQJCELAECShCwAAEkSsgAAJEnIAgCQJCELAECShCwAAEkSsgAAJEnIAgCQJCELAECShCwAAEkSsgAAJEnIAgCQJCELAECShCwAAEmqynoA0nGhEDFQyHoKAKaSyoqIKrfV+ISELFft9JmIvnNZTwHAVDJnZsT8OVlPQar8GwgAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIUlXWA5CO+XMu/gcAUA7ckQUAIElCFgCAJAlZAACSJGQBAEiSkAUAIElCFgCAJAlZAACSJGQBAEiSkAUAIElCFgCAJAlZAACSJGQBAEiSkAUAIElCFgCAJAlZAACSJGQBAEiSkAUAIElCFgCAJAlZAACSJGQBAEiSkAUAIElCFgCAJAlZAACSJGQBAEiSkAUAIElCFgCAJAlZAACSJGQBAEiSkM3Q0iWLsh4BACBZQjZDQ0P21dd+n+EkAMDVOt5xcvDjupXLM5wEIZuh6urZgx8P/UMBAJSvoTef/HQ1W0I2Q6tWLo/quRdj9viJrvjdoaMZTwQAXMnvDh2N4ye6IiKieu7sWOWObKaEbMbu2rBm8OOW536Z4SQAwMcZ+r166PdwsiFkM3b/fV8Y/Hh32954dZ+1sgBQjn536Gjsbts7+Lrh3voMpyFCyGZu1crlsW513eDr7z7+0/iopy/DiQCAkT7q6YvvbHtq8PW61XWxfk3dFb6CySBky8D3Htk0bK3s1x76oZgFgDLxUU9ffO2hH8Yb+XcHr23dsjHDibhMyJaBpUsWDfsD8Ub+3fjaQz+0+QsAMva7Q0dHReyjD2+yyatMVGU9ABddXmezbXtrRFyM2T974LG4r2FDNN5/T/zRqhVZjgcA08rxjpPx33b9fNia2IiLEWttbPkQsmXk8h+MJ3c+H72n+yPi4gaw3W17Y1nNorjjTz4Xy5YuznJEAJjSjnecjFdf+/3gI7aGErHlR8iWmYZ762P9mrp4/InWeP1gfvD68RNdo/5VCABMvHWr62Lrlo2WE5QhIVuGli5ZFDu3N8W+A/loe6k9Xt57YPAOLQAwORruqR+8wUR5ErJlbP2ai4/2eDQ2xaHDx6Kjsyvyh49lPRYATFl1K5fHvLlzxGsihGwiVq1cHqtWLneKCADAJR6/BQBAkoQsAABJErIAACTJGllgytjV2ha7Wn+R9RhlbfOmL8XmTQ1ZjwFQEu7IAgCQJCELAECSLC0ApqR1q+ti5/amrMcoC5ZcAFOVO7IAACTJHVlgSuro7IpdrW1Zj1EWXjuQz3oEgAkhZIEp6UTnKT9OB5jiLC0AACBJ7sgCU8b61ati86aspyhv61evynoEgJIRssCUsX5NXaxfU5f1GABMEksLAABIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpAFACBJQhYAgCQJWQAAkiRkAQBIkpO9rtKhw8diV2tb1mNMeQMDhbgwMJD1GElYWXtTVM+dk/UYU9aMGZVZjwBlq7KiIioq3AubKB2dXYMf56JYe3t9Y+0b7S1HspuofOWyHqCc3Vb/YHMU4/tZzwEATHO5eOzN9qeasx6j3AjZcdSubVxQNavif0XEHVnPAgAQEe9ErqLxzfZdv856kHIhZMdw2x0PNkVEc0TMH3q97rPLorraj3JL5cKFgTh77lwUCsVh12fNnBEzZ87IaCoArqSv/2wMjFgCNqOqKmbNmhG5nKwotfzhY9F7un/YtWIUfzRwtth8ZH/LhxmNVTb8P26I2+o33x3Fwo6IWDP0es2ShbF1y8a4a8Oacb6Sa3Hu3Pl4++iJ6OntG3a9srIybqpZFEtu+ExGkwHwcQYGCvHeiZPR+cEfhl2vrKyMm5fdEIsXzh/nK/kkenr7Y1drWzz3wp6Rb3UXi7nGw7/56YtZzFUuhGxE3F7fWDsQueZiMff1oder586Or973hdi8qSGr0aaU8f7yi4hYcsNn4qaaxVFZafMAQAp6evvi3ePvR1//2WHX51XPiVtX1PjJWontO5CPx7c/Eyc6Tw1/oxgvV1UUGqfrZrBpH7KXNnQ1xYhlBHduWB1bt2yMpUsWZTTZ1HLyVHe8e/yDUT+Omlc9J25edmPMmT0ro8kA+DTeO9EVnR/8Ydjf75WVlZduUPgeWmq7WttiV+svRl7ujojmN199akcGI2Vq2obspWUELRFxy9DrdZ9dFlu3/EWsX1OXzWBTTE9PX7zX2TVqGcHMmTNixbIbY8H86owmA6BUxlsyNue6WXHzshtj3jz7S0qpo7MrHn+iNV4/mB/51oFcodCY/23L/izmysK0C9nb6xtrLxQqWiIXdw29Xj13dmze1BBfve8LWY02pQwMFOLd4+/HyVPdo967qWZxLLnhM5YRAEwxXac+iqPH3x/10zfLxybGs7v3xK7Wtmm9GWzahGzt2sYFVddVNI31XNiGe+qjacvGmFc9O4vRppzOD/4Q753oGvUX2YL51bFi2Y3WTQFMYePdyJg5c0bcvOzG+IyfxJVUT29/bNv+TLyy9+DIt6bFo7qmRcjW1T/YWCxGc4xYRrBudV1s3bIxVq1cns1gU0xPT1+8/e6JOHfu/LDrM2fOiFtX1MQ8jy4DmDZ6evvi7aOjvycsuL46Vix3U6PUxt0MFrmfXzg70DhV785O6ZCt+9PGtcVcxY6xlhFs3bIxGu6tz2q0KeXcufNx9Nj78eFHvcOuW+wPML0NDBQu/ZTu5LDrHrc4Ma70qK6YopvBpmTI1q5tXDDjutyOkY/TiojYvOlLcf9XvmgZQQlc/gtq5G7ViIjFC+fHzctutB4KgOjrPxvvHn9/1GYwT66ZGIcOH4ttTzwT+beOD39jCj6qa8qF7Hincq1bXRffe2STx2mVyB+6e+Pd4++P+pHRnNmXdqhaRgDACOPtobAJeGKMtxkscvHYm+1PNWcyVIlNmZC90qlc33v4AY/TKpErncq1YtmNsWjh9RlNBkAKzp07H0ePvx8fdg9fjjZz5oy49eYaj+oqsSs8qmtKbAZLPmRvr2+svVCs3BFR/POh153KVVpO5QKglD7s7o2jY/xkb8H11XHrLUt9Tymxl/ceiG1PtI66O5vLFZ8+f6bYlOpmsKRDdrxTuRruqY/ND3zJMoIScSoXABNhvJsklZWVcfOyG2LxwvnjfCWfxJU2gxWLucbDv/npi1nM9WkkGbIr//k3v5zLFXeEU7kmlFO5AJgMff1n48jRjujrPzvs+rzqOXHrihqP6iqxfQfy8eTOv5sSm8GSClmnck0Op3IBkIX3TnSN+SScm2oWe5TjBNjV2ha7Wn8x8nJ35GJHKpvBkgjZK53Kdf9XLq6D9Tit0nAqFwBZGm9T8ZzrLj0Vx2awkrrCZrADuUKhMf/blv1ZzHW1yj5kL53KtSPGeJyWU7lKx6lcAJSTD7t74+2jJ0bdWLHBeGK0vdQeT+58ftRmsGIUfzRwtthcrpvByjZkxzuVq2bJwvjLTQ1O5SqRK53K5dQVALI03lK3ysrKqF1RE5+xV6Okenr7Y9v2Z+KVvQdHvvVOsZhrKsfNYGUXsk7lmhzjHRsY4VQuAMpLT29fvH109E8NF1xfHSuWW/ZWavsO5OPx7c/Eic5TI97J/fzC2YHGcro7W1Yh61SuyTHeqVzzqufETTWLLCMAoCy9d6Jr1A0YP0GcGD29/fHcC78aezNYRPObrz61I4OxRimLkHUq1+QY76xrp3IBkIrxvpfNuW5W1N6y1LPNS+zQ4WOx7YlnxnxUV65YaMp6M1imIetUrsnhVC4ApprxnrLj+9rEeHb3ntjV2jZqM1jk4rELZwo7slpukFnIOpVrclzpVC4PmQYgZQMDhXj7aEd82D18w/LMmTPi1ptrPKqrxDo6u+LJnc+PuRkschWNb7bv+vVkzzTpIetUrsnR09MX7x5/P/rODD8lxalcAEw1V9oMdustS92dLbGX9x6IJ3c+P2ozWC5XfPr8mWLTZN6dnbSQdSrX5LjSqVyVlZWxeOH1UVlZmcFkMLEGBgZGHW8JTB/j/R1gM9jE6Ontj12tbfHcC3tGvtWdy0VTvv2plsmYY8JDtnZt44LKWbnmXOS+PfI9p3KV1nhH+wHAdGdJ3cTYdyAfT+78uzE3g1VVFBrfaG85MpG//4SGrFO5Jsd4p3IBAMPdVLM4bqqxD6fUdrW2xbO794zcDNYdudjxZvtTzRP1+05IyN5Wv/nuKBSaxzqVa+uWjXHXhjXjfSnXqFAoxOnTZ7IeAyB5FZUVMaPK0qvpoKqqKioqyuIJpFNKR2dXPP5Ea7x+MD/yrQORq2iaiM1gJf1f0alcAADTW9tL7fHkzudHPaqrGMUfDZwtNpdyM1jJQna8U7nu3LA6tm7Z6HFaAADTRE9vf+zY+Xy0/bJ95FvvFIu5psO/+emLpfh9PnXIXjqVqyVGPE7LqVwAANPbvgP5eHz7M6Me1RWR+3lVbqDp024G+8Qh61QuAAA+Tk9vfzz3wq9iV+svRr7VHRHNb7761I5P+mtfc8jWrm1cUHVdRdN4p3I1bdloHSwAAMMcOnwsntz5/JibwXKFQmP+ty37r/XXvKaQdSoXAACfxrO798Su1rZRm8EiF49dOFPYcS2bwa4qZK90KtfWLRuj4d76q/39AACY5np6+2Pb9mfilb0HR771TuQqGq/2UV1XDFmncgEAMFFe3nsgntz5/JibwS6cHWj8uLuz44asU7kAAJhoPb39sau1LZ57Yc/It7pzuWjKtz/VMt7XjgpZp3IBADDZDh0+FtueeCbybx0f/kYxXq6qKDSO9aiuYSFbV/+NlrFO5aqeOzsa7q23jACYNnp6++PQ4WNZjwEw7YzxVIOIuHgy2OFXf9Y09Fou4v8fLVtRUfnvBgYKDpoGAKAcncvliv/z/Jli05H9LR/matc2LqiaVXEkIubPvm5m9J85l/WAAABwJScvnC3UVd5Qu+5vInJ3RERcuDCQ9VAAAPBx5uSqcucrisXc2qwnAQCAa5Erxp0VEeExBAAAJKci6wEAAOCTELIAACRJyAIAkCQhCwBAkoQsAABJErIAACRJyAIAkCQhCwBAkoQsAABJErIAACRJyAIAkCQhCwBAkioi4p2shwAAgGtVEcU4kvUQAABwLYq54v6KXEXxSNaDAADAtajI5fZXFKOyJetBAADgGnTn259qqXizfdevoxgvZz0NAABcpeaIS08tqKooNEZEd4bDAADAx8rlik+/+epTOyIuhewb7S1HcoXC3SFmAQAoU7lc8el8+88aL78efI5s/rct+y/F7IEM5gIAgPHl4rGhEXvx0hhuq3+wOYrRFBHzJ2MuAAAYUzFezhULTfnftuwf+daYIRsRUbu2ccGM6yq+XCxEY+TiromdEAAABr1TjOKLM3LFHW+0txwZ75PGDdmhatc2Lqi6rmptFAtrIxcLisXiglwxt7ZkowIAMC3lKopHipE7EhFRLOT2z6gY2H+leB3q/wFDcoGuVMTJSQAAAABJRU5ErkJggg==","e":1},{"id":"image_8","w":787,"h":6,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxMAAAAGCAYAAAC4qcPlAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAAAjklEQVR4nO3ZwQ0BURhG0e9/JrFVgg7oRAtKUIJSpgUlWNvYa4KlBE8HEqshOaeCu7+1XG8Xw3w2pvdFAAAAPqm61uu5v5zG8zDMZ2PSN6mpqwAAgN/X01tbJlk3RwIAAPjSKklaqq5TlwAAAH+k55gk7XF/bpM6JLlNWwQAAPy4W1KH6q/d1CEAAMAfewPoTxxQm8LWOAAAAABJRU5ErkJggg==","e":1},{"id":"image_9","w":939,"h":640,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA6sAAAKACAYAAAB6/u7EAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHpUWHRDcmVhdG9yAAAImXNMyU9KVXBMK0ktUnBNS0tNLikGAEF6Bs5qehXFAAAgAElEQVR4nOzdT2zc95nn+c/zI1lUyUvREXlIGNpoRiBZ28hQyTTVoE1tZ0hgAMcyoEvkU6AAc0mO0dXbtw32mj0tdg57MXKKTwY2nCwaMFeDIq1N2MnGHcz8yoTige2WjYGUtKy2ZFGsevZQVbb+UOK/qnp+f94vIAjiKKyP40Tmh8/3+3xNAAAAPVRPfUqSEtMpl8YkKXFVWtLkY790qpef69Itk+4/9IfuyHRHkoZc93elm90/fr5md3r52QCA3rPoAAAAID/qqY9JGvuyiLrGpEf+kRsu7Vi3wJpudAvtA9POyrzd3Oc/DgDoM8oqAAB4xNq2j55qauKhQjrl0qhJE9HZBuyO2tPZGybdabk+O1+zG9GhAKAsKKsAAJRUt5QOS5MujbXa/zxpUiU6W8bdMemmm265658/G9KtV2ft/v7/MQDAYVBWAQAogfWGTyausWHTpFxTyuGx3Yx7pMAygQWA46OsAgBQMOsNnxyVJs010Vlq1NNFRjgYl24NSf+8I934fEg3mL4CwOFQVgEAyLG1bR99rqmphyamFNOMeri8fq9mH0TnAYCso6wCAJAj6w2frLqmml9NTDnKm183hqQP7plusH0YAJ5EWQUAIMO65bQlTbWkb7L8qLDuSLqxK33A1BUA2iirAABkCOUULu0k0j/L9N/+JdEH3HUFUFaUVQAAAq1t++jzLc34V/dNOdaLR5j0AcUVQBlRVgEAGLD1hk9WpBl3zZg0EZ0H+WHSBw+kBkeFAZQBZRUAgAG4mvrMsDTj0gxHe3FcLu2Y9MGO6T2WMwEoKsoqAAB90D3eK9dfuTQTnQeFdmdIem9X+uB8ze5EhwGAXqGsAgDQIxRUROOYMIAioawCAHAMFFRk1J0h6b0/D6nBUiYAeUVZBQDgCDYbXqOgIica3G0FkEeUVQAADqie+pRJNZYkIadu7ErvcUQYQF5QVgEAeIZ66mNmqsk1L95ARTHcMdPWy/OWRgcBgGehrAIAsIerqc+MSPMc80WB3ZGpcTvRe9xrBZBFlFUAADqYoqKMXNox03uUVgBZQ1kFAJRePfWpRFpgiooyo7Qiwtq2j46bxt10ItnR+F6/xoa02xzS5yM7+vzup7q9smK7g86JGJRVAEApdZ+ccdeimKICX6K0ot+2rvv4zo5ebA3p69bSycP+51uu28mwPhp9Tp8sTtndfmRENlBWAQCl0j3q664FNvoCT0dpRa+tN3zyhGu+JU326msmQ/po5DmllNZioqwCAEqhnvqYSeckzUdnAXKG7cE4lq3rPv7ggb7dy5L6uGRIH43c1j8tLtqDfn0GBo+yCgAotO7bqKKkAsd1x6V3ztfsRnQQ5Mdmw2vug/n9100PWk39/u/+2j4ZxOeh/yirAIBC6pTUc5KmorMABXNjx7SxMm83o4Mgu7a2fOTec1pObO+lSf1krj+9/D/aPw36c9F7lFUAQKFQUoHBSKT3/jKkLe6z4nFb1338i6b+9ijLk3qllejT6mf6HceC842yCgAoBEoqMHgu7QxLv12q2XvRWZANW9d9/ItdLZtrJDpLy3W7+rk2KKz5RVkFAORaPfWxRFrmjVQgjku3JNW5z1pukUd/nyYZ0kcvzdrvonPgaCirAIBcYrsvkD0cDS63d1Nf7ufG36MyU4Nt1vlEWQUA5Mrato+Ot7TAO6lANrm005Te+V7NPojOgsEZ5Nbfo2ApWD5RVgEAubHZ8FrLtUxJBXLhRuepmzvRQdBfW9d9/P4D/bvoHM/iie6en7N/iM6Bw6GsAgAyr576lKTzJk1EZwFwcCxgKoesHv99HMeB84eyCgDIrLVtHx1valncSwXyjilrQa03fLLiWo7OcRBuenDijv6B7cD5kUQHAABgL9dSXzjV1A9FUQWKYErS69dSX4gOgt46keF7qo8z18jOmM5E58DBMVkFAGTKesMnR1yrHPkFCuvG7SH9mo3B+bd1w0/e/0z/PjrHYXB3NV8oqwCATFjb9tGvNbXYkpi8AAXHxuBi2Pyv/m/c9K3oHIc1OqL/Z/GM3Y7Ogf1xDBgAEK6e+tR4U5coqkA5mFQZll7ZSH11bdtHo/PgaJo5PQGzs6MXozPgYIajAwAAyotpKlB686eamlxv+Du8gZkv6+s+nJjGo3McRV5LdhkxWQUAhGCaCkCSTJqouC6xfClfTn49n0VVkvJassuIsgoAGLiNhp8z6aKksegsALKhKS1vpv4Kx4Lz4UFFz0VnOI6tG34yOgP2xzFgAMDA1FMfk/R9OUewADzJpZlTTZ3iWHD2Dd/XaDPHY687f2Folwf8RQIADMRmw2uSXudJGgDPYtLEiOti5/cMZFTLdCI6w7EM5zx/STBZBQD01dq2j443teyued5LA3AQJlXctfJu6hMv1WwjOg+AGJRVAEDfrDd8cqSpVTFNBXAELWmhnvo3PxvS26/O2v3oPAAGi2PAAIC+2Gx4bcR1kWO/AI7DpInxpi6tN3wyOguAwaKsAgB67t3Ul921YlIlOguAQhjjHitQPpRVAEDPrG376EbqF3k7FUCvde+x8h5rNrQquh2d4TjGxnQ3OgP2R1kFAPTEesMnTzV1UdJUdBYAxdWUljdSX43OUXoPtBsd4Tj+++dqRmfA/iirAIBjq6c+xf1UAAM0v5H6xbVtH40OUlYnRvR5dIbjYGFXPlBWAQDHstnwmkkXuZ8KYMCmTjVFYQ2yeMZyewy4lejT6Aw4GMoqAODIuouUonMAKCeTJk419UM2BcfIa+lLTDejM+BgKKsAgCPZSH2VRUoAoplUGXFdpLAOng3pk+gMRzH6XD5zlxFlFQBwKJ2Nv6uS5qOzAID0VWG9mvpMdJYyOfEXfeKmB9E5DqOV6NPFKWMTcE5QVgEAB7a27aOdjb8UVQCZYlJlWHqFt1gHZ3HRHiTSn6JzHMau63p0BhwcZRUAcCDdosrGXwBZ5q4VCuvgVO7oel6mq4l0c2XeuK+aI5RVAMC+KKoA8oTCOjh5mq5+YWpEZ8DhUFYBAM9EUQWQRxTWwanc0XVPlOl7oMmQPmKqmj+UVQDAU1FUAeQZhXUwFhftwYkh/SY6x9N4orsjt/VP0TlweJRVAMCeKKoAioDCOhiLZ+y2hvTH6ByPc9ODE0P6zeKi5eJeLR5FWQUAPIGiCqBIKKyDsTxr15MhfRSd4xHD+uPiGbsdHQNHY9EBAADZQlEFUFRmWn953tLoHEX37rb/21ZTL0Tn8BH9/vwZ+zA6B46OySoA4BHjTS1TVAEUERPWwXhp1n5nHrch2E0PKKrFwGQVAPCljdRXJc1H5wCAfmLCOhj16/6idvVtc40M6jM90d0TQ/oNR3+LgbIKAJAkbTT8nFyL0TkAYBB2pV9/r2YfROcouq0bfvLBZ/puS5rs92eZ60+Vz5WyTKk4KKsAAG02vOaulegcADAoLu08ML3N25uDUb/uL6qpeWvpZK+/diLd/MLU4K9l8VBWAaDk1hs+WXFdis4BAINGYR28+nV/0Xf0rcQ0ftyv1Ur06a7rOn/9iouyCgAlVk99TNLrJlWiswBABJd2PhvSL16dtfvRWcpk64afvP+5vpE09fWDHhH2RHdd+syG9MmJv+gTjvsWH2UVAEqKJ2oAoM2lW58N6W0Ka5ytLR/RlEbu/EWJhnWi+8fHxnRXkv7mG/rCzFpxCRGBsgoAJbWZ+isuzUTnAICMuLFcs7ejQwD4Cu+sAkAJXUt9gaIKAI+Y6jzfBSAjKKsAUDL11Kea0nJ0DgDIoPlrqS9EhwDQRlkFgBJZ2/ZRSd+PzgEAWdWUljcbXovOAYCyCgClMt7UK2z+BYBna7mW1xt+oA21APqHsgoAJbHR8HOSpqJzAEDWmVSpuF7pnEYBEISyCgAlsN7wSbkWo3MAQI6MnWrqYnQIoMwoqwBQcGvbPjriYsMlABySSRPvps5COiAIZRUACu5rTS2aNBGdAwDyqCUtsHAJiEFZBYACq6c+1ZJ4hgEAjoGFS0AMyioAFNTato+aOP4LAMdlUmXEtcrCJWCwKKsAUFBfa2pR0lh0DgAoApMmnm9qJToHUCaUVQAooPWGT3L8FwB6y6WZa6nzeyswIJRVACggtv8CQH80xf1VYFAoqwBQMNdSX2D7LwD0D/dXgcGgrAJAgaxt++iudC46BwAUmUkTnb0AAPqIsgoABTLe1LJJlegcAFB0LWnhauoz0TmAIqOsAkBBdO5QzUfnAICyGBLHgYF+oqwCQEFUXMvRGQCgTEyq8JwN0D+UVQAogHrqU5KmonMAQNnwnA3QP5RVACgAE0/VAECUXelcPfWx6BxA0VBWASDnNhtek8Q3SQAQxKQKPzQEeo+yCgA5587zCQCQAVMcBwZ6i7IKADnGVBUAsmNXOsd2YKB3hqMDAACOjqkqwpim3XRSksw12/3DLr1gpuojv/ahf/8Q7sn08WNf55akW53Pv+dq//sm3VKr88eBQA9tB/51dBagCCw6AADgaDYbXnPnyQT0SaeMfllETXOSjlo8B+Wrgut6v1toKbMYtF3p19+r2QfROYC8o6wCQE5tpP5DcQQYx2GquukFk6blqso0J9eEpNPR0frkY5f+bNJH7vrYEn1MiUWf3Lk9pLdenbX70UGAPOMYMADk0NXUZ0RRxSF4ojm5Tpv0gkzTck1Lqpo//Iui0g3MtEnTkhbM1P7ztc401vU+BRY9NPa1phYlbUQHAfKMySoA5NBG6hclTUXnQAZ1p6Xt47oTapez6eBUeXPPpW0zve/Sx9bS+9GBkE87prdW5u1mdA4gr5isAkDOrDd8Uk5RRYdpunN8t1tKp634E9J+q5q0INeCSe0f7Zu2Jf1Brvfljy1+Ap6i4lqW9HZ0DiCvmKwCQM5spL4qaT46BwKYqu6as68KapaXHRXZPZe2Jf1/Ztrm2DCexUzrL89bGp0DyCPKKgDkyNq2j4439R+ic2BAviqnc5JmxXHerPpY0h/UnrwydcXjWLYEHBHHgAEgR043Nd+MDoG+8kRz5jqrTjk1fqycB90j2Bdk+rPaxfVdiis6xsZbWpD02+ggQN7wt0AAyBGeqymgRBOSzrprzqSF6DjoKYorJEku7Uj65fma3YnOAuQJZRUAcqKe+pRJF6Nz4PhcOts52ntWxX3TFI/6s6R3ZbrGHdfSaizX7J3oEECeUFYBICdYrJRjpqpLZ01fFtRqdCQEMm27611zXYuOgsHiKRvgcCirAJADLFbKoU5BlfQdjvfiKe5J+oNMv2LaWho3lmvGUzbAAVFWASAHNhtec9dKdA7sg4KKo2LaWhouvX2+ZjeicwB5wDZgAMiBlmuBny5mV+cO6lm1j/pyxBeH55o1aVam1yS9K+kdue5Fx0JfnJf0y+gQQB7wvQ8AZFw99TGTfhidA49JNCHXqqQlUVDRH9c4IlxMZlp/ed7S6BxA1jFZBYCMG5ZmeFs1I75alLQq13R0HBTeklxLbnpPpnespfejA6E33LUoibIK7IPJKgBkXD31102aiM5RaqZpSatiky8imbZd+hWltRiYrgL7Y7IKABnWOQJMUQ3ipiUzvSTXbHQWoHOv9adKKK1FwHQV2B+TVQDIsGupLzSl5egcpWKqqj1FfUnS6eA0wNMxac09pqvAszFZBYAMa0lT0RlKo70w6YLaC5OA7Hto0irXW3J9HB0Jh8N0FXg2JqsAkFFr2z463tR/iM5RdJ5ozlxLoqQi/9genENMV4GnY7IKABn1XJOpaj95ojmTLhj3UVEcS3Kdlekd8U5rbrRcC2K6CuyJySoAZNRG6quS5qNzFE23pLI0CQV3z6W3zHUtOgj259Lb52t2IzoHkDVMVgEgu5is9hCTVJRM1aTLSvQSS5iyz6Rzkt6OzgFkDZNVAMigzpM1P4zOUQiJJiRdZpKKkluX9H9xNDi7dkxvrczbzegcQJYwWQWADBqWZprRIfKuu93XWZwESFqRtOTG0eCsqrTvrr4TnQPIkiQ6AADgSTxZcwymqkwX5HpDbPgFHtY9Gnylc+IA2TJfT30sOgSQJUxWgR7ZuuEnv7inyWRXJ83b3wS0pMnHf10i3ZQkN93aber2yed1e3HK7g46L7LN9/jfDvbnpiWTXpN0OjoLkFntI/FvKNGv1GKSlyVmqkn6bXQOICu4swocw9YNP7lzW2ea0kRiGj/q12m5bg8l+rQypg8pruC+6hGYpmW6xL1U4JBM25Le5G3WbHBp53zN/s/oHEBWUFaBI1hv+OQJ1/xek9PjSqSbX5gaLFkor82G19y1Ep0jF0xVtSep/PcFHN09GVPWrDDT+svzxrurgDgGDBzKlyXVNdnq02e0pMmKa/Ld1G+OjOiPi2fsdp8+ChllrgmPDpEDLp016ZI48gscV1WuHyjRWTFlDeeueUmUVUBMVoED2drykZ3nVHPTtwb92eb6U+VzpYuL9mDQn40Y9dRfN7H85KlMVZd+ZNJCdBSggO65602T/hAdpMx4xgZoYxswsI+t6z7+xSn9u4iiKklu+ta957S8dd2PfCcW+UJRfTqXzkr6GUUV6JuqmX4s0+XOMXsE6DxjA5Qek1XgGerX/UXt6tvmGonO4qYHGtYfz5+xD6OzoH/qqU+ZdDE6R+YwTQUifCzpTbk+jg5SNi7tfDakX7w6a/ejswCRmKwCT1G/7i/aA303C0VVksw1Yg/03fp1fzE6C/pnmCdrnsA0FQgzLemKG+8VD5pJledbmonOAUSjrAJ76BbV6Bx7obAWm0s8CN9lqsp0yUw/ljiOCASpmnSZY8GD11m0BJQaZRV4TJaLaheFtbj68RxSLll7oiOepAGyYknSFSXcqR+gqXrq/AATpUZZBR6ydd3HtatvR+c4kF19m6VLxeOUVXWOHF5R+wgigOyYlusNTzQXHaQszFSLzgBEoqwCHVtbPvJFU3+blTuq+zHXyL0dfXdry3ORF/tb2/ZRkyrROUKZLpt0WRz7BbKqaq6fKtFqdJBS4CgwSo6yCnTsPKeatXQyOsdhJKbxnef4qWtRnGqW+Hhd+37qGxKLXIBccP1ApsvRMUpgbL3hpT9xg/KirAKS1hs+GfWO6nG56VscBy6G0m4Cbt9P/Zk49gvkzZJMb7B4qb94cxVlRlkFJJ3I+TGbBw9ycs8Wz9Q0jUZnGLTO/dQ3xLFfIK+mJf3PnR86oQ9cPGGD8qKsovTWGz6Z9w2sLWmSY0IF4JqKjjBQpkud+6kA8u20pCsU1v4wqXI1dQorSomyitLL+1S1a9h0JjoDcCDt+6mXxbM0QJFUJb3ROS2BHhtmuoqSoqyi1LZu+Mm8T1W7kpa+vnXDc7UgCk8o/mS1fbftilikBBSSSZcprL3HUWCUFWUVpbZzu1jTyPuf6xvRGYCn+qqoclQQKDCTLst0ITpHkXAUGGVFWUWpNVWsp0Jau3ohOgOOpp56saeq1lnCQlEFyuICT9v0VqUMp2+Ax1BWUVpbN/xkYirUky+JaXxry0eicwCPaBfVK2ovYQFQHksU1t5pcRQYJURZRWnd/ZdiFdWuuyeLcQe3bBLTqegMffFVUeVpGqCcKKy9M8bmf5QNZRWlNTxUzLJa1D+vonNpLDpDz1FUAbRRWHukwnQVJUNZRWmZF+u+aldR/7yQMxRVAI+isPaAO2UV5UJZBYAMKNQPGSiqAPZGYT0mkybWtn00OgcwKJRVlFZR3ld9XLNgS6PKwqVifPPRfp7mJ6KoAtgbhfWYnm8xXUV5UFaBgjEX24AR46t3VNn6C+BZKKzH4M4TNigPyioAoFeuiHdUARwMhfWInCVLKBHKKgBkQ75/Ut7+ppOiCuAwlmS6EB0ib0yq8IQNyoKyChSMmx5EZ0DJmC5JWoqOASCXLrjx+8dhVTkKjJKgrKK0EulmdIZ+GHLdjs6A8uh8k7kSnQNAfpl0mcJ6OK28n8YBDoiyChTMbqLd6AwoCdO0SZeiYwDIP5MudZ69wgG0pG9GZwAGgbKK0nLTregM/cBkFQPx1eZfnqgB0Avt31MorAfCvVWUBWUVpbXbLGapK+qfFzLGeEsVQM9VJV3u/DAM++DeKsqAsorSOvl8MUvdybvFvIuLDDFdkGs2OgaAQpru/DAM++DeKsqAsorSWpyyu62CHZltuW4vLhrbgHMmT0e5PNGcxFMTAPrINcsbrPtzKTd/7wCOirKKUhtK9Gl0hl5KhvVRdAYc3oirEp3hQExVc/04OgaAUlhiQ/C+xuqpj0WHAPqJsopSq4zpw+gMvTT6nD6JzoAC454qgAEy6XLnNAeeosl0FQVHWUWpLU7Z3aK8t9pK9OnilN2NzoGCSrTKPVUAg2auH7Nw6emGjbKKYqOsovS+MDWiM/TCrut6dAYUVKIJOfdUAYToPpOFvbARGAVHWUXprczbzbxPVxPp5sq85frPocwemHaiM+zjsjj+CyDOtEyXokNkEUuWUHSUVUDSyIj+GJ3hOPKev+wy/YMGjv8CyIYVl85Gh8gakyosWUKRUVYBSYtn7La5/hSd4yjM9afFM1aoJ3iQEaYqx38BZIWZLivRRHSOrGHJEoqMsgp0VD5Xmrd3V1uu25XPlUbnQDG59CNx/BdAdlTF81lPYMkSioyyCnQsLtqDakW/d9OD6CwH4aYH1Yp+v7houciLfPFEcyYtROcAgMdwf/VxLFlCgVFWgYcsnrHbGs7H/c9WU7/n+C/6xVyXozMAwFOs8P7qI7izisKirAKPOX/GPvQR/T46x7P4iH7/d39tn0TnQEElWpV0OjoGADwN768+grKKwqKsAnvIcmH1Ef3+/Bn7MDoHCoqlSgDyodq5Vw9J9dQ5CoxCoqwCT9EtrFm5w+qmB82WfkNRLSaXbkVn6FgVS5UA5IBJCzxn05aYTkVnAPqBsgo8w/kz9uGJYW1EbwluuW6fGNYGR3+Ly6T70Rk6T0IwVQWQG2a6zHFgyTkKjIKirAL7WDxjt6ufayPqHVZz/an6uTZYpoS+4/gvgPzhOLAkc96fRTENRwcA8qDzPMw/bV33Dx880LdbA3iAO5Fujozoj5RUDESiCbmWomMAwGF1jwOb9IfoLFFcGo3OAPQDZRU4hE5x3Fhv+OSw6UzS0td7/RmtRJ/uuq6vzNvNXn9tZFci3Wwp8K08pqoAcsxMlyX9vVz3orMEYcESComyChxBp0je3LrhJ+9/rm+0dvVCYho/6tdruW4nw/po9Dl9sjhld3sYFTnRMu3Igz6cqSqA/KtKuiTpzeggUda2ffTVWYvffwD0EGUVOIZOsbwu6frWlo/cPanJ4SGNd++ONE3j5hrp/no3PRhy3d5NtDvkur3b1O2Td3Wzc8wYiMFUFUAxLHmia9bS+9FBIpxqakLSjegcQC9RVoEe6RTOTzr/AA5l13Uz5Dfk9hZNpqoACsFcP5D0v0bniNDk3ioKiG3AAJABQ3FP16wGfS4A9MO0rJynRYat/8sfgUGjrAJAuVFWARTNKm+vAsVAWQWADDhfs4HfM3LTksQ3dAAKp7tsqVycjcAoHsoqAJSUMVUFUFxLnmguOsQg8dYqioiyCgBlZJqWNB0dAwD6xVSuu6um9ksEQJFQVgEgOwZ5FJipKoBic812rjuUxnrDWbKEQqGsAkA5nY0OAAD9ZtJr0RkGaVRsBEaxUFYBoGRYrASgRE4rKc9JEnOOAqNYKKsAUD7fiQ4AAAPjulCWp2ya0jejMwC9RFkFgDIxVU1aiI4BAANUVUnu6Zs0sbbtbAVGYVBWAaBEnLuqAMpptSzT1eeavLeK4qCsAkC5cAQYQBmVZro6LM1EZwB6hbIKANnR35+GcwQYQLmVZbrKZBWFQVkFgJLgCDCAkivLdHWM91ZRFJRVAMiAeupj/f4Mk+b6/RkAkHGlmK5WnFM0KAbKKgBkQ9/LqpisAkAppqvOvVUUBGUVADJgWOrvkS3TtFT8aQIAHMBL0QH6zaTKZsNr0TmA46KsAkAGeP8nq0xVAaDttJuWokP0m7vmozMAx0VZBYAMaPV/ssp9VQDoMOm16AwDMMWiJeQdZRUAsqG/Tw24Zvv69QEgX057Uvwf4rFoCXlHWQWAYPXU+1pUy/ANGQAclkkXojMMwPwgts0D/UJZBYBg/V6uZExVAeBJrlklmoiO0W8mnYvOABwVZRUAgjX7/cQA91UBYG9e/GdsJM1zdxV5RVkFgEBr2z6q/t9Xne7r1weA/FqSFf9Zr4prOToDcBSUVQAI9Hyr71NV3lcFgKerejme9pq6mnp//34D9AFlFQAiuf6qv1+eqSoAPIupFEeBNSwtd07zALlBWQWAIPXUx7zP91VNxV8eAgDHNN05hVJ0Y19rajE6BHAYlFUACGKmWv8/hOVKAHAAL0UHGISWtNDv59KAXqKsAkAU1/wAPqMM0wIAOK6l6AAD9H2OAyMvKKsAEGCz4TVJ/X2ovb3hkuVKALC/sixakkmV55taic4BHARlFQACtFwL/f4MN73Q788AgKIwK0dZlSSXZjYafi46B7AfyioADFg99amBLD5yne77ZwBAcZTizdUvuRZ5zgZZR1kFgAEb1DMJbAIGgMMpy1HgriFpdb3hk9E5gKehrALAAA3krmqHi2PAAHBI34kOMEgmVUZcF+upD+TvS8BhUVYBYEDWtn205Voe1OdZmY6zAUAPmLRQqqPAahdWsSEYGUVZBYAB+VpTi51vCgbDNTuwzwKAgijbUWCpfW3kVFMXKazIGsoqAAxAPfWplvq/ARgAcGylOgrc1S2sHAlGllBWAaDP1rZ9dFBLlb5kmh7o5wFAQViJf7DYWcz3OkuXkBWUVQDos/GmljWgpUpdbjo5yM8DgCIp41HgroeWLk1FZwEoqwDQR53tv/PROQAAB2dW3rIqtQurSRevpV7aKTOygbIKAH2y3vDJQW7/fZixXAkAjmMuOkAWNKXlzdRfYfESolBWAaAP1rZ9dMR1caDbfyxQiFoAACAASURBVAEAvXKau/9tLs2MN3WJY8GIQFkFgB5b2/bRU02KKgDkmjFdfciYSRc3Gn6OKSsGibIKAD30UFGdCI4S/fkAkHelvre6J9ciU1YMEmUVAHokQ0VVsgxkAIA84+7/04yZdPHd1JeZsqLfKKsA0AOZKqoAgJ7whKPAT9OSFpiyot8oqwBwTBRVACgmNqvv68spa3QQFBNlFQCOYb3hkxRVACgoliwdSEtaqKf++nrDJ6OzoFgoqwBwRFdTn+k8T0NRBYAiYrJ6YCZNVFyXNhp+LjoLioOyCgBH8G7qy8PSKzxPAwDFxr3VQ3ItbqR+sZ76WHQU5B9lFQAOoZ76WD3111vSQnSWZ2IaAAA9wb3VI5mS9PrV1GeigyDfKKsAcECdo02vc+wXAMrDpReiM+SRSZVh6RWeuMFxDEcHAICs66zlPy/XhEWHAQAMlInJ6nG0pIVTTX1zveHvrMzbzeg8yBcmqwDwFPXUxzZTf8XEEiUAKLGqEv4ecBwmTYy4Lm42vBadBfnCZBUAHlNPfcykc5LmPToMACCctzRt0q3oHHlmUsVdKxupT90e0sars3Y/OhOyj7IKAB311KcSacGlIiyE+FjSdHQIACgCM03L9YfoHAUxf6qpyXrq/+l8ze5Eh0G2cf0KQKnVUx8blmaa7e2+xVmzn+gKG4EBoEdM22rp59ExisSlnab0zvdq9kF0FmQXk1UApbPe8Mmqa2pXqpk00YwOBADINufOaq91twVvNHxred5+G50H2URZBVB49dSnhqXJljTl0qRcY01xtAQAcGCnZarKdS86SOG4FjdTn/iXIa1zjxWPo6wCyJ3OUzJPGJYmm6bRxFVpSZNqH+sdkySmpwCA43DTC+Z6PzpHEbk0c6qpUzxvg8dRVgGEWNv20VPN9rGqbsmUJHNNuPTw4+F7FtO9NCXJpVZPkwIAIFl7aR1ltU+6z9tcTZ17rPgSZRVAX6w3fHLEVekW0W4JdWnSpMrDo85uyXzonwAAyBburfZd9x7rtdQ3lmr2XnQexKOsAjiy7nR0WJp0aeyRo7ed1tktot0Syj3RAWkfVWMbMAD0Svv5GgxAU1reSH1yuWbvRGdBLMoqgANZb/jkqDRprolWu5xOWlMVifugAIASYLI6aPP11Cc/G9LbLF4qL8oqgCd0i6l7e3uuSRPd6SgTUgBASZ2ODlA2Jk2cauoii5fKi7IKlNzato8+19TUsGlSrilJUxzbLQDTPY6rAUCPtY8Cfxwdo0y6i5fWG/42hbV8KKtAyXTLaUWaakrftM5GXopNsbj0MT9oAIDectNJ4++XA2dSZcR1cbPhGy/PWxqdB4NDWQVK4GrqM4+X05aYmgIAcBg8XxPHpIq7VjYbLgpreVBWgQJab/hk1TXVlGbUeaeUclouJt2KzgAAheOqRkcoO3etvJv6xEs124jOgv6jrAIF0Z2etqQZucbY0FtyLd3ipxMA0HNsBM6AlrSwkfooT9sUH2UVyKm1bR99vqWZzsbeGZMqrehQAAAUmbW34yMT5jdTr/zLkNZ52qa4KKtAjnQLqlx/5U3NsLEX+/hY7ftVAIBecH5PzRKXZk41dWpt23mLtaAoq0AOXE19ZkSaf7igAvvi+RoA6LWqTFW57kUHQVv3LVYKazFRVoGMqqc+ZVKte8SXzgEAQDw3vWDORuAsobAWF2UVyJB66mNmqsk1L2lM4ogvAABZYq5Z8XxN5nQLaz31/3S+Znei86A3+D4YyIDNhte8XVCnorOgQBJdUfubKgBAr5i21dLPo2Ngby7tPDC9vTJvN6Oz4PiYrAJB6qmPDUkLTanmrkp0HgAAcAD8EDDTTKqMuC6uN5zCWgCUVWDAHp6itsTxBgAA8salsyb9IToH9kZhLQ7KKjAAa9s+Ot7Sglzz7u27qAAAIJ/MNCenrGYZhbUYGOoAfVRPfcykc92NvtF5UDKm/z06AgAU1J/l+vvoENgfd1jzjbIK9EE99alEWnBpJjoLSoyyCgB946b/zVpsBc4DCmt+UVaBHrqa+sywtCC2+iKYJ5oz10+jcwBAgV2T683oEDgYl3Yk/ZJnbfIliQ4AFMFmw2sbqf9wWHpFFFVkQUvV6AgAUHBLMn6vzYvOdazvr237aHQWHBxlFTiGbkl114rE4iRkh5mmozMAQAmsRgfAwZk0caqpixTW/OAYMHAEnednFkVBRVYlusJbgADQdyxayiGXbn02pLdfnbX70VmKyN2Tf/xHDUnS3/yNds3Mj/q1KKvAIVBSkRssVwKAgXDpTXNdi86Bw6Gw9s5//i/+jWHTZFOaSEzje/2aluv2kHRr13Xz7/7aPjno16asAgdQT31K0nmTJqKzAPthuRIADBTT1fxqLNfsnegQeVW/7i+qqXlr6eRh/nOe6K6G1Dh/xj7c79dSVoFnqKc+ZdI5sTQJeWK6JGklOgYAlMiv5PpVdAgcCYX1kNYbPjli+u5hS+rjPNHdE0P6zeIZu/20X0NZBfZQT32sU1Lno7MAh2b6maTT0TEAoETuSfp7ue5FB8HhJdJ7L9VsIzpHHmxs+xk19e2eftEh/XF51q7v9W9RVoGHrG376HhLC2rfSwXyp70F+I3oGABQNi69Z67/IzoHjsZM6y/PWxqdI8ve3fZ/22rqhX587WRIH700a7974o/348OAPNpseO1UUz+kqCLnXooOAABlZNKCJ5qLzoGjcdfKZsNr0TmyavO/+r/pV1GVpFZTL+z13z9lFaVXT32qnvrr7lrpPBgN5NlSdAAAKCtzXZapGp0DR9NyLa83fDI6R9b85//i33DTt/r9Oe6af/y/f8oqSmtt20c3Ul816SJbflEEblqS+CYJAAKddulH0SFwNCZVRlwXKaxf2drykWRI3x3U541If7u15SPdf01ZRSldS33hVFM/FAuUUCAmvRadAQDKzqQFJVqNzoGj6RTW1bVtH43OkgU7z6lmrpH9f2VvmGtkZ0xnuv+asopSWW/45EbqF5vSMkd+USSde1JsAAaALHD9oLPwDjlk0sSppi5G54i2teUjgzj++7iW9K3udJWyilJY2/bRjYafq7guiTdTUUDmuhydAQDwiCsU1vwyaWIj9VJPyO+P68WIzzXXSPezKasovHrqU+NNXWLLL4qqc1eVqSoAZEtVYuFSzs1fS30hOkSU1m7/tv8e9LMpqyistW0ffTf1ZZMuShqLzgP0halq0qXoGACAPU2rPWGlsOZUU1q+mvpMdI5Bc/ckMY1HfX73symrKKTuNLUllfanYSiN18QGYADIMgprzg1Jq2XbEPyPn+hEdIatG36SsopCYZqKMuksVVqJzgEA2BeFNcfKuCH43k2F/7ne+YsSyioKg2kqSsVUZakSAOTKtKSfsXQpn0yaeL5Znh8Q745qKDqDhnWCsopC2Gj4OaapKJPOo/MsVQKAfKlKuuLS2eggODyXZjYafi46R5lQVpFr9dTH6qm/zqZflIrpgnGCAADyqmqmH8tYjpdLrsUyLlyKQllFbm02vCbpdZMmorMAg9J5puZCdA4AwLGtyPSGEr6PyZshabWeerFP8+3qi+gIY2O6S1lF7qxt++hG6qvuWjGpEp0HGBjTNM/UAEChTMv1howfQuZJ5/vP7xd54dK9ih5EZ/jvn6tJWUWurDd88lRTFyXNR2cBBso6myR5pgYAiqYq6YJMb7B8KT9Mmhhvajk6R7+8Omv33eIKq5sevDpr9ymryI3NhtdGXBc59ovSoagCQBlMS0xZc2a+cy2tkNx0K+qzhxJ9KnFnFTnAsV+UWectVYoqAJTHBe6y5kfLtbze8MnoHP3gu/ow6rO/aLU/26ICAAfRubz+faapKCM3LZl4SxUASuqeTL9SS+9EB8GzuXTrsyG9/eqs3Y/O0mv19/3fW0snB/mZnuju+Tn7B4nJKjKsnvqU2PaLsjJdpqgCQKlV5fqBEl2Rcbomy0ya+FqzmM8otnb1x8jPZLKKTLqW+kJTxb20DjxV+37qZYklGwCAL91z15sm/SE6CJ5uV/r192r2QXSOXns39eWWNJCjzq1En/5Pc/b/dv81k1VkSvd+KkUVpZRoVe37qRRVAMDDqmb6sYzny7JsSFot4nM2I/+q3wxiM7Anulv9TL97+I8xWUVmrG376Kkm235RQqZpmS7JNRsdBQCQeR9LelOuj6ODYE83lmv2dnSIXtu67uNf7GrZXCP9+PpuenBiWBuLZ+z2w3+csopMWG/4ZOdZGrb9ojwSTch1QdJSdBQAQK7cc+ktc12LDoInDUkbSzV7LzpHr/WrsD6tqEqUVWTAZsNrLdcyRRWlQUkFAPTGNbnejA6BJ+2Y3lqZt5vROXpt64afvHdbf5uYxnvx9RLp5si/6jeLi7bnMWPKKkKxSAll4onmzLUkSioAoHc+luk/qqVb0UHwFZduna/ZL6Nz9Mtmw2st6VtHnbK66YElaizP2vVn/TrKKsJspL4qaT46B9BX7e2+L0k6K+l0cBoAQDHdc9N/tJbejw6Ch5i2luftt9Ex+mVry0fuj+tFd33roG+xeqK7ZvrT6G19+LRp6sMoqxi4tW0ffb6pFZdmorMAPZdowl2zJs2p/Q8KKgBgUH4l16+iQ+ArLr19vmY3onP02//9B3/uuVGNN6XREdf/8PC/98D0r8PD+vy26/ars3b/MF+XsoqBYuMv8s4TzX35L1qqWntyelKmabmmJR5uBwCEuibpLbnuRQeBJOnO7SG9ddiShjbKKgamnvqYpO9TVBHKNO3WPqpiDz8VYw+VUFdVvHUKAMgv7rFmSCK991LNNqJz5BFlFQPB0zQYmE4Z/bKIdksob5gCAMrlnqSf8x5rNpTlOHCvUVbRdxRV9IMnmpPrtEkTMs3JNSHuhwIA8AiX3uQ91nhF3w7cL5RV9BVFFcdmqrrpBXPNuvSCtQspR3QBADi4dbneig5RegXfDtwPlFX0zWbDay3XMkUVh2Ka7kxKp6Uv/wEAAI7nmlxvRocoux3TWyvzdjM6R14MRwdAMW02vOauFX4agv14ojlzzT5UUKvy6FQAABTOUuft75+zKThOxbUs6e3oHHlBl0DPdYtqdA5kVGdy6q45kxai4wAAUDJsCg42JG0s1ey96Bx5QFlFT1FU8QRT1V1zZjoraU4sQQIAIBqbggO5tPPZkH7B26v7o6yiZyiq+FKiCUlnmZ4CAJBZFNZAJn3wcs1+HZ0j6yir6AmKKroFVa4lsRQJAIA8uOfSWzxtE4O3V/fHgiUcG0W1xB4uqE5BBQAgZ6omXXaTKKyDZ9KqpF9E58gyJqs4FopqCZmqLp3t/AZLQQUAoABcepPCGoC3V5+JsoojW2/4ZMV1KToHBsOlszK9xB1UAACKicI6eC7tSPrl+Zrdic6SRRwDxpGsN3xyxHUxOgf6LNGEXKtqT1LZ4gsAQIFxJHjwTKpIOifpnegsWcRkFYfWLaqd/3OhgFw6a4lW5ZqNzgIAAAZuXa63okOUCcuW9sZkFYdST31MFNViMlXVvof6kkmn5dGBAABAkBWZqnK9GR2kLKw9XX07OkfWMFnFga1t++ippi6aNBGdBT3UPup7QdJSdBQAAJAp1yisg2Om9ZfnLY3OkSWUVRwIRbV4PNGcSRc46gsAAJ6GpUsDdef2kN56ddbuRwfJCo4B40Ceb2rFKaqF4KYlM71klFQAALAPli4N1Nh4SwuSeMqmg8kq9rWR+qqk+egcOB43LZn0mtjqCwAADokJ62C4tPPZkH7BdLWNySqe6VrqC02Kaq51SypPzwAAgKNiwjoYJlXGm1oWT9lIYrKKZ9hseM1dK9E5cDRMUgEAQK8xYR0Ml35xvmZ3onNEY7KKPa03fLLlWuanGfnj0lkzXWKSCgAAes2kyzJ9LNfH0VmKrPOUTemnq3QRPKGe+pik13lLNV/Y7gsAAAbknqSfU1j7y6W3z9fsRnSOSEl0AGTL2raPSvo+RTVHEk246Sfm+ilFFQAADEBV0hWZpqODFFlnulpqlFU8YrypZd5SzQlTVaZLcv0vJi1ExwEAAKVSVftIcDU6SIFN1VOfig4RibKKL200/JzY/JsPiVYl/UxiARYAAAgzrfaElcLaJ2WfrlJWIUm6mvqMXIvROfBsnmhOpjfk+oHE3xgAAEC4aUmXokMUWKmnq2wDRneh0mp0DjxD+yeWl8y1FB0FAADgMUsySa43o4MUUWe6+nZ0jghMVkuOhUrZ56YltY/8UlQBAEBWLXW+Z0HvlXa6SlktORYqZViiCSW6YtJlceQXAABknEmXPdFcdI4iKuvdVcpqiW02vCYWKmWT6YJcb/AUDQAAyBNz/ZgnbfqilNNVympJrTd80p1NspljmpbpDUkXxDQVAADkD0/a9EkZp6uU1RJa2/bRiuuV6Bx4jOmCpDckfhoJAABybdqlH0WHKKDSTVcpqyX0fFMrksaic6Aj0cRD01QAAIDcM2mh84N49JBJtegMg0RZLZnNhtdcmonOgY5Eq3KmqQAAoJAuuHQ2OkTBzHeenSwFymqJrDd8suVajs4BSaaqm34i1w/E3VQAAFBQZrrMwqXeKtPdVcpqiYy4VnlPNV5npfvPTFqIzgIAANBnLFzqvfm1bR+NDjEIlNWSeDd13lPNAtMFc/1UTFMBAEB5TEu6FB2iSMZb5Rh6UFZLoJ76VIspXixTVYmuiCVKAACgnJbctBQdoijcy/G9PWW14Na2fdSk1egcZdY99ivXbHQWAACAKCbur/aKSZXNhhd+MzBlteC+1tSieKYmTqJVjv0CAAB8ifurPeKuxegM/UZZLbCrqc9w/DeIqSrT5c62XwAAALRxf7V3xuqpT0WH6CfKakGtbfvoEMd/YySakHRF4l4GAADAHri/2iNJwQdTlNWCer6pFZ6pCWCalusNifsYAAAAT2PSpc4P+HEMLs3UUy/slT/KagHVU59yaSY6R9l0fkL4hrifCgAAsJ/2+6s4NjMVdtESZbVg2P4bxHTJ+A0XAADg4FyzMp71O64iP2NDWS0Ytv8OWHeRkrQSHQUAACCHLvCczfEU+RkbymqB1FOfYvvvALXXrrNICQAA4Hg4nXZM7pqPztAPlNViOR8doDTaPwG8IhYpAQAAHNc0x4GPbaqIi5YoqwWx0fBzJjaqDQRFFQAAoNcueKK56BB5NlTAE5aU1QKopz5W5IvVmfJVUWXjLwAAQA+Z6wfRGfKsqeJtBaasFkAiLfOmav/xNA0AAEBfcRz4GEyqXE29UM9XUlZzjjdVB8NNSzxNAwAA0HdsBz6GERVr0RJlNed4U7X/KKoAAAADxfddR+TSzNq2j0bn6BXKao5tNPyceFO1ryiqAAAAAzethIHMUZ1uFme6SlnNqbVtH2WpUn9RVAEAAIK4LijhpYuj2C3QoiXKak6NN1mq1E8UVQAAgFBVd12KDpFHJk2sN3wyOkcvUFZzqPM/vsKM97OGogoAABDPpAXeXj2aE16MrkBZzaGKazk6Q1FRVAEAALLDXJdlPBt4WK2CvBZCWc2ZeupTkqaicxQRRRUAACBzTovXL45irAhHgSmr+XM+OkARUVQBAAAya5VlS4dXhKPAlNUc2Wx4zcT/UXvNpbMUVQAAgMxi2dIRFOEoMGU1R9y1GJ2hcEzTZhRVAACALGPZ0pGMXU0914WVspoTmw2vSRqLzlEopmlJVyQu7QMAAGSduX4QnSFvKjnfdUNZzYG1bR9tsQG4t9pb5SiqAAAA+THtpqXoEHmS96PAlNUcGG9pwaRKdI7CoKgCAADkkkmv8ZTNoeR6KzBlNePWtn3UXQvROQrF9BNJ09ExAAAAcGg8ZXNIed4KTFnNOKaqPWa6LNdsdAwAAAAc2SrT1YPL81FgymqGMVXtsUSrEvccAAAAcq4q6bXoEDmS26PAlNUMY6raO25aEhvkAAAAimJFiSaiQ+RF1fO5FZiymlFMVXvING3iIWkAAIBCcV2IjpAXu1ItOsNRUFYz6vmWZpiq9kD7PsNPxOZfAACAolliunowJk2sbftodI7DoqxmlLsWozMUQnvz7+noGAAAAOgDpqsH9nwrf4uWKKsZtNnwmqSx6By5Z7rE5l8AAIBCY7p6QJ7De6uU1Qxiqnp8blqStBKdAwAAAH3GdPVAPIdP2FBWM6ae+pSYqh4PC5UAAADKhOnqAZhUydsTNpTVjDHpXHSGXGsvVLosFioBAACUB9PVA6nkbLpKWc2QeupjUv7OkmfMJUnT0SEAAAAwUExXDyJn91YpqxnCVPV4OvdUl6JzAAAAIADT1YOgrOLwOu8ezUfnyC3uqQIAAJTd2c6VMDzD1dRzcxSYspoR4y0tRGfIOe6pAgAAlFtV0mp0iKyr5Gi6SlnNCmeqemTGPVUAAABIklaZrj5bU/pmdIaDoqxmQGcUz3M1R+CJ5sR7qgAAAGirunQ2OkSWmTTRuYKYeZTVDBgWR4CPxFQ114+jYwAAACA7THotOkPWPdfMx1Fgymownqs5Opd+JO6pAgAA4FGnma4+27BpMjrDQVBWgw0xVT0Sl84a/90BAABgD5awaOmZcvLeKmU1WFOqRWfIHVPVTJejYwAAACCjXLNKNBEdI8Moq3i2q6nPmFSJzpE3HP8FAADAvlwXoiNkWT31zBdWymqgEfFczWFx/BcAAAAHdJZnbJ7OLPtP2FBWg6xt+6hLM9E5coXjvwAAADg4nrF5BvPsH5OmrAY53WSqegSXxPFfAAAAHJCJRUtP48r+RmDKapBdFisdiieak7QUnQMAAAC5Mi3TdHSIjBrrPKOZWZTVAOsNnzRlf+yeJeYc/wUAAMCRMF19imbGp6uU1QAnnCPAh2K6IOl0dAwAAADkEouWnmLYKKt4TIvFSgfXfh+Ln4YBAADgqFi09DSe7fdWKasDtt7wSUmZPhueJe4sVQIAAMDxmOml6AxZlPUlS5TVAeMI8MF5ojneVAUAAMCxuWY7J/bwEJMqWV6yRFkdsCZbgA+MpUoAAADoGedlib1keckSZXWA6qlPmVSJzpELiVbFUiUAAAD0DkeB95DlJUuU1QEaYrHSwZiqcl2IjgEAAIBCOc2bq08yz+7xaMrqALEF+MBWxVIlAAAA9B7T1cdkeckSZXVA2AJ8QO2L70xVAQAA0A88YfOkzHYUyuqAsAX4gDj+CwAAgP45zZurT6qnnsn3VimrA9KUvhmdIfPaU1W2tAEAAKBvzCirj0tMp6Iz7IWyOgD11MdM2b24nBXuuhSdAQAAAIVHWX2MZ/QoMGV1AIZZrLQvTzRn0kJ0DgAAABRela3Aj3FxDLisWsrmX/wsMZYqAQAAYHDYCvwQl0ajM+yFsjoAzmT1mTzRnFyz0TkAAABQGhwFfkhWryxSVvvsauoU1X0wVQUAAMCAneYo8KM6T21mCmW1zyocAX4mpqoAAAAIwnT1ISOuSnSGx1FW+6zFEeBnYqoKAACAIJTVh5hl76lNymof1VMfU0bXQGdCogmmqgAAAAgyrSSbdzXRRlntoySDP53IFGeqCgAAgDjO4OQrGXy+hrLaR57Bv+CZ0f4p1lJ0DAAAAJTad6IDZEUWn6+hrPYXZfVpmKoCAAAgmInJalcWn6+hrPYJ91WfwVQVF9oBAAAQr8oTNtlFWe0T7qs+06qkanQIAAAAQAxRvlRPPVMnQymrfcJ91Wd6KToAAAAAIEkyzUVHwN4oq/1DWd2Dm5YknY7OAQAAAEgSTyl+ZViajM7wMMpqH6xt+6i4r7onM6aqAAAAyBZPmK5KUtOytRGYstoHzzWZqu4p0QQ/uQIAAEDWGN+jtnm2Bm6U1T4YtmyNzzOD52oAAACQRdxb7aKsFh7LlZ7EczUAAADIKiarmURZ7Q/K6mO8XVR5rgYAAACZxL1VSRnrMZTVHltvOEeA92Dtt1UBAACATOLeavZQVntsNGPrnjMh0YSk6egYAAAAwNO49EJ0BjyKstpj5pqIzpA5zlQVAAAA2WZisipJ9dQzcxSYstpjLSare2GxEgAAALKu2jkRiIygrPaYU1Yf0VmsdDo6BwAAALAf595qplBWe6ie+phJlegcWWLGVBUAAAD5YNxbVWI6FZ2hi7LaW5l6RDccb6sCAAAgT4yloJ6hTkNZ7SEzfTM6Q5bwtioAAAByhWPAmUJZ7SE2AT/hO9EBAAAAgENhupoZlNUecmk0OkNmmKomLUTHAAAAAA7DVfKy6hwDLqrMvEkUzbmrCgAAgBwylf60JGW1aOqpZ+YvakZwBBgAAAD5Y5qLjoA2ymrvUFa7OAIMAACAvPKSHwPOEMpqjwxLk9EZssKdn0YBAAAgt6qdJxgRjLLaI01juVKXGfdVAQAAkF9ueiE6AyirveMsV3oIZRUAAAC5ZeXeCJyZ642U1R7h2ZqO9rtUHJsAAABAfnmpv5+lrBYNK66/xFQVAAAA+cZG4EygrPbA2rYzVf0KZRUAAAD55gyisoCy2gOnmvyPWZI6W9PKfL4fAAAAxXA6OgAoqz3R5L6qJMmZqgIAAKAojCFMNMpqDwwbb6xKkomz/fj/27uD37qvKz/g3/soeTIKUqNJFklRb0YgSBTTRQdeOBZRQ8ty01W3+ZeynSzHW2djoG68kgbTKBHGRDtWB1PRQkaDWFFmQWpCsw5NSnq3Cz56ZMe2JL73eH+/+z6fZSzoHceWwe87554DANCHWnKldQ2rTlhlkYRVAAC6sOLnawZBWF2A4gF2Msn3YrYfAIBerPb5mkEQVhfAjdWk1qy3rgEAABalJq+1rmHVCasLIKx6rwoAQF9K0VltTVhdgBJjwBFWAQDoSfVmtTVhlfl5rwoAQH90VhsTVue0s1Mvt66htTr1rRMAAB0yCtyUsDqnw+/k1dY1tFaKEWAAAPpTiyVLLQmrzK/orAIAAIslrDI/Z2sAAOhQiaZMS8LqnF6ZrPgYsK4qAAC9qt6stiSszqlMepewTQAAFPtJREFUs9ILlqpvmwAAoBs12W9dwxlhlbmUeHQOAECf6gr+rFuS49Y1nBFWmY8xYAAAOlWcrmlKWGU+lisBAABLIKzO6WlZ4QVLk3yvdQkAALA0Fiw1JazOqdTVXbBUp0aAAQDomp93GxJWObfivSoAAHRlkuy1ruGMsMq5reJ2NAAA6Nm05KR1DWeEVc7NdjQAAGBZhFXOzyZgAAB6Z6loM8Iq5+MPLQAAK6BmtX7ufVK9WWXkVu0PLQAArIK15Lh1DWeEVc6n5rutSwAAAPolrHIuRWcVAAC688la9lvXcEZY5VycrQEAgP5srxdjwIybszUAAMAyCaucTzUGDAAAnXnYuoBnXXqZX/w3/1B/eGktr5aa7z2d5EqZ5srZX5vWHGQtR5OSvT+ZZO/1q+Vg8eUyIBYsAQAAS/PcsLqzUy+ffCdXp8mflZrLtSY1SZl+8ddNSl7NNK8m+cHx0+R//t96UF7JP25dLb9ZTuk0YwQYAAC6M8lwbqwmzwmrt+7Vq59Ns1FqLpeX/I0nJa/mcf7TLz6qG49r/vf1jTKov3HOr5a8VmrrKgAAgEWalpy0ruFZX/lmdWenXv7V3XotT/PnpebyPB9QprnySs21X+7WzXl+HwAAAJanJIeta3jWH4XVnV/XV4++nWvT5PuL/KBas/Gre/UvFvl70kZJ/n3rGgAAgMWa1nzSuoZnfSGs7uzUy589ybVJyavL+LDp07wmsHagerMKAAC9+WQt+61reNYXwurRt3Nt3rHf55k+zWs9jQRPJvm0dQ0AAADz2l4vx61reNbnYfWXu3VzWR3VL6s1Gzu/rhfyWUs3zVHrEhpwYxUAADpSM6yuajILqzsP65Vas3GRH/z4cf78Ij+PBSrCKgAA9KQkg+qqJrOw+vjTXPhY7jT5/s3dutAlTgAAAJxDycPWJXzZZGenXp4+zWstPvxSydUWnwsAAMC/GtrZmiSZfPZv88NmHz7ND27erJdaff4iPHmag9Y1XLhqDBgAAHoytLM1STKpT9uF1SS58oOLWeq0LE/X8rh1DQ18t3UBAADA4gztbE2STEryb1oW8PiVfLvl5wMAAHydUvNx6xqWrSYnQztbkySTMs2VpgWcjLuzCgAAdKz2f6qyJHuta/gqk+f/Er7J9Y0yyH+wAAAAL2SAm4ATYRUAAGClDXETcCKsAgAAfJ3uR4CT5NgYcNcG2TZfipI/bV0CAABciJIHrUu4CEN92jipk/yhZQHTV1bwTumI1ZLXWtcAAAAszGAbb5OatsdfL5/k05afvyCDnPEGAAD4JpOBjgAnyaSs5XctC/jDP3fQWS3CKgAAdKfmo9YlLFst2W9dw9eZfOtf2oXV6ST/fP16edLq8wEAAFbZUJcrJcnk9dfL48laPm7x4U9qft3icxet1vy2dQ0AAMCClf63AQ91uVIy2wZ8+du52+CD94b8fwwAALDaarrfBjzY5UrJLKy+/u/KH0rJ7kV+8OXL+fuL/Lxl2tosg/6HvEiltunCAwAAC1ZGEFaT5M2NcndaL2bZUSnZff1qGf9ipVVU+x+FAACAJCnTvhcsPanDfa+aPBNWk+RPP82tZd9dnazl4zc3yoWPHV+AQX8rAQAA8KxP14adYb4QVl9/vTz+1lr+dlmBdbKWj3+0Xv7XMn5vAACABer6vWpN9rfXy3HrOr7J5Mv/w+tXy8G3PslfL/o4bCnZ7TqoDnzeGwAAeAmdbwIuAz5Zc+aPwmpy2mH90Wa5lbX8fS15PM8H1En+cFJyq9PR38+t1Qz6WwkAAOAl1L7fq5YRNNsufdNfvLZefr2zU39z8p1cnSZ/Vmouv+hvPK05KK/kH7eult/MX+bwPUn2SusiAACAxSg5Sm1dxPJMa37buobn+cawmpx2WZPcTXL3b/6h/vDSWl4tNd97OsmVMs2Vs183rTnIWo4mJXt/MsneCm77PWxdwAV6lOS7rYsAAIBlqcmDjptRh1ubZfD55blh9Vn/+T+U3yX53ZJqGbWtzXJ4627HX708q2Q/VVgFAKBfJdlvXcOyTJL7rWt4EV/5ZpVzG/zcNwAA8AKm/YbVk5HkFmF1sQbfSgcAAJ6j5F7rEpZp6PdVzwiri1RWJKzWfr9lAgCAnn/eHcN91TPC6gLVEWzUWpBu//ACAEA6/nm3lHG8V02E1UVbjc4qAAB0rHY8BnwykuVKibC6UFub5bAmJ63rWLqSo9YlAADAspSaj1vXsAw1Obm+UfZa1/GihNUFK8lo/uGfV00etK4BAACW5Ci1z+ZMGVFXNRFWF6+MY7MWAADwFUq/jZkysqwirC7Yk9p/Z7XXsQgAAEjNR61LWJbfT3RWV9raCowB9zoWAQAAtXbbWX04lpM1Z4TVBVuZJUvJo9YFAADAopXSZ2d1bWTvVRNhdSlWYclSSr+3pwAAWFmPep0ifCKskmQllizVTv8QAwCw0rrsqtZkf2uzHLau42UJq0uwEkuWYskSAACd6XQT8KXkbusazkNYXYJP1/rvrKborAIA0JlONwGPcQQ4EVaXYnu9HNf0/aazps9vnQAAWFlH6XAT8FhHgBNhdWl6X7JUOg/jAACslprca13DMox1BDgRVpem9L5kaSqsAgDQj15P1ox1BDgRVpdmWvPb1jVcgO7GJAAAWFEdvlcd8whwIqwuzexfitH+i/EiavKodQ0AALAAXb5XHfMIcCKsLlvXo8DO1wAA0INe36uOeQQ4EVaXqvd3q7XDb58AAFg9Pb5XLcn9MY8AJ8LqUvX+brUUS5YAAOjCh60LWLiSf2pdwryE1SXq/t2qzioAAOP3qLdLFzU5+f1k3CPAibC6dJORz4k/V+lzvh8AgJXRXVe1JPe318tx6zrmJawu2UnnS5ZS+/oWCgCA1VL7PFkz6i3AZ4TVJXtrs/TeWTUKDADAWB2V/jqrh1ubpYuGmbB6AUrHo8A1wioAAOPU5cmakt3WJSyKsHoBJh2PApdpf2MTAACsjL9rXcCi1drHCHAirF6IsR/jfQG6qwAAjE5vI8A93FZ9lrB6Abo/YdPj+AQAAF2ryZ3UHLWuY5Eep58R4ERYvTA9n7CpycetawAAgJfU2wjwYW/LXYXVC/JZRw+dv6y4tQoAwMj0NgLc02KlM8LqBbm+UfbS6yjwNPtJXyMUAAD0q8cR4INJ7rSuYdGE1YvV7VbgLtd+AwDQq95GgHe318tx6yIWTVi9QD1vBS7FCRsAAMahtxHgmn7O1TxLWL1Ab22W+zU5aV3HUlRhFQCA4ettBLgm+1ubpcsJTmH1gpVeu6s1D+LdKgAAw9fVCPCk9PdW9YywesF6bdEn3q0CADB4R52NAB++uVG6zRfC6gWbtej73Arc2bdUAAB058OeRoB7PFfzLGG1gUmno8DurQIAMGS15HbrGhalJic9nqt5lrDawGe9fgNyem/1UesyAADgKzwq036Wgpbkfo/nap4lrDZwfaPspd9R4J7eAAAA0I9ftS5gkWryQesalk1YbWQtfbbsqxM2AAAMUUcjwEl2tzZLr82vzwmrjTzp9d2qzioAAANTkzuzJ2tdOOn4XM2zhNVGtjbLYa83V2unXWMAAEaqdjUC/HD2rLB7wmpLJf/UuoQlccIGAICheNTT9N8qvFU9I6w29OZGuVuTk9Z1LFpP/zEAAGD0uuqqbm2Wh62LuCjCamNryd3WNSzc6aHlB63LAACAnhYrrVJXNRFWm3va6/vOjv6jAADAaN3uaLHSSnVVE2G1udnK6R7/pTMKDABAU7WjBsqqdVUTYXUQSslu6xoW7vQbLKPAAAC08qBM81HrIhZk5bqqibA6CG9ulLtJ+jvq29E3WQAAjEtNbrSuYVFWsauaCKvD0WN31SgwAABtPCq1m8bJSnZVE2F1MA4mHS5amma/9rpACgCAIevmXM2qdlUTYXUwttfLcdJld/XvWhcAAMBKOUo/I8Ar21VNhNVBOSn9dSHL6SjwUes6AABYGbdT+/j5c5W7qomwOijXN8peejtjc/ofCm9XAQC4GKWPrmpJ7q9yVzURVgfnSYdvPHu6bwUAwKDdnp1QHL1pcqt1Da0JqwPz1ma5n87O2MzuWz1qXQcAAJ0rea91CQuyu7VZusoE5yGsDlAp2WldwxJ0s5ENAIBB6qKrWpOTVX+rekZYHaA3N8rddNZdjVFgAACWqZOuaim5o6t6SlgdqLXe3q66uQoAwPJ001U9mPiZ+YywOlCP1rJbk5PWdSxUJ5vZAAAYmE66qpOSW9vr5bh1HUMhrA7U9no5Lp3dXbVoCQCAJeilq7o/ew7IjLA6YAeT3NFdBQCAb9BJVzXJL1oXMDTC6oD12F1Nza+SHLUuAwCALnTRVS3J/a3N8rB1HUMjrA5cd93VmqMkH7YuAwCADnTQVa3JyTS51bqOIRJWB67L7moH/1EBAKC5PrqqTtV8LWF1BLrrrjpjAwDAfI46aYAcOlXz9YTVEdheL8eXkg9a17FQFi0BAHB+N3roqj6JUzXfRFgdiTc2y50k3YwHlGk+Ssm91nUAADA6R0kXjY+Hb22W+62LGDJhdURKyU7rGhappovRDQAALlLJe7OlnaNW+wjcSyWsjsjsSHBf3dXkUes6AAAYjUeZdhDySnYsVXo+YXVkevsGpib/vXUNAACMQy15u3UNC3B4baP0tY9mSYTVkZkdC+7mYHCpuR3dVQAAnqfk3mwyb9R6az4tk7A6Qielr6PBuqsAALyAHrqqu7PmEy9AWB2h6xtlL8lu6zoWRXcVAIDnuDn2UzU1OTlY66vptGzC6kgdrOVWTU5a17EouqsAAHyNo3Tws+LT5Iabqi9HWB2p7fVyXErutK5jUWbd1Qet6wAAYFhq8s7YT9WU5L6bqi9PWB2x2RaxblZe15Kfta4BAIABKbk3a2qMVk1OpjH+ex7C6sj1tE2sTPNRSu61rgMAgIGoead1CfO6lHzgpur5CKsjt7VZHpakm5GCmrzXugYAAAbhZuron4k9fGOzdPN076IJqx2Ypp9lS7PbWaMe9QAAYG6PMvKlSjU56WkKsgVhtQNbm+Wwp2VLKbqrAACrrNbxL1WalNwy/jsfYbUT1zbKBzXjvj31udMbWgIrAMAKqsmdknzYuo55lOT+mxvlbus6xk5Y7csvWhewQDeScX+bBgDASzsqyV+1LmIeNTn5/Vputq6jB8JqR7Y2y8NJOhkHrjmqGf/2NwAAXkLJe2Mf/32a3NheL8et6+iBsNqZf1nLTjq5vTq7qTX2DXAAALyIknuZjn4h0e5bm6WbSx2tCaud2V4vxz1tHaslP2tdAwAAS3eU5O3WRczp8GAtt1oX0RNhtUNbm+Vhkt3WdSyCUzYAACug5L3Zks3ROil53/jvYgmrnTpY6+f2ak7fro767QIAAF+jh/Hfkp3rG2WvdRm9EVY7NftW5+et61gIy5YAAHrVw/jvw2sb5YPWRfRIWO1YT9uBS83tlNxrXQcAAItTk3fGPP5bk5Oe9sUMjbDauZ62A+f0WzfjwAAAHajJndn1h9F6mtzY2iy9/Kw9OMJq57raDnz6rVsffy8AAKvtqCR/1bqIeUySO87ULJewugK2NsvDlOy0rmMhat6L26sAAKNWS36aOt6JuZrs/2izOFOzZMLqiri2UT6oGe97gC8Z+yN8AIBVdnN2nnCUZhc3+lhkOnDC6mr5eRfnbGoeJHmvdRkAALy0B6njvvLgnerFEVZXyNZmOZyU9DGuYBwYAGBsRn+mxjvViyWsrpg3N8rdJLut61iIkp/GdmAAgFGoyTuzCbmxeuid6sUSVlfQwVpudfF+dZr9FOPAAAAjcHvMZ2pqcnKwlvdb17FqhNUVtL1ejh+X3Oji/eo0N2pyp3UZAAB8rQfJuN+pPi55d3u9HLeuY9UIqyvq+kbZ6+X96uxGl3FgAIDhOX2nOuIzNaXk5vWNste6jlUkrK6wbt6v1hzV0/erAAAMSAfvVHdnPzPTgLC64q5tlhs9vF+d3eryfhUAYDhujvyd6v61zXKjdR2rTFgl6ef+qnM2AADDMPZ7qoefrOXd1kWsOmGVzI4a/7x1HQvhnA0AQGtHSX7SuojzqsnJScn7Fiq1J6ySJNnaLA/X0sHCpWn2vV8FAGjqJ2NeqDQpuWWh0jAIq3zujc1yJx0sXPJ+FQCgjXq6+Xe8z7JKdixUGg5hlS/oZeFSat5zfxUA4ELdHvNCpSS71zbKB62L4F8Jq/yR2WPyw9Z1zGt2f3W83+wBAIxFyb3UvN26jPOy+XeYhFX+yPZ6OT4peX/0G4Lr7Ai1hUsAAMv0IDV/2bqI86rJvs2/wySs8pWub5S9p8n4v12qeVBH/C0fAMDAnTYHRrpQqSYnj0tu2Pw7TMIqX+utzXK/lNxsXce8SvJhSn7Wug4AgN7Ukp+OdaHSLKi+a/PvcAmrfKPZNrTRbwjONDeSUT/4BwAYlJq8PbvCMEpO1AyfsMpzzR6bjz+wno4Dj/KbPwCAgbk55s2/peSmEzXDJ6zyQro5aZP8JAIrAMA8bqfmndZFnNckuSOojoOwygv7ZC3vjj6w1hyl5KexIRgA4DwejPlETZLdH22WW62L4MUIq7yw7fVy3EVgnWY/px1WgRUA4MU9yOnPUGO165bquAirvJTt9XL8uORGBzdYH9TTDisAAM/3KMlPRnyiZv9gLTqqIyOs8tKub5S9xyXvjj2wlmk+qhn1GAsAwEU4SvKXYw6qn6zlXbdUx6e0LoDxurlbv3+55r+W5JXWtcyjlrxRkh+3rgMAYICOctpRHeWCSkF13HRWObduOqw1t1Pys9Z1AAAMzKiDapJDQXXchFXmchZYW9cxt2luJOO9FQYAsGg1eWesQbUmJycl7wuq4yasMrfrG2WvlNxsXcfcTtewC6wAwMqryduljvPnopqcPC559/pG2WtdC/PxZpWF+eVu3aw111vXMbeSHyd5o3UZAAAtCKoMhbDKQgmsAADjJagyJMIqC/fL3bo5rbk29i3BAisAsEoEVYZGWGUpejlrI7ACAKtAUGWIhFWWRmAFABg+QZWhElZZqo4C639LOniLCwDwDEGVIRNWWbpeAmsteaMkP25dBwDAIgiqDJ2wyoXYeVivHP2//MdSc7l1LfMoyX9Jst26DgCAOf2Pmvy8dRHn9a1L+T+vXy0Hretguf4/4o9Wua0rORUAAAAASUVORK5CYII=","e":1},{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":2,"nm":"Layer 14","refId":"image_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[593.56,557.229,0],"ix":2},"a":{"a":0,"k":[34.116,57.953,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":2,"nm":"Layer 15","refId":"image_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[539.695,542.008,0],"ix":2},"a":{"a":0,"k":[20.421,32.984,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":2,"nm":"Layer 17","refId":"image_3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":53,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":73,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":103,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":123,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":156,"s":[100]},{"t":176.000007168627,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[539.695,542.008,0],"ix":2},"a":{"a":0,"k":[20.421,32.984,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":53,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":73,"s":[189,189,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":103,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":123,"s":[189,189,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":156,"s":[100,100,100]},{"t":176.000007168627,"s":[189,189,100]}],"ix":6}},"ao":0,"ef":[{"ty":21,"nm":"Fill","np":9,"mn":"ADBE Fill","ix":1,"en":1,"ef":[{"ty":10,"nm":"Fill Mask","mn":"ADBE Fill-0001","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":7,"nm":"All Masks","mn":"ADBE Fill-0007","ix":2,"v":{"a":0,"k":0,"ix":2}},{"ty":2,"nm":"Color","mn":"ADBE Fill-0002","ix":3,"v":{"a":0,"k":[1,1,1,1],"ix":3}},{"ty":7,"nm":"Invert","mn":"ADBE Fill-0006","ix":4,"v":{"a":0,"k":0,"ix":4}},{"ty":0,"nm":"Horizontal Feather","mn":"ADBE Fill-0003","ix":5,"v":{"a":0,"k":0,"ix":5}},{"ty":0,"nm":"Vertical Feather","mn":"ADBE Fill-0004","ix":6,"v":{"a":0,"k":0,"ix":6}},{"ty":0,"nm":"Opacity","mn":"ADBE Fill-0005","ix":7,"v":{"a":0,"k":1,"ix":7}}]}],"ip":103.000004195276,"op":124.000005050624,"st":53.0000021587343,"bm":0},{"ddd":0,"ind":4,"ty":2,"nm":"Layer 16","refId":"image_3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":20,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":50,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":70,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":103,"s":[100]},{"t":123.000005009893,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[539.695,542.008,0],"ix":2},"a":{"a":0,"k":[20.421,32.984,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":0,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":20,"s":[189,189,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":50,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":70,"s":[189,189,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":103,"s":[100,100,100]},{"t":123.000005009893,"s":[189,189,100]}],"ix":6}},"ao":0,"ef":[{"ty":21,"nm":"Fill","np":9,"mn":"ADBE Fill","ix":1,"en":1,"ef":[{"ty":10,"nm":"Fill Mask","mn":"ADBE Fill-0001","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":7,"nm":"All Masks","mn":"ADBE Fill-0007","ix":2,"v":{"a":0,"k":0,"ix":2}},{"ty":2,"nm":"Color","mn":"ADBE Fill-0002","ix":3,"v":{"a":0,"k":[1,1,1,1],"ix":3}},{"ty":7,"nm":"Invert","mn":"ADBE Fill-0006","ix":4,"v":{"a":0,"k":0,"ix":4}},{"ty":0,"nm":"Horizontal Feather","mn":"ADBE Fill-0003","ix":5,"v":{"a":0,"k":0,"ix":5}},{"ty":0,"nm":"Vertical Feather","mn":"ADBE Fill-0004","ix":6,"v":{"a":0,"k":0,"ix":6}},{"ty":0,"nm":"Opacity","mn":"ADBE Fill-0005","ix":7,"v":{"a":0,"k":1,"ix":7}}]}],"ip":50.0000020365418,"op":71.0000028918893,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":2,"nm":"Layer 12","refId":"image_3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[100]},{"t":20.0000008146167,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[539.695,542.008,0],"ix":2},"a":{"a":0,"k":[20.421,32.984,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":0,"s":[100,100,100]},{"t":20.0000008146167,"s":[189,189,100]}],"ix":6}},"ao":0,"ef":[{"ty":21,"nm":"Fill","np":9,"mn":"ADBE Fill","ix":1,"en":1,"ef":[{"ty":10,"nm":"Fill Mask","mn":"ADBE Fill-0001","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":7,"nm":"All Masks","mn":"ADBE Fill-0007","ix":2,"v":{"a":0,"k":0,"ix":2}},{"ty":2,"nm":"Color","mn":"ADBE Fill-0002","ix":3,"v":{"a":0,"k":[1,1,1,1],"ix":3}},{"ty":7,"nm":"Invert","mn":"ADBE Fill-0006","ix":4,"v":{"a":0,"k":0,"ix":4}},{"ty":0,"nm":"Horizontal Feather","mn":"ADBE Fill-0003","ix":5,"v":{"a":0,"k":0,"ix":5}},{"ty":0,"nm":"Vertical Feather","mn":"ADBE Fill-0004","ix":6,"v":{"a":0,"k":0,"ix":6}},{"ty":0,"nm":"Opacity","mn":"ADBE Fill-0005","ix":7,"v":{"a":0,"k":1,"ix":7}}]}],"ip":0,"op":21.0000008553475,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":2,"nm":"Layer 13","refId":"image_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[539.059,389.907,0],"ix":2},"a":{"a":0,"k":[87,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":150.000006109625,"st":0,"bm":0}]}]'),layers$1=JSON.parse(`[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 10","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[540,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-73,0]],"o":[[0,0],[0,0],[73,0]],"v":[[95,39],[-43,39],[24,107]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.141176470588,0.215686289469,0.384313755409,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[694,516.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-87,18],[-63.5,-3],[-39.75,19.5]],"c":false}]},{"i":{"x":0.07,"y":1},"o":{"x":0.333,"y":0},"t":8.25,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-83,18],[-61.5,19.5],[-39.5,19.5]],"c":false}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"t":22,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-87,18],[-63.5,-3],[-39.75,19.5]],"c":false}]},{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":75,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-87,18],[-63.5,-3],[-39.75,19.5]],"c":false}]},{"i":{"x":0.07,"y":1},"o":{"x":0.333,"y":0},"t":83.25,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-83,18],[-61.5,19.5],[-39.5,19.5]],"c":false}]},{"t":97.000003950891,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-87,18],[-63.5,-3],[-39.75,19.5]],"c":false}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.141176470588,0.215686289469,0.384313755409,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[552,516.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-87,18],[-63.5,-3],[-39.75,19.5]],"c":false}]},{"i":{"x":0.07,"y":1},"o":{"x":0.333,"y":0},"t":8.25,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-83,18],[-61.5,19.5],[-39.5,19.5]],"c":false}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"t":22,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-87,18],[-63.5,-3],[-39.75,19.5]],"c":false}]},{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":75,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-87,18],[-63.5,-3],[-39.75,19.5]],"c":false}]},{"i":{"x":0.07,"y":1},"o":{"x":0.333,"y":0},"t":83.25,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-83,18],[-61.5,19.5],[-39.5,19.5]],"c":false}]},{"t":97.000003950891,"s":[{"i":[[0,0],[-21,0],[0,1]],"o":[[0,0],[21,0],[0,-1]],"v":[[-87,18],[-63.5,-3],[-39.75,19.5]],"c":false}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.141176470588,0.215686289469,0.384313755409,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[541,539,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[92,92],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.141176470588,0.215686289469,0.384313755409,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[339,-156],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":25,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":48.745,"s":[29]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":73.809,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":100.191,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":123.936,"s":[29]},{"t":149.000006068894,"s":[0]}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":25,"s":[-50]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":48.745,"s":[77]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":73.809,"s":[299]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":100.191,"s":[-50]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":123.936,"s":[77]},{"t":149.000006068894,"s":[299]}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":25.0000010182709,"op":175.000007127896,"st":25.0000010182709,"bm":0},{"ddd":0,"ind":5,"ty":2,"nm":"Layer 9","refId":"image_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[879.214,383.971,0],"ix":2},"a":{"a":0,"k":[4.522,17.257,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":12,"s":[0,0,100]},{"t":37.0000015070409,"s":[100,100,100]}],"ix":6}},"ao":0,"ip":12.00000048877,"op":162.000006598395,"st":12.00000048877,"bm":0},{"ddd":0,"ind":6,"ty":2,"nm":"Layer 10","refId":"image_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[879.7,383.304,0],"ix":2},"a":{"a":0,"k":[32.743,32.744,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,16.667]},"t":0,"s":[0,0,100]},{"t":25.0000010182709,"s":[100,100,100]}],"ix":6}},"ao":0,"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":0,"nm":"Lock","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1.845,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3.693,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5.538,"s":[-3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":7.385,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":9.23,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":11.076,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":12.924,"s":[-3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":14.769,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":16.616,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":18.463,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":20.308,"s":[-3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":22,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":50,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":51.845,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":53.693,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":55.538,"s":[-3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":57.385,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":59.23,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":61.076,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":62.924,"s":[-3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":64.769,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":66.616,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":68.463,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":70.308,"s":[-3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":72,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":103,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":104.845,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":106.693,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":108.538,"s":[-3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":110.385,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":112.23,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":114.076,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":115.924,"s":[-3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":117.769,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":119.616,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":121.463,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":123.308,"s":[-3]},{"t":125.000005091354,"s":[0]}],"ix":10},"p":{"a":0,"k":[788,317.833,0],"ix":2},"a":{"a":0,"k":[540,414,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":1080,"h":1080,"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":2,"nm":"Layer 15","refId":"image_5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,1080,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":9,"ty":2,"nm":"Layer 18","refId":"image_6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[619.385,432.592,0],"ix":2},"a":{"a":0,"k":[191.685,1.721,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":2,"nm":"Layer 20","refId":"image_7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[563.346,602.216,0],"ix":2},"a":{"a":0,"k":[344.909,222.384,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":2,"nm":"Layer 3","refId":"image_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[564.133,822.589,0],"ix":2},"a":{"a":0,"k":[393.065,2.501,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":0,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":38.134,"s":[127,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":73.729,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":111.866,"s":[127,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":150,"s":[100,100,100]},{"t":164.000006679857,"s":[127,100,100]}],"ix":6}},"ao":0,"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":12,"ty":2,"nm":"Layer 6","refId":"image_9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[523.192,502.903,0],"ix":2},"a":{"a":0,"k":[469.161,319.936,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"Paint","np":4,"mn":"ADBE Paint","ix":1,"en":1,"ef":[{"ty":7,"nm":"Paint on Transparent","mn":"ADBE Paint On Transparent","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":29.9700012207031,"nm":"Strokes","np":17,"mn":"ADBE Paint Group","ix":2,"en":1,"ef":[]}]}],"ip":-101.000004113814,"op":153.000006231818,"st":-101.000004113814,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[96,486,0],"ix":2},"a":{"a":0,"k":[440,-234,0],"ix":1},"s":{"a":0,"k":[50,50,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"Wiggle - position","np":4,"mn":"ADBE CM WigglePosition","ix":1,"en":1,"ef":[{"ty":0,"nm":"Wiggle Speed (wigs/sec)","mn":"ADBE CM WigglePosition-0001","ix":1,"v":{"a":0,"k":1,"ix":1}},{"ty":0,"nm":"Wiggle Amount (pixels)","mn":"ADBE CM WigglePosition-0002","ix":2,"v":{"a":0,"k":10,"ix":2}}]},{"ty":5,"nm":"(Transform)","np":14,"mn":"ADBE Geometry2","ix":2,"en":1,"ef":[{"ty":3,"nm":"Anchor Point","mn":"ADBE Geometry2-0001","ix":1,"v":{"a":0,"k":[0,0],"ix":1}},{"ty":3,"nm":"Position","mn":"ADBE Geometry2-0002","ix":2,"v":{"a":0,"k":[0,0],"ix":2,"x":"var $bm_rt;\\n$bm_rt = wiggle(effect('Wiggle - position')('Wiggle Speed (wigs/sec)'), effect('Wiggle - position')('Wiggle Amount (pixels)'));"}},{"ty":7,"nm":"Uniform Scale","mn":"ADBE Geometry2-0011","ix":3,"v":{"a":0,"k":1,"ix":3}},{"ty":0,"nm":"Scale","mn":"ADBE Geometry2-0003","ix":4,"v":{"a":0,"k":100,"ix":4}},{"ty":0,"nm":" ","mn":"ADBE Geometry2-0004","ix":5,"v":{"a":0,"k":100,"ix":5}},{"ty":0,"nm":"Skew","mn":"ADBE Geometry2-0005","ix":6,"v":{"a":0,"k":0,"ix":6}},{"ty":0,"nm":"Skew Axis","mn":"ADBE Geometry2-0006","ix":7,"v":{"a":0,"k":0,"ix":7}},{"ty":0,"nm":"Rotation","mn":"ADBE Geometry2-0007","ix":8,"v":{"a":0,"k":0,"ix":8}},{"ty":0,"nm":"Opacity","mn":"ADBE Geometry2-0008","ix":9,"v":{"a":0,"k":100,"ix":9}},{"ty":7,"nm":"Use Compositionâs Shutter Angle","mn":"ADBE Geometry2-0009","ix":10,"v":{"a":0,"k":1,"ix":10}},{"ty":0,"nm":"Shutter Angle","mn":"ADBE Geometry2-0010","ix":11,"v":{"a":0,"k":0,"ix":11}},{"ty":7,"nm":"Sampling","mn":"ADBE Geometry2-0012","ix":12,"v":{"a":0,"k":1,"ix":12}}]}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[56,56],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.772549079446,0.850980451995,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[440,-234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[232,270,0],"ix":2},"a":{"a":0,"k":[440,-234,0],"ix":1},"s":{"a":0,"k":[130,130,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"Wiggle - position","np":4,"mn":"ADBE CM WigglePosition","ix":1,"en":1,"ef":[{"ty":0,"nm":"Wiggle Speed (wigs/sec)","mn":"ADBE CM WigglePosition-0001","ix":1,"v":{"a":0,"k":1,"ix":1}},{"ty":0,"nm":"Wiggle Amount (pixels)","mn":"ADBE CM WigglePosition-0002","ix":2,"v":{"a":0,"k":10,"ix":2}}]},{"ty":5,"nm":"(Transform)","np":14,"mn":"ADBE Geometry2","ix":2,"en":1,"ef":[{"ty":3,"nm":"Anchor Point","mn":"ADBE Geometry2-0001","ix":1,"v":{"a":0,"k":[0,0],"ix":1}},{"ty":3,"nm":"Position","mn":"ADBE Geometry2-0002","ix":2,"v":{"a":0,"k":[0,0],"ix":2,"x":"var $bm_rt;\\n$bm_rt = wiggle(effect('Wiggle - position')('Wiggle Speed (wigs/sec)'), effect('Wiggle - position')('Wiggle Amount (pixels)'));"}},{"ty":7,"nm":"Uniform Scale","mn":"ADBE Geometry2-0011","ix":3,"v":{"a":0,"k":1,"ix":3}},{"ty":0,"nm":"Scale","mn":"ADBE Geometry2-0003","ix":4,"v":{"a":0,"k":100,"ix":4}},{"ty":0,"nm":" ","mn":"ADBE Geometry2-0004","ix":5,"v":{"a":0,"k":100,"ix":5}},{"ty":0,"nm":"Skew","mn":"ADBE Geometry2-0005","ix":6,"v":{"a":0,"k":0,"ix":6}},{"ty":0,"nm":"Skew Axis","mn":"ADBE Geometry2-0006","ix":7,"v":{"a":0,"k":0,"ix":7}},{"ty":0,"nm":"Rotation","mn":"ADBE Geometry2-0007","ix":8,"v":{"a":0,"k":0,"ix":8}},{"ty":0,"nm":"Opacity","mn":"ADBE Geometry2-0008","ix":9,"v":{"a":0,"k":100,"ix":9}},{"ty":7,"nm":"Use Compositionâs Shutter Angle","mn":"ADBE Geometry2-0009","ix":10,"v":{"a":0,"k":1,"ix":10}},{"ty":0,"nm":"Shutter Angle","mn":"ADBE Geometry2-0010","ix":11,"v":{"a":0,"k":0,"ix":11}},{"ty":7,"nm":"Sampling","mn":"ADBE Geometry2-0012","ix":12,"v":{"a":0,"k":1,"ix":12}}]}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[56,56],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.772549079446,0.850980451995,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[440,-234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":15,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[560,78,0],"ix":2},"a":{"a":0,"k":[440,-234,0],"ix":1},"s":{"a":0,"k":[80,80,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"Wiggle - position","np":4,"mn":"ADBE CM WigglePosition","ix":1,"en":1,"ef":[{"ty":0,"nm":"Wiggle Speed (wigs/sec)","mn":"ADBE CM WigglePosition-0001","ix":1,"v":{"a":0,"k":1,"ix":1}},{"ty":0,"nm":"Wiggle Amount (pixels)","mn":"ADBE CM WigglePosition-0002","ix":2,"v":{"a":0,"k":10,"ix":2}}]},{"ty":5,"nm":"(Transform)","np":14,"mn":"ADBE Geometry2","ix":2,"en":1,"ef":[{"ty":3,"nm":"Anchor Point","mn":"ADBE Geometry2-0001","ix":1,"v":{"a":0,"k":[0,0],"ix":1}},{"ty":3,"nm":"Position","mn":"ADBE Geometry2-0002","ix":2,"v":{"a":0,"k":[0,0],"ix":2,"x":"var $bm_rt;\\n$bm_rt = wiggle(effect('Wiggle - position')('Wiggle Speed (wigs/sec)'), effect('Wiggle - position')('Wiggle Amount (pixels)'));"}},{"ty":7,"nm":"Uniform Scale","mn":"ADBE Geometry2-0011","ix":3,"v":{"a":0,"k":1,"ix":3}},{"ty":0,"nm":"Scale","mn":"ADBE Geometry2-0003","ix":4,"v":{"a":0,"k":100,"ix":4}},{"ty":0,"nm":" ","mn":"ADBE Geometry2-0004","ix":5,"v":{"a":0,"k":100,"ix":5}},{"ty":0,"nm":"Skew","mn":"ADBE Geometry2-0005","ix":6,"v":{"a":0,"k":0,"ix":6}},{"ty":0,"nm":"Skew Axis","mn":"ADBE Geometry2-0006","ix":7,"v":{"a":0,"k":0,"ix":7}},{"ty":0,"nm":"Rotation","mn":"ADBE Geometry2-0007","ix":8,"v":{"a":0,"k":0,"ix":8}},{"ty":0,"nm":"Opacity","mn":"ADBE Geometry2-0008","ix":9,"v":{"a":0,"k":100,"ix":9}},{"ty":7,"nm":"Use Compositionâs Shutter Angle","mn":"ADBE Geometry2-0009","ix":10,"v":{"a":0,"k":1,"ix":10}},{"ty":0,"nm":"Shutter Angle","mn":"ADBE Geometry2-0010","ix":11,"v":{"a":0,"k":0,"ix":11}},{"ty":7,"nm":"Sampling","mn":"ADBE Geometry2-0012","ix":12,"v":{"a":0,"k":1,"ix":12}}]}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[56,56],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.772549079446,0.850980451995,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[440,-234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":16,"ty":4,"nm":"Shape Layer 7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1004,586,0],"ix":2},"a":{"a":0,"k":[440,-234,0],"ix":1},"s":{"a":0,"k":[30,30,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"Wiggle - position","np":4,"mn":"ADBE CM WigglePosition","ix":1,"en":1,"ef":[{"ty":0,"nm":"Wiggle Speed (wigs/sec)","mn":"ADBE CM WigglePosition-0001","ix":1,"v":{"a":0,"k":1,"ix":1}},{"ty":0,"nm":"Wiggle Amount (pixels)","mn":"ADBE CM WigglePosition-0002","ix":2,"v":{"a":0,"k":10,"ix":2}}]},{"ty":5,"nm":"(Transform)","np":14,"mn":"ADBE Geometry2","ix":2,"en":1,"ef":[{"ty":3,"nm":"Anchor Point","mn":"ADBE Geometry2-0001","ix":1,"v":{"a":0,"k":[0,0],"ix":1}},{"ty":3,"nm":"Position","mn":"ADBE Geometry2-0002","ix":2,"v":{"a":0,"k":[0,0],"ix":2,"x":"var $bm_rt;\\n$bm_rt = wiggle(effect('Wiggle - position')('Wiggle Speed (wigs/sec)'), effect('Wiggle - position')('Wiggle Amount (pixels)'));"}},{"ty":7,"nm":"Uniform Scale","mn":"ADBE Geometry2-0011","ix":3,"v":{"a":0,"k":1,"ix":3}},{"ty":0,"nm":"Scale","mn":"ADBE Geometry2-0003","ix":4,"v":{"a":0,"k":100,"ix":4}},{"ty":0,"nm":" ","mn":"ADBE Geometry2-0004","ix":5,"v":{"a":0,"k":100,"ix":5}},{"ty":0,"nm":"Skew","mn":"ADBE Geometry2-0005","ix":6,"v":{"a":0,"k":0,"ix":6}},{"ty":0,"nm":"Skew Axis","mn":"ADBE Geometry2-0006","ix":7,"v":{"a":0,"k":0,"ix":7}},{"ty":0,"nm":"Rotation","mn":"ADBE Geometry2-0007","ix":8,"v":{"a":0,"k":0,"ix":8}},{"ty":0,"nm":"Opacity","mn":"ADBE Geometry2-0008","ix":9,"v":{"a":0,"k":100,"ix":9}},{"ty":7,"nm":"Use Compositionâs Shutter Angle","mn":"ADBE Geometry2-0009","ix":10,"v":{"a":0,"k":1,"ix":10}},{"ty":0,"nm":"Shutter Angle","mn":"ADBE Geometry2-0010","ix":11,"v":{"a":0,"k":0,"ix":11}},{"ty":7,"nm":"Sampling","mn":"ADBE Geometry2-0012","ix":12,"v":{"a":0,"k":1,"ix":12}}]}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[56,56],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.772549079446,0.850980451995,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[440,-234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150.000006109625,"st":0,"bm":0},{"ddd":0,"ind":17,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[953.031,142.967,0],"ix":2},"a":{"a":0,"k":[440,-234,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"ef":[{"ty":5,"nm":"Wiggle - position","np":4,"mn":"ADBE CM WigglePosition","ix":1,"en":1,"ef":[{"ty":0,"nm":"Wiggle Speed (wigs/sec)","mn":"ADBE CM WigglePosition-0001","ix":1,"v":{"a":0,"k":0.8,"ix":1}},{"ty":0,"nm":"Wiggle Amount (pixels)","mn":"ADBE CM WigglePosition-0002","ix":2,"v":{"a":0,"k":10,"ix":2}}]},{"ty":5,"nm":"(Transform)","np":14,"mn":"ADBE Geometry2","ix":2,"en":1,"ef":[{"ty":3,"nm":"Anchor Point","mn":"ADBE Geometry2-0001","ix":1,"v":{"a":0,"k":[0,0],"ix":1}},{"ty":3,"nm":"Position","mn":"ADBE Geometry2-0002","ix":2,"v":{"a":0,"k":[0,0],"ix":2,"x":"var $bm_rt;\\n$bm_rt = wiggle(effect('Wiggle - position')('Wiggle Speed (wigs/sec)'), effect('Wiggle - position')('Wiggle Amount (pixels)'));"}},{"ty":7,"nm":"Uniform Scale","mn":"ADBE Geometry2-0011","ix":3,"v":{"a":0,"k":1,"ix":3}},{"ty":0,"nm":"Scale","mn":"ADBE Geometry2-0003","ix":4,"v":{"a":0,"k":100,"ix":4}},{"ty":0,"nm":" ","mn":"ADBE Geometry2-0004","ix":5,"v":{"a":0,"k":100,"ix":5}},{"ty":0,"nm":"Skew","mn":"ADBE Geometry2-0005","ix":6,"v":{"a":0,"k":0,"ix":6}},{"ty":0,"nm":"Skew Axis","mn":"ADBE Geometry2-0006","ix":7,"v":{"a":0,"k":0,"ix":7}},{"ty":0,"nm":"Rotation","mn":"ADBE Geometry2-0007","ix":8,"v":{"a":0,"k":0,"ix":8}},{"ty":0,"nm":"Opacity","mn":"ADBE Geometry2-0008","ix":9,"v":{"a":0,"k":100,"ix":9}},{"ty":7,"nm":"Use Compositionâs Shutter Angle","mn":"ADBE Geometry2-0009","ix":10,"v":{"a":0,"k":1,"ix":10}},{"ty":0,"nm":"Shutter Angle","mn":"ADBE Geometry2-0010","ix":11,"v":{"a":0,"k":0,"ix":11}},{"ty":7,"nm":"Sampling","mn":"ADBE Geometry2-0012","ix":12,"v":{"a":0,"k":1,"ix":12}}]}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[56,56],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.772549079446,0.850980451995,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[440,-234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150.000006109625,"st":0,"bm":0}]`),markers$1=[],permissionAnimation={v:v$1,meta,fr:fr$1,ip:ip$1,op:op$1,w:w$1,h:h$1,nm:nm$1,ddd:ddd$1,assets:assets$1,layers:layers$1,markers:markers$1},permission_protect=()=>{const t=useNavigate(),e=reactExports.useRef(null);return reactExports.useEffect(()=>{const n=lottie.loadAnimation({container:e.current,renderer:"svg",loop:!0,autoplay:!0,animationData:permissionAnimation});return()=>n.destroy()},[]),jsxRuntimeExports.jsxs("div",{className:"permission-container",children:[jsxRuntimeExports.jsxs("div",{className:"permission-title-container",children:[jsxRuntimeExports.jsx("h3",{className:"permission-title",children:"請先登入才可使用此功能"}),jsxRuntimeExports.jsx("button",{onClick:()=>t("/login"),children:"前往登入"})]}),jsxRuntimeExports.jsx("div",{className:"permission-animation-container",children:jsxRuntimeExports.jsx("div",{ref:e,className:"permission-animation"})})]})},App$3=({})=>{const{userData:t}=useAuth();return jsxRuntimeExports.jsxs("div",{className:"background",children:[jsxRuntimeExports.jsx("h1",{className:"game-title",children:"Tninun TAYAL - 編織泰雅"}),t==null?jsxRuntimeExports.jsx(permission_protect,{}):jsxRuntimeExports.jsx("div",{className:"game-background",children:jsxRuntimeExports.jsx(Game_Start,{})})]})},SideBar=({})=>{const t={quiz:jsxRuntimeExports.jsx(ClipboardList,{size:24,fill:"#A6E3A1",color:"#28A745"}),situation:jsxRuntimeExports.jsx(ChartPie,{size:24,color:"#007BFF"}),review:jsxRuntimeExports.jsx(Star,{size:24,fill:"#FFECB3",color:"#FFD700"}),play:jsxRuntimeExports.jsx(Play,{size:22,fill:"#8B0000",color:"#8B0000"}),menu:jsxRuntimeExports.jsx(Menu,{size:25,color:"#8B0000"}),close:jsxRuntimeExports.jsx(X,{size:24,color:"#8B0000"})},e=[{key:"quiz",text:"開始測驗"},{key:"situation",text:"答題情形"},{key:"review",text:"重點複習"}],n=useNavigate(),[i,o]=reactExports.useState(!1),l=useLocation().pathname,[u,f]=reactExports.useState(l),d=p=>{let g="/quiz";g+=p.includes("quiz")?"":"/"+p,n(g),f(p)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"bar-container",children:[jsxRuntimeExports.jsx("h2",{className:"bar-title",children:"測驗選單"}),jsxRuntimeExports.jsxs("div",{className:"bar-items",children:[jsxRuntimeExports.jsxs("div",{className:`bar-item ${["situation","review","recommon"].includes(u)?"":"active"}`,onClick:()=>{d("quiz")},children:[jsxRuntimeExports.jsx("span",{children:"基礎-等級測驗"}),jsxRuntimeExports.jsx("div",{className:`func-hint ${["situation","review","recommon"].includes(u)?"":"active"}`,children:t.play})]}),jsxRuntimeExports.jsxs("div",{className:`bar-item ${u=="recommon"?"active":""}`,onClick:()=>{d("recommon")},children:[jsxRuntimeExports.jsx("span",{children:"進階-推薦測驗"}),jsxRuntimeExports.jsx("div",{className:`func-hint ${u=="recommon"?"active":""}`,children:t.play})]}),jsxRuntimeExports.jsx("h2",{className:"bar-title",children:"紀錄"}),jsxRuntimeExports.jsxs("div",{className:`bar-item ${u=="situation"?"active":""}`,onClick:()=>{d("situation")},children:[jsxRuntimeExports.jsx("div",{className:"bar-item-chart",style:{background:"#A7C7E7"},children:t.situation}),jsxRuntimeExports.jsx("span",{children:"答題情形"}),jsxRuntimeExports.jsx("div",{className:`func-hint ${u=="situation"?"active":""}`,children:t.play})]}),jsxRuntimeExports.jsxs("div",{className:`bar-item ${u=="review"?"active":""}`,onClick:()=>{d("review")},children:[jsxRuntimeExports.jsx("div",{className:"bar-item-chart",children:t.review}),jsxRuntimeExports.jsx("span",{children:"重點複習"}),jsxRuntimeExports.jsx("div",{className:`func-hint ${u=="review"?"active":""}`,children:t.play})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mobile-bar-menu",children:[jsxRuntimeExports.jsxs("button",{className:"mobile-menu-button",onClick:()=>o(!i),children:[t[u],jsxRuntimeExports.jsx("div",{className:"mobile-menu-indicator",children:t.menu})]}),i&&jsxRuntimeExports.jsxs("div",{className:"mobile-menu",children:[jsxRuntimeExports.jsxs("div",{className:"mobile-menu-header",children:[jsxRuntimeExports.jsx("span",{children:"功能選單"}),jsxRuntimeExports.jsx("button",{className:"mobile-closeBtn",onClick:()=>o(!1),children:t.close})]}),jsxRuntimeExports.jsx("div",{className:"mobile-menu-items",children:e.map(({key:p,text:g})=>jsxRuntimeExports.jsxs("div",{className:"mobile-menu-item",onClick:()=>{d(p),o(!1)},children:[t[p]," ",jsxRuntimeExports.jsx("span",{children:g})]},p))})]})]})]})},App$2=({})=>{const{userData:t}=useAuth();return jsxRuntimeExports.jsx("div",{className:"quiz-body",children:t==null?jsxRuntimeExports.jsx(permission_protect,{}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SideBar,{}),jsxRuntimeExports.jsx("div",{className:"quiz-content-container",children:jsxRuntimeExports.jsx(Outlet,{})})]})})},Quiz=({})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"quiz-title",children:"泰雅語線上測驗"}),jsxRuntimeExports.jsx(Outlet,{})]}),RecommonImg="/LinguaRoot/assets/recommon-CQ95Vop5.png",Panel_Start=({})=>{const t=useNavigate(),e=[{name:"初級",short:"初",time:"5 分鐘",type:"是非題"},{name:"中級",short:"中",time:"10 分鐘",type:"選擇題"},{name:"中高級",short:"中+",time:"10 分鐘",type:"配合題"},{name:"高級",short:"高",time:"20 分鐘",type:"閱讀填空"}],i=(o=>1)();return jsxRuntimeExports.jsx("div",{className:"panel-start-container",children:jsxRuntimeExports.jsxs("div",{className:"panel-start-card",children:[jsxRuntimeExports.jsx("p",{className:"panel-subtitle",children:"請選擇你的測驗等級"}),jsxRuntimeExports.jsx("div",{className:"level-selection",children:e.map((o,l)=>jsxRuntimeExports.jsxs("div",{className:`level-card level-${l+1}`,children:[l===i&&jsxRuntimeExports.jsx("img",{src:RecommonImg,className:"level-recommend-img"}),jsxRuntimeExports.jsx("div",{className:"level-card-icon",children:jsxRuntimeExports.jsx("span",{className:"level-icon-text",children:o.short})}),jsxRuntimeExports.jsx("div",{className:"level-card-title",children:o.name}),jsxRuntimeExports.jsxs("div",{className:"level-card-info",children:[jsxRuntimeExports.jsx("span",{style:{color:"#8B0000",border:"1px solid #8B0000"},children:o.type}),jsxRuntimeExports.jsxs("span",{children:["預計時間：",o.time]})]}),jsxRuntimeExports.jsx("button",{className:"level-card-btn",onClick:()=>t(`/quiz/${l+1}`),children:"選擇"})]},l))})]})})},Box=({dataLen:t,userAnswers:e,userStars:n,setCurrentQuestionIndex:i})=>{const{level:o}=useParams(),l=useNavigate(),u=Array.from({length:t},(z,U)=>(U+1).toString()),[f,d]=reactExports.useState(0),[p,g]=reactExports.useState(!1),E=reactExports.useRef(null),A=reactExports.useRef(0);reactExports.useEffect(()=>(p&&(E.current=setInterval(()=>{d(Date.now()-A.current)},1e3)),()=>{clearInterval(E.current)}),[p]);const R=()=>{g(!0),A.current=Date.now()-f},I=()=>{d(0),g(!1)},j=()=>{let z=Math.floor(f/6e4%60),U=Math.floor(f/1e3%60);return z=String(z).padStart(2,"0"),U=String(U).padStart(2,"0"),`${z}:${U}`};reactExports.useEffect(()=>{R()},[]);const q=z=>{i(z)},L=()=>{I(),!((e.length==0||e.length!=t)&&!window.confirm("⚠️您尚未作答完成，確定要繳交嗎？"))&&l(`/quiz/${o}/submit`)};return jsxRuntimeExports.jsxs("div",{className:"box-container",children:[jsxRuntimeExports.jsx("h4",{className:"box-title",children:"測驗導覽"}),jsxRuntimeExports.jsx("div",{className:"box-question-list",children:u.map((z,U)=>{const W=e[U]!==void 0,H=n[U]==="T";return jsxRuntimeExports.jsxs("button",{className:`box-question-btn ${W?"answer":""}`,onClick:()=>{q(U)},children:[z,H&&jsxRuntimeExports.jsx("span",{className:"star-indicator",children:"⭐"})]},U)})}),jsxRuntimeExports.jsxs("div",{className:"box-timer",children:[jsxRuntimeExports.jsx(Timer,{size:20})," 作答時間：",j()]}),jsxRuntimeExports.jsx("button",{className:"box-submit-btn",onClick:L,children:"繳交試卷"})]})},v="5.5.8",fr=50,ip=0,op=147,w=800,h=600,nm="Paperplane",ddd=0,assets=[{id:"comp_0",layers:[{ddd:0,ind:1,ty:4,nm:"planete Outlines - Group 4",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:38,s:[50]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:88,s:[50]},{t:120,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[468.336,323.378,0],to:[-29,0,0],ti:[29,0,0]},{t:102,s:[294.336,323.378,0]}],ix:2},a:{a:0,k:[453.672,304.756,0],ix:1},s:{a:0,k:[50,50,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[6.742,0],[.741,-.14],[0,.074],[13.484,0],[1.669,-.361],[19.79,0],[3.317,-19.082],[2.691,0],[0,-13.484],[-.048,-.629],[2.405,0],[0,-6.742],[-6.742,0],[0,0],[0,6.743]],o:[[-.781,0],[.001,-.074],[0,-13.484],[-1.778,0],[-3.594,-18.742],[-20.03,0],[-2.421,-.804],[-13.485,0],[0,.642],[-1.89,-1.199],[-6.742,0],[0,6.743],[0,0],[6.742,0],[0,-6.742]],v:[[75.134,16.175],[72.85,16.396],[72.856,16.175],[48.44,-8.241],[43.262,-7.685],[3.406,-40.591],[-36.571,-6.995],[-44.269,-8.241],[-68.685,16.175],[-68.604,18.079],[-75.133,16.175],[-87.341,28.383],[-75.133,40.592],[75.134,40.592],[87.342,28.383]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.8254,.815,.8146,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[453.672,304.756],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:151,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Merged Shape Layer",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.547],y:[0]},t:0,s:[0]},{i:{x:[.845],y:[1]},o:{x:[.333],y:[0]},t:77,s:[35]},{t:150,s:[0]}],ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[390.319,298.2,0],to:[0,-2.583,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:44,s:[390.319,282.7,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:110,s:[390.319,319.25,0],to:[0,0,0],ti:[0,0,0]},{t:150,s:[390.319,298.2,0]}],ix:2},a:{a:0,k:[664.319,256.2,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[18.967,-3.189],[-18.967,19.935],[-.949,-19.935]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.6078,.1059,.1882,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[236.879,292.737],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[633.939,275.369],ix:2},a:{a:0,k:[236.879,292.737],ix:1},s:{a:0,k:[50,50],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"planete Outlines - Group 1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-98.335,64.79],[-105.619,4.984],[105.619,-64.79],[-80.316,24.919]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.846,.274,.3693,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[316.247,247.882],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[673.623,252.941],ix:2},a:{a:0,k:[316.247,247.882],ix:1},s:{a:0,k:[50,50],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"planete Outlines - Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-133.812,-42.171],[133.812,-75.141],[5.765,75.141],[-61.708,18.402],[124.227,-71.307],[-87.011,-1.534]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.9769,.3836,.3631,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[297.638,254.4],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[664.319,256.2],ix:2},a:{a:0,k:[297.638,254.4],ix:1},s:{a:0,k:[50,50],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"planete Outlines - Group 3",np:1,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1}],ip:0,op:151,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"planete Outlines - Group 5",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:45,s:[100]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:102,s:[100]},{t:150,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[327.38,267.583,0],to:[25.833,0,0],ti:[-25.833,0,0]},{t:150,s:[482.38,267.583,0]}],ix:2},a:{a:0,k:[171.76,193.166,0],ix:1},s:{a:0,k:[50,50,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[13.485,0],[4.38,-4.171],[21.913,0],[3.575,-18.765],[1.851,0],[0,-13.484],[-.011,-.291],[1.599,0],[0,-6.743],[-6.742,0],[0,0],[0,13.485]],o:[[-6.526,0],[-.793,-21.719],[-19.806,0],[-1.734,-.391],[-13.485,0],[0,.293],[-1.4,-.559],[-6.742,0],[0,6.742],[0,0],[13.485,0],[0,-13.484]],v:[[59.669,-8.242],[42.84,-1.506],[2.287,-40.592],[-37.576,-7.638],[-42.962,-8.242],[-67.378,16.174],[-67.356,17.049],[-71.878,16.174],[-84.086,28.383],[-71.878,40.591],[59.669,40.591],[84.086,16.174]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.8706,.3216,.298,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[171.76,193.166],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:151,st:0,bm:0}]}],layers=[{ddd:0,ind:1,ty:0,nm:"Pre-comp 1",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[406,306,0],ix:2},a:{a:0,k:[400,300,0],ix:1},s:{a:0,k:[179,179,100],ix:6}},ao:0,w:800,h:600,ip:0,op:147,st:0,bm:0}],markers=[],loadingAnimation={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers},uploadQuizDB=async(t,e)=>{const n=e.map(o=>o.answer),i={title:t,createdAt:serverTimestamp$1(),data:e};try{return{id:(await addDoc(collection(db,"quizs"),i)).id,ans:n}}catch(o){return console.error("上傳失敗",o),null}},uploadSituationDB=async(t,e,n,i)=>{var u;const o=evaluateAnswers(e,n),l={userId:(u=auth.currentUser)==null?void 0:u.uid,quizId:t,answeredAt:serverTimestamp$1(),stars:i??[],answers:n,results:o};try{return(await addDoc(collection(db,"situations"),l)).id}catch(f){console.error("上傳失敗",f)}},evaluateAnswers=(t,e)=>t.map((n,i)=>{const o=e[i];let l;return o==null||o==null?l=null:l=o===n,{isCorrect:l}}),countScore=t=>{if(!t||t.length===0)return 0;const e=t.length,i=t.filter(o=>o.isCorrect).length/e*100;return Math.round(i)},getQuizSubmitById=async t=>{let e=null;typeof t=="string"?e=t:t&&typeof t=="object"&&(e=t.situationID);try{const n=doc(db,"situations",e),i=await getDoc(n);if(i.exists()){const o=i.data(),{quizId:l}=o;if(l){const u=doc(db,"quizs",String(l)),f=await getDoc(u);if(f.exists()){const d=f.data();return{...o,quiz:d}}else return console.log("未找到對應的quiz"),{...o,quiz:null}}return o}else return console.log("未找到提交測驗"),null}catch(n){console.log("取得提交的測驗失敗: ",n)}},getCurrentSituation=async()=>{const t=auth.currentUser,e=query(collection(db,"situations"),where("userId","==",t.uid),orderBy("answeredAt","desc"));try{const n=await getDocs(e),i=[];return n.forEach(l=>{i.push({id:l.id,...l.data()})}),await Promise.all(i.map(async l=>{if(l.quizId)try{const u=doc(db,"quizs",l.quizId),f=await getDoc(u);if(f.exists())return{...l,quizType:f.data().title||"未知"}}catch(u){console.error(`取得 quiz ${l.quizId} 失敗:`,u)}return{...l,quizType:"未知類型"}}))}catch(n){return console.log("取得失敗: ",n),[]}},getQuizById=async t=>{try{const e=doc(db,"quizs",t),n=await getDoc(e);return n.exists()?n.data():(console.log("未找到對應的quiz"),null)}catch(e){console.log("從id取得測驗失敗: ",e)}},Panel=({})=>{const t=["初級","中級","中高級","高級"],{level:e}=useParams(),n=t[parseInt(e)-1],i=useNavigate(),o=reactExports.useRef(null),[l,u]=reactExports.useState([]),[f,d]=reactExports.useState(0),[p,g]=reactExports.useState([]),[E,A]=reactExports.useState([]),[R,I]=reactExports.useState(0),[j,q]=reactExports.useState(!0),[L,z]=reactExports.useState(null),[U,W]=reactExports.useState(!1);reactExports.useEffect(()=>{const se=lottie.loadAnimation({container:o.current,renderer:"svg",loop:!0,autoplay:!0,animationData:loadingAnimation});return()=>se.destroy()},[]),reactExports.useEffect(()=>{let se=!0;async function ue(){try{const fe=await fetch(`undefined?level=${e}`);if(!fe.ok)throw new Error("Network response was not ok");const _e=await fe.json();se&&(u(_e),console.log("data: "+JSON.stringify(_e,null,2)),_e&&_e.parts&&_e.parts[0]&&_e.parts[0].questions&&setTimeout(()=>{q(!1),d(_e.parts[0].questions.length),g(Array(f).fill(null)),A(Array(_e.parts[0].questions.length).fill("F"))},1e3))}catch(fe){console.error("取得資料失敗: ",fe),se&&q(!1)}}return ue(),()=>{se=!1}},[]),reactExports.useEffect(()=>{var ue;if(!l||!l.parts||!((ue=l.parts[0])!=null&&ue.questions))return;(async()=>{const fe=l.parts[0].questions;console.log(l.parts[0].type);const _e=fe.map(ce=>{if(l.parts[0].type==="true_false")return{question_ab:ce.question_ab,image:ce.image,audio:ce.audio,options:{1:"O (符合)",2:"X (不符合)"},answer:ce.answer};if(l.parts[0].type==="choice")return{question_ab:ce.question_ab,question_ch:ce.question_ch,audio:ce.audio,images:{A:ce.imageA,B:ce.imageB,C:ce.imageC},answer:parseInt(ce.answer)}}),ge=await uploadQuizDB(n,_e);z(ge)})()},[l,n]);const H=()=>{R<l.parts[0].questions.length-1&&I(R+1)},Z=()=>{R>0&&I(R-1)},Y=()=>{const se=[...E];se[R]=se[R]=="T"?"F":"T",A(se)},J=se=>{const ue=[...p];ue[R]=se,g(ue)},ne=async()=>{if((p.length==0||p.length!=f)&&!window.confirm("⚠️您尚未作答完成，確定要繳交嗎？"))return;const se=await ae();i(`/quiz/${e}/submit`,{state:{situationID:se}})},ae=async()=>{if(!L)return;let se=null;return p.length==0?se=await uploadSituationDB(L.id,null,null,null):se=await uploadSituationDB(L.id,L.ans,p,E),se};if(reactExports.useEffect(()=>{var se,ue;(ue=(se=l==null?void 0:l.parts)==null?void 0:se[0])!=null&&ue.questions&&l.parts[0].questions.forEach(fe=>{const _e=new Image;_e.src=fe.image})},[l]),j)return jsxRuntimeExports.jsxs("div",{className:"load-container",children:[jsxRuntimeExports.jsx("div",{className:"load-title",children:"題目加載中..."}),jsxRuntimeExports.jsx("div",{className:"load-animate",ref:o})]});{if(!l||!l.parts||!l.parts[0].questions||l.parts[0].questions.length===0)return jsxRuntimeExports.jsx("div",{children:"測驗資料加載失敗，請重試。"});const se=l.parts[0].questions[R];return jsxRuntimeExports.jsxs("div",{className:"panel-container",children:[jsxRuntimeExports.jsxs("div",{className:"panel-quiz-container",children:[jsxRuntimeExports.jsxs("div",{className:"panel-header",children:[jsxRuntimeExports.jsx("button",{className:"exit-btn",onClick:()=>{window.confirm("你確定要離開測驗嗎？未完成的測驗將不會保存。")&&i("/quiz")},children:"離開測驗"}),jsxRuntimeExports.jsx("h2",{children:n}),jsxRuntimeExports.jsxs("div",{className:"intro-container",children:[jsxRuntimeExports.jsxs("button",{className:"intro-btn",onClick:()=>{W(!U)},children:[jsxRuntimeExports.jsx(CircleHelp,{}),"說明"]}),U&&jsxRuntimeExports.jsxs("div",{className:"intro-box",children:[jsxRuntimeExports.jsx("p",{className:"parts-title",children:l.parts[0].title.replace(/.*[:：]/,"")}),jsxRuntimeExports.jsx("p",{children:l.parts[0].intro})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"question-container",children:[jsxRuntimeExports.jsxs("div",{className:"title-container",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsxs("strong",{children:["題目",R+1,"："]})}),l.parts[0].type==="true_false"?jsxRuntimeExports.jsxs("audio",{controls:!0,children:[jsxRuntimeExports.jsx("source",{src:se.audio,type:"audio/mpeg"}),"您的瀏覽器不支持音檔。"]}):jsxRuntimeExports.jsx("p",{children:se.question_ab}),jsxRuntimeExports.jsx(Star,{size:24,className:`${E[R]==="T"?"star":""}`,onClick:Y})]}),l.parts[0].type==="true_false"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:se.image,alt:"Question",className:"question-image"}),jsxRuntimeExports.jsxs("div",{className:"answers",children:[jsxRuntimeExports.jsx("button",{className:`${p[R]===1?"selected":""}`,onClick:()=>J(1),children:"O (符合)"}),jsxRuntimeExports.jsx("button",{className:`${p[R]===2?"selected":""}`,onClick:()=>J(2),children:"X (不符合)"})]})]}):jsxRuntimeExports.jsx("div",{className:"quiz-multi-images",children:["A","B","C"].map((ue,fe)=>jsxRuntimeExports.jsxs("div",{className:`quiz-image-box ${p[R]===fe+1?"selected":""}`,onClick:()=>J(fe+1),children:[jsxRuntimeExports.jsx("span",{className:"quiz-label",children:ue}),jsxRuntimeExports.jsx("img",{src:se[`image${ue}`],alt:`選項 ${ue}`})]},fe))})]}),jsxRuntimeExports.jsxs("div",{className:"navigation-buttons",children:[jsxRuntimeExports.jsx("button",{onClick:Z,disabled:R===0,children:"上一題"}),jsxRuntimeExports.jsx("button",{onClick:H,disabled:R===l.parts[0].questions.length-1,children:"下一題"})]})]}),jsxRuntimeExports.jsx("button",{className:"submit-button",onClick:ne,children:"繳交試卷"})]}),jsxRuntimeExports.jsx(Box,{dataLen:f,userAnswers:p,userStars:E,setCurrentQuestionIndex:I})]})}},Panel_Submit=({})=>{var j;const t=useNavigate(),[e,n]=reactExports.useState(!0),[i,o]=reactExports.useState(null),[l,u]=reactExports.useState("2025-07-01"),[f,d]=reactExports.useState("02:31"),[p,g]=reactExports.useState(0),A=useLocation().state;reactExports.useEffect(()=>{A&&(async()=>{try{console.log("quizId:",A,typeof A);const L=await getQuizSubmitById(A);if(console.log(L),o(L),L!=null&&L.quiz.createdAt&&(L!=null&&L.answeredAt)){u(L.quiz.createdAt.toDate().toLocaleString().split(" ")[0]);const z=R(L.quiz.createdAt,L.answeredAt);d(z)}g(countScore(L.results))}catch(L){console.error("前端取得測驗提交錯誤: ",L)}finally{n(!1)}})()},[A]);const R=(q,L)=>{if(!q||!L)return"00:00";const z=L.toMillis()-q.toMillis();if(z<0)return"00:00";const U=Math.floor(z/1e3),W=Math.floor(U/60),H=U%60;return`${String(W).padStart(2,"0")}:${String(H).padStart(2,"0")}`},I=2;return jsxRuntimeExports.jsx("div",{className:"submit-container",children:jsxRuntimeExports.jsxs("div",{className:"submit-paper",children:[jsxRuntimeExports.jsxs("div",{className:"paper-header",children:[jsxRuntimeExports.jsxs("div",{className:"paper-info",children:[jsxRuntimeExports.jsxs("p",{children:["姓名：",jsxRuntimeExports.jsx("span",{className:"user-info",children:"史努比"})]}),jsxRuntimeExports.jsxs("div",{className:"user-infoo",children:[jsxRuntimeExports.jsxs("p",{children:["類型：",jsxRuntimeExports.jsx("span",{className:"user-info",children:(j=i==null?void 0:i.quiz)==null?void 0:j.title}),jsxRuntimeExports.jsx("span",{className:"stars",children:Array.from({length:5},(q,L)=>jsxRuntimeExports.jsx(Star,{size:16,color:L<I?"#FFD700":"#ccc",fill:L<I?"#FFD700":"#ccc"},L))})]}),jsxRuntimeExports.jsxs("p",{children:["日期：",jsxRuntimeExports.jsx("span",{className:"user-info",children:l})]}),jsxRuntimeExports.jsxs("p",{children:["用時：",jsxRuntimeExports.jsx("span",{className:"user-info",children:f})]})]})]}),jsxRuntimeExports.jsx("div",{className:"paper-score",children:jsxRuntimeExports.jsx("div",{className:"score-circle",children:jsxRuntimeExports.jsx("span",{className:"score",children:p})})})]}),jsxRuntimeExports.jsxs("div",{className:"paper-body",children:[jsxRuntimeExports.jsxs("div",{className:"submit-question-header-row",children:[jsxRuntimeExports.jsx("span",{className:"header-title"}),jsxRuntimeExports.jsx("span",{className:"header-title"}),jsxRuntimeExports.jsx("span",{className:"header-title question-title",children:"題目"}),jsxRuntimeExports.jsx("span",{className:"header-title user-title",children:"你的答案"}),jsxRuntimeExports.jsx("span",{className:"header-title correct-title",children:"正確答案"})]}),e?jsxRuntimeExports.jsx("p",{children:"載入中..."}):!i||!i.quiz||i.quiz.data.length===0?jsxRuntimeExports.jsx("p",{className:"no-results",children:"沒有題目資料"}):i.quiz.data.map((q,L)=>{const z=i.answers[L],U=z===1?"O":z===2?"X":"未作答",W=["A","B","C"],H=W[z-1],Z=q.answer,Y=Z===1?"O":Z===2?"X":"-",J=W[Z-1],ne=i.results[L].isCorrect;return jsxRuntimeExports.jsxs("div",{className:"submit-question-result",children:[jsxRuntimeExports.jsxs("div",{className:"submit-question-header",children:[jsxRuntimeExports.jsxs("span",{className:"submit-question-num",children:["第",L+1,"題"]}),jsxRuntimeExports.jsx("span",{children:ne?jsxRuntimeExports.jsx(CircleCheckBig,{color:"#388e3c",size:20}):jsxRuntimeExports.jsx(CircleX,{color:"#d32f2f",size:20})})]}),i.quiz.title==="初級"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"submit-question-q",children:[jsxRuntimeExports.jsx("img",{src:q.image,className:"submit-question-image"}),jsxRuntimeExports.jsx("span",{children:q.question_ab})]}),jsxRuntimeExports.jsx("span",{className:`user-answer ${ne?"correct":"wrong"}`,children:U}),jsxRuntimeExports.jsx("span",{className:"correct-answer",children:Y})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"submit-question-q2",children:[jsxRuntimeExports.jsx("span",{children:q.question_ab}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{children:"中"}),jsxRuntimeExports.jsx("p",{style:{margin:"0"},children:q.question_ch})]})]}),jsxRuntimeExports.jsx("img",{className:`user-answer2 ${ne?"correct":"wrong"}`,src:q.images[H]}),jsxRuntimeExports.jsx("img",{className:"correct-answer2",src:q.images[J]})]})]},L)})]}),jsxRuntimeExports.jsxs("div",{className:"submit-actions",children:[jsxRuntimeExports.jsx("button",{className:"btn-secondary",onClick:()=>t("/quiz"),children:"返回開始測驗"}),jsxRuntimeExports.jsx("button",{className:"btn-primary",onClick:()=>t("/quiz/situation"),children:"查看答題情形"})]})]})})};function SentenceFillBlank({question:t,selected:e,checked:n,onSelect:i,onConfirm:o}){const l=d=>new Audio(d).play(),u=d=>{i(e===d?null:d)},f=d=>n?d===t.answer?"correct":e===d&&d!==t.answer?"wrong":"":e===d?"selected":"";return jsxRuntimeExports.jsxs("div",{className:"text-center",style:{height:"400px"},children:[jsxRuntimeExports.jsx("h5",{className:"fw-bolder mb-4",children:"句子填空"}),jsxRuntimeExports.jsx("h2",{className:"fw-bolder mb-4",children:t.sentence}),jsxRuntimeExports.jsx("div",{className:"options-list",children:t.options.map(d=>jsxRuntimeExports.jsxs("button",{onClick:()=>!n&&u(d.word),className:`custom-btn ${f(d.word)}`,children:[d.word,jsxRuntimeExports.jsxs("span",{onClick:p=>{p.stopPropagation(),l(d.audio)},className:"ml-2 cursor-pointer text-sm",children:[" ",jsxRuntimeExports.jsx(Volume2,{size:15})]})]},d.word))}),n?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"mt-3 font-bold",children:e===t.answer?"✅ 正確":"❌ 錯誤"}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-blue-600 font-bold",children:["正確答案：",t.answer]})]}):jsxRuntimeExports.jsx("button",{onClick:()=>o(),className:"confirm-btn",disabled:!e,children:"確認"})]})}function useCombinedRefs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return reactExports.useMemo(()=>i=>{e.forEach(o=>o(i))},e)}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function isWindow(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function isNode(t){return"nodeType"in t}function getWindow(t){var e,n;return t?isWindow(t)?t:isNode(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function isDocument(t){const{Document:e}=getWindow(t);return t instanceof e}function isHTMLElement$1(t){return isWindow(t)?!1:t instanceof getWindow(t).HTMLElement}function isSVGElement$1(t){return t instanceof getWindow(t).SVGElement}function getOwnerDocument(t){return t?isWindow(t)?t.document:isNode(t)?isDocument(t)?t:isHTMLElement$1(t)||isSVGElement$1(t)?t.ownerDocument:document:document:document}const useIsomorphicLayoutEffect$1=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function useEvent(t){const e=reactExports.useRef(t);return useIsomorphicLayoutEffect$1(()=>{e.current=t}),reactExports.useCallback(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.current==null?void 0:e.current(...i)},[])}function useInterval(){const t=reactExports.useRef(null),e=reactExports.useCallback((i,o)=>{t.current=setInterval(i,o)},[]),n=reactExports.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function useLatestValue(t,e){e===void 0&&(e=[t]);const n=reactExports.useRef(t);return useIsomorphicLayoutEffect$1(()=>{n.current!==t&&(n.current=t)},e),n}function useLazyMemo(t,e){const n=reactExports.useRef();return reactExports.useMemo(()=>{const i=t(n.current);return n.current=i,i},[...e])}function useNodeRef(t){const e=useEvent(t),n=reactExports.useRef(null),i=reactExports.useCallback(o=>{o!==n.current&&(e==null||e(o,n.current)),n.current=o},[]);return[n,i]}function usePrevious(t){const e=reactExports.useRef();return reactExports.useEffect(()=>{e.current=t},[t]),e.current}let ids={};function useUniqueId(t,e){return reactExports.useMemo(()=>{if(e)return e;const n=ids[t]==null?0:ids[t]+1;return ids[t]=n,t+"-"+n},[t,e])}function createAdjustmentFn(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.reduce((l,u)=>{const f=Object.entries(u);for(const[d,p]of f){const g=l[d];g!=null&&(l[d]=g+t*p)}return l},{...e})}}const add$1=createAdjustmentFn(1),subtract$1=createAdjustmentFn(-1);function hasViewportRelativeCoordinates(t){return"clientX"in t&&"clientY"in t}function isKeyboardEvent(t){if(!t)return!1;const{KeyboardEvent:e}=getWindow(t.target);return e&&t instanceof e}function isTouchEvent(t){if(!t)return!1;const{TouchEvent:e}=getWindow(t.target);return e&&t instanceof e}function getEventCoordinates(t){if(isTouchEvent(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return hasViewportRelativeCoordinates(t)?{x:t.clientX,y:t.clientY}:null}const CSS=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[CSS.Translate.toString(t),CSS.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),SELECTOR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function findFirstFocusableNode(t){return t.matches(SELECTOR)?t:t.querySelector(SELECTOR)}const hiddenStyles={display:"none"};function HiddenText(t){let{id:e,value:n}=t;return React.createElement("div",{id:e,style:hiddenStyles},n)}function LiveRegion(t){let{id:e,announcement:n,ariaLiveType:i="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return React.createElement("div",{id:e,style:o,role:"status","aria-live":i,"aria-atomic":!0},n)}function useAnnouncement(){const[t,e]=reactExports.useState("");return{announce:reactExports.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const DndMonitorContext=reactExports.createContext(null);function useDndMonitor(t){const e=reactExports.useContext(DndMonitorContext);reactExports.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function useDndMonitorProvider(){const[t]=reactExports.useState(()=>new Set),e=reactExports.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[reactExports.useCallback(i=>{let{type:o,event:l}=i;t.forEach(u=>{var f;return(f=u[o])==null?void 0:f.call(u,l)})},[t]),e]}const defaultScreenReaderInstructions={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},defaultAnnouncements={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Accessibility(t){let{announcements:e=defaultAnnouncements,container:n,hiddenTextDescribedById:i,screenReaderInstructions:o=defaultScreenReaderInstructions}=t;const{announce:l,announcement:u}=useAnnouncement(),f=useUniqueId("DndLiveRegion"),[d,p]=reactExports.useState(!1);if(reactExports.useEffect(()=>{p(!0)},[]),useDndMonitor(reactExports.useMemo(()=>({onDragStart(E){let{active:A}=E;l(e.onDragStart({active:A}))},onDragMove(E){let{active:A,over:R}=E;e.onDragMove&&l(e.onDragMove({active:A,over:R}))},onDragOver(E){let{active:A,over:R}=E;l(e.onDragOver({active:A,over:R}))},onDragEnd(E){let{active:A,over:R}=E;l(e.onDragEnd({active:A,over:R}))},onDragCancel(E){let{active:A,over:R}=E;l(e.onDragCancel({active:A,over:R}))}}),[l,e])),!d)return null;const g=React.createElement(React.Fragment,null,React.createElement(HiddenText,{id:i,value:o.draggable}),React.createElement(LiveRegion,{id:f,announcement:u}));return n?reactDomExports.createPortal(g,n):g}var Action;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Action||(Action={}));function noop$2(){}function useSensor(t,e){return reactExports.useMemo(()=>({sensor:t,options:{}}),[t,e])}function useSensors(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return reactExports.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const defaultCoordinates=Object.freeze({x:0,y:0});function distanceBetween(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function sortCollisionsAsc(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return n-i}function sortCollisionsDesc(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function getFirstCollision(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function centerOfRectangle(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const closestCenter=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const o=centerOfRectangle(e,e.left,e.top),l=[];for(const u of i){const{id:f}=u,d=n.get(f);if(d){const p=distanceBetween(centerOfRectangle(d),o);l.push({id:f,data:{droppableContainer:u,value:p}})}}return l.sort(sortCollisionsAsc)};function getIntersectionRatio(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),u=o-i,f=l-n;if(i<o&&n<l){const d=e.width*e.height,p=t.width*t.height,g=u*f,E=g/(d+p-g);return Number(E.toFixed(4))}return 0}const rectIntersection=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const o=[];for(const l of i){const{id:u}=l,f=n.get(u);if(f){const d=getIntersectionRatio(f,e);d>0&&o.push({id:u,data:{droppableContainer:l,value:d}})}}return o.sort(sortCollisionsDesc)};function adjustScale(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function getRectDelta(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:defaultCoordinates}function createRectAdjustmentFn(t){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return o.reduce((u,f)=>({...u,top:u.top+t*f.y,bottom:u.bottom+t*f.y,left:u.left+t*f.x,right:u.right+t*f.x}),{...n})}}const getAdjustedRect=createRectAdjustmentFn(1);function parseTransform(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function inverseTransform(t,e,n){const i=parseTransform(e);if(!i)return t;const{scaleX:o,scaleY:l,x:u,y:f}=i,d=t.left-u-(1-o)*parseFloat(n),p=t.top-f-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=o?t.width/o:t.width,E=l?t.height/l:t.height;return{width:g,height:E,top:p,right:d+g,bottom:p+E,left:d}}const defaultOptions={ignoreTransform:!1};function getClientRect(t,e){e===void 0&&(e=defaultOptions);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:g}=getWindow(t).getComputedStyle(t);p&&(n=inverseTransform(n,p,g))}const{top:i,left:o,width:l,height:u,bottom:f,right:d}=n;return{top:i,left:o,width:l,height:u,bottom:f,right:d}}function getTransformAgnosticClientRect(t){return getClientRect(t,{ignoreTransform:!0})}function getWindowClientRect(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function isFixed(t,e){return e===void 0&&(e=getWindow(t).getComputedStyle(t)),e.position==="fixed"}function isScrollable(t,e){e===void 0&&(e=getWindow(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const l=e[o];return typeof l=="string"?n.test(l):!1})}function getScrollableAncestors(t,e){const n=[];function i(o){if(e!=null&&n.length>=e||!o)return n;if(isDocument(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!isHTMLElement$1(o)||isSVGElement$1(o)||n.includes(o))return n;const l=getWindow(t).getComputedStyle(o);return o!==t&&isScrollable(o,l)&&n.push(o),isFixed(o,l)?n:i(o.parentNode)}return t?i(t):n}function getFirstScrollableAncestor(t){const[e]=getScrollableAncestors(t,1);return e??null}function getScrollableElement(t){return!canUseDOM||!t?null:isWindow(t)?t:isNode(t)?isDocument(t)||t===getOwnerDocument(t).scrollingElement?window:isHTMLElement$1(t)?t:null:null}function getScrollXCoordinate(t){return isWindow(t)?t.scrollX:t.scrollLeft}function getScrollYCoordinate(t){return isWindow(t)?t.scrollY:t.scrollTop}function getScrollCoordinates(t){return{x:getScrollXCoordinate(t),y:getScrollYCoordinate(t)}}var Direction;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Direction||(Direction={}));function isDocumentScrollingElement(t){return!canUseDOM||!t?!1:t===document.scrollingElement}function getScrollPosition(t){const e={x:0,y:0},n=isDocumentScrollingElement(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},o=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,u=t.scrollTop>=i.y,f=t.scrollLeft>=i.x;return{isTop:o,isLeft:l,isBottom:u,isRight:f,maxScroll:i,minScroll:e}}const defaultThreshold={x:.2,y:.2};function getScrollDirectionAndSpeed(t,e,n,i,o){let{top:l,left:u,right:f,bottom:d}=n;i===void 0&&(i=10),o===void 0&&(o=defaultThreshold);const{isTop:p,isBottom:g,isLeft:E,isRight:A}=getScrollPosition(t),R={x:0,y:0},I={x:0,y:0},j={height:e.height*o.y,width:e.width*o.x};return!p&&l<=e.top+j.height?(R.y=Direction.Backward,I.y=i*Math.abs((e.top+j.height-l)/j.height)):!g&&d>=e.bottom-j.height&&(R.y=Direction.Forward,I.y=i*Math.abs((e.bottom-j.height-d)/j.height)),!A&&f>=e.right-j.width?(R.x=Direction.Forward,I.x=i*Math.abs((e.right-j.width-f)/j.width)):!E&&u<=e.left+j.width&&(R.x=Direction.Backward,I.x=i*Math.abs((e.left+j.width-u)/j.width)),{direction:R,speed:I}}function getScrollElementRect(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:e,left:n,right:i,bottom:o}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:o,width:t.clientWidth,height:t.clientHeight}}function getScrollOffsets(t){return t.reduce((e,n)=>add$1(e,getScrollCoordinates(n)),defaultCoordinates)}function getScrollXOffset(t){return t.reduce((e,n)=>e+getScrollXCoordinate(n),0)}function getScrollYOffset(t){return t.reduce((e,n)=>e+getScrollYCoordinate(n),0)}function scrollIntoViewIfNeeded(t,e){if(e===void 0&&(e=getClientRect),!t)return;const{top:n,left:i,bottom:o,right:l}=e(t);getFirstScrollableAncestor(t)&&(o<=0||l<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const properties=[["x",["left","right"],getScrollXOffset],["y",["top","bottom"],getScrollYOffset]];class Rect{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=getScrollableAncestors(n),o=getScrollOffsets(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,u,f]of properties)for(const d of u)Object.defineProperty(this,d,{get:()=>{const p=f(i),g=o[l]-p;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Listeners{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var o;(o=this.target)==null||o.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function getEventListenerTarget(t){const{EventTarget:e}=getWindow(t);return t instanceof e?t:getOwnerDocument(t)}function hasExceededDistance(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var EventName;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(EventName||(EventName={}));function preventDefault(t){t.preventDefault()}function stopPropagation(t){t.stopPropagation()}var KeyboardCode;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(KeyboardCode||(KeyboardCode={}));const defaultKeyboardCodes={start:[KeyboardCode.Space,KeyboardCode.Enter],cancel:[KeyboardCode.Esc],end:[KeyboardCode.Space,KeyboardCode.Enter,KeyboardCode.Tab]},defaultKeyboardCoordinateGetter=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case KeyboardCode.Right:return{...n,x:n.x+25};case KeyboardCode.Left:return{...n,x:n.x-25};case KeyboardCode.Down:return{...n,y:n.y+25};case KeyboardCode.Up:return{...n,y:n.y-25}}};class KeyboardSensor{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Listeners(getOwnerDocument(n)),this.windowListeners=new Listeners(getWindow(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(EventName.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&scrollIntoViewIfNeeded(i),n(defaultCoordinates)}handleKeyDown(e){if(isKeyboardEvent(e)){const{active:n,context:i,options:o}=this.props,{keyboardCodes:l=defaultKeyboardCodes,coordinateGetter:u=defaultKeyboardCoordinateGetter,scrollBehavior:f="smooth"}=o,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:p}=i.current,g=p?{x:p.left,y:p.top}:defaultCoordinates;this.referenceCoordinates||(this.referenceCoordinates=g);const E=u(e,{active:n,context:i.current,currentCoordinates:g});if(E){const A=subtract$1(E,g),R={x:0,y:0},{scrollableAncestors:I}=i.current;for(const j of I){const q=e.code,{isTop:L,isRight:z,isLeft:U,isBottom:W,maxScroll:H,minScroll:Z}=getScrollPosition(j),Y=getScrollElementRect(j),J={x:Math.min(q===KeyboardCode.Right?Y.right-Y.width/2:Y.right,Math.max(q===KeyboardCode.Right?Y.left:Y.left+Y.width/2,E.x)),y:Math.min(q===KeyboardCode.Down?Y.bottom-Y.height/2:Y.bottom,Math.max(q===KeyboardCode.Down?Y.top:Y.top+Y.height/2,E.y))},ne=q===KeyboardCode.Right&&!z||q===KeyboardCode.Left&&!U,ae=q===KeyboardCode.Down&&!W||q===KeyboardCode.Up&&!L;if(ne&&J.x!==E.x){const se=j.scrollLeft+A.x,ue=q===KeyboardCode.Right&&se<=H.x||q===KeyboardCode.Left&&se>=Z.x;if(ue&&!A.y){j.scrollTo({left:se,behavior:f});return}ue?R.x=j.scrollLeft-se:R.x=q===KeyboardCode.Right?j.scrollLeft-H.x:j.scrollLeft-Z.x,R.x&&j.scrollBy({left:-R.x,behavior:f});break}else if(ae&&J.y!==E.y){const se=j.scrollTop+A.y,ue=q===KeyboardCode.Down&&se<=H.y||q===KeyboardCode.Up&&se>=Z.y;if(ue&&!A.x){j.scrollTo({top:se,behavior:f});return}ue?R.y=j.scrollTop-se:R.y=q===KeyboardCode.Down?j.scrollTop-H.y:j.scrollTop-Z.y,R.y&&j.scrollBy({top:-R.y,behavior:f});break}}this.handleMove(e,add$1(subtract$1(E,this.referenceCoordinates),R))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}KeyboardSensor.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=defaultKeyboardCodes,onActivation:o}=e,{active:l}=n;const{code:u}=t.nativeEvent;if(i.start.includes(u)){const f=l.activatorNode.current;return f&&t.target!==f?!1:(t.preventDefault(),o==null||o({event:t.nativeEvent}),!0)}return!1}}];function isDistanceConstraint(t){return!!(t&&"distance"in t)}function isDelayConstraint(t){return!!(t&&"delay"in t)}class AbstractPointerSensor{constructor(e,n,i){var o;i===void 0&&(i=getEventListenerTarget(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:u}=l;this.props=e,this.events=n,this.document=getOwnerDocument(u),this.documentListeners=new Listeners(this.document),this.listeners=new Listeners(i),this.windowListeners=new Listeners(getWindow(u)),this.initialCoordinates=(o=getEventCoordinates(l))!=null?o:defaultCoordinates,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.DragStart,preventDefault),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),this.windowListeners.add(EventName.ContextMenu,preventDefault),this.documentListeners.add(EventName.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(isDelayConstraint(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(isDistanceConstraint(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:o}=this.props;o(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(EventName.Click,stopPropagation,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(EventName.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:o,props:l}=this,{onMove:u,options:{activationConstraint:f}}=l;if(!o)return;const d=(n=getEventCoordinates(e))!=null?n:defaultCoordinates,p=subtract$1(o,d);if(!i&&f){if(isDistanceConstraint(f)){if(f.tolerance!=null&&hasExceededDistance(p,f.tolerance))return this.handleCancel();if(hasExceededDistance(p,f.distance))return this.handleStart()}if(isDelayConstraint(f)&&hasExceededDistance(p,f.tolerance))return this.handleCancel();this.handlePending(f,p);return}e.cancelable&&e.preventDefault(),u(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===KeyboardCode.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const events={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class PointerSensor extends AbstractPointerSensor{constructor(e){const{event:n}=e,i=getOwnerDocument(n.target);super(e,events,i)}}PointerSensor.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i==null||i({event:n}),!0)}}];const events$1={move:{name:"mousemove"},end:{name:"mouseup"}};var MouseButton;(function(t){t[t.RightClick=2]="RightClick"})(MouseButton||(MouseButton={}));class MouseSensor extends AbstractPointerSensor{constructor(e){super(e,events$1,getOwnerDocument(e.event.target))}}MouseSensor.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button===MouseButton.RightClick?!1:(i==null||i({event:n}),!0)}}];const events$2={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class TouchSensor extends AbstractPointerSensor{constructor(e){super(e,events$2)}static setup(){return window.addEventListener(events$2.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(events$2.move.name,e)};function e(){}}}TouchSensor.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:o}=n;return o.length>1?!1:(i==null||i({event:n}),!0)}}];var AutoScrollActivator;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(AutoScrollActivator||(AutoScrollActivator={}));var TraversalOrder;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(TraversalOrder||(TraversalOrder={}));function useAutoScroller(t){let{acceleration:e,activator:n=AutoScrollActivator.Pointer,canScroll:i,draggingRect:o,enabled:l,interval:u=5,order:f=TraversalOrder.TreeOrder,pointerCoordinates:d,scrollableAncestors:p,scrollableAncestorRects:g,delta:E,threshold:A}=t;const R=useScrollIntent({delta:E,disabled:!l}),[I,j]=useInterval(),q=reactExports.useRef({x:0,y:0}),L=reactExports.useRef({x:0,y:0}),z=reactExports.useMemo(()=>{switch(n){case AutoScrollActivator.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case AutoScrollActivator.DraggableRect:return o}},[n,o,d]),U=reactExports.useRef(null),W=reactExports.useCallback(()=>{const Z=U.current;if(!Z)return;const Y=q.current.x*L.current.x,J=q.current.y*L.current.y;Z.scrollBy(Y,J)},[]),H=reactExports.useMemo(()=>f===TraversalOrder.TreeOrder?[...p].reverse():p,[f,p]);reactExports.useEffect(()=>{if(!l||!p.length||!z){j();return}for(const Z of H){if((i==null?void 0:i(Z))===!1)continue;const Y=p.indexOf(Z),J=g[Y];if(!J)continue;const{direction:ne,speed:ae}=getScrollDirectionAndSpeed(Z,J,z,e,A);for(const se of["x","y"])R[se][ne[se]]||(ae[se]=0,ne[se]=0);if(ae.x>0||ae.y>0){j(),U.current=Z,I(W,u),q.current=ae,L.current=ne;return}}q.current={x:0,y:0},L.current={x:0,y:0},j()},[e,W,i,j,l,u,JSON.stringify(z),JSON.stringify(R),I,p,H,g,JSON.stringify(A)])}const defaultScrollIntent={x:{[Direction.Backward]:!1,[Direction.Forward]:!1},y:{[Direction.Backward]:!1,[Direction.Forward]:!1}};function useScrollIntent(t){let{delta:e,disabled:n}=t;const i=usePrevious(e);return useLazyMemo(o=>{if(n||!i||!o)return defaultScrollIntent;const l={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[Direction.Backward]:o.x[Direction.Backward]||l.x===-1,[Direction.Forward]:o.x[Direction.Forward]||l.x===1},y:{[Direction.Backward]:o.y[Direction.Backward]||l.y===-1,[Direction.Forward]:o.y[Direction.Forward]||l.y===1}}},[n,e,i])}function useCachedNode(t,e){const n=e!=null?t.get(e):void 0,i=n?n.node.current:null;return useLazyMemo(o=>{var l;return e==null?null:(l=i??o)!=null?l:null},[i,e])}function useCombineActivators(t,e){return reactExports.useMemo(()=>t.reduce((n,i)=>{const{sensor:o}=i,l=o.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,i)}));return[...n,...l]},[]),[t,e])}var MeasuringStrategy;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(MeasuringStrategy||(MeasuringStrategy={}));var MeasuringFrequency;(function(t){t.Optimized="optimized"})(MeasuringFrequency||(MeasuringFrequency={}));const defaultValue=new Map;function useDroppableMeasuring(t,e){let{dragging:n,dependencies:i,config:o}=e;const[l,u]=reactExports.useState(null),{frequency:f,measure:d,strategy:p}=o,g=reactExports.useRef(t),E=q(),A=useLatestValue(E),R=reactExports.useCallback(function(L){L===void 0&&(L=[]),!A.current&&u(z=>z===null?L:z.concat(L.filter(U=>!z.includes(U))))},[A]),I=reactExports.useRef(null),j=useLazyMemo(L=>{if(E&&!n)return defaultValue;if(!L||L===defaultValue||g.current!==t||l!=null){const z=new Map;for(let U of t){if(!U)continue;if(l&&l.length>0&&!l.includes(U.id)&&U.rect.current){z.set(U.id,U.rect.current);continue}const W=U.node.current,H=W?new Rect(d(W),W):null;U.rect.current=H,H&&z.set(U.id,H)}return z}return L},[t,l,n,E,d]);return reactExports.useEffect(()=>{g.current=t},[t]),reactExports.useEffect(()=>{E||R()},[n,E]),reactExports.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),reactExports.useEffect(()=>{E||typeof f!="number"||I.current!==null||(I.current=setTimeout(()=>{R(),I.current=null},f))},[f,E,R,...i]),{droppableRects:j,measureDroppableContainers:R,measuringScheduled:l!=null};function q(){switch(p){case MeasuringStrategy.Always:return!1;case MeasuringStrategy.BeforeDragging:return n;default:return!n}}}function useInitialValue(t,e){return useLazyMemo(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function useInitialRect(t,e){return useInitialValue(t,e)}function useMutationObserver(t){let{callback:e,disabled:n}=t;const i=useEvent(e),o=reactExports.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,n]);return reactExports.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function useResizeObserver(t){let{callback:e,disabled:n}=t;const i=useEvent(e),o=reactExports.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[n]);return reactExports.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function defaultMeasure(t){return new Rect(getClientRect(t),t)}function useRect(t,e,n){e===void 0&&(e=defaultMeasure);const[i,o]=reactExports.useState(null);function l(){o(d=>{if(!t)return null;if(t.isConnected===!1){var p;return(p=d??n)!=null?p:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const u=useMutationObserver({callback(d){if(t)for(const p of d){const{type:g,target:E}=p;if(g==="childList"&&E instanceof HTMLElement&&E.contains(t)){l();break}}}}),f=useResizeObserver({callback:l});return useIsomorphicLayoutEffect$1(()=>{l(),t?(f==null||f.observe(t),u==null||u.observe(document.body,{childList:!0,subtree:!0})):(f==null||f.disconnect(),u==null||u.disconnect())},[t]),i}function useRectDelta(t){const e=useInitialValue(t);return getRectDelta(t,e)}const defaultValue$1=[];function useScrollableAncestors(t){const e=reactExports.useRef(t),n=useLazyMemo(i=>t?i&&i!==defaultValue$1&&t&&e.current&&t.parentNode===e.current.parentNode?i:getScrollableAncestors(t):defaultValue$1,[t]);return reactExports.useEffect(()=>{e.current=t},[t]),n}function useScrollOffsets(t){const[e,n]=reactExports.useState(null),i=reactExports.useRef(t),o=reactExports.useCallback(l=>{const u=getScrollableElement(l.target);u&&n(f=>f?(f.set(u,getScrollCoordinates(u)),new Map(f)):null)},[]);return reactExports.useEffect(()=>{const l=i.current;if(t!==l){u(l);const f=t.map(d=>{const p=getScrollableElement(d);return p?(p.addEventListener("scroll",o,{passive:!0}),[p,getScrollCoordinates(p)]):null}).filter(d=>d!=null);n(f.length?new Map(f):null),i.current=t}return()=>{u(t),u(l)};function u(f){f.forEach(d=>{const p=getScrollableElement(d);p==null||p.removeEventListener("scroll",o)})}},[o,t]),reactExports.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,u)=>add$1(l,u),defaultCoordinates):getScrollOffsets(t):defaultCoordinates,[t,e])}function useScrollOffsetsDelta(t,e){e===void 0&&(e=[]);const n=reactExports.useRef(null);return reactExports.useEffect(()=>{n.current=null},e),reactExports.useEffect(()=>{const i=t!==defaultCoordinates;i&&!n.current&&(n.current=t),!i&&n.current&&(n.current=null)},[t]),n.current?subtract$1(t,n.current):defaultCoordinates}function useSensorSetup(t){reactExports.useEffect(()=>{if(!canUseDOM)return;const e=t.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function useSyntheticListeners(t,e){return reactExports.useMemo(()=>t.reduce((n,i)=>{let{eventName:o,handler:l}=i;return n[o]=u=>{l(u,e)},n},{}),[t,e])}function useWindowRect(t){return reactExports.useMemo(()=>t?getWindowClientRect(t):null,[t])}const defaultValue$2=[];function useRects(t,e){e===void 0&&(e=getClientRect);const[n]=t,i=useWindowRect(n?getWindow(n):null),[o,l]=reactExports.useState(defaultValue$2);function u(){l(()=>t.length?t.map(d=>isDocumentScrollingElement(d)?i:new Rect(e(d),d)):defaultValue$2)}const f=useResizeObserver({callback:u});return useIsomorphicLayoutEffect$1(()=>{f==null||f.disconnect(),u(),t.forEach(d=>f==null?void 0:f.observe(d))},[t]),o}function getMeasurableNode(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return isHTMLElement$1(e)?e:t}function useDragOverlayMeasuring(t){let{measure:e}=t;const[n,i]=reactExports.useState(null),o=reactExports.useCallback(p=>{for(const{target:g}of p)if(isHTMLElement$1(g)){i(E=>{const A=e(g);return E?{...E,width:A.width,height:A.height}:A});break}},[e]),l=useResizeObserver({callback:o}),u=reactExports.useCallback(p=>{const g=getMeasurableNode(p);l==null||l.disconnect(),g&&(l==null||l.observe(g)),i(g?e(g):null)},[e,l]),[f,d]=useNodeRef(u);return reactExports.useMemo(()=>({nodeRef:f,rect:n,setRef:d}),[n,f,d])}const defaultSensors=[{sensor:PointerSensor,options:{}},{sensor:KeyboardSensor,options:{}}],defaultData={current:{}},defaultMeasuringConfiguration={draggable:{measure:getTransformAgnosticClientRect},droppable:{measure:getTransformAgnosticClientRect,strategy:MeasuringStrategy.WhileDragging,frequency:MeasuringFrequency.Optimized},dragOverlay:{measure:getClientRect}};class DroppableContainersMap extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const defaultPublicContext={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new DroppableContainersMap,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:noop$2},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:defaultMeasuringConfiguration,measureDroppableContainers:noop$2,windowRect:null,measuringScheduled:!1},defaultInternalContext={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:noop$2,draggableNodes:new Map,over:null,measureDroppableContainers:noop$2},InternalContext=reactExports.createContext(defaultInternalContext),PublicContext=reactExports.createContext(defaultPublicContext);function getInitialState(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new DroppableContainersMap}}}function reducer(t,e){switch(e.type){case Action.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Action.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Action.DragEnd:case Action.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Action.RegisterDroppable:{const{element:n}=e,{id:i}=n,o=new DroppableContainersMap(t.droppable.containers);return o.set(i,n),{...t,droppable:{...t.droppable,containers:o}}}case Action.SetDroppableDisabled:{const{id:n,key:i,disabled:o}=e,l=t.droppable.containers.get(n);if(!l||i!==l.key)return t;const u=new DroppableContainersMap(t.droppable.containers);return u.set(n,{...l,disabled:o}),{...t,droppable:{...t.droppable,containers:u}}}case Action.UnregisterDroppable:{const{id:n,key:i}=e,o=t.droppable.containers.get(n);if(!o||i!==o.key)return t;const l=new DroppableContainersMap(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function RestoreFocus(t){let{disabled:e}=t;const{active:n,activatorEvent:i,draggableNodes:o}=reactExports.useContext(InternalContext),l=usePrevious(i),u=usePrevious(n==null?void 0:n.id);return reactExports.useEffect(()=>{if(!e&&!i&&l&&u!=null){if(!isKeyboardEvent(l)||document.activeElement===l.target)return;const f=o.get(u);if(!f)return;const{activatorNode:d,node:p}=f;if(!d.current&&!p.current)return;requestAnimationFrame(()=>{for(const g of[d.current,p.current]){if(!g)continue;const E=findFirstFocusableNode(g);if(E){E.focus();break}}})}},[i,e,o,u,l]),null}function applyModifiers(t,e){let{transform:n,...i}=e;return t!=null&&t.length?t.reduce((o,l)=>l({transform:o,...i}),n):n}function useMeasuringConfiguration(t){return reactExports.useMemo(()=>({draggable:{...defaultMeasuringConfiguration.draggable,...t==null?void 0:t.draggable},droppable:{...defaultMeasuringConfiguration.droppable,...t==null?void 0:t.droppable},dragOverlay:{...defaultMeasuringConfiguration.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function useLayoutShiftScrollCompensation(t){let{activeNode:e,measure:n,initialRect:i,config:o=!0}=t;const l=reactExports.useRef(!1),{x:u,y:f}=typeof o=="boolean"?{x:o,y:o}:o;useIsomorphicLayoutEffect$1(()=>{if(!u&&!f||!e){l.current=!1;return}if(l.current||!i)return;const p=e==null?void 0:e.node.current;if(!p||p.isConnected===!1)return;const g=n(p),E=getRectDelta(g,i);if(u||(E.x=0),f||(E.y=0),l.current=!0,Math.abs(E.x)>0||Math.abs(E.y)>0){const A=getFirstScrollableAncestor(p);A&&A.scrollBy({top:E.y,left:E.x})}},[e,u,f,i,n])}const ActiveDraggableContext=reactExports.createContext({...defaultCoordinates,scaleX:1,scaleY:1});var Status;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Status||(Status={}));const DndContext=reactExports.memo(function t(e){var n,i,o,l;let{id:u,accessibility:f,autoScroll:d=!0,children:p,sensors:g=defaultSensors,collisionDetection:E=rectIntersection,measuring:A,modifiers:R,...I}=e;const j=reactExports.useReducer(reducer,void 0,getInitialState),[q,L]=j,[z,U]=useDndMonitorProvider(),[W,H]=reactExports.useState(Status.Uninitialized),Z=W===Status.Initialized,{draggable:{active:Y,nodes:J,translate:ne},droppable:{containers:ae}}=q,se=Y!=null?J.get(Y):null,ue=reactExports.useRef({initial:null,translated:null}),fe=reactExports.useMemo(()=>{var pr;return Y!=null?{id:Y,data:(pr=se==null?void 0:se.data)!=null?pr:defaultData,rect:ue}:null},[Y,se]),_e=reactExports.useRef(null),[ge,ce]=reactExports.useState(null),[me,ee]=reactExports.useState(null),ie=useLatestValue(I,Object.values(I)),oe=useUniqueId("DndDescribedBy",u),de=reactExports.useMemo(()=>ae.getEnabled(),[ae]),xe=useMeasuringConfiguration(A),{droppableRects:Ee,measureDroppableContainers:Ae,measuringScheduled:Ce}=useDroppableMeasuring(de,{dragging:Z,dependencies:[ne.x,ne.y],config:xe.droppable}),Oe=useCachedNode(J,Y),We=reactExports.useMemo(()=>me?getEventCoordinates(me):null,[me]),qe=Rn(),Ne=useInitialRect(Oe,xe.draggable.measure);useLayoutShiftScrollCompensation({activeNode:Y!=null?J.get(Y):null,config:qe.layoutShiftCompensation,initialRect:Ne,measure:xe.draggable.measure});const Me=useRect(Oe,xe.draggable.measure,Ne),Be=useRect(Oe?Oe.parentElement:null),je=reactExports.useRef({activatorEvent:null,active:null,activeNode:Oe,collisionRect:null,collisions:null,droppableRects:Ee,draggableNodes:J,draggingNode:null,draggingNodeRect:null,droppableContainers:ae,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ze=ae.getNodeFor((n=je.current.over)==null?void 0:n.id),ke=useDragOverlayMeasuring({measure:xe.dragOverlay.measure}),Ge=(i=ke.nodeRef.current)!=null?i:Oe,He=Z?(o=ke.rect)!=null?o:Me:null,ct=!!(ke.nodeRef.current&&ke.rect),tr=useRectDelta(ct?null:Me),ar=useWindowRect(Ge?getWindow(Ge):null),vt=useScrollableAncestors(Z?ze??Oe:null),xt=useRects(vt),ur=applyModifiers(R,{transform:{x:ne.x-tr.x,y:ne.y-tr.y,scaleX:1,scaleY:1},activatorEvent:me,active:fe,activeNodeRect:Me,containerNodeRect:Be,draggingNodeRect:He,over:je.current.over,overlayNodeRect:ke.rect,scrollableAncestors:vt,scrollableAncestorRects:xt,windowRect:ar}),yr=We?add$1(We,ne):null,Mt=useScrollOffsets(vt),Sr=useScrollOffsetsDelta(Mt),Lt=useScrollOffsetsDelta(Mt,[Me]),Ft=add$1(ur,Sr),_r=He?getAdjustedRect(He,ur):null,Wr=fe&&_r?E({active:fe,collisionRect:_r,droppableRects:Ee,droppableContainers:de,pointerCoordinates:yr}):null,mn=getFirstCollision(Wr,"id"),[_n,Ln]=reactExports.useState(null),xn=ct?ur:add$1(ur,Lt),$r=adjustScale(xn,(l=_n==null?void 0:_n.rect)!=null?l:null,Me),ti=reactExports.useRef(null),gn=reactExports.useCallback((pr,Ct)=>{let{sensor:At,options:Ir}=Ct;if(_e.current==null)return;const pt=J.get(_e.current);if(!pt)return;const dr=pr.nativeEvent,Lr=new At({active:_e.current,activeNode:pt,event:dr,options:Ir,context:je,onAbort(yt){if(!J.get(yt))return;const{onDragAbort:Tr}=ie.current,Rr={id:yt};Tr==null||Tr(Rr),z({type:"onDragAbort",event:Rr})},onPending(yt,yn,Tr,Rr){if(!J.get(yt))return;const{onDragPending:Pn}=ie.current,Vr={id:yt,constraint:yn,initialCoordinates:Tr,offset:Rr};Pn==null||Pn(Vr),z({type:"onDragPending",event:Vr})},onStart(yt){const yn=_e.current;if(yn==null)return;const Tr=J.get(yn);if(!Tr)return;const{onDragStart:Rr}=ie.current,wn={activatorEvent:dr,active:{id:yn,data:Tr.data,rect:ue}};reactDomExports.unstable_batchedUpdates(()=>{Rr==null||Rr(wn),H(Status.Initializing),L({type:Action.DragStart,initialCoordinates:yt,active:yn}),z({type:"onDragStart",event:wn}),ce(ti.current),ee(dr)})},onMove(yt){L({type:Action.DragMove,coordinates:yt})},onEnd:un(Action.DragEnd),onCancel:un(Action.DragCancel)});ti.current=Lr;function un(yt){return async function(){const{active:Tr,collisions:Rr,over:wn,scrollAdjustedTranslate:Pn}=je.current;let Vr=null;if(Tr&&Pn){const{cancelDrop:Jr}=ie.current;Vr={activatorEvent:dr,active:Tr,collisions:Rr,delta:Pn,over:wn},yt===Action.DragEnd&&typeof Jr=="function"&&await Promise.resolve(Jr(Vr))&&(yt=Action.DragCancel)}_e.current=null,reactDomExports.unstable_batchedUpdates(()=>{L({type:yt}),H(Status.Uninitialized),Ln(null),ce(null),ee(null),ti.current=null;const Jr=yt===Action.DragEnd?"onDragEnd":"onDragCancel";if(Vr){const xr=ie.current[Jr];xr==null||xr(Vr),z({type:Jr,event:Vr})}})}}},[J]),Br=reactExports.useCallback((pr,Ct)=>(At,Ir)=>{const pt=At.nativeEvent,dr=J.get(Ir);if(_e.current!==null||!dr||pt.dndKit||pt.defaultPrevented)return;const Lr={active:dr};pr(At,Ct.options,Lr)===!0&&(pt.dndKit={capturedBy:Ct.sensor},_e.current=Ir,gn(At,Ct))},[J,gn]),Vn=useCombineActivators(g,Br);useSensorSetup(g),useIsomorphicLayoutEffect$1(()=>{Me&&W===Status.Initializing&&H(Status.Initialized)},[Me,W]),reactExports.useEffect(()=>{const{onDragMove:pr}=ie.current,{active:Ct,activatorEvent:At,collisions:Ir,over:pt}=je.current;if(!Ct||!At)return;const dr={active:Ct,activatorEvent:At,collisions:Ir,delta:{x:Ft.x,y:Ft.y},over:pt};reactDomExports.unstable_batchedUpdates(()=>{pr==null||pr(dr),z({type:"onDragMove",event:dr})})},[Ft.x,Ft.y]),reactExports.useEffect(()=>{const{active:pr,activatorEvent:Ct,collisions:At,droppableContainers:Ir,scrollAdjustedTranslate:pt}=je.current;if(!pr||_e.current==null||!Ct||!pt)return;const{onDragOver:dr}=ie.current,Lr=Ir.get(mn),un=Lr&&Lr.rect.current?{id:Lr.id,rect:Lr.rect.current,data:Lr.data,disabled:Lr.disabled}:null,yt={active:pr,activatorEvent:Ct,collisions:At,delta:{x:pt.x,y:pt.y},over:un};reactDomExports.unstable_batchedUpdates(()=>{Ln(un),dr==null||dr(yt),z({type:"onDragOver",event:yt})})},[mn]),useIsomorphicLayoutEffect$1(()=>{je.current={activatorEvent:me,active:fe,activeNode:Oe,collisionRect:_r,collisions:Wr,droppableRects:Ee,draggableNodes:J,draggingNode:Ge,draggingNodeRect:He,droppableContainers:ae,over:_n,scrollableAncestors:vt,scrollAdjustedTranslate:Ft},ue.current={initial:He,translated:_r}},[fe,Oe,Wr,_r,J,Ge,He,Ee,ae,_n,vt,Ft]),useAutoScroller({...qe,delta:ne,draggingRect:_r,pointerCoordinates:yr,scrollableAncestors:vt,scrollableAncestorRects:xt});const Ki=reactExports.useMemo(()=>({active:fe,activeNode:Oe,activeNodeRect:Me,activatorEvent:me,collisions:Wr,containerNodeRect:Be,dragOverlay:ke,draggableNodes:J,droppableContainers:ae,droppableRects:Ee,over:_n,measureDroppableContainers:Ae,scrollableAncestors:vt,scrollableAncestorRects:xt,measuringConfiguration:xe,measuringScheduled:Ce,windowRect:ar}),[fe,Oe,Me,me,Wr,Be,ke,J,ae,Ee,_n,Ae,vt,xt,xe,Ce,ar]),bi=reactExports.useMemo(()=>({activatorEvent:me,activators:Vn,active:fe,activeNodeRect:Me,ariaDescribedById:{draggable:oe},dispatch:L,draggableNodes:J,over:_n,measureDroppableContainers:Ae}),[me,Vn,fe,Me,L,oe,J,_n,Ae]);return React.createElement(DndMonitorContext.Provider,{value:U},React.createElement(InternalContext.Provider,{value:bi},React.createElement(PublicContext.Provider,{value:Ki},React.createElement(ActiveDraggableContext.Provider,{value:$r},p)),React.createElement(RestoreFocus,{disabled:(f==null?void 0:f.restoreFocus)===!1})),React.createElement(Accessibility,{...f,hiddenTextDescribedById:oe}));function Rn(){const pr=(ge==null?void 0:ge.autoScrollEnabled)===!1,Ct=typeof d=="object"?d.enabled===!1:d===!1,At=Z&&!pr&&!Ct;return typeof d=="object"?{...d,enabled:At}:{enabled:At}}}),NullContext=reactExports.createContext(null),defaultRole="button",ID_PREFIX$1="Draggable";function useDraggable(t){let{id:e,data:n,disabled:i=!1,attributes:o}=t;const l=useUniqueId(ID_PREFIX$1),{activators:u,activatorEvent:f,active:d,activeNodeRect:p,ariaDescribedById:g,draggableNodes:E,over:A}=reactExports.useContext(InternalContext),{role:R=defaultRole,roleDescription:I="draggable",tabIndex:j=0}=o??{},q=(d==null?void 0:d.id)===e,L=reactExports.useContext(q?ActiveDraggableContext:NullContext),[z,U]=useNodeRef(),[W,H]=useNodeRef(),Z=useSyntheticListeners(u,e),Y=useLatestValue(n);useIsomorphicLayoutEffect$1(()=>(E.set(e,{id:e,key:l,node:z,activatorNode:W,data:Y}),()=>{const ne=E.get(e);ne&&ne.key===l&&E.delete(e)}),[E,e]);const J=reactExports.useMemo(()=>({role:R,tabIndex:j,"aria-disabled":i,"aria-pressed":q&&R===defaultRole?!0:void 0,"aria-roledescription":I,"aria-describedby":g.draggable}),[i,R,j,q,I,g.draggable]);return{active:d,activatorEvent:f,activeNodeRect:p,attributes:J,isDragging:q,listeners:i?void 0:Z,node:z,over:A,setNodeRef:U,setActivatorNodeRef:H,transform:L}}function useDndContext(){return reactExports.useContext(PublicContext)}const ID_PREFIX$1$1="Droppable",defaultResizeObserverConfig={timeout:25};function useDroppable(t){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:o}=t;const l=useUniqueId(ID_PREFIX$1$1),{active:u,dispatch:f,over:d,measureDroppableContainers:p}=reactExports.useContext(InternalContext),g=reactExports.useRef({disabled:n}),E=reactExports.useRef(!1),A=reactExports.useRef(null),R=reactExports.useRef(null),{disabled:I,updateMeasurementsFor:j,timeout:q}={...defaultResizeObserverConfig,...o},L=useLatestValue(j??i),z=reactExports.useCallback(()=>{if(!E.current){E.current=!0;return}R.current!=null&&clearTimeout(R.current),R.current=setTimeout(()=>{p(Array.isArray(L.current)?L.current:[L.current]),R.current=null},q)},[q]),U=useResizeObserver({callback:z,disabled:I||!u}),W=reactExports.useCallback((J,ne)=>{U&&(ne&&(U.unobserve(ne),E.current=!1),J&&U.observe(J))},[U]),[H,Z]=useNodeRef(W),Y=useLatestValue(e);return reactExports.useEffect(()=>{!U||!H.current||(U.disconnect(),E.current=!1,U.observe(H.current))},[H,U]),reactExports.useEffect(()=>(f({type:Action.RegisterDroppable,element:{id:i,key:l,disabled:n,node:H,rect:A,data:Y}}),()=>f({type:Action.UnregisterDroppable,key:l,id:i})),[i]),reactExports.useEffect(()=>{n!==g.current.disabled&&(f({type:Action.SetDroppableDisabled,id:i,key:l,disabled:n}),g.current.disabled=n)},[i,l,n,f]),{active:u,rect:A,isOver:(d==null?void 0:d.id)===i,node:H,over:d,setNodeRef:Z}}function arrayMove(t,e,n){const i=t.slice();return i.splice(n<0?i.length+n:n,0,i.splice(e,1)[0]),i}function getSortedRects(t,e){return t.reduce((n,i,o)=>{const l=e.get(i);return l&&(n[o]=l),n},Array(t.length))}function isValidIndex(t){return t!==null&&t>=0}function itemsEqual(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function normalizeDisabled(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const defaultScale={scaleX:1,scaleY:1},horizontalListSortingStrategy=t=>{var e;let{rects:n,activeNodeRect:i,activeIndex:o,overIndex:l,index:u}=t;const f=(e=n[o])!=null?e:i;if(!f)return null;const d=getItemGap(n,u,o);if(u===o){const p=n[l];return p?{x:o<l?p.left+p.width-(f.left+f.width):p.left-f.left,y:0,...defaultScale}:null}return u>o&&u<=l?{x:-f.width-d,y:0,...defaultScale}:u<o&&u>=l?{x:f.width+d,y:0,...defaultScale}:{x:0,y:0,...defaultScale}};function getItemGap(t,e,n){const i=t[e],o=t[e-1],l=t[e+1];return!i||!o&&!l?0:n<e?o?i.left-(o.left+o.width):l.left-(i.left+i.width):l?l.left-(i.left+i.width):i.left-(o.left+o.width)}const rectSortingStrategy=t=>{let{rects:e,activeIndex:n,overIndex:i,index:o}=t;const l=arrayMove(e,i,n),u=e[o],f=l[o];return!f||!u?null:{x:f.left-u.left,y:f.top-u.top,scaleX:f.width/u.width,scaleY:f.height/u.height}},ID_PREFIX="Sortable",Context=React.createContext({activeIndex:-1,containerId:ID_PREFIX,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rectSortingStrategy,disabled:{draggable:!1,droppable:!1}});function SortableContext(t){let{children:e,id:n,items:i,strategy:o=rectSortingStrategy,disabled:l=!1}=t;const{active:u,dragOverlay:f,droppableRects:d,over:p,measureDroppableContainers:g}=useDndContext(),E=useUniqueId(ID_PREFIX,n),A=f.rect!==null,R=reactExports.useMemo(()=>i.map(Z=>typeof Z=="object"&&"id"in Z?Z.id:Z),[i]),I=u!=null,j=u?R.indexOf(u.id):-1,q=p?R.indexOf(p.id):-1,L=reactExports.useRef(R),z=!itemsEqual(R,L.current),U=q!==-1&&j===-1||z,W=normalizeDisabled(l);useIsomorphicLayoutEffect$1(()=>{z&&I&&g(R)},[z,R,I,g]),reactExports.useEffect(()=>{L.current=R},[R]);const H=reactExports.useMemo(()=>({activeIndex:j,containerId:E,disabled:W,disableTransforms:U,items:R,overIndex:q,useDragOverlay:A,sortedRects:getSortedRects(R,d),strategy:o}),[j,E,W.draggable,W.droppable,U,R,q,d,A,o]);return React.createElement(Context.Provider,{value:H},e)}const defaultNewIndexGetter=t=>{let{id:e,items:n,activeIndex:i,overIndex:o}=t;return arrayMove(n,i,o).indexOf(e)},defaultAnimateLayoutChanges=t=>{let{containerId:e,isSorting:n,wasDragging:i,index:o,items:l,newIndex:u,previousItems:f,previousContainerId:d,transition:p}=t;return!p||!i||f!==l&&o===u?!1:n?!0:u!==o&&e===d},defaultTransition={duration:200,easing:"ease"},transitionProperty="transform",disabledTransition=CSS.Transition.toString({property:transitionProperty,duration:0,easing:"linear"}),defaultAttributes={roleDescription:"sortable"};function useDerivedTransform(t){let{disabled:e,index:n,node:i,rect:o}=t;const[l,u]=reactExports.useState(null),f=reactExports.useRef(n);return useIsomorphicLayoutEffect$1(()=>{if(!e&&n!==f.current&&i.current){const d=o.current;if(d){const p=getClientRect(i.current,{ignoreTransform:!0}),g={x:d.left-p.left,y:d.top-p.top,scaleX:d.width/p.width,scaleY:d.height/p.height};(g.x||g.y)&&u(g)}}n!==f.current&&(f.current=n)},[e,n,i,o]),reactExports.useEffect(()=>{l&&u(null)},[l]),l}function useSortable(t){let{animateLayoutChanges:e=defaultAnimateLayoutChanges,attributes:n,disabled:i,data:o,getNewIndex:l=defaultNewIndexGetter,id:u,strategy:f,resizeObserverConfig:d,transition:p=defaultTransition}=t;const{items:g,containerId:E,activeIndex:A,disabled:R,disableTransforms:I,sortedRects:j,overIndex:q,useDragOverlay:L,strategy:z}=reactExports.useContext(Context),U=normalizeLocalDisabled(i,R),W=g.indexOf(u),H=reactExports.useMemo(()=>({sortable:{containerId:E,index:W,items:g},...o}),[E,o,W,g]),Z=reactExports.useMemo(()=>g.slice(g.indexOf(u)),[g,u]),{rect:Y,node:J,isOver:ne,setNodeRef:ae}=useDroppable({id:u,data:H,disabled:U.droppable,resizeObserverConfig:{updateMeasurementsFor:Z,...d}}),{active:se,activatorEvent:ue,activeNodeRect:fe,attributes:_e,setNodeRef:ge,listeners:ce,isDragging:me,over:ee,setActivatorNodeRef:ie,transform:oe}=useDraggable({id:u,data:H,attributes:{...defaultAttributes,...n},disabled:U.draggable}),de=useCombinedRefs(ae,ge),xe=!!se,Ee=xe&&!I&&isValidIndex(A)&&isValidIndex(q),Ae=!L&&me,Ce=Ae&&Ee?oe:null,We=Ee?Ce??(f??z)({rects:j,activeNodeRect:fe,activeIndex:A,overIndex:q,index:W}):null,qe=isValidIndex(A)&&isValidIndex(q)?l({id:u,items:g,activeIndex:A,overIndex:q}):W,Ne=se==null?void 0:se.id,Me=reactExports.useRef({activeId:Ne,items:g,newIndex:qe,containerId:E}),Be=g!==Me.current.items,je=e({active:se,containerId:E,isDragging:me,isSorting:xe,id:u,index:W,items:g,newIndex:Me.current.newIndex,previousItems:Me.current.items,previousContainerId:Me.current.containerId,transition:p,wasDragging:Me.current.activeId!=null}),ze=useDerivedTransform({disabled:!je,index:W,node:J,rect:Y});return reactExports.useEffect(()=>{xe&&Me.current.newIndex!==qe&&(Me.current.newIndex=qe),E!==Me.current.containerId&&(Me.current.containerId=E),g!==Me.current.items&&(Me.current.items=g)},[xe,qe,E,g]),reactExports.useEffect(()=>{if(Ne===Me.current.activeId)return;if(Ne!=null&&Me.current.activeId==null){Me.current.activeId=Ne;return}const Ge=setTimeout(()=>{Me.current.activeId=Ne},50);return()=>clearTimeout(Ge)},[Ne]),{active:se,activeIndex:A,attributes:_e,data:H,rect:Y,index:W,newIndex:qe,items:g,isOver:ne,isSorting:xe,isDragging:me,listeners:ce,node:J,overIndex:q,over:ee,setNodeRef:de,setActivatorNodeRef:ie,setDroppableNodeRef:ae,setDraggableNodeRef:ge,transform:ze??We,transition:ke()};function ke(){if(ze||Be&&Me.current.newIndex===W)return disabledTransition;if(!(Ae&&!isKeyboardEvent(ue)||!p)&&(xe||je))return CSS.Transition.toString({...p,property:transitionProperty})}}function normalizeLocalDisabled(t,e){var n,i;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(i=t==null?void 0:t.droppable)!=null?i:e.droppable}}KeyboardCode.Down,KeyboardCode.Right,KeyboardCode.Up,KeyboardCode.Left;function SortableWord({id:t,word:e,audio:n,onClickWord:i,onLongPress:o,isMoving:l}){const{attributes:u,listeners:f,setNodeRef:d,transform:p,transition:g,isDragging:E}=useSortable({id:t}),A={transform:CSS.Transform.toString(p),transition:E?"transform 0.2s ease":l?"all 0.4s ease":g||"transform 0.2s ease",zIndex:E?999:"auto",opacity:E?.8:1},R=reactExports.useRef(null),I=reactExports.useRef({x:0,y:0}),j=L=>{I.current={x:L.clientX,y:L.clientY},R.current=setTimeout(()=>{o(t)},500)},q=L=>{if(R.current){clearTimeout(R.current);const z=Math.abs(L.clientX-I.current.x),U=Math.abs(L.clientY-I.current.y);Math.sqrt(z*z+U*U)<5&&i(t)}};return jsxRuntimeExports.jsxs("button",{ref:d,style:A,...u,...f,onMouseDown:j,onMouseUp:q,onTouchStart:L=>j(L.touches[0]),onTouchEnd:L=>q(L.changedTouches[0]),className:"custom-btn mx-2 cursor-pointer active:scale-105 flex items-center gap-2 transition-transform",children:[e,jsxRuntimeExports.jsxs("span",{className:"cursor-pointer text-sm",children:[" ",jsxRuntimeExports.jsx(Volume2,{size:15})]})]})}function DroppableArea({id:t,children:e,label:n}){const{setNodeRef:i,isOver:o}=useDroppable({id:t});return jsxRuntimeExports.jsx("div",{ref:i,className:`min-h-[60px] border-2 rounded-lg p-4 mb-6 flex flex-wrap justify-center items-center gap-2 transition ${o?"border-[#9B1B30] bg-pink-50 scale-105":"border-gray-400 border-dashed"}`,children:e&&e.length>0?e:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:n})})}function SentenceOrdering({question:t,onConfirm:e}){const[n,i]=reactExports.useState(t.words.map(I=>I.word)),[o,l]=reactExports.useState([]),[u,f]=reactExports.useState(!1),[d,p]=reactExports.useState(null),g=useSensors(useSensor(PointerSensor)),E=I=>{const{active:j,over:q}=I;q&&(o.includes(j.id)&&o.includes(q.id)?l(L=>{const z=L.indexOf(j.id),U=L.indexOf(q.id);return arrayMove(L,z,U)}):n.includes(j.id)&&q.id==="drop-zone"?(i(n.filter(L=>L!==j.id)),l([...o,j.id])):o.includes(j.id)&&q.id==="bank-zone"&&(l(o.filter(L=>L!==j.id)),i([...n,j.id])))},A=I=>{p(I),setTimeout(()=>p(null),400),n.includes(I)?(i(n.filter(j=>j!==I)),l([...o,I])):o.includes(I)&&(l(o.filter(j=>j!==I)),i([...n,I]))},R=I=>{const j=t.words.find(q=>q.word===I);j!=null&&j.audio&&new Audio(j.audio).play()};return jsxRuntimeExports.jsxs("div",{className:"text-center min-h-[400px] flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsxs("h5",{className:"fw-bolder mb-4",children:[jsxRuntimeExports.jsx(ArrowDownUp,{})," 例句排列"]}),jsxRuntimeExports.jsx("h2",{className:"fw-bolder mb-4",children:t.sentenceCn}),jsxRuntimeExports.jsxs(DndContext,{sensors:g,collisionDetection:closestCenter,onDragEnd:E,children:[jsxRuntimeExports.jsx(SortableContext,{items:o,strategy:horizontalListSortingStrategy,children:jsxRuntimeExports.jsx(DroppableArea,{id:"drop-zone",label:"拖曳單詞到這裡",children:o.map(I=>{const j=t.words.find(q=>q.word===I);return jsxRuntimeExports.jsx(SortableWord,{id:I,word:j.word,audio:j.audio,onClickWord:A,onLongPress:R,isMoving:d===I},I)})})}),jsxRuntimeExports.jsx("h5",{className:"fw-bolder mb-4",children:jsxRuntimeExports.jsx(ArrowDownUp,{})}),jsxRuntimeExports.jsx(SortableContext,{items:n,strategy:horizontalListSortingStrategy,children:jsxRuntimeExports.jsx(DroppableArea,{id:"bank-zone",label:"單詞庫",children:n.map(I=>{const j=t.words.find(q=>q.word===I);return jsxRuntimeExports.jsx(SortableWord,{id:I,word:j.word,audio:j.audio,onClickWord:A,onLongPress:R,isMoving:d===I},I)})})})]}),u?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"mt-3 font-bold",children:JSON.stringify(o)===JSON.stringify(t.answer)?"✅ 正確":"❌ 錯誤"}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-blue-600 font-bold",children:["正確答案：",t.answer.join(" ")]})]}):jsxRuntimeExports.jsxs("button",{onClick:()=>{f(!0),e&&e()},disabled:o.length===0,className:"confirm-btn",children:[jsxRuntimeExports.jsx(Check,{})," 確認"]})]})}function WordMatching({question:t,onConfirm:e}){const[n,i]=reactExports.useState({}),[o,l]=reactExports.useState(null),[u,f]=reactExports.useState(!1),[d,p]=reactExports.useState(null),g=(A,R)=>{if(!u)if(!o)l({word:A,isCn:R});else{if(o.isCn===R){l({word:A,isCn:R});return}const I=R?A:o.word,j=R?o.word:A,q=t.pairs.find(L=>L.cn===I);if(q.tayal.word===j){const L={...n,[I]:j};i(L),l(null),Object.keys(L).length===t.pairs.length&&(f(!0),e&&e({result:"all-correct",correctPairs:t.pairs}))}else p({cn:I,chosen:j,correct:q.tayal.word}),f(!0),e&&e({result:"wrong",wrongPair:{cn:I,chosen:j,correct:q.tayal.word},correctPairs:t.pairs})}},E=(A,R)=>{if(u)if(d){if(R){if(A===d.cn&&n[d.cn]!==d.correct||A===d.cn)return"custom-btn wrong"}else{if(A===d.chosen)return"custom-btn wrong";if(A===d.correct)return"custom-btn correct"}if(R&&n[A]||!R&&Object.values(n).includes(A))return"custom-btn selected"}else return"custom-btn correct";else if(R&&(o==null?void 0:o.word)===A&&o.isCn||!R&&(o==null?void 0:o.word)===A&&!o.isCn||R&&n[A]||!R&&Object.values(n).includes(A))return"custom-btn selected";return"custom-btn"};return jsxRuntimeExports.jsxs("div",{className:"text-center",style:{minHeight:"400px"},children:[jsxRuntimeExports.jsx("h5",{className:"fw-bolder mb-4",children:"配對題"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 mb=4",children:[jsxRuntimeExports.jsx("div",{children:t.pairs.map(A=>jsxRuntimeExports.jsx("button",{className:E(A.cn,!0),onClick:()=>g(A.cn,!0),disabled:u,children:A.cn},A.cn))}),jsxRuntimeExports.jsx("div",{children:t.pairs.map(A=>jsxRuntimeExports.jsxs("button",{className:E(A.tayal.word,!1),onClick:()=>g(A.tayal.word,!1),disabled:u,children:[A.tayal.word," ",jsxRuntimeExports.jsx(Volume2,{size:15,onClick:R=>{R.stopPropagation(),new Audio(A.tayal.audio).play()}})]},A.tayal.word))})]}),u&&jsxRuntimeExports.jsxs("div",{className:"mt-4 font-bold",children:[d?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"text-red-600",children:"答錯 ❌"}),jsxRuntimeExports.jsxs("p",{children:[d.cn," → 正解是 ",jsxRuntimeExports.jsx("span",{className:"text-green-600",children:d.correct})]})]}):jsxRuntimeExports.jsx("p",{className:"text-green-600",children:"全部配對正確 ✅"}),jsxRuntimeExports.jsx("h6",{className:"mt-3",children:"全部正解："}),t.pairs.map(A=>jsxRuntimeExports.jsxs("p",{children:[A.cn," → ",A.tayal.word]},A.cn))]})]})}function WordTranslation({question:t,selected:e,checked:n,onSelect:i,onConfirm:o}){const l=d=>new Audio(d).play(),u=d=>{i(e===d?null:d)},f=d=>n?d===t.answer?"correct":e===d&&d!==t.answer?"wrong":"":e===d?"selected":"";return jsxRuntimeExports.jsxs("div",{className:"text-center",style:{height:"550px"},children:[jsxRuntimeExports.jsxs("h5",{className:"fw-bolder mb-4",children:[jsxRuntimeExports.jsx(Languages,{})," 單詞翻譯"]}),jsxRuntimeExports.jsx("button",{onClick:()=>l(t.tayal.audio),className:"custom0-btn mb-4",children:jsxRuntimeExports.jsxs("h2",{className:"fw-bolder mb-4",children:[t.tayal.word," ",jsxRuntimeExports.jsx(Volume2,{size:20})]})}),jsxRuntimeExports.jsx("div",{className:"options-list",children:t.options.map(d=>jsxRuntimeExports.jsx("button",{onClick:()=>!n&&u(d),className:`custom-btn ${f(d)}`,children:d},d))}),n?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"mt-3 font-bold",children:e===t.answer?"✅ 正確":"❌ 錯誤"}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-blue-600 font-bold",children:["正確答案：",t.answer]})]}):jsxRuntimeExports.jsxs("button",{onClick:()=>o&&o(),className:"confirm-btn",disabled:!e,children:[jsxRuntimeExports.jsx(Check,{})," 確認"]})]})}function QuestionRenderer({question:t,selected:e,checked:n,onSelect:i,onConfirm:o}){switch(t.type){case"sentence-fill":return jsxRuntimeExports.jsx(SentenceFillBlank,{question:t,selected:e,checked:n,onSelect:i,onConfirm:o});case"sentence-order":return jsxRuntimeExports.jsx(SentenceOrdering,{question:t,selected:e,checked:n,onSelect:i,onConfirm:o});case"word-match":return jsxRuntimeExports.jsx(WordMatching,{question:t,selected:e,checked:n,onSelect:i,onConfirm:o});case"word-translate":return jsxRuntimeExports.jsx(WordTranslation,{question:t,selected:e,checked:n,onSelect:i,onConfirm:o});default:return jsxRuntimeExports.jsx("p",{children:"未知題型"})}}function QuizPage(){const t=[{id:1,type:"sentence-fill",sentence:"Musa ___ quri.",options:[{word:"naga",audio:"/audio/naga.mp3"},{word:"nga",audio:"/audio/nga.mp3"},{word:"nagaq",audio:"/audio/nagaq.mp3"}],answer:"nga"},{id:2,type:"sentence-order",sentenceCn:"我去學校",words:[{word:"nga",audio:"/audio/nga.mp3"},{word:"musa",audio:"/audio/musa.mp3"},{word:"quri",audio:"/audio/quri.mp3"}],answer:["musa","nga","quri"]},{id:3,type:"word-match",pairs:[{cn:"太陽",tayal:{word:"sunqi",audio:"/audio/sunqi.mp3"}},{cn:"月亮",tayal:{word:"bulan",audio:"/audio/bulan.mp3"}}]},{id:4,type:"word-translate",tayal:{word:"sunqi",audio:"/audio/sunqi.mp3"},options:["太陽","月亮","火","水"],answer:"太陽"}],[e,n]=reactExports.useState(0),[i,o]=reactExports.useState(!1),[l,u]=reactExports.useState(null),f=(e+1)/t.length*100,d=()=>{e+1<t.length?(n(e+1),o(!1),u(null)):alert("測驗結束")};return jsxRuntimeExports.jsxs("div",{className:"w-full max-w-3xl bg-white shadow-xl rounded-2xl p-8 flex flex-col items-center",style:{height:"600px"},children:[jsxRuntimeExports.jsx("div",{className:"w-full max-w-2xl bg-gray-200 rounded-full h-3 mb-4 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"bg-green-500 h-3 transition-all duration-500",style:{width:`${f}%`}})}),jsxRuntimeExports.jsxs("h6",{className:"text-sm text-gray-600 mb-4 text-center",children:["第 ",e+1," / ",t.length," 題"]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center justify-center w-full overflow-auto",children:jsxRuntimeExports.jsx(QuestionRenderer,{question:t[e],selected:l,checked:i,onSelect:p=>u(p),onConfirm:()=>o(!0)})}),e<t.length&&jsxRuntimeExports.jsx("div",{className:"w-full flex justify-center mt-6",children:jsxRuntimeExports.jsx("button",{onClick:d,className:`custom-btn mt-3 ${i?e===t.length-1?"correct":"":"opacity-50 cursor-not-allowed"}`,disabled:!i,style:{cursor:i?"pointer":"not-allowed"},children:e===t.length-1?"結束測驗":"下一題"})})]})}const Recommon=({})=>jsxRuntimeExports.jsx(QuizPage,{}),fakeData=[{date:"2025-03-05",level:"初級",questionType:"是非題",results:{正確:5,錯誤:2,未作答:1}},{date:"2025-03-05",level:"中級",questionType:"選擇題",results:{正確:6,錯誤:3,未作答:1}},{date:"2025-03-04",level:"高級",questionType:"閱讀理解",results:{正確:7,錯誤:3,未作答:2}},{date:"2025-03-03",level:"中高級",questionType:"是非題",results:{正確:8,錯誤:1,未作答:1}},{date:"2025-03-01",level:"優級",questionType:"配合題",results:{正確:7,錯誤:2,未作答:1}},{date:"2025-03-01",level:"優級",questionType:"選擇題",results:{正確:6,錯誤:2,未作答:2}}],getLineData=t=>{const e={};return t==null||t.forEach(n=>{var i,o,l;e[n.date]||(e[n.date]={date:n.date,正確:0,錯誤:0,未作答:0}),e[n.date].正確+=((i=n.results)==null?void 0:i.正確)||0,e[n.date].錯誤+=((o=n.results)==null?void 0:o.錯誤)||0,e[n.date].未作答+=((l=n.results)==null?void 0:l.未作答)||0}),Object.values(e).sort((n,i)=>n.date.localeCompare(i.date))};function r(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function clsx(){for(var t,e,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var t=Array.isArray;return isArray_1=t,isArray_1}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var t=typeof commonjsGlobal$2=="object"&&commonjsGlobal$2&&commonjsGlobal$2.Object===Object&&commonjsGlobal$2;return _freeGlobal=t,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var t=require_freeGlobal(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return _root=n,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var t=require_root(),e=t.Symbol;return _Symbol=e,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var t=require_Symbol(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,o=t?t.toStringTag:void 0;function l(u){var f=n.call(u,o),d=u[o];try{u[o]=void 0;var p=!0}catch{}var g=i.call(u);return p&&(f?u[o]=d:delete u[o]),g}return _getRawTag=l,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var t=Object.prototype,e=t.toString;function n(i){return e.call(i)}return _objectToString=n,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var t=require_Symbol(),e=require_getRawTag(),n=require_objectToString(),i="[object Null]",o="[object Undefined]",l=t?t.toStringTag:void 0;function u(f){return f==null?f===void 0?o:i:l&&l in Object(f)?e(f):n(f)}return _baseGetTag=u,_baseGetTag}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function t(e){return e!=null&&typeof e=="object"}return isObjectLike_1=t,isObjectLike_1}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Symbol]";function i(o){return typeof o=="symbol"||e(o)&&t(o)==n}return isSymbol_1=i,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var t=requireIsArray(),e=requireIsSymbol(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function o(l,u){if(t(l))return!1;var f=typeof l;return f=="number"||f=="symbol"||f=="boolean"||l==null||e(l)?!0:i.test(l)||!n.test(l)||u!=null&&l in Object(u)}return _isKey=o,_isKey}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return isObject_1=t,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var t=require_baseGetTag(),e=requireIsObject(),n="[object AsyncFunction]",i="[object Function]",o="[object GeneratorFunction]",l="[object Proxy]";function u(f){if(!e(f))return!1;var d=t(f);return d==i||d==o||d==n||d==l}return isFunction_1=u,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var t=require_root(),e=t["__core-js_shared__"];return _coreJsData=e,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var t=require_coreJsData(),e=function(){var i=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function n(i){return!!e&&e in i}return _isMasked=n,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var t=Function.prototype,e=t.toString;function n(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return _toSource=n,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var t=requireIsFunction(),e=require_isMasked(),n=requireIsObject(),i=require_toSource(),o=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,d=u.toString,p=f.hasOwnProperty,g=RegExp("^"+d.call(p).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E(A){if(!n(A)||e(A))return!1;var R=t(A)?g:l;return R.test(i(A))}return _baseIsNative=E,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function t(e,n){return e==null?void 0:e[n]}return _getValue=t,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var t=require_baseIsNative(),e=require_getValue();function n(i,o){var l=e(i,o);return t(l)?l:void 0}return _getNative=n,_getNative}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var t=require_getNative(),e=t(Object,"create");return _nativeCreate=e,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var t=require_nativeCreate();function e(){this.__data__=t?t(null):{},this.size=0}return _hashClear=e,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return _hashDelete=t,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function o(l){var u=this.__data__;if(t){var f=u[l];return f===e?void 0:f}return i.call(u,l)?u[l]:void 0}return _hashGet=o,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var t=require_nativeCreate(),e=Object.prototype,n=e.hasOwnProperty;function i(o){var l=this.__data__;return t?l[o]!==void 0:n.call(l,o)}return _hashHas=i,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__";function n(i,o){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=t&&o===void 0?e:o,this}return _hashSet=n,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var t=require_hashClear(),e=require_hashDelete(),n=require_hashGet(),i=require_hashHas(),o=require_hashSet();function l(u){var f=-1,d=u==null?0:u.length;for(this.clear();++f<d;){var p=u[f];this.set(p[0],p[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,_Hash=l,_Hash}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function t(){this.__data__=[],this.size=0}return _listCacheClear=t,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function t(e,n){return e===n||e!==e&&n!==n}return eq_1=t,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var t=requireEq();function e(n,i){for(var o=n.length;o--;)if(t(n[o][0],i))return o;return-1}return _assocIndexOf=e,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var t=require_assocIndexOf(),e=Array.prototype,n=e.splice;function i(o){var l=this.__data__,u=t(l,o);if(u<0)return!1;var f=l.length-1;return u==f?l.pop():n.call(l,u,1),--this.size,!0}return _listCacheDelete=i,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var t=require_assocIndexOf();function e(n){var i=this.__data__,o=t(i,n);return o<0?void 0:i[o][1]}return _listCacheGet=e,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var t=require_assocIndexOf();function e(n){return t(this.__data__,n)>-1}return _listCacheHas=e,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var t=require_assocIndexOf();function e(n,i){var o=this.__data__,l=t(o,n);return l<0?(++this.size,o.push([n,i])):o[l][1]=i,this}return _listCacheSet=e,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var t=require_listCacheClear(),e=require_listCacheDelete(),n=require_listCacheGet(),i=require_listCacheHas(),o=require_listCacheSet();function l(u){var f=-1,d=u==null?0:u.length;for(this.clear();++f<d;){var p=u[f];this.set(p[0],p[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,_ListCache=l,_ListCache}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var t=require_getNative(),e=require_root(),n=t(e,"Map");return _Map=n,_Map}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var t=require_Hash(),e=require_ListCache(),n=require_Map();function i(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return _mapCacheClear=i,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return _isKeyable=t,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var t=require_isKeyable();function e(n,i){var o=n.__data__;return t(i)?o[typeof i=="string"?"string":"hash"]:o.map}return _getMapData=e,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var t=require_getMapData();function e(n){var i=t(this,n).delete(n);return this.size-=i?1:0,i}return _mapCacheDelete=e,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var t=require_getMapData();function e(n){return t(this,n).get(n)}return _mapCacheGet=e,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var t=require_getMapData();function e(n){return t(this,n).has(n)}return _mapCacheHas=e,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var t=require_getMapData();function e(n,i){var o=t(this,n),l=o.size;return o.set(n,i),this.size+=o.size==l?0:1,this}return _mapCacheSet=e,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var t=require_mapCacheClear(),e=require_mapCacheDelete(),n=require_mapCacheGet(),i=require_mapCacheHas(),o=require_mapCacheSet();function l(u){var f=-1,d=u==null?0:u.length;for(this.clear();++f<d;){var p=u[f];this.set(p[0],p[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,_MapCache=l,_MapCache}var memoize_1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var t=require_MapCache(),e="Expected a function";function n(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new TypeError(e);var l=function(){var u=arguments,f=o?o.apply(this,u):u[0],d=l.cache;if(d.has(f))return d.get(f);var p=i.apply(this,u);return l.cache=d.set(f,p)||d,p};return l.cache=new(n.Cache||t),l}return n.Cache=t,memoize_1=n,memoize_1}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var t=requireMemoize(),e=500;function n(i){var o=t(i,function(u){return l.size===e&&l.clear(),u}),l=o.cache;return o}return _memoizeCapped=n,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var t=require_memoizeCapped(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=t(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(e,function(u,f,d,p){l.push(d?p.replace(n,"$1"):f||u)}),l});return _stringToPath=i,_stringToPath}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function t(e,n){for(var i=-1,o=e==null?0:e.length,l=Array(o);++i<o;)l[i]=n(e[i],i,e);return l}return _arrayMap=t,_arrayMap}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var t=require_Symbol(),e=require_arrayMap(),n=requireIsArray(),i=requireIsSymbol(),o=t?t.prototype:void 0,l=o?o.toString:void 0;function u(f){if(typeof f=="string")return f;if(n(f))return e(f,u)+"";if(i(f))return l?l.call(f):"";var d=f+"";return d=="0"&&1/f==-1/0?"-0":d}return _baseToString=u,_baseToString}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var t=require_baseToString();function e(n){return n==null?"":t(n)}return toString_1=e,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var t=requireIsArray(),e=require_isKey(),n=require_stringToPath(),i=requireToString();function o(l,u){return t(l)?l:e(l,u)?[l]:n(i(l))}return _castPath=o,_castPath}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var t=requireIsSymbol();function e(n){if(typeof n=="string"||t(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return _toKey=e,_toKey}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var t=require_castPath(),e=require_toKey();function n(i,o){o=t(o,i);for(var l=0,u=o.length;i!=null&&l<u;)i=i[e(o[l++])];return l&&l==u?i:void 0}return _baseGet=n,_baseGet}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var t=require_baseGet();function e(n,i,o){var l=n==null?void 0:t(n,i);return l===void 0?o:l}return get_1=e,get_1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var isNil_1,hasRequiredIsNil;function requireIsNil(){if(hasRequiredIsNil)return isNil_1;hasRequiredIsNil=1;function t(e){return e==null}return isNil_1=t,isNil_1}var isNilExports=requireIsNil();const isNil=getDefaultExportFromCjs(isNilExports);var isString_1,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString_1;hasRequiredIsString=1;var t=require_baseGetTag(),e=requireIsArray(),n=requireIsObjectLike(),i="[object String]";function o(l){return typeof l=="string"||!e(l)&&n(l)&&t(l)==i}return isString_1=o,isString_1}var isStringExports=requireIsString();const isString$1=getDefaultExportFromCjs(isStringExports);var isFunctionExports=requireIsFunction();const isFunction=getDefaultExportFromCjs(isFunctionExports);var isObjectExports=requireIsObject();const isObject$1=getDefaultExportFromCjs(isObjectExports);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),I;I=Symbol.for("react.module.reference");function j(q){if(typeof q=="object"&&q!==null){var L=q.$$typeof;switch(L){case t:switch(q=q.type,q){case n:case o:case i:case p:case g:return q;default:switch(q=q&&q.$$typeof,q){case f:case u:case d:case A:case E:case l:return q;default:return L}}case e:return L}}}return reactIs_production_min.ContextConsumer=u,reactIs_production_min.ContextProvider=l,reactIs_production_min.Element=t,reactIs_production_min.ForwardRef=d,reactIs_production_min.Fragment=n,reactIs_production_min.Lazy=A,reactIs_production_min.Memo=E,reactIs_production_min.Portal=e,reactIs_production_min.Profiler=o,reactIs_production_min.StrictMode=i,reactIs_production_min.Suspense=p,reactIs_production_min.SuspenseList=g,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(q){return j(q)===u},reactIs_production_min.isContextProvider=function(q){return j(q)===l},reactIs_production_min.isElement=function(q){return typeof q=="object"&&q!==null&&q.$$typeof===t},reactIs_production_min.isForwardRef=function(q){return j(q)===d},reactIs_production_min.isFragment=function(q){return j(q)===n},reactIs_production_min.isLazy=function(q){return j(q)===A},reactIs_production_min.isMemo=function(q){return j(q)===E},reactIs_production_min.isPortal=function(q){return j(q)===e},reactIs_production_min.isProfiler=function(q){return j(q)===o},reactIs_production_min.isStrictMode=function(q){return j(q)===i},reactIs_production_min.isSuspense=function(q){return j(q)===p},reactIs_production_min.isSuspenseList=function(q){return j(q)===g},reactIs_production_min.isValidElementType=function(q){return typeof q=="string"||typeof q=="function"||q===n||q===o||q===i||q===p||q===g||q===R||typeof q=="object"&&q!==null&&(q.$$typeof===A||q.$$typeof===E||q.$$typeof===l||q.$$typeof===u||q.$$typeof===d||q.$$typeof===I||q.getModuleId!==void 0)},reactIs_production_min.typeOf=j,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs(),isNumber_1,hasRequiredIsNumber;function requireIsNumber(){if(hasRequiredIsNumber)return isNumber_1;hasRequiredIsNumber=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Number]";function i(o){return typeof o=="number"||e(o)&&t(o)==n}return isNumber_1=i,isNumber_1}var _isNaN,hasRequired_isNaN;function require_isNaN(){if(hasRequired_isNaN)return _isNaN;hasRequired_isNaN=1;var t=requireIsNumber();function e(n){return t(n)&&n!=+n}return _isNaN=e,_isNaN}var _isNaNExports=require_isNaN();const isNan=getDefaultExportFromCjs(_isNaNExports);var isNumberExports=requireIsNumber();const isNumber$1=getDefaultExportFromCjs(isNumberExports);var mathSign=function t(e){return e===0?0:e>0?1:-1},isPercent=function t(e){return isString$1(e)&&e.indexOf("%")===e.length-1},isNumber=function t(e){return isNumber$1(e)&&!isNan(e)},isNumOrStr=function t(e){return isNumber(e)||isString$1(e)},idCounter=0,uniqueId=function t(e){var n=++idCounter;return"".concat(e||"").concat(n)},getPercentValue=function t(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(e)&&!isString$1(e))return i;var l;if(isPercent(e)){var u=e.indexOf("%");l=n*parseFloat(e.slice(0,u))/100}else l=+e;return isNan(l)&&(l=i),o&&l>n&&(l=n),l},getAnyElementOfObject=function t(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},hasDuplicate=function t(e){if(!Array.isArray(e))return!1;for(var n=e.length,i={},o=0;o<n;o++)if(!i[e[o]])i[e[o]]=!0;else return!0;return!1},interpolateNumber$2=function t(e,n){return isNumber(e)&&isNumber(n)?function(i){return e+i*(n-e)}:function(){return n}};function findEntryInArray(t,e,n){return!t||!t.length?null:t.find(function(i){return i&&(typeof e=="function"?e(i):get(i,e))===n})}var getLinearRegression=function t(e){if(!e||!e.length)return null;for(var n=e.length,i=0,o=0,l=0,u=0,f=1/0,d=-1/0,p=0,g=0,E=0;E<n;E++)p=e[E].cx||0,g=e[E].cy||0,i+=p,o+=g,l+=p*g,u+=p*p,f=Math.min(f,p),d=Math.max(d,p);var A=n*u!==i*i?(n*l-i*o)/(n*u-i*i):0;return{xmin:f,xmax:d,a:A,b:(o-A*i)/n}};function shallowEqual(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var i in e)if({}.hasOwnProperty.call(e,i)&&!{}.hasOwnProperty.call(t,i))return!1;return!0}function _typeof$Q(t){"@babel/helpers - typeof";return _typeof$Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$Q(t)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function t(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(reactExports.isValidElement(e)&&(i=e.props),!isObject$1(i))return null;var o={};return Object.keys(i).forEach(function(l){EventKeys.includes(l)&&(o[l]=n||function(u){return i[l](i,u)})}),o},getEventHandlerOfChild=function t(e,n,i){return function(o){return e(n,i,o),null}},adaptEventsOfChild=function t(e,n,i){if(!isObject$1(e)||_typeof$Q(e)!=="object")return null;var o=null;return Object.keys(e).forEach(function(l){var u=e[l];EventKeys.includes(l)&&typeof u=="function"&&(o||(o={}),o[l]=getEventHandlerOfChild(u,n,i))}),o},_excluded$n=["children"],_excluded2$8=["children"];function _objectWithoutProperties$n(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$n(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$n(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _typeof$P(t){"@babel/helpers - typeof";return _typeof$P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$P(t)}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function t(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},lastChildren=null,lastResult=null,toArray=function t(e){if(e===lastChildren&&Array.isArray(lastResult))return lastResult;var n=[];return reactExports.Children.forEach(e,function(i){isNil(i)||(reactIsExports.isFragment(i)?n=n.concat(t(i.props.children)):n.push(i))}),lastResult=n,lastChildren=e,n};function findAllByType(t,e){var n=[],i=[];return Array.isArray(e)?i=e.map(function(o){return getDisplayName(o)}):i=[getDisplayName(e)],toArray(t).forEach(function(o){var l=get(o,"type.displayName")||get(o,"type.name");i.indexOf(l)!==-1&&n.push(o)}),n}function findChildByType(t,e){var n=findAllByType(t,e);return n&&n[0]}var validateWidthHeight=function t(e){if(!e||!e.props)return!1;var n=e.props,i=n.width,o=n.height;return!(!isNumber(i)||i<=0||!isNumber(o)||o<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function t(e){return e&&e.type&&isString$1(e.type)&&SVG_TAGS.indexOf(e.type)>=0},hasClipDot=function t(e){return e&&_typeof$P(e)==="object"&&"clipDot"in e},isValidSpreadableProp=function t(e,n,i,o){var l,u=(l=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[o])!==null&&l!==void 0?l:[];return!isFunction(e)&&(o&&u.includes(n)||SVGElementPropKeys.includes(n))||i&&EventKeys.includes(n)},filterProps$1=function t(e,n,i){if(!e||typeof e=="function"||typeof e=="boolean")return null;var o=e;if(reactExports.isValidElement(e)&&(o=e.props),!isObject$1(o))return null;var l={};return Object.keys(o).forEach(function(u){var f;isValidSpreadableProp((f=o)===null||f===void 0?void 0:f[u],u,n,i)&&(l[u]=o[u])}),l},isChildrenEqual=function t(e,n){if(e===n)return!0;var i=reactExports.Children.count(e);if(i!==reactExports.Children.count(n))return!1;if(i===0)return!0;if(i===1)return isSingleChildEqual(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var o=0;o<i;o++){var l=e[o],u=n[o];if(Array.isArray(l)||Array.isArray(u)){if(!t(l,u))return!1}else if(!isSingleChildEqual(l,u))return!1}return!0},isSingleChildEqual=function t(e,n){if(isNil(e)&&isNil(n))return!0;if(!isNil(e)&&!isNil(n)){var i=e.props||{},o=i.children,l=_objectWithoutProperties$n(i,_excluded$n),u=n.props||{},f=u.children,d=_objectWithoutProperties$n(u,_excluded2$8);return o&&f?shallowEqual(l,d)&&isChildrenEqual(o,f):!o&&!f?shallowEqual(l,d):!1}return!1},renderByOrder=function t(e,n){var i=[],o={};return toArray(e).forEach(function(l,u){if(isSvgElement(l))i.push(l);else if(l){var f=getDisplayName(l.type),d=n[f]||{},p=d.handler,g=d.once;if(p&&(!g||!o[f])){var E=p(l,f,u);i.push(E),o[f]=!0}}}),i},getReactEventByType=function t(e){var n=e&&e.type;return n&&REACT_BROWSER_EVENT_MAP[n]?REACT_BROWSER_EVENT_MAP[n]:null},parseChildIndex=function t(e,n){return toArray(n).indexOf(e)},_excluded$m=["children","width","height","viewBox","className","style","title","desc"];function _extends$z(){return _extends$z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$z.apply(this,arguments)}function _objectWithoutProperties$m(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$m(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$m(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Surface(t){var e=t.children,n=t.width,i=t.height,o=t.viewBox,l=t.className,u=t.style,f=t.title,d=t.desc,p=_objectWithoutProperties$m(t,_excluded$m),g=o||{width:n,height:i,x:0,y:0},E=clsx("recharts-surface",l);return React.createElement("svg",_extends$z({},filterProps$1(p,!0,"svg"),{className:E,width:n,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),React.createElement("title",null,f),React.createElement("desc",null,d),e)}var _excluded$l=["children","className"];function _extends$y(){return _extends$y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$y.apply(this,arguments)}function _objectWithoutProperties$l(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$l(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$l(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}var Layer=React.forwardRef(function(t,e){var n=t.children,i=t.className,o=_objectWithoutProperties$l(t,_excluded$l),l=clsx("recharts-layer",i);return React.createElement("g",_extends$y({className:l},filterProps$1(o,!0),{ref:e}),n)}),warn=function t(e,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l]},_baseSlice,hasRequired_baseSlice;function require_baseSlice(){if(hasRequired_baseSlice)return _baseSlice;hasRequired_baseSlice=1;function t(e,n,i){var o=-1,l=e.length;n<0&&(n=-n>l?0:l+n),i=i>l?l:i,i<0&&(i+=l),l=n>i?0:i-n>>>0,n>>>=0;for(var u=Array(l);++o<l;)u[o]=e[o+n];return u}return _baseSlice=t,_baseSlice}var _castSlice,hasRequired_castSlice;function require_castSlice(){if(hasRequired_castSlice)return _castSlice;hasRequired_castSlice=1;var t=require_baseSlice();function e(n,i,o){var l=n.length;return o=o===void 0?l:o,!i&&o>=l?n:t(n,i,o)}return _castSlice=e,_castSlice}var _hasUnicode,hasRequired_hasUnicode;function require_hasUnicode(){if(hasRequired_hasUnicode)return _hasUnicode;hasRequired_hasUnicode=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",o=e+n+i,l="\\ufe0e\\ufe0f",u="\\u200d",f=RegExp("["+u+t+o+l+"]");function d(p){return f.test(p)}return _hasUnicode=d,_hasUnicode}var _asciiToArray,hasRequired_asciiToArray;function require_asciiToArray(){if(hasRequired_asciiToArray)return _asciiToArray;hasRequired_asciiToArray=1;function t(e){return e.split("")}return _asciiToArray=t,_asciiToArray}var _unicodeToArray,hasRequired_unicodeToArray;function require_unicodeToArray(){if(hasRequired_unicodeToArray)return _unicodeToArray;hasRequired_unicodeToArray=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",o=e+n+i,l="\\ufe0e\\ufe0f",u="["+t+"]",f="["+o+"]",d="\\ud83c[\\udffb-\\udfff]",p="(?:"+f+"|"+d+")",g="[^"+t+"]",E="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",R="\\u200d",I=p+"?",j="["+l+"]?",q="(?:"+R+"(?:"+[g,E,A].join("|")+")"+j+I+")*",L=j+I+q,z="(?:"+[g+f+"?",f,E,A,u].join("|")+")",U=RegExp(d+"(?="+d+")|"+z+L,"g");function W(H){return H.match(U)||[]}return _unicodeToArray=W,_unicodeToArray}var _stringToArray,hasRequired_stringToArray;function require_stringToArray(){if(hasRequired_stringToArray)return _stringToArray;hasRequired_stringToArray=1;var t=require_asciiToArray(),e=require_hasUnicode(),n=require_unicodeToArray();function i(o){return e(o)?n(o):t(o)}return _stringToArray=i,_stringToArray}var _createCaseFirst,hasRequired_createCaseFirst;function require_createCaseFirst(){if(hasRequired_createCaseFirst)return _createCaseFirst;hasRequired_createCaseFirst=1;var t=require_castSlice(),e=require_hasUnicode(),n=require_stringToArray(),i=requireToString();function o(l){return function(u){u=i(u);var f=e(u)?n(u):void 0,d=f?f[0]:u.charAt(0),p=f?t(f,1).join(""):u.slice(1);return d[l]()+p}}return _createCaseFirst=o,_createCaseFirst}var upperFirst_1,hasRequiredUpperFirst;function requireUpperFirst(){if(hasRequiredUpperFirst)return upperFirst_1;hasRequiredUpperFirst=1;var t=require_createCaseFirst(),e=t("toUpperCase");return upperFirst_1=e,upperFirst_1}var upperFirstExports=requireUpperFirst();const upperFirst=getDefaultExportFromCjs(upperFirstExports);function constant$1(t){return function(){return t}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function appendRound(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return append;const n=10**e;return function(i){this._+=i[0];for(let o=1,l=i.length;o<l;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class Path{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?append:appendRound(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,l,u){this._append`C${+e},${+n},${+i},${+o},${this._x1=+l},${this._y1=+u}`}arcTo(e,n,i,o,l){if(e=+e,n=+n,i=+i,o=+o,l=+l,l<0)throw new Error(`negative radius: ${l}`);let u=this._x1,f=this._y1,d=i-e,p=o-n,g=u-e,E=f-n,A=g*g+E*E;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(A>epsilon)if(!(Math.abs(E*d-p*g)>epsilon)||!l)this._append`L${this._x1=e},${this._y1=n}`;else{let R=i-u,I=o-f,j=d*d+p*p,q=R*R+I*I,L=Math.sqrt(j),z=Math.sqrt(A),U=l*Math.tan((pi-Math.acos((j+A-q)/(2*L*z)))/2),W=U/z,H=U/L;Math.abs(W-1)>epsilon&&this._append`L${e+W*g},${n+W*E}`,this._append`A${l},${l},0,0,${+(E*R>g*I)},${this._x1=e+H*d},${this._y1=n+H*p}`}}arc(e,n,i,o,l,u){if(e=+e,n=+n,i=+i,u=!!u,i<0)throw new Error(`negative radius: ${i}`);let f=i*Math.cos(o),d=i*Math.sin(o),p=e+f,g=n+d,E=1^u,A=u?o-l:l-o;this._x1===null?this._append`M${p},${g}`:(Math.abs(this._x1-p)>epsilon||Math.abs(this._y1-g)>epsilon)&&this._append`L${p},${g}`,i&&(A<0&&(A=A%tau+tau),A>tauEpsilon?this._append`A${i},${i},0,1,${E},${e-f},${n-d}A${i},${i},0,1,${E},${this._x1=p},${this._y1=g}`:A>epsilon&&this._append`A${i},${i},0,${+(A>=pi)},${E},${this._x1=e+i*Math.cos(l)},${this._y1=n+i*Math.sin(l)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function withPath(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new Path(e)}function array(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Linear(t){this._context=t}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function curveLinear(t){return new Linear(t)}function x(t){return t[0]}function y(t){return t[1]}function shapeLine(t,e){var n=constant$1(!0),i=null,o=curveLinear,l=null,u=withPath(f);t=typeof t=="function"?t:t===void 0?x:constant$1(t),e=typeof e=="function"?e:e===void 0?y:constant$1(e);function f(d){var p,g=(d=array(d)).length,E,A=!1,R;for(i==null&&(l=o(R=u())),p=0;p<=g;++p)!(p<g&&n(E=d[p],p,d))===A&&((A=!A)?l.lineStart():l.lineEnd()),A&&l.point(+t(E,p,d),+e(E,p,d));if(R)return l=null,R+""||null}return f.x=function(d){return arguments.length?(t=typeof d=="function"?d:constant$1(+d),f):t},f.y=function(d){return arguments.length?(e=typeof d=="function"?d:constant$1(+d),f):e},f.defined=function(d){return arguments.length?(n=typeof d=="function"?d:constant$1(!!d),f):n},f.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),f):o},f.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),f):i},f}function shapeArea(t,e,n){var i=null,o=constant$1(!0),l=null,u=curveLinear,f=null,d=withPath(p);t=typeof t=="function"?t:t===void 0?x:constant$1(+t),e=typeof e=="function"?e:constant$1(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?y:constant$1(+n);function p(E){var A,R,I,j=(E=array(E)).length,q,L=!1,z,U=new Array(j),W=new Array(j);for(l==null&&(f=u(z=d())),A=0;A<=j;++A){if(!(A<j&&o(q=E[A],A,E))===L)if(L=!L)R=A,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),I=A-1;I>=R;--I)f.point(U[I],W[I]);f.lineEnd(),f.areaEnd()}L&&(U[A]=+t(q,A,E),W[A]=+e(q,A,E),f.point(i?+i(q,A,E):U[A],n?+n(q,A,E):W[A]))}if(z)return f=null,z+""||null}function g(){return shapeLine().defined(o).curve(u).context(l)}return p.x=function(E){return arguments.length?(t=typeof E=="function"?E:constant$1(+E),i=null,p):t},p.x0=function(E){return arguments.length?(t=typeof E=="function"?E:constant$1(+E),p):t},p.x1=function(E){return arguments.length?(i=E==null?null:typeof E=="function"?E:constant$1(+E),p):i},p.y=function(E){return arguments.length?(e=typeof E=="function"?E:constant$1(+E),n=null,p):e},p.y0=function(E){return arguments.length?(e=typeof E=="function"?E:constant$1(+E),p):e},p.y1=function(E){return arguments.length?(n=E==null?null:typeof E=="function"?E:constant$1(+E),p):n},p.lineX0=p.lineY0=function(){return g().x(t).y(e)},p.lineY1=function(){return g().x(t).y(n)},p.lineX1=function(){return g().x(i).y(e)},p.defined=function(E){return arguments.length?(o=typeof E=="function"?E:constant$1(!!E),p):o},p.curve=function(E){return arguments.length?(u=E,l!=null&&(f=u(l)),p):u},p.context=function(E){return arguments.length?(E==null?l=f=null:f=u(l=E),p):l},p}class Bump{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}const symbolCircle={draw(t,e){const n=sqrt$1(e/pi$1);t.moveTo(n,0),t.arc(0,0,n,0,tau$1)}},symbolCross={draw(t,e){const n=sqrt$1(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(t,e){const n=sqrt$1(e/tan30_2),i=n*tan30;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},symbolSquare={draw(t,e){const n=sqrt$1(e),i=-n/2;t.rect(i,i,n,n)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(t,e){const n=sqrt$1(e*ka),i=kx*n,o=ky*n;t.moveTo(0,-n),t.lineTo(i,o);for(let l=1;l<5;++l){const u=tau$1*l/5,f=cos(u),d=sin(u);t.lineTo(d*n,-f*n),t.lineTo(f*i-d*o,d*i+f*o)}t.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(t,e){const n=-sqrt$1(e/(sqrt3*3));t.moveTo(0,n*2),t.lineTo(-sqrt3*n,-n),t.lineTo(sqrt3*n,-n),t.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(t,e){const n=sqrt$1(e/a),i=n/2,o=n*k,l=i,u=n*k+n,f=-l,d=u;t.moveTo(i,o),t.lineTo(l,u),t.lineTo(f,d),t.lineTo(c*i-s*o,s*i+c*o),t.lineTo(c*l-s*u,s*l+c*u),t.lineTo(c*f-s*d,s*f+c*d),t.lineTo(c*i+s*o,c*o-s*i),t.lineTo(c*l+s*u,c*u-s*l),t.lineTo(c*f+s*d,c*d-s*f),t.closePath()}};function Symbol$1(t,e){let n=null,i=withPath(o);t=typeof t=="function"?t:constant$1(t||symbolCircle),e=typeof e=="function"?e:constant$1(e===void 0?64:+e);function o(){let l;if(n||(n=l=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),l)return n=null,l+""||null}return o.type=function(l){return arguments.length?(t=typeof l=="function"?l:constant$1(l),o):t},o.size=function(l){return arguments.length?(e=typeof l=="function"?l:constant$1(+l),o):e},o.context=function(l){return arguments.length?(n=l??null,o):n},o}function noop$1(){}function point$2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Basis(t){this._context=t}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasis(t){return new Basis(t)}function BasisClosed(t){this._context=t}BasisClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisOpen(t){return new BasisOpen(t)}function LinearClosed(t){this._context=t}LinearClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function curveLinearClosed(t){return new LinearClosed(t)}function sign(t){return t<0?-1:1}function slope3(t,e,n){var i=t._x1-t._x0,o=e-t._x1,l=(t._y1-t._y0)/(i||o<0&&-0),u=(n-t._y1)/(o||i<0&&-0),f=(l*o+u*i)/(i+o);return(sign(l)+sign(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(f))||0}function slope2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function point$1(t,e,n){var i=t._x0,o=t._y0,l=t._x1,u=t._y1,f=(l-i)/3;t._context.bezierCurveTo(i+f,o+f*e,l-f,u-f*n,l,u)}function MonotoneX(t){this._context=t}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,n=slope3(this,t,e)),n);break;default:point$1(this,this._t0,n=slope3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function MonotoneY(t){this._context=new ReflectContext(t)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)};function ReflectContext(t){this._context=t}ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,o,l){this._context.bezierCurveTo(e,t,i,n,l,o)}};function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=controlPoints(t),o=controlPoints(e),l=0,u=1;u<n;++l,++u)this._context.bezierCurveTo(i[0][l],o[0][l],i[1][l],o[1][l],t[u],e[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function controlPoints(t){var e,n=t.length-1,i,o=new Array(n),l=new Array(n),u=new Array(n);for(o[0]=0,l[0]=2,u[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,l[e]=4,u[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,l[n-1]=7,u[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=o[e]/l[e-1],l[e]-=i,u[e]-=i*u[e-1];for(o[n-1]=u[n-1]/l[n-1],e=n-2;e>=0;--e)o[e]=(u[e]-o[e+1])/l[e];for(l[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)l[e]=2*t[e+1]-o[e+1];return[o,l]}function curveNatural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function curveStep(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function stackOffsetNone(t,e){if((u=t.length)>1)for(var n=1,i,o,l=t[e[0]],u,f=l.length;n<u;++n)for(o=l,l=t[e[n]],i=0;i<f;++i)l[i][1]+=l[i][0]=isNaN(o[i][1])?o[i][0]:o[i][1]}function stackOrderNone(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function stackValue(t,e){return t[e]}function stackSeries(t){const e=[];return e.key=t,e}function shapeStack(){var t=constant$1([]),e=stackOrderNone,n=stackOffsetNone,i=stackValue;function o(l){var u=Array.from(t.apply(this,arguments),stackSeries),f,d=u.length,p=-1,g;for(const E of l)for(f=0,++p;f<d;++f)(u[f][p]=[0,+i(E,u[f].key,p,l)]).data=E;for(f=0,g=array(e(u));f<d;++f)u[g[f]].index=f;return n(u,g),u}return o.keys=function(l){return arguments.length?(t=typeof l=="function"?l:constant$1(Array.from(l)),o):t},o.value=function(l){return arguments.length?(i=typeof l=="function"?l:constant$1(+l),o):i},o.order=function(l){return arguments.length?(e=l==null?stackOrderNone:typeof l=="function"?l:constant$1(Array.from(l)),o):e},o.offset=function(l){return arguments.length?(n=l??stackOffsetNone,o):n},o}function stackOffsetExpand(t,e){if((i=t.length)>0){for(var n,i,o=0,l=t[0].length,u;o<l;++o){for(u=n=0;n<i;++n)u+=t[n][o][1]||0;if(u)for(n=0;n<i;++n)t[n][o][1]/=u}stackOffsetNone(t,e)}}function stackOffsetSilhouette(t,e){if((o=t.length)>0){for(var n=0,i=t[e[0]],o,l=i.length;n<l;++n){for(var u=0,f=0;u<o;++u)f+=t[u][n][1]||0;i[n][1]+=i[n][0]=-f/2}stackOffsetNone(t,e)}}function stackOffsetWiggle(t,e){if(!(!((u=t.length)>0)||!((l=(o=t[e[0]]).length)>0))){for(var n=0,i=1,o,l,u;i<l;++i){for(var f=0,d=0,p=0;f<u;++f){for(var g=t[e[f]],E=g[i][1]||0,A=g[i-1][1]||0,R=(E-A)/2,I=0;I<f;++I){var j=t[e[I]],q=j[i][1]||0,L=j[i-1][1]||0;R+=q-L}d+=E,p+=R*E}o[i-1][1]+=o[i-1][0]=n,d&&(n-=p/d)}o[i-1][1]+=o[i-1][0]=n,stackOffsetNone(t,e)}}function _typeof$O(t){"@babel/helpers - typeof";return _typeof$O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$O(t)}var _excluded$k=["type","size","sizeType"];function _extends$x(){return _extends$x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$x.apply(this,arguments)}function ownKeys$G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$G(Object(n),!0).forEach(function(i){_defineProperty$N(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$G(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$N(t,e,n){return e=_toPropertyKey$N(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$N(t){var e=_toPrimitive$N(t,"string");return _typeof$O(e)=="symbol"?e:e+""}function _toPrimitive$N(t,e){if(_typeof$O(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$O(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$k(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$k(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$k(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function t(e){var n="symbol".concat(upperFirst(e));return symbolFactories[n]||symbolCircle},calculateAreaSize=function t(e,n,i){if(n==="area")return e;switch(i){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var o=18*RADIAN$2;return 1.25*e*e*(Math.tan(o)-Math.tan(o*2)*Math.pow(Math.tan(o),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},registerSymbol=function t(e,n){symbolFactories["symbol".concat(upperFirst(e))]=n},Symbols=function t(e){var n=e.type,i=n===void 0?"circle":n,o=e.size,l=o===void 0?64:o,u=e.sizeType,f=u===void 0?"area":u,d=_objectWithoutProperties$k(e,_excluded$k),p=_objectSpread$G(_objectSpread$G({},d),{},{type:i,size:l,sizeType:f}),g=function(){var q=getSymbolFactory(i),L=Symbol$1().type(q).size(calculateAreaSize(l,f,i));return L()},E=p.className,A=p.cx,R=p.cy,I=filterProps$1(p,!0);return A===+A&&R===+R&&l===+l?React.createElement("path",_extends$x({},I,{className:clsx("recharts-symbols",E),transform:"translate(".concat(A,", ").concat(R,")"),d:g()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$N(t){"@babel/helpers - typeof";return _typeof$N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$N(t)}function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$w.apply(this,arguments)}function ownKeys$F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$F(Object(n),!0).forEach(function(i){_defineProperty$M(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$F(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$M(i.key),i)}}function _createClass$p(t,e,n){return e&&_defineProperties$p(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$l(t,e,n){return e=_getPrototypeOf$m(e),_possibleConstructorReturn$m(t,_isNativeReflectConstruct$m()?Reflect.construct(e,n||[],_getPrototypeOf$m(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$m(t,e){if(e&&(_typeof$N(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$m(t)}function _assertThisInitialized$m(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$m=function(){return!!t})()}function _getPrototypeOf$m(t){return _getPrototypeOf$m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$m(t)}function _inherits$m(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$m(t,e)}function _setPrototypeOf$m(t,e){return _setPrototypeOf$m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$m(t,e)}function _defineProperty$M(t,e,n){return e=_toPropertyKey$M(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$M(t){var e=_toPrimitive$M(t,"string");return _typeof$N(e)=="symbol"?e:e+""}function _toPrimitive$M(t,e){if(_typeof$N(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$N(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SIZE=32,DefaultLegendContent=function(t){function e(){return _classCallCheck$p(this,e),_callSuper$l(this,e,arguments)}return _inherits$m(e,t),_createClass$p(e,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,l=SIZE/2,u=SIZE/6,f=SIZE/3,d=i.inactive?o:i.color;if(i.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:l,x2:SIZE,y2:l,className:"recharts-legend-icon"});if(i.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(l,"h").concat(f,`
            A`).concat(u,",").concat(u,",0,1,1,").concat(2*f,",").concat(l,`
            H`).concat(SIZE,"M").concat(2*f,",").concat(l,`
            A`).concat(u,",").concat(u,",0,1,1,").concat(f,",").concat(l),className:"recharts-legend-icon"});if(i.type==="rect")return React.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(React.isValidElement(i.legendIcon)){var p=_objectSpread$F({},i);return delete p.legendIcon,React.cloneElement(i.legendIcon,p)}return React.createElement(Symbols,{fill:d,cx:l,cy:l,size:SIZE,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,l=o.payload,u=o.iconSize,f=o.layout,d=o.formatter,p=o.inactiveColor,g={x:0,y:0,width:SIZE,height:SIZE},E={display:f==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return l.map(function(R,I){var j=R.formatter||d,q=clsx(_defineProperty$M(_defineProperty$M({"recharts-legend-item":!0},"legend-item-".concat(I),!0),"inactive",R.inactive));if(R.type==="none")return null;var L=isFunction(R.value)?null:R.value;warn(!isFunction(R.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var z=R.inactive?p:R.color;return React.createElement("li",_extends$w({className:q,style:E,key:"legend-item-".concat(I)},adaptEventsOfChild(i.props,R,I)),React.createElement(Surface,{width:u,height:u,viewBox:g,style:A},i.renderIcon(R)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:z}},j?j(L,R,I):L))})}},{key:"render",value:function(){var i=this.props,o=i.payload,l=i.layout,u=i.align;if(!o||!o.length)return null;var f={padding:0,margin:0,textAlign:l==="horizontal"?u:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:f},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$M(DefaultLegendContent,"displayName","Legend");_defineProperty$M(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var t=require_ListCache();function e(){this.__data__=new t,this.size=0}return _stackClear=e,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function t(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}return _stackDelete=t,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function t(e){return this.__data__.get(e)}return _stackGet=t,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function t(e){return this.__data__.has(e)}return _stackHas=t,_stackHas}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var t=require_ListCache(),e=require_Map(),n=require_MapCache(),i=200;function o(l,u){var f=this.__data__;if(f instanceof t){var d=f.__data__;if(!e||d.length<i-1)return d.push([l,u]),this.size=++f.size,this;f=this.__data__=new n(d)}return f.set(l,u),this.size=f.size,this}return _stackSet=o,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var t=require_ListCache(),e=require_stackClear(),n=require_stackDelete(),i=require_stackGet(),o=require_stackHas(),l=require_stackSet();function u(f){var d=this.__data__=new t(f);this.size=d.size}return u.prototype.clear=e,u.prototype.delete=n,u.prototype.get=i,u.prototype.has=o,u.prototype.set=l,_Stack=u,_Stack}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return _setCacheAdd=e,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function t(e){return this.__data__.has(e)}return _setCacheHas=t,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var t=require_MapCache(),e=require_setCacheAdd(),n=require_setCacheHas();function i(o){var l=-1,u=o==null?0:o.length;for(this.__data__=new t;++l<u;)this.add(o[l])}return i.prototype.add=i.prototype.push=e,i.prototype.has=n,_SetCache=i,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function t(e,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(e[i],i,e))return!0;return!1}return _arraySome=t,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function t(e,n){return e.has(n)}return _cacheHas=t,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var t=require_SetCache(),e=require_arraySome(),n=require_cacheHas(),i=1,o=2;function l(u,f,d,p,g,E){var A=d&i,R=u.length,I=f.length;if(R!=I&&!(A&&I>R))return!1;var j=E.get(u),q=E.get(f);if(j&&q)return j==f&&q==u;var L=-1,z=!0,U=d&o?new t:void 0;for(E.set(u,f),E.set(f,u);++L<R;){var W=u[L],H=f[L];if(p)var Z=A?p(H,W,L,f,u,E):p(W,H,L,u,f,E);if(Z!==void 0){if(Z)continue;z=!1;break}if(U){if(!e(f,function(Y,J){if(!n(U,J)&&(W===Y||g(W,Y,d,p,E)))return U.push(J)})){z=!1;break}}else if(!(W===H||g(W,H,d,p,E))){z=!1;break}}return E.delete(u),E.delete(f),z}return _equalArrays=l,_equalArrays}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var t=require_root(),e=t.Uint8Array;return _Uint8Array=e,_Uint8Array}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function t(e){var n=-1,i=Array(e.size);return e.forEach(function(o,l){i[++n]=[l,o]}),i}return _mapToArray=t,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function t(e){var n=-1,i=Array(e.size);return e.forEach(function(o){i[++n]=o}),i}return _setToArray=t,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var t=require_Symbol(),e=require_Uint8Array(),n=requireEq(),i=require_equalArrays(),o=require_mapToArray(),l=require_setToArray(),u=1,f=2,d="[object Boolean]",p="[object Date]",g="[object Error]",E="[object Map]",A="[object Number]",R="[object RegExp]",I="[object Set]",j="[object String]",q="[object Symbol]",L="[object ArrayBuffer]",z="[object DataView]",U=t?t.prototype:void 0,W=U?U.valueOf:void 0;function H(Z,Y,J,ne,ae,se,ue){switch(J){case z:if(Z.byteLength!=Y.byteLength||Z.byteOffset!=Y.byteOffset)return!1;Z=Z.buffer,Y=Y.buffer;case L:return!(Z.byteLength!=Y.byteLength||!se(new e(Z),new e(Y)));case d:case p:case A:return n(+Z,+Y);case g:return Z.name==Y.name&&Z.message==Y.message;case R:case j:return Z==Y+"";case E:var fe=o;case I:var _e=ne&u;if(fe||(fe=l),Z.size!=Y.size&&!_e)return!1;var ge=ue.get(Z);if(ge)return ge==Y;ne|=f,ue.set(Z,Y);var ce=i(fe(Z),fe(Y),ne,ae,se,ue);return ue.delete(Z),ce;case q:if(W)return W.call(Z)==W.call(Y)}return!1}return _equalByTag=H,_equalByTag}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function t(e,n){for(var i=-1,o=n.length,l=e.length;++i<o;)e[l+i]=n[i];return e}return _arrayPush=t,_arrayPush}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var t=require_arrayPush(),e=requireIsArray();function n(i,o,l){var u=o(i);return e(i)?u:t(u,l(i))}return _baseGetAllKeys=n,_baseGetAllKeys}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function t(e,n){for(var i=-1,o=e==null?0:e.length,l=0,u=[];++i<o;){var f=e[i];n(f,i,e)&&(u[l++]=f)}return u}return _arrayFilter=t,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function t(){return[]}return stubArray_1=t,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var t=require_arrayFilter(),e=requireStubArray(),n=Object.prototype,i=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(u){return u==null?[]:(u=Object(u),t(o(u),function(f){return i.call(u,f)}))}:e;return _getSymbols=l,_getSymbols}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function t(e,n){for(var i=-1,o=Array(e);++i<e;)o[i]=n(i);return o}return _baseTimes=t,_baseTimes}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Arguments]";function i(o){return e(o)&&t(o)==n}return _baseIsArguments=i,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var t=require_baseIsArguments(),e=requireIsObjectLike(),n=Object.prototype,i=n.hasOwnProperty,o=n.propertyIsEnumerable,l=t(function(){return arguments}())?t:function(u){return e(u)&&i.call(u,"callee")&&!o.call(u,"callee")};return isArguments_1=l,isArguments_1}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function t(){return!1}return stubFalse_1=t,stubFalse_1}isBuffer.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,function(t,e){var n=require_root(),i=requireStubFalse(),o=e&&!e.nodeType&&e,l=o&&!0&&t&&!t.nodeType&&t,u=l&&l.exports===o,f=u?n.Buffer:void 0,d=f?f.isBuffer:void 0,p=d||i;t.exports=p}(isBuffer,isBuffer.exports)),isBuffer.exports}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(i,o){var l=typeof i;return o=o??t,!!o&&(l=="number"||l!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<o}return _isIndex=n,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return isLength_1=e,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var t=require_baseGetTag(),e=requireIsLength(),n=requireIsObjectLike(),i="[object Arguments]",o="[object Array]",l="[object Boolean]",u="[object Date]",f="[object Error]",d="[object Function]",p="[object Map]",g="[object Number]",E="[object Object]",A="[object RegExp]",R="[object Set]",I="[object String]",j="[object WeakMap]",q="[object ArrayBuffer]",L="[object DataView]",z="[object Float32Array]",U="[object Float64Array]",W="[object Int8Array]",H="[object Int16Array]",Z="[object Int32Array]",Y="[object Uint8Array]",J="[object Uint8ClampedArray]",ne="[object Uint16Array]",ae="[object Uint32Array]",se={};se[z]=se[U]=se[W]=se[H]=se[Z]=se[Y]=se[J]=se[ne]=se[ae]=!0,se[i]=se[o]=se[q]=se[l]=se[L]=se[u]=se[f]=se[d]=se[p]=se[g]=se[E]=se[A]=se[R]=se[I]=se[j]=!1;function ue(fe){return n(fe)&&e(fe.length)&&!!se[t(fe)]}return _baseIsTypedArray=ue,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function t(e){return function(n){return e(n)}}return _baseUnary=t,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,function(t,e){var n=require_freeGlobal(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,u=l&&n.process,f=function(){try{var d=o&&o.require&&o.require("util").types;return d||u&&u.binding&&u.binding("util")}catch{}}();t.exports=f}(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var t=require_baseIsTypedArray(),e=require_baseUnary(),n=require_nodeUtil(),i=n&&n.isTypedArray,o=i?e(i):t;return isTypedArray_1=o,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var t=require_baseTimes(),e=requireIsArguments(),n=requireIsArray(),i=requireIsBuffer(),o=require_isIndex(),l=requireIsTypedArray(),u=Object.prototype,f=u.hasOwnProperty;function d(p,g){var E=n(p),A=!E&&e(p),R=!E&&!A&&i(p),I=!E&&!A&&!R&&l(p),j=E||A||R||I,q=j?t(p.length,String):[],L=q.length;for(var z in p)(g||f.call(p,z))&&!(j&&(z=="length"||R&&(z=="offset"||z=="parent")||I&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||o(z,L)))&&q.push(z);return q}return _arrayLikeKeys=d,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var t=Object.prototype;function e(n){var i=n&&n.constructor,o=typeof i=="function"&&i.prototype||t;return n===o}return _isPrototype=e,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function t(e,n){return function(i){return e(n(i))}}return _overArg=t,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var t=require_overArg(),e=t(Object.keys,Object);return _nativeKeys=e,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var t=require_isPrototype(),e=require_nativeKeys(),n=Object.prototype,i=n.hasOwnProperty;function o(l){if(!t(l))return e(l);var u=[];for(var f in Object(l))i.call(l,f)&&f!="constructor"&&u.push(f);return u}return _baseKeys=o,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var t=requireIsFunction(),e=requireIsLength();function n(i){return i!=null&&e(i.length)&&!t(i)}return isArrayLike_1=n,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var t=require_arrayLikeKeys(),e=require_baseKeys(),n=requireIsArrayLike();function i(o){return n(o)?t(o):e(o)}return keys_1=i,keys_1}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var t=require_baseGetAllKeys(),e=require_getSymbols(),n=requireKeys();function i(o){return t(o,n,e)}return _getAllKeys=i,_getAllKeys}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var t=require_getAllKeys(),e=1,n=Object.prototype,i=n.hasOwnProperty;function o(l,u,f,d,p,g){var E=f&e,A=t(l),R=A.length,I=t(u),j=I.length;if(R!=j&&!E)return!1;for(var q=R;q--;){var L=A[q];if(!(E?L in u:i.call(u,L)))return!1}var z=g.get(l),U=g.get(u);if(z&&U)return z==u&&U==l;var W=!0;g.set(l,u),g.set(u,l);for(var H=E;++q<R;){L=A[q];var Z=l[L],Y=u[L];if(d)var J=E?d(Y,Z,L,u,l,g):d(Z,Y,L,l,u,g);if(!(J===void 0?Z===Y||p(Z,Y,f,d,g):J)){W=!1;break}H||(H=L=="constructor")}if(W&&!H){var ne=l.constructor,ae=u.constructor;ne!=ae&&"constructor"in l&&"constructor"in u&&!(typeof ne=="function"&&ne instanceof ne&&typeof ae=="function"&&ae instanceof ae)&&(W=!1)}return g.delete(l),g.delete(u),W}return _equalObjects=o,_equalObjects}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var t=require_getNative(),e=require_root(),n=t(e,"DataView");return _DataView=n,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var t=require_getNative(),e=require_root(),n=t(e,"Promise");return _Promise=n,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var t=require_getNative(),e=require_root(),n=t(e,"Set");return _Set=n,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var t=require_getNative(),e=require_root(),n=t(e,"WeakMap");return _WeakMap=n,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var t=require_DataView(),e=require_Map(),n=require_Promise(),i=require_Set(),o=require_WeakMap(),l=require_baseGetTag(),u=require_toSource(),f="[object Map]",d="[object Object]",p="[object Promise]",g="[object Set]",E="[object WeakMap]",A="[object DataView]",R=u(t),I=u(e),j=u(n),q=u(i),L=u(o),z=l;return(t&&z(new t(new ArrayBuffer(1)))!=A||e&&z(new e)!=f||n&&z(n.resolve())!=p||i&&z(new i)!=g||o&&z(new o)!=E)&&(z=function(U){var W=l(U),H=W==d?U.constructor:void 0,Z=H?u(H):"";if(Z)switch(Z){case R:return A;case I:return f;case j:return p;case q:return g;case L:return E}return W}),_getTag=z,_getTag}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var t=require_Stack(),e=require_equalArrays(),n=require_equalByTag(),i=require_equalObjects(),o=require_getTag(),l=requireIsArray(),u=requireIsBuffer(),f=requireIsTypedArray(),d=1,p="[object Arguments]",g="[object Array]",E="[object Object]",A=Object.prototype,R=A.hasOwnProperty;function I(j,q,L,z,U,W){var H=l(j),Z=l(q),Y=H?g:o(j),J=Z?g:o(q);Y=Y==p?E:Y,J=J==p?E:J;var ne=Y==E,ae=J==E,se=Y==J;if(se&&u(j)){if(!u(q))return!1;H=!0,ne=!1}if(se&&!ne)return W||(W=new t),H||f(j)?e(j,q,L,z,U,W):n(j,q,Y,L,z,U,W);if(!(L&d)){var ue=ne&&R.call(j,"__wrapped__"),fe=ae&&R.call(q,"__wrapped__");if(ue||fe){var _e=ue?j.value():j,ge=fe?q.value():q;return W||(W=new t),U(_e,ge,L,z,W)}}return se?(W||(W=new t),i(j,q,L,z,U,W)):!1}return _baseIsEqualDeep=I,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var t=require_baseIsEqualDeep(),e=requireIsObjectLike();function n(i,o,l,u,f){return i===o?!0:i==null||o==null||!e(i)&&!e(o)?i!==i&&o!==o:t(i,o,l,u,n,f)}return _baseIsEqual=n,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var t=require_Stack(),e=require_baseIsEqual(),n=1,i=2;function o(l,u,f,d){var p=f.length,g=p,E=!d;if(l==null)return!g;for(l=Object(l);p--;){var A=f[p];if(E&&A[2]?A[1]!==l[A[0]]:!(A[0]in l))return!1}for(;++p<g;){A=f[p];var R=A[0],I=l[R],j=A[1];if(E&&A[2]){if(I===void 0&&!(R in l))return!1}else{var q=new t;if(d)var L=d(I,j,R,l,u,q);if(!(L===void 0?e(j,I,n|i,d,q):L))return!1}}return!0}return _baseIsMatch=o,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var t=requireIsObject();function e(n){return n===n&&!t(n)}return _isStrictComparable=e,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var t=require_isStrictComparable(),e=requireKeys();function n(i){for(var o=e(i),l=o.length;l--;){var u=o[l],f=i[u];o[l]=[u,f,t(f)]}return o}return _getMatchData=n,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function t(e,n){return function(i){return i==null?!1:i[e]===n&&(n!==void 0||e in Object(i))}}return _matchesStrictComparable=t,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var t=require_baseIsMatch(),e=require_getMatchData(),n=require_matchesStrictComparable();function i(o){var l=e(o);return l.length==1&&l[0][2]?n(l[0][0],l[0][1]):function(u){return u===o||t(u,o,l)}}return _baseMatches=i,_baseMatches}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function t(e,n){return e!=null&&n in Object(e)}return _baseHasIn=t,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var t=require_castPath(),e=requireIsArguments(),n=requireIsArray(),i=require_isIndex(),o=requireIsLength(),l=require_toKey();function u(f,d,p){d=t(d,f);for(var g=-1,E=d.length,A=!1;++g<E;){var R=l(d[g]);if(!(A=f!=null&&p(f,R)))break;f=f[R]}return A||++g!=E?A:(E=f==null?0:f.length,!!E&&o(E)&&i(R,E)&&(n(f)||e(f)))}return _hasPath=u,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var t=require_baseHasIn(),e=require_hasPath();function n(i,o){return i!=null&&e(i,o,t)}return hasIn_1=n,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var t=require_baseIsEqual(),e=requireGet(),n=requireHasIn(),i=require_isKey(),o=require_isStrictComparable(),l=require_matchesStrictComparable(),u=require_toKey(),f=1,d=2;function p(g,E){return i(g)&&o(E)?l(u(g),E):function(A){var R=e(A,g);return R===void 0&&R===E?n(A,g):t(E,R,f|d)}}return _baseMatchesProperty=p,_baseMatchesProperty}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function t(e){return e}return identity_1=t,identity_1}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function t(e){return function(n){return n==null?void 0:n[e]}}return _baseProperty=t,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var t=require_baseGet();function e(n){return function(i){return t(i,n)}}return _basePropertyDeep=e,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var t=require_baseProperty(),e=require_basePropertyDeep(),n=require_isKey(),i=require_toKey();function o(l){return n(l)?t(i(l)):e(l)}return property_1=o,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var t=require_baseMatches(),e=require_baseMatchesProperty(),n=requireIdentity(),i=requireIsArray(),o=requireProperty();function l(u){return typeof u=="function"?u:u==null?n:typeof u=="object"?i(u)?e(u[0],u[1]):t(u):o(u)}return _baseIteratee=l,_baseIteratee}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function t(e,n,i,o){for(var l=e.length,u=i+(o?1:-1);o?u--:++u<l;)if(n(e[u],u,e))return u;return-1}return _baseFindIndex=t,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function t(e){return e!==e}return _baseIsNaN=t,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function t(e,n,i){for(var o=i-1,l=e.length;++o<l;)if(e[o]===n)return o;return-1}return _strictIndexOf=t,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var t=require_baseFindIndex(),e=require_baseIsNaN(),n=require_strictIndexOf();function i(o,l,u){return l===l?n(o,l,u):t(o,e,u)}return _baseIndexOf=i,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var t=require_baseIndexOf();function e(n,i){var o=n==null?0:n.length;return!!o&&t(n,i,0)>-1}return _arrayIncludes=e,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function t(e,n,i){for(var o=-1,l=e==null?0:e.length;++o<l;)if(i(n,e[o]))return!0;return!1}return _arrayIncludesWith=t,_arrayIncludesWith}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function t(){}return noop_1=t,noop_1}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var t=require_Set(),e=requireNoop(),n=require_setToArray(),i=1/0,o=t&&1/n(new t([,-0]))[1]==i?function(l){return new t(l)}:e;return _createSet=o,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var t=require_SetCache(),e=require_arrayIncludes(),n=require_arrayIncludesWith(),i=require_cacheHas(),o=require_createSet(),l=require_setToArray(),u=200;function f(d,p,g){var E=-1,A=e,R=d.length,I=!0,j=[],q=j;if(g)I=!1,A=n;else if(R>=u){var L=p?null:o(d);if(L)return l(L);I=!1,A=i,q=new t}else q=p?[]:j;e:for(;++E<R;){var z=d[E],U=p?p(z):z;if(z=g||z!==0?z:0,I&&U===U){for(var W=q.length;W--;)if(q[W]===U)continue e;p&&q.push(U),j.push(z)}else A(q,U,g)||(q!==j&&q.push(U),j.push(z))}return j}return _baseUniq=f,_baseUniq}var uniqBy_1,hasRequiredUniqBy;function requireUniqBy(){if(hasRequiredUniqBy)return uniqBy_1;hasRequiredUniqBy=1;var t=require_baseIteratee(),e=require_baseUniq();function n(i,o){return i&&i.length?e(i,t(o,2)):[]}return uniqBy_1=n,uniqBy_1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(t,e,n){return e===!0?uniqBy(t,n):isFunction(e)?uniqBy(t,e):t}function _typeof$M(t){"@babel/helpers - typeof";return _typeof$M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$M(t)}var _excluded$j=["ref"];function ownKeys$E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$E(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$E(Object(n),!0).forEach(function(i){_defineProperty$L(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$E(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$L(i.key),i)}}function _createClass$o(t,e,n){return e&&_defineProperties$o(t.prototype,e),n&&_defineProperties$o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$k(t,e,n){return e=_getPrototypeOf$l(e),_possibleConstructorReturn$l(t,_isNativeReflectConstruct$l()?Reflect.construct(e,n||[],_getPrototypeOf$l(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$l(t,e){if(e&&(_typeof$M(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$l(t)}function _assertThisInitialized$l(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$l=function(){return!!t})()}function _getPrototypeOf$l(t){return _getPrototypeOf$l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$l(t)}function _inherits$l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$l(t,e)}function _setPrototypeOf$l(t,e){return _setPrototypeOf$l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$l(t,e)}function _defineProperty$L(t,e,n){return e=_toPropertyKey$L(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$L(t){var e=_toPrimitive$L(t,"string");return _typeof$M(e)=="symbol"?e:e+""}function _toPrimitive$L(t,e){if(_typeof$M(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$M(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _objectWithoutProperties$j(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$j(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$j(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function defaultUniqBy$1(t){return t.value}function renderContent$1(t,e){if(React.isValidElement(t))return React.cloneElement(t,e);if(typeof t=="function")return React.createElement(t,e);e.ref;var n=_objectWithoutProperties$j(e,_excluded$j);return React.createElement(DefaultLegendContent,n)}var EPS$1=1,Legend=function(t){function e(){var n;_classCallCheck$o(this,e);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=_callSuper$k(this,e,[].concat(o)),_defineProperty$L(n,"lastBoundingBox",{width:-1,height:-1}),n}return _inherits$l(e,t),_createClass$o(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();return i.height=this.wrapperNode.offsetHeight,i.width=this.wrapperNode.offsetWidth,i}return null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate,o=this.getBBox();o?(Math.abs(o.width-this.lastBoundingBox.width)>EPS$1||Math.abs(o.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=o.width,this.lastBoundingBox.height=o.height,i&&i(o)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$E({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var o=this.props,l=o.layout,u=o.align,f=o.verticalAlign,d=o.margin,p=o.chartWidth,g=o.chartHeight,E,A;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(u==="center"&&l==="vertical"){var R=this.getBBoxSnapshot();E={left:((p||0)-R.width)/2}}else E=u==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(f==="middle"){var I=this.getBBoxSnapshot();A={top:((g||0)-I.height)/2}}else A=f==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return _objectSpread$E(_objectSpread$E({},E),A)}},{key:"render",value:function(){var i=this,o=this.props,l=o.content,u=o.width,f=o.height,d=o.wrapperStyle,p=o.payloadUniqBy,g=o.payload,E=_objectSpread$E(_objectSpread$E({position:"absolute",width:u||"auto",height:f||"auto"},this.getDefaultPosition(d)),d);return React.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:function(R){i.wrapperNode=R}},renderContent$1(l,_objectSpread$E(_objectSpread$E({},this.props),{},{payload:getUniqPayload(g,p,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(i,o){var l=_objectSpread$E(_objectSpread$E({},this.defaultProps),i.props),u=l.layout;return u==="vertical"&&isNumber(i.props.height)?{height:i.props.height}:u==="horizontal"?{width:i.props.width||o}:null}}])}(reactExports.PureComponent);_defineProperty$L(Legend,"displayName","Legend");_defineProperty$L(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var t=require_Symbol(),e=requireIsArguments(),n=requireIsArray(),i=t?t.isConcatSpreadable:void 0;function o(l){return n(l)||e(l)||!!(i&&l&&l[i])}return _isFlattenable=o,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var t=require_arrayPush(),e=require_isFlattenable();function n(i,o,l,u,f){var d=-1,p=i.length;for(l||(l=e),f||(f=[]);++d<p;){var g=i[d];o>0&&l(g)?o>1?n(g,o-1,l,u,f):t(f,g):u||(f[f.length]=g)}return f}return _baseFlatten=n,_baseFlatten}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function t(e){return function(n,i,o){for(var l=-1,u=Object(n),f=o(n),d=f.length;d--;){var p=f[e?d:++l];if(i(u[p],p,u)===!1)break}return n}}return _createBaseFor=t,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var t=require_createBaseFor(),e=t();return _baseFor=e,_baseFor}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var t=require_baseFor(),e=requireKeys();function n(i,o){return i&&t(i,o,e)}return _baseForOwn=n,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var t=requireIsArrayLike();function e(n,i){return function(o,l){if(o==null)return o;if(!t(o))return n(o,l);for(var u=o.length,f=i?u:-1,d=Object(o);(i?f--:++f<u)&&l(d[f],f,d)!==!1;);return o}}return _createBaseEach=e,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var t=require_baseForOwn(),e=require_createBaseEach(),n=e(t);return _baseEach=n,_baseEach}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var t=require_baseEach(),e=requireIsArrayLike();function n(i,o){var l=-1,u=e(i)?Array(i.length):[];return t(i,function(f,d,p){u[++l]=o(f,d,p)}),u}return _baseMap=n,_baseMap}var _baseSortBy,hasRequired_baseSortBy;function require_baseSortBy(){if(hasRequired_baseSortBy)return _baseSortBy;hasRequired_baseSortBy=1;function t(e,n){var i=e.length;for(e.sort(n);i--;)e[i]=e[i].value;return e}return _baseSortBy=t,_baseSortBy}var _compareAscending,hasRequired_compareAscending;function require_compareAscending(){if(hasRequired_compareAscending)return _compareAscending;hasRequired_compareAscending=1;var t=requireIsSymbol();function e(n,i){if(n!==i){var o=n!==void 0,l=n===null,u=n===n,f=t(n),d=i!==void 0,p=i===null,g=i===i,E=t(i);if(!p&&!E&&!f&&n>i||f&&d&&g&&!p&&!E||l&&d&&g||!o&&g||!u)return 1;if(!l&&!f&&!E&&n<i||E&&o&&u&&!l&&!f||p&&o&&u||!d&&u||!g)return-1}return 0}return _compareAscending=e,_compareAscending}var _compareMultiple,hasRequired_compareMultiple;function require_compareMultiple(){if(hasRequired_compareMultiple)return _compareMultiple;hasRequired_compareMultiple=1;var t=require_compareAscending();function e(n,i,o){for(var l=-1,u=n.criteria,f=i.criteria,d=u.length,p=o.length;++l<d;){var g=t(u[l],f[l]);if(g){if(l>=p)return g;var E=o[l];return g*(E=="desc"?-1:1)}}return n.index-i.index}return _compareMultiple=e,_compareMultiple}var _baseOrderBy,hasRequired_baseOrderBy;function require_baseOrderBy(){if(hasRequired_baseOrderBy)return _baseOrderBy;hasRequired_baseOrderBy=1;var t=require_arrayMap(),e=require_baseGet(),n=require_baseIteratee(),i=require_baseMap(),o=require_baseSortBy(),l=require_baseUnary(),u=require_compareMultiple(),f=requireIdentity(),d=requireIsArray();function p(g,E,A){E.length?E=t(E,function(j){return d(j)?function(q){return e(q,j.length===1?j[0]:j)}:j}):E=[f];var R=-1;E=t(E,l(n));var I=i(g,function(j,q,L){var z=t(E,function(U){return U(j)});return{criteria:z,index:++R,value:j}});return o(I,function(j,q){return u(j,q,A)})}return _baseOrderBy=p,_baseOrderBy}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function t(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}return _apply=t,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var t=require_apply(),e=Math.max;function n(i,o,l){return o=e(o===void 0?i.length-1:o,0),function(){for(var u=arguments,f=-1,d=e(u.length-o,0),p=Array(d);++f<d;)p[f]=u[o+f];f=-1;for(var g=Array(o+1);++f<o;)g[f]=u[f];return g[o]=l(p),t(i,this,g)}}return _overRest=n,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function t(e){return function(){return e}}return constant_1=t,constant_1}var _defineProperty$K,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty$K;hasRequired_defineProperty=1;var t=require_getNative(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return _defineProperty$K=e,_defineProperty$K}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var t=requireConstant(),e=require_defineProperty(),n=requireIdentity(),i=e?function(o,l){return e(o,"toString",{configurable:!0,enumerable:!1,value:t(l),writable:!0})}:n;return _baseSetToString=i,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var t=800,e=16,n=Date.now;function i(o){var l=0,u=0;return function(){var f=n(),d=e-(f-u);if(u=f,d>0){if(++l>=t)return arguments[0]}else l=0;return o.apply(void 0,arguments)}}return _shortOut=i,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var t=require_baseSetToString(),e=require_shortOut(),n=e(t);return _setToString=n,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var t=requireIdentity(),e=require_overRest(),n=require_setToString();function i(o,l){return n(e(o,l,t),o+"")}return _baseRest=i,_baseRest}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var t=requireEq(),e=requireIsArrayLike(),n=require_isIndex(),i=requireIsObject();function o(l,u,f){if(!i(f))return!1;var d=typeof u;return(d=="number"?e(f)&&n(u,f.length):d=="string"&&u in f)?t(f[u],l):!1}return _isIterateeCall=o,_isIterateeCall}var sortBy_1,hasRequiredSortBy;function requireSortBy(){if(hasRequiredSortBy)return sortBy_1;hasRequiredSortBy=1;var t=require_baseFlatten(),e=require_baseOrderBy(),n=require_baseRest(),i=require_isIterateeCall(),o=n(function(l,u){if(l==null)return[];var f=u.length;return f>1&&i(l,u[0],u[1])?u=[]:f>2&&i(u[0],u[1],u[2])&&(u=[u[0]]),e(l,t(u,1),[])});return sortBy_1=o,sortBy_1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);function _typeof$L(t){"@babel/helpers - typeof";return _typeof$L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$L(t)}function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$v.apply(this,arguments)}function _slicedToArray$c(t,e){return _arrayWithHoles$d(t)||_iterableToArrayLimit$c(t,e)||_unsupportedIterableToArray$l(t,e)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$l(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$l(t,e)}}function _arrayLikeToArray$l(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit$c(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e!==0)for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles$d(t){if(Array.isArray(t))return t}function ownKeys$D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$D(Object(n),!0).forEach(function(i){_defineProperty$J(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$D(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$J(t,e,n){return e=_toPropertyKey$K(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$K(t){var e=_toPrimitive$K(t,"string");return _typeof$L(e)=="symbol"?e:e+""}function _toPrimitive$K(t,e){if(_typeof$L(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$L(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultFormatter(t){return Array.isArray(t)&&isNumOrStr(t[0])&&isNumOrStr(t[1])?t.join(" ~ "):t}var DefaultTooltipContent=function t(e){var n=e.separator,i=n===void 0?" : ":n,o=e.contentStyle,l=o===void 0?{}:o,u=e.itemStyle,f=u===void 0?{}:u,d=e.labelStyle,p=d===void 0?{}:d,g=e.payload,E=e.formatter,A=e.itemSorter,R=e.wrapperClassName,I=e.labelClassName,j=e.label,q=e.labelFormatter,L=e.accessibilityLayer,z=L===void 0?!1:L,U=function(){if(g&&g.length){var ue={padding:0,margin:0},fe=(A?sortBy(g,A):g).map(function(_e,ge){if(_e.type==="none")return null;var ce=_objectSpread$D({display:"block",paddingTop:4,paddingBottom:4,color:_e.color||"#000"},f),me=_e.formatter||E||defaultFormatter,ee=_e.value,ie=_e.name,oe=ee,de=ie;if(me&&oe!=null&&de!=null){var xe=me(ee,ie,_e,ge,g);if(Array.isArray(xe)){var Ee=_slicedToArray$c(xe,2);oe=Ee[0],de=Ee[1]}else oe=xe}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ge),style:ce},isNumOrStr(de)?React.createElement("span",{className:"recharts-tooltip-item-name"},de):null,isNumOrStr(de)?React.createElement("span",{className:"recharts-tooltip-item-separator"},i):null,React.createElement("span",{className:"recharts-tooltip-item-value"},oe),React.createElement("span",{className:"recharts-tooltip-item-unit"},_e.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:ue},fe)}return null},W=_objectSpread$D({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},l),H=_objectSpread$D({margin:0},p),Z=!isNil(j),Y=Z?j:"",J=clsx("recharts-default-tooltip",R),ne=clsx("recharts-tooltip-label",I);Z&&q&&g!==void 0&&g!==null&&(Y=q(j,g));var ae=z?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$v({className:J,style:W},ae),React.createElement("p",{className:ne,style:H},React.isValidElement(Y)?Y:"".concat(Y)),U())};function _typeof$K(t){"@babel/helpers - typeof";return _typeof$K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$K(t)}function _defineProperty$I(t,e,n){return e=_toPropertyKey$J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$J(t){var e=_toPrimitive$J(t,"string");return _typeof$K(e)=="symbol"?e:e+""}function _toPrimitive$J(t,e){if(_typeof$K(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$K(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(t){var e=t.coordinate,n=t.translateX,i=t.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$I(_defineProperty$I(_defineProperty$I(_defineProperty$I({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(n)&&e&&isNumber(e.x)&&n>=e.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(n)&&e&&isNumber(e.x)&&n<e.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(i)&&e&&isNumber(e.y)&&i>=e.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(i)&&e&&isNumber(e.y)&&i<e.y))}function getTooltipTranslateXY(t){var e=t.allowEscapeViewBox,n=t.coordinate,i=t.key,o=t.offsetTopLeft,l=t.position,u=t.reverseDirection,f=t.tooltipDimension,d=t.viewBox,p=t.viewBoxDimension;if(l&&isNumber(l[i]))return l[i];var g=n[i]-f-o,E=n[i]+o;if(e[i])return u[i]?g:E;if(u[i]){var A=g,R=d[i];return A<R?Math.max(E,d[i]):Math.max(g,d[i])}var I=E+f,j=d[i]+p;return I>j?Math.max(g,d[i]):Math.max(E,d[i])}function getTransformStyle(t){var e=t.translateX,n=t.translateY,i=t.useTranslate3d;return{transform:i?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function getTooltipTranslate(t){var e=t.allowEscapeViewBox,n=t.coordinate,i=t.offsetTopLeft,o=t.position,l=t.reverseDirection,u=t.tooltipBox,f=t.useTranslate3d,d=t.viewBox,p,g,E;return u.height>0&&u.width>0&&n?(g=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u.width,viewBox:d,viewBoxDimension:d.width}),E=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u.height,viewBox:d,viewBoxDimension:d.height}),p=getTransformStyle({translateX:g,translateY:E,useTranslate3d:f})):p=TOOLTIP_HIDDEN,{cssProperties:p,cssClasses:getTooltipCSSClassName({translateX:g,translateY:E,coordinate:n})}}function _typeof$J(t){"@babel/helpers - typeof";return _typeof$J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$J(t)}function ownKeys$C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$C(Object(n),!0).forEach(function(i){_defineProperty$H(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$C(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$I(i.key),i)}}function _createClass$n(t,e,n){return e&&_defineProperties$n(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$j(t,e,n){return e=_getPrototypeOf$k(e),_possibleConstructorReturn$k(t,_isNativeReflectConstruct$k()?Reflect.construct(e,n||[],_getPrototypeOf$k(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$k(t,e){if(e&&(_typeof$J(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$k(t)}function _assertThisInitialized$k(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$k=function(){return!!t})()}function _getPrototypeOf$k(t){return _getPrototypeOf$k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$k(t)}function _inherits$k(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$k(t,e)}function _setPrototypeOf$k(t,e){return _setPrototypeOf$k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$k(t,e)}function _defineProperty$H(t,e,n){return e=_toPropertyKey$I(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$I(t){var e=_toPrimitive$I(t,"string");return _typeof$J(e)=="symbol"?e:e+""}function _toPrimitive$I(t,e){if(_typeof$J(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$J(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EPSILON=1,TooltipBoundingBox=function(t){function e(){var n;_classCallCheck$n(this,e);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=_callSuper$j(this,e,[].concat(o)),_defineProperty$H(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$H(n,"handleKeyDown",function(u){if(u.key==="Escape"){var f,d,p,g;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(f=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&f!==void 0?f:0,y:(p=(g=n.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&p!==void 0?p:0}})}}),n}return _inherits$k(e,t),_createClass$n(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(i.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:i.width,height:i.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,o;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,o=this.props,l=o.active,u=o.allowEscapeViewBox,f=o.animationDuration,d=o.animationEasing,p=o.children,g=o.coordinate,E=o.hasPayload,A=o.isAnimationActive,R=o.offset,I=o.position,j=o.reverseDirection,q=o.useTranslate3d,L=o.viewBox,z=o.wrapperStyle,U=getTooltipTranslate({allowEscapeViewBox:u,coordinate:g,offsetTopLeft:R,position:I,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:q,viewBox:L}),W=U.cssClasses,H=U.cssProperties,Z=_objectSpread$C(_objectSpread$C({transition:A&&l?"transform ".concat(f,"ms ").concat(d):void 0},H),{},{pointerEvents:"none",visibility:!this.state.dismissed&&l&&E?"visible":"hidden",position:"absolute",top:0,left:0},z);return React.createElement("div",{tabIndex:-1,className:W,style:Z,ref:function(J){i.wrapperNode=J}},p)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function t(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$I(t){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$I(t)}function ownKeys$B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$B(Object(n),!0).forEach(function(i){_defineProperty$G(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$B(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$H(i.key),i)}}function _createClass$m(t,e,n){return e&&_defineProperties$m(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$i(t,e,n){return e=_getPrototypeOf$j(e),_possibleConstructorReturn$j(t,_isNativeReflectConstruct$j()?Reflect.construct(e,n||[],_getPrototypeOf$j(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$j(t,e){if(e&&(_typeof$I(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$j(t)}function _assertThisInitialized$j(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$j=function(){return!!t})()}function _getPrototypeOf$j(t){return _getPrototypeOf$j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$j(t)}function _inherits$j(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$j(t,e)}function _setPrototypeOf$j(t,e){return _setPrototypeOf$j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$j(t,e)}function _defineProperty$G(t,e,n){return e=_toPropertyKey$H(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$H(t){var e=_toPrimitive$H(t,"string");return _typeof$I(e)=="symbol"?e:e+""}function _toPrimitive$H(t,e){if(_typeof$I(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$I(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function defaultUniqBy(t){return t.dataKey}function renderContent(t,e){return React.isValidElement(t)?React.cloneElement(t,e):typeof t=="function"?React.createElement(t,e):React.createElement(DefaultTooltipContent,e)}var Tooltip=function(t){function e(){return _classCallCheck$m(this,e),_callSuper$i(this,e,arguments)}return _inherits$j(e,t),_createClass$m(e,[{key:"render",value:function(){var i=this,o=this.props,l=o.active,u=o.allowEscapeViewBox,f=o.animationDuration,d=o.animationEasing,p=o.content,g=o.coordinate,E=o.filterNull,A=o.isAnimationActive,R=o.offset,I=o.payload,j=o.payloadUniqBy,q=o.position,L=o.reverseDirection,z=o.useTranslate3d,U=o.viewBox,W=o.wrapperStyle,H=I??[];E&&H.length&&(H=getUniqPayload(I.filter(function(Y){return Y.value!=null&&(Y.hide!==!0||i.props.includeHidden)}),j,defaultUniqBy));var Z=H.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:u,animationDuration:f,animationEasing:d,isAnimationActive:A,active:l,coordinate:g,hasPayload:Z,offset:R,position:q,reverseDirection:L,useTranslate3d:z,viewBox:U,wrapperStyle:W},renderContent(p,_objectSpread$B(_objectSpread$B({},this.props),{},{payload:H})))}}])}(reactExports.PureComponent);_defineProperty$G(Tooltip,"displayName","Tooltip");_defineProperty$G(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var t=require_root(),e=function(){return t.Date.now()};return now_1=e,now_1}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var t=/\s/;function e(n){for(var i=n.length;i--&&t.test(n.charAt(i)););return i}return _trimmedEndIndex=e,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var t=require_trimmedEndIndex(),e=/^\s+/;function n(i){return i&&i.slice(0,t(i)+1).replace(e,"")}return _baseTrim=n,_baseTrim}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var t=require_baseTrim(),e=requireIsObject(),n=requireIsSymbol(),i=NaN,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt;function d(p){if(typeof p=="number")return p;if(n(p))return i;if(e(p)){var g=typeof p.valueOf=="function"?p.valueOf():p;p=e(g)?g+"":g}if(typeof p!="string")return p===0?p:+p;p=t(p);var E=l.test(p);return E||u.test(p)?f(p.slice(2),E?2:8):o.test(p)?i:+p}return toNumber_1=d,toNumber_1}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var t=requireIsObject(),e=requireNow(),n=requireToNumber(),i="Expected a function",o=Math.max,l=Math.min;function u(f,d,p){var g,E,A,R,I,j,q=0,L=!1,z=!1,U=!0;if(typeof f!="function")throw new TypeError(i);d=n(d)||0,t(p)&&(L=!!p.leading,z="maxWait"in p,A=z?o(n(p.maxWait)||0,d):A,U="trailing"in p?!!p.trailing:U);function W(fe){var _e=g,ge=E;return g=E=void 0,q=fe,R=f.apply(ge,_e),R}function H(fe){return q=fe,I=setTimeout(J,d),L?W(fe):R}function Z(fe){var _e=fe-j,ge=fe-q,ce=d-_e;return z?l(ce,A-ge):ce}function Y(fe){var _e=fe-j,ge=fe-q;return j===void 0||_e>=d||_e<0||z&&ge>=A}function J(){var fe=e();if(Y(fe))return ne(fe);I=setTimeout(J,Z(fe))}function ne(fe){return I=void 0,U&&g?W(fe):(g=E=void 0,R)}function ae(){I!==void 0&&clearTimeout(I),q=0,g=j=E=I=void 0}function se(){return I===void 0?R:ne(e())}function ue(){var fe=e(),_e=Y(fe);if(g=arguments,E=this,j=fe,_e){if(I===void 0)return H(j);if(z)return clearTimeout(I),I=setTimeout(J,d),W(j)}return I===void 0&&(I=setTimeout(J,d)),R}return ue.cancel=ae,ue.flush=se,ue}return debounce_1=u,debounce_1}var throttle_1,hasRequiredThrottle;function requireThrottle(){if(hasRequiredThrottle)return throttle_1;hasRequiredThrottle=1;var t=requireDebounce(),e=requireIsObject(),n="Expected a function";function i(o,l,u){var f=!0,d=!0;if(typeof o!="function")throw new TypeError(n);return e(u)&&(f="leading"in u?!!u.leading:f,d="trailing"in u?!!u.trailing:d),t(o,l,{leading:f,maxWait:l,trailing:d})}return throttle_1=i,throttle_1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);function _typeof$H(t){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$H(t)}function ownKeys$A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$A(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$A(Object(n),!0).forEach(function(i){_defineProperty$F(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$A(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$F(t,e,n){return e=_toPropertyKey$G(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$G(t){var e=_toPrimitive$G(t,"string");return _typeof$H(e)=="symbol"?e:e+""}function _toPrimitive$G(t,e){if(_typeof$H(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$H(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$b(t,e){return _arrayWithHoles$c(t)||_iterableToArrayLimit$b(t,e)||_unsupportedIterableToArray$k(t,e)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$k(t,e)}}function _arrayLikeToArray$k(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit$b(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e!==0)for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles$c(t){if(Array.isArray(t))return t}var ResponsiveContainer=reactExports.forwardRef(function(t,e){var n=t.aspect,i=t.initialDimension,o=i===void 0?{width:-1,height:-1}:i,l=t.width,u=l===void 0?"100%":l,f=t.height,d=f===void 0?"100%":f,p=t.minWidth,g=p===void 0?0:p,E=t.minHeight,A=t.maxHeight,R=t.children,I=t.debounce,j=I===void 0?0:I,q=t.id,L=t.className,z=t.onResize,U=t.style,W=U===void 0?{}:U,H=reactExports.useRef(null),Z=reactExports.useRef();Z.current=z,reactExports.useImperativeHandle(e,function(){return Object.defineProperty(H.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),H.current},configurable:!0})});var Y=reactExports.useState({containerWidth:o.width,containerHeight:o.height}),J=_slicedToArray$b(Y,2),ne=J[0],ae=J[1],se=reactExports.useCallback(function(fe,_e){ae(function(ge){var ce=Math.round(fe),me=Math.round(_e);return ge.containerWidth===ce&&ge.containerHeight===me?ge:{containerWidth:ce,containerHeight:me}})},[]);reactExports.useEffect(function(){var fe=function(ie){var oe,de=ie[0].contentRect,xe=de.width,Ee=de.height;se(xe,Ee),(oe=Z.current)===null||oe===void 0||oe.call(Z,xe,Ee)};j>0&&(fe=throttle(fe,j,{trailing:!0,leading:!1}));var _e=new ResizeObserver(fe),ge=H.current.getBoundingClientRect(),ce=ge.width,me=ge.height;return se(ce,me),_e.observe(H.current),function(){_e.disconnect()}},[se,j]);var ue=reactExports.useMemo(function(){var fe=ne.containerWidth,_e=ne.containerHeight;if(fe<0||_e<0)return null;warn(isPercent(u)||isPercent(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,u,d),warn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ge=isPercent(u)?fe:u,ce=isPercent(d)?_e:d;n&&n>0&&(ge?ce=ge/n:ce&&(ge=ce*n),A&&ce>A&&(ce=A)),warn(ge>0||ce>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ge,ce,u,d,g,E,n);var me=!Array.isArray(R)&&getDisplayName(R.type).endsWith("Chart");return React.Children.map(R,function(ee){return React.isValidElement(ee)?reactExports.cloneElement(ee,_objectSpread$A({width:ge,height:ce},me?{style:_objectSpread$A({height:"100%",width:"100%",maxHeight:ce,maxWidth:ge},ee.props.style)}:{})):ee})},[n,R,d,A,E,g,ne,u]);return React.createElement("div",{id:q?"".concat(q):void 0,className:clsx("recharts-responsive-container",L),style:_objectSpread$A(_objectSpread$A({},W),{},{width:u,height:d,minWidth:g,minHeight:E,maxHeight:A}),ref:H},ue)}),Cell=function t(e){return null};Cell.displayName="Cell";function _typeof$G(t){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$G(t)}function ownKeys$z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$z(Object(n),!0).forEach(function(i){_defineProperty$E(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$z(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$E(t,e,n){return e=_toPropertyKey$F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$F(t){var e=_toPrimitive$F(t,"string");return _typeof$G(e)=="symbol"?e:e+""}function _toPrimitive$F(t,e){if(_typeof$G(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$G(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(t){var e=_objectSpread$z({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var getStringSize=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Global.isSsr)return{width:0,height:0};var i=removeInvalidKeys(n),o=JSON.stringify({text:e,copyStyle:i});if(stringCache.widthCache[o])return stringCache.widthCache[o];try{var l=document.getElementById(MEASUREMENT_SPAN_ID);l||(l=document.createElement("span"),l.setAttribute("id",MEASUREMENT_SPAN_ID),l.setAttribute("aria-hidden","true"),document.body.appendChild(l));var u=_objectSpread$z(_objectSpread$z({},SPAN_STYLE),i);Object.assign(l.style,u),l.textContent="".concat(e);var f=l.getBoundingClientRect(),d={width:f.width,height:f.height};return stringCache.widthCache[o]=d,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),d}catch{return{width:0,height:0}}},getOffset=function t(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$F(t){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$F(t)}function _slicedToArray$a(t,e){return _arrayWithHoles$b(t)||_iterableToArrayLimit$a(t,e)||_unsupportedIterableToArray$j(t,e)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$j(t,e)}}function _arrayLikeToArray$j(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit$a(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles$b(t){if(Array.isArray(t))return t}function _classCallCheck$l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$E(i.key),i)}}function _createClass$l(t,e,n){return e&&_defineProperties$l(t.prototype,e),n&&_defineProperties$l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$E(t){var e=_toPrimitive$E(t,"string");return _typeof$F(e)=="symbol"?e:e+""}function _toPrimitive$E(t,e){if(_typeof$F(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$F(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(t,e){return t*CONVERSION_RATES[e]}var DecimalCSS=function(){function t(e,n){_classCallCheck$l(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!CSS_LENGTH_UNIT_REGEX.test(n)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(n)&&(this.num=convertToPx(e,n),this.unit="px")}return _createClass$l(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var i,o=(i=NUM_SPLIT_REGEX.exec(n))!==null&&i!==void 0?i:[],l=_slicedToArray$a(o,3),u=l[1],f=l[2];return new t(parseFloat(u),f??"")}}])}();function calculateArithmetic(t){if(t.includes(STR_NAN))return STR_NAN;for(var e=t;e.includes("*")||e.includes("/");){var n,i=(n=MULTIPLY_OR_DIVIDE_REGEX.exec(e))!==null&&n!==void 0?n:[],o=_slicedToArray$a(i,4),l=o[1],u=o[2],f=o[3],d=DecimalCSS.parse(l??""),p=DecimalCSS.parse(f??""),g=u==="*"?d.multiply(p):d.divide(p);if(g.isNaN())return STR_NAN;e=e.replace(MULTIPLY_OR_DIVIDE_REGEX,g.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var E,A=(E=ADD_OR_SUBTRACT_REGEX.exec(e))!==null&&E!==void 0?E:[],R=_slicedToArray$a(A,4),I=R[1],j=R[2],q=R[3],L=DecimalCSS.parse(I??""),z=DecimalCSS.parse(q??""),U=j==="+"?L.add(z):L.subtract(z);if(U.isNaN())return STR_NAN;e=e.replace(ADD_OR_SUBTRACT_REGEX,U.toString())}return e}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(t){for(var e=t;e.includes("(");){var n=PARENTHESES_REGEX.exec(e),i=_slicedToArray$a(n,2),o=i[1];e=e.replace(PARENTHESES_REGEX,calculateArithmetic(o))}return e}function evaluateExpression(t){var e=t.replace(/\s+/g,"");return e=calculateParentheses(e),e=calculateArithmetic(e),e}function safeEvaluateExpression(t){try{return evaluateExpression(t)}catch{return STR_NAN}}function reduceCSSCalc(t){var e=safeEvaluateExpression(t.slice(5,-1));return e===STR_NAN?"":e}var _excluded$i=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$7=["dx","dy","angle","className","breakAll"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$u.apply(this,arguments)}function _objectWithoutProperties$i(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$i(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$i(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _slicedToArray$9(t,e){return _arrayWithHoles$a(t)||_iterableToArrayLimit$9(t,e)||_unsupportedIterableToArray$i(t,e)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$i(t,e)}}function _arrayLikeToArray$i(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit$9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles$a(t){if(Array.isArray(t))return t}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function t(e){var n=e.children,i=e.breakAll,o=e.style;try{var l=[];isNil(n)||(i?l=n.toString().split(""):l=n.toString().split(BREAKING_SPACES));var u=l.map(function(d){return{word:d,width:getStringSize(d,o).width}}),f=i?0:getStringSize(" ",o).width;return{wordsWithComputedWidth:u,spaceWidth:f}}catch{return null}},calculateWordsByLines=function t(e,n,i,o,l){var u=e.maxLines,f=e.children,d=e.style,p=e.breakAll,g=isNumber(u),E=f,A=function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ge.reduce(function(ce,me){var ee=me.word,ie=me.width,oe=ce[ce.length-1];if(oe&&(o==null||l||oe.width+ie+i<Number(o)))oe.words.push(ee),oe.width+=ie+i;else{var de={words:[ee],width:ie};ce.push(de)}return ce},[])},R=A(n),I=function(ge){return ge.reduce(function(ce,me){return ce.width>me.width?ce:me})};if(!g)return R;for(var j="…",q=function(ge){var ce=E.slice(0,ge),me=calculateWordWidths({breakAll:p,style:d,children:ce+j}).wordsWithComputedWidth,ee=A(me),ie=ee.length>u||I(ee).width>Number(o);return[ie,ee]},L=0,z=E.length-1,U=0,W;L<=z&&U<=E.length-1;){var H=Math.floor((L+z)/2),Z=H-1,Y=q(Z),J=_slicedToArray$9(Y,2),ne=J[0],ae=J[1],se=q(H),ue=_slicedToArray$9(se,1),fe=ue[0];if(!ne&&!fe&&(L=H+1),ne&&fe&&(z=H-1),!ne&&fe){W=ae;break}U++}return W||R},getWordsWithoutCalculate=function t(e){var n=isNil(e)?[]:e.toString().split(BREAKING_SPACES);return[{words:n}]},getWordsByLines=function t(e){var n=e.width,i=e.scaleToFit,o=e.children,l=e.style,u=e.breakAll,f=e.maxLines;if((n||i)&&!Global.isSsr){var d,p,g=calculateWordWidths({breakAll:u,children:o,style:l});if(g){var E=g.wordsWithComputedWidth,A=g.spaceWidth;d=E,p=A}else return getWordsWithoutCalculate(o);return calculateWordsByLines({breakAll:u,children:o,maxLines:f,style:l},d,p,n,i)}return getWordsWithoutCalculate(o)},DEFAULT_FILL="#808080",Text=function t(e){var n=e.x,i=n===void 0?0:n,o=e.y,l=o===void 0?0:o,u=e.lineHeight,f=u===void 0?"1em":u,d=e.capHeight,p=d===void 0?"0.71em":d,g=e.scaleToFit,E=g===void 0?!1:g,A=e.textAnchor,R=A===void 0?"start":A,I=e.verticalAnchor,j=I===void 0?"end":I,q=e.fill,L=q===void 0?DEFAULT_FILL:q,z=_objectWithoutProperties$i(e,_excluded$i),U=reactExports.useMemo(function(){return getWordsByLines({breakAll:z.breakAll,children:z.children,maxLines:z.maxLines,scaleToFit:E,style:z.style,width:z.width})},[z.breakAll,z.children,z.maxLines,E,z.style,z.width]),W=z.dx,H=z.dy,Z=z.angle,Y=z.className,J=z.breakAll,ne=_objectWithoutProperties$i(z,_excluded2$7);if(!isNumOrStr(i)||!isNumOrStr(l))return null;var ae=i+(isNumber(W)?W:0),se=l+(isNumber(H)?H:0),ue;switch(j){case"start":ue=reduceCSSCalc("calc(".concat(p,")"));break;case"middle":ue=reduceCSSCalc("calc(".concat((U.length-1)/2," * -").concat(f," + (").concat(p," / 2))"));break;default:ue=reduceCSSCalc("calc(".concat(U.length-1," * -").concat(f,")"));break}var fe=[];if(E){var _e=U[0].width,ge=z.width;fe.push("scale(".concat((isNumber(ge)?ge/_e:1)/_e,")"))}return Z&&fe.push("rotate(".concat(Z,", ").concat(ae,", ").concat(se,")")),fe.length&&(ne.transform=fe.join(" ")),React.createElement("text",_extends$u({},filterProps$1(ne,!0),{x:ae,y:se,className:clsx("recharts-text",Y),textAnchor:R,fill:L.includes("url")?DEFAULT_FILL:L}),U.map(function(ce,me){var ee=ce.words.join(J?"":" ");return React.createElement("tspan",{x:ae,dy:me===0?ue:f,key:"".concat(ee,"-").concat(me)},ee)}))};function ascending(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,n,i;t.length!==2?(e=ascending,n=(f,d)=>ascending(t(f),d),i=(f,d)=>t(f)-d):(e=t===ascending||t===descending?t:zero$1,n=t,i=t);function o(f,d,p=0,g=f.length){if(p<g){if(e(d,d)!==0)return g;do{const E=p+g>>>1;n(f[E],d)<0?p=E+1:g=E}while(p<g)}return p}function l(f,d,p=0,g=f.length){if(p<g){if(e(d,d)!==0)return g;do{const E=p+g>>>1;n(f[E],d)<=0?p=E+1:g=E}while(p<g)}return p}function u(f,d,p=0,g=f.length){const E=o(f,d,p,g-1);return E>p&&i(f[E-1],d)>-i(f[E],d)?E-1:E}return{left:o,center:u,right:l}}function zero$1(){return 0}function number$3(t){return t===null?NaN:+t}function*numbers(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$3).center;class InternMap extends Map{constructor(e,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(intern_get(this,e))}has(e){return super.has(intern_get(this,e))}set(e,n){return super.set(intern_set(this,e),n)}delete(e){return super.delete(intern_delete(this,e))}}function intern_get({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function intern_set({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function intern_delete({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function keyof(t){return t!==null&&typeof t=="object"?t.valueOf():t}function compareDefined(t=ascending){if(t===ascending)return ascendingDefined;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function ascendingDefined(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),l=i/Math.pow(10,o),u=l>=e10?10:l>=e5?5:l>=e2?2:1;let f,d,p;return o<0?(p=Math.pow(10,-o)/u,f=Math.round(t*p),d=Math.round(e*p),f/p<t&&++f,d/p>e&&--d,p=-p):(p=Math.pow(10,o)*u,f=Math.round(t/p),d=Math.round(e/p),f*p<t&&++f,d*p>e&&--d),d<f&&.5<=n&&n<2?tickSpec(t,e,n*2):[f,d,p]}function ticks(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,l,u]=i?tickSpec(e,t,n):tickSpec(t,e,n);if(!(l>=o))return[];const f=l-o+1,d=new Array(f);if(i)if(u<0)for(let p=0;p<f;++p)d[p]=(l-p)/-u;else for(let p=0;p<f;++p)d[p]=(l-p)*u;else if(u<0)for(let p=0;p<f;++p)d[p]=(o+p)/-u;else for(let p=0;p<f;++p)d[p]=(o+p)*u;return d}function tickIncrement(t,e,n){return e=+e,t=+t,n=+n,tickSpec(t,e,n)[2]}function tickStep(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?tickIncrement(e,t,n):tickIncrement(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function max$1(t,e){let n;for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function min$1(t,e){let n;for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function quickselect(t,e,n=0,i=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(o=o===void 0?ascendingDefined:compareDefined(o);i>n;){if(i-n>600){const d=i-n+1,p=e-n+1,g=Math.log(d),E=.5*Math.exp(2*g/3),A=.5*Math.sqrt(g*E*(d-E)/d)*(p-d/2<0?-1:1),R=Math.max(n,Math.floor(e-p*E/d+A)),I=Math.min(i,Math.floor(e+(d-p)*E/d+A));quickselect(t,e,R,I,o)}const l=t[e];let u=n,f=i;for(swap(t,n,e),o(t[i],l)>0&&swap(t,n,i);u<f;){for(swap(t,u,f),++u,--f;o(t[u],l)<0;)++u;for(;o(t[f],l)>0;)--f}o(t[n],l)===0?swap(t,n,f):(++f,swap(t,f,i)),f<=e&&(n=f+1),e<=f&&(i=f-1)}return t}function swap(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function quantile$1(t,e,n){if(t=Float64Array.from(numbers(t)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return min$1(t);if(e>=1)return max$1(t);var i,o=(i-1)*e,l=Math.floor(o),u=max$1(quickselect(t,l).subarray(0,l+1)),f=min$1(t.subarray(l+1));return u+(f-u)*(o-l)}}function quantileSorted(t,e,n=number$3){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,l=Math.floor(o),u=+n(t[l],l,t),f=+n(t[l+1],l+1,t);return u+(f-u)*(o-l)}}function range$2(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,l=new Array(o);++i<o;)l[i]=t+i*n;return l}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const implicit=Symbol("implicit");function ordinal(){var t=new InternMap,e=[],n=[],i=implicit;function o(l){let u=t.get(l);if(u===void 0){if(i!==implicit)return i;t.set(l,u=e.push(l)-1)}return n[u%n.length]}return o.domain=function(l){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const u of l)t.has(u)||t.set(u,e.push(u)-1);return o},o.range=function(l){return arguments.length?(n=Array.from(l),o):n.slice()},o.unknown=function(l){return arguments.length?(i=l,o):i},o.copy=function(){return ordinal(e,n).unknown(i)},initRange.apply(o,arguments),o}function band(){var t=ordinal().unknown(void 0),e=t.domain,n=t.range,i=0,o=1,l,u,f=!1,d=0,p=0,g=.5;delete t.unknown;function E(){var A=e().length,R=o<i,I=R?o:i,j=R?i:o;l=(j-I)/Math.max(1,A-d+p*2),f&&(l=Math.floor(l)),I+=(j-I-l*(A-d))*g,u=l*(1-d),f&&(I=Math.round(I),u=Math.round(u));var q=range$2(A).map(function(L){return I+l*L});return n(R?q.reverse():q)}return t.domain=function(A){return arguments.length?(e(A),E()):e()},t.range=function(A){return arguments.length?([i,o]=A,i=+i,o=+o,E()):[i,o]},t.rangeRound=function(A){return[i,o]=A,i=+i,o=+o,f=!0,E()},t.bandwidth=function(){return u},t.step=function(){return l},t.round=function(A){return arguments.length?(f=!!A,E()):f},t.padding=function(A){return arguments.length?(d=Math.min(1,p=+A),E()):d},t.paddingInner=function(A){return arguments.length?(d=Math.min(1,A),E()):d},t.paddingOuter=function(A){return arguments.length?(p=+A,E()):p},t.align=function(A){return arguments.length?(g=Math.max(0,Math.min(1,A)),E()):g},t.copy=function(){return band(e(),[i,o]).round(f).paddingInner(d).paddingOuter(p).align(g)},initRange.apply(E(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function extend(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rgbn(e):n===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rgba$1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rgba$1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(t))?rgba$1(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba$1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(t))?hsla$1(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla$1(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):t==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,t&255,1)}function rgba$1(t,e,n,i){return i<=0&&(t=e=n=NaN),new Rgb(t,e,n,i)}function rgbConvert(t){return t instanceof Color||(t=color$1(t)),t?(t=t.rgb(),new Rgb(t.r,t.g,t.b,t.opacity)):new Rgb}function rgb$1(t,e,n,i){return arguments.length===1?rgbConvert(t):new Rgb(t,e,n,i??1)}function Rgb(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}define(Rgb,rgb$1,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex$1(this.r)}${hex$1(this.g)}${hex$1(this.b)}`}function rgb_formatHex8(){return`#${hex$1(this.r)}${hex$1(this.g)}${hex$1(this.b)}${hex$1((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${t===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${t===1?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex$1(t){return t=clampi(t),(t<16?"0":"")+t.toString(16)}function hsla$1(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,i)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color$1(t)),!t)return new Hsl;if(t instanceof Hsl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),l=Math.max(e,n,i),u=NaN,f=l-o,d=(l+o)/2;return f?(e===l?u=(n-i)/f+(n<i)*6:n===l?u=(i-e)/f+2:u=(e-n)/f+4,f/=d<.5?l+o:2-l-o,u*=60):f=d>0&&d<1?0:u,new Hsl(u,f,d,t.opacity)}function hsl(t,e,n,i){return arguments.length===1?hslConvert(t):new Hsl(t,e,n,i??1)}function Hsl(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}define(Hsl,hsl,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new Rgb(hsl2rgb(t>=240?t-240:t+120,o,i),hsl2rgb(t,o,i),hsl2rgb(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${t===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function clamph(t){return t=(t||0)%360,t<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const constant=t=>()=>t;function linear$1(t,e){return function(n){return t+n*e}}function exponential(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function gamma(t){return(t=+t)==1?nogamma:function(e,n){return n-e?exponential(e,n,t):constant(isNaN(e)?n:e)}}function nogamma(t,e){var n=e-t;return n?linear$1(t,n):constant(isNaN(t)?e:t)}const rgb=function t(e){var n=gamma(e);function i(o,l){var u=n((o=rgb$1(o)).r,(l=rgb$1(l)).r),f=n(o.g,l.g),d=n(o.b,l.b),p=nogamma(o.opacity,l.opacity);return function(g){return o.r=u(g),o.g=f(g),o.b=d(g),o.opacity=p(g),o+""}}return i.gamma=t,i}(1);function numberArray(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(l){for(o=0;o<n;++o)i[o]=t[o]*(1-l)+e[o]*l;return i}}function isNumberArray(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),l=new Array(n),u;for(u=0;u<i;++u)o[u]=interpolate$1(t[u],e[u]);for(;u<n;++u)l[u]=e[u];return function(f){for(u=0;u<i;++u)l[u]=o[u](f);return l}}function date$1(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function interpolateNumber$1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function object(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=interpolate$1(t[o],e[o]):i[o]=e[o];return function(l){for(o in n)i[o]=n[o](l);return i}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function string(t,e){var n=reA.lastIndex=reB.lastIndex=0,i,o,l,u=-1,f=[],d=[];for(t=t+"",e=e+"";(i=reA.exec(t))&&(o=reB.exec(e));)(l=o.index)>n&&(l=e.slice(n,l),f[u]?f[u]+=l:f[++u]=l),(i=i[0])===(o=o[0])?f[u]?f[u]+=o:f[++u]=o:(f[++u]=null,d.push({i:u,x:interpolateNumber$1(i,o)})),n=reB.lastIndex;return n<e.length&&(l=e.slice(n),f[u]?f[u]+=l:f[++u]=l),f.length<2?d[0]?one(d[0].x):zero(e):(e=d.length,function(p){for(var g=0,E;g<e;++g)f[(E=d[g]).i]=E.x(p);return f.join("")})}function interpolate$1(t,e){var n=typeof e,i;return e==null||n==="boolean"?constant(e):(n==="number"?interpolateNumber$1:n==="string"?(i=color$1(e))?(e=i,rgb):string:e instanceof color$1?rgb:e instanceof Date?date$1:isNumberArray(e)?numberArray:Array.isArray(e)?genericArray:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?object:interpolateNumber$1)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function piecewise(t,e){e===void 0&&(e=t,t=interpolate$1);for(var n=0,i=e.length-1,o=e[0],l=new Array(i<0?0:i);n<i;)l[n]=t(o,o=e[++n]);return function(u){var f=Math.max(0,Math.min(i-1,Math.floor(u*=i)));return l[f](u-f)}}function constants(t){return function(){return t}}function number$2(t){return+t}var unit=[0,1];function identity$4(t){return t}function normalize(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:constants(isNaN(e)?NaN:.5)}function clamper(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function bimap(t,e,n){var i=t[0],o=t[1],l=e[0],u=e[1];return o<i?(i=normalize(o,i),l=n(u,l)):(i=normalize(i,o),l=n(l,u)),function(f){return l(i(f))}}function polymap(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),l=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)o[u]=normalize(t[u],t[u+1]),l[u]=n(e[u],e[u+1]);return function(f){var d=bisectRight(t,f,1,i)-1;return l[d](o[d](f))}}function copy$1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$2(){var t=unit,e=unit,n=interpolate$1,i,o,l,u=identity$4,f,d,p;function g(){var A=Math.min(t.length,e.length);return u!==identity$4&&(u=clamper(t[0],t[A-1])),f=A>2?polymap:bimap,d=p=null,E}function E(A){return A==null||isNaN(A=+A)?l:(d||(d=f(t.map(i),e,n)))(i(u(A)))}return E.invert=function(A){return u(o((p||(p=f(e,t.map(i),interpolateNumber$1)))(A)))},E.domain=function(A){return arguments.length?(t=Array.from(A,number$2),g()):t.slice()},E.range=function(A){return arguments.length?(e=Array.from(A),g()):e.slice()},E.rangeRound=function(A){return e=Array.from(A),n=interpolateRound,g()},E.clamp=function(A){return arguments.length?(u=A?!0:identity$4,g()):u!==identity$4},E.interpolate=function(A){return arguments.length?(n=A,g()):n},E.unknown=function(A){return arguments.length?(l=A,E):l},function(A,R){return i=A,o=R,g()}}function continuous(){return transformer$2()(identity$4,identity$4)}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function exponent(t){return t=formatDecimalParts(Math.abs(t)),t?t[1]:NaN}function formatGroup(t,e){return function(n,i){for(var o=n.length,l=[],u=0,f=t[0],d=0;o>0&&f>0&&(d+f+1>i&&(f=Math.max(1,i-d)),l.push(n.substring(o-=f,o+f)),!((d+=f+1)>i));)f=t[u=(u+1)%t.length];return l.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(t){e:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var prefixExponent;function formatPrefixAuto(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var i=n[0],o=n[1],l=o-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=i.length;return l===u?i:l>u?i+new Array(l-u+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+formatDecimalParts(t,Math.max(0,e+l-1))[0]}function formatRounded(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const formatTypes={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded(t*100,e),r:formatRounded,s:formatPrefixAuto,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity$3(t){return t}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(t){var e=t.grouping===void 0||t.thousands===void 0?identity$3:formatGroup(map$1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?identity$3:formatNumerals(map$1.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function p(E){E=formatSpecifier(E);var A=E.fill,R=E.align,I=E.sign,j=E.symbol,q=E.zero,L=E.width,z=E.comma,U=E.precision,W=E.trim,H=E.type;H==="n"?(z=!0,H="g"):formatTypes[H]||(U===void 0&&(U=12),W=!0,H="g"),(q||A==="0"&&R==="=")&&(q=!0,A="0",R="=");var Z=j==="$"?n:j==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",Y=j==="$"?i:/[%p]/.test(H)?u:"",J=formatTypes[H],ne=/[defgprs%]/.test(H);U=U===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function ae(se){var ue=Z,fe=Y,_e,ge,ce;if(H==="c")fe=J(se)+fe,se="";else{se=+se;var me=se<0||1/se<0;if(se=isNaN(se)?d:J(Math.abs(se),U),W&&(se=formatTrim(se)),me&&+se==0&&I!=="+"&&(me=!1),ue=(me?I==="("?I:f:I==="-"||I==="("?"":I)+ue,fe=(H==="s"?prefixes[8+prefixExponent/3]:"")+fe+(me&&I==="("?")":""),ne){for(_e=-1,ge=se.length;++_e<ge;)if(ce=se.charCodeAt(_e),48>ce||ce>57){fe=(ce===46?o+se.slice(_e+1):se.slice(_e))+fe,se=se.slice(0,_e);break}}}z&&!q&&(se=e(se,1/0));var ee=ue.length+se.length+fe.length,ie=ee<L?new Array(L-ee+1).join(A):"";switch(z&&q&&(se=e(ie+se,ie.length?L-fe.length:1/0),ie=""),R){case"<":se=ue+se+fe+ie;break;case"=":se=ue+ie+se+fe;break;case"^":se=ie.slice(0,ee=ie.length>>1)+ue+se+fe+ie.slice(ee);break;default:se=ie+ue+se+fe;break}return l(se)}return ae.toString=function(){return E+""},ae}function g(E,A){var R=p((E=formatSpecifier(E),E.type="f",E)),I=Math.max(-8,Math.min(8,Math.floor(exponent(A)/3)))*3,j=Math.pow(10,-I),q=prefixes[8+I/3];return function(L){return R(j*L)+q}}return{format:p,formatPrefix:g}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(t){return locale$1=formatLocale$1(t),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))*3-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}function tickFormat(t,e,n,i){var o=tickStep(t,e,n),l;switch(i=formatSpecifier(i??",f"),i.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(l=precisionPrefix(o,u))&&(i.precision=l),formatPrefix(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=precisionRound(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=precisionFixed(o))&&(i.precision=l-(i.type==="%")*2);break}}return format(i)}function linearish(t){var e=t.domain;return t.ticks=function(n){var i=e();return ticks(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return tickFormat(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,l=i.length-1,u=i[o],f=i[l],d,p,g=10;for(f<u&&(p=u,u=f,f=p,p=o,o=l,l=p);g-- >0;){if(p=tickIncrement(u,f,n),p===d)return i[o]=u,i[l]=f,e(i);if(p>0)u=Math.floor(u/p)*p,f=Math.ceil(f/p)*p;else if(p<0)u=Math.ceil(u*p)/p,f=Math.floor(f*p)/p;else break;d=p}return t},t}function linear(){var t=continuous();return t.copy=function(){return copy$1(t,linear())},initRange.apply(t,arguments),linearish(t)}function identity$2(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,number$2),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return identity$2(t).unknown(e)},t=arguments.length?Array.from(t,number$2):[0,1],linearish(n)}function nice(t,e){t=t.slice();var n=0,i=t.length-1,o=t[n],l=t[i],u;return l<o&&(u=n,n=i,i=u,u=o,o=l,l=u),t[n]=e.floor(o),t[i]=e.ceil(l),t}function transformLog(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return t===10?pow10:t===Math.E?Math.exp:e=>Math.pow(t,e)}function logp(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function reflect(t){return(e,n)=>-t(-e,n)}function loggish(t){const e=t(transformLog,transformExp),n=e.domain;let i=10,o,l;function u(){return o=logp(i),l=powp(i),n()[0]<0?(o=reflect(o),l=reflect(l),t(transformLogn,transformExpn)):t(transformLog,transformExp),e}return e.base=function(f){return arguments.length?(i=+f,u()):i},e.domain=function(f){return arguments.length?(n(f),u()):n()},e.ticks=f=>{const d=n();let p=d[0],g=d[d.length-1];const E=g<p;E&&([p,g]=[g,p]);let A=o(p),R=o(g),I,j;const q=f==null?10:+f;let L=[];if(!(i%1)&&R-A<q){if(A=Math.floor(A),R=Math.ceil(R),p>0){for(;A<=R;++A)for(I=1;I<i;++I)if(j=A<0?I/l(-A):I*l(A),!(j<p)){if(j>g)break;L.push(j)}}else for(;A<=R;++A)for(I=i-1;I>=1;--I)if(j=A>0?I/l(-A):I*l(A),!(j<p)){if(j>g)break;L.push(j)}L.length*2<q&&(L=ticks(p,g,q))}else L=ticks(A,R,Math.min(R-A,q)).map(l);return E?L.reverse():L},e.tickFormat=(f,d)=>{if(f==null&&(f=10),d==null&&(d=i===10?"s":","),typeof d!="function"&&(!(i%1)&&(d=formatSpecifier(d)).precision==null&&(d.trim=!0),d=format(d)),f===1/0)return d;const p=Math.max(1,i*f/e.ticks().length);return g=>{let E=g/l(Math.round(o(g)));return E*i<i-.5&&(E*=i),E<=p?d(g):""}},e.nice=()=>n(nice(n(),{floor:f=>l(Math.floor(o(f))),ceil:f=>l(Math.ceil(o(f)))})),e}function log(){const t=loggish(transformer$2()).domain([1,10]);return t.copy=()=>copy$1(t,log()).base(t.base()),initRange.apply(t,arguments),t}function transformSymlog(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,n=t(transformSymlog(e),transformSymexp(e));return n.constant=function(i){return arguments.length?t(transformSymlog(e=+i),transformSymexp(e)):e},linearish(n)}function symlog(){var t=symlogish(transformer$2());return t.copy=function(){return copy$1(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(identity$4,identity$4),n=1;function i(){return n===1?t(identity$4,identity$4):n===.5?t(transformSqrt,transformSquare):t(transformPow(n),transformPow(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,i()):n},linearish(e)}function pow(){var t=powish(transformer$2());return t.copy=function(){return copy$1(t,pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(t){return Math.sign(t)*t*t}function unsquare(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function radial(){var t=continuous(),e=[0,1],n=!1,i;function o(l){var u=unsquare(t(l));return isNaN(u)?i:n?Math.round(u):u}return o.invert=function(l){return t.invert(square(l))},o.domain=function(l){return arguments.length?(t.domain(l),o):t.domain()},o.range=function(l){return arguments.length?(t.range((e=Array.from(l,number$2)).map(square)),o):e.slice()},o.rangeRound=function(l){return o.range(l).round(!0)},o.round=function(l){return arguments.length?(n=!!l,o):n},o.clamp=function(l){return arguments.length?(t.clamp(l),o):t.clamp()},o.unknown=function(l){return arguments.length?(i=l,o):i},o.copy=function(){return radial(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},initRange.apply(o,arguments),linearish(o)}function quantile(){var t=[],e=[],n=[],i;function o(){var u=0,f=Math.max(1,e.length);for(n=new Array(f-1);++u<f;)n[u-1]=quantileSorted(t,u/f);return l}function l(u){return u==null||isNaN(u=+u)?i:e[bisectRight(n,u)]}return l.invertExtent=function(u){var f=e.indexOf(u);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},l.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let f of u)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(ascending),o()},l.range=function(u){return arguments.length?(e=Array.from(u),o()):e.slice()},l.unknown=function(u){return arguments.length?(i=u,l):i},l.quantiles=function(){return n.slice()},l.copy=function(){return quantile().domain(t).range(e).unknown(i)},initRange.apply(l,arguments)}function quantize(){var t=0,e=1,n=1,i=[.5],o=[0,1],l;function u(d){return d!=null&&d<=d?o[bisectRight(i,d,0,n)]:l}function f(){var d=-1;for(i=new Array(n);++d<n;)i[d]=((d+1)*e-(d-n)*t)/(n+1);return u}return u.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,f()):[t,e]},u.range=function(d){return arguments.length?(n=(o=Array.from(d)).length-1,f()):o.slice()},u.invertExtent=function(d){var p=o.indexOf(d);return p<0?[NaN,NaN]:p<1?[t,i[0]]:p>=n?[i[n-1],e]:[i[p-1],i[p]]},u.unknown=function(d){return arguments.length&&(l=d),u},u.thresholds=function(){return i.slice()},u.copy=function(){return quantize().domain([t,e]).range(o).unknown(l)},initRange.apply(linearish(u),arguments)}function threshold(){var t=[.5],e=[0,1],n,i=1;function o(l){return l!=null&&l<=l?e[bisectRight(t,l,0,i)]:n}return o.domain=function(l){return arguments.length?(t=Array.from(l),i=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(l){return arguments.length?(e=Array.from(l),i=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(l){var u=e.indexOf(l);return[t[u-1],t[u]]},o.unknown=function(l){return arguments.length?(n=l,o):n},o.copy=function(){return threshold().domain(t).range(e).unknown(n)},initRange.apply(o,arguments)}const t0=new Date,t1=new Date;function timeInterval(t,e,n,i){function o(l){return t(l=arguments.length===0?new Date:new Date(+l)),l}return o.floor=l=>(t(l=new Date(+l)),l),o.ceil=l=>(t(l=new Date(l-1)),e(l,1),t(l),l),o.round=l=>{const u=o(l),f=o.ceil(l);return l-u<f-l?u:f},o.offset=(l,u)=>(e(l=new Date(+l),u==null?1:Math.floor(u)),l),o.range=(l,u,f)=>{const d=[];if(l=o.ceil(l),f=f==null?1:Math.floor(f),!(l<u)||!(f>0))return d;let p;do d.push(p=new Date(+l)),e(l,f),t(l);while(p<l&&l<u);return d},o.filter=l=>timeInterval(u=>{if(u>=u)for(;t(u),!l(u);)u.setTime(u-1)},(u,f)=>{if(u>=u)if(f<0)for(;++f<=0;)for(;e(u,-1),!l(u););else for(;--f>=0;)for(;e(u,1),!l(u););}),n&&(o.count=(l,u)=>(t0.setTime(+l),t1.setTime(+u),t(t0),t(t1),Math.floor(n(t0,t1))),o.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?o.filter(i?u=>i(u)%l===0:u=>o.count(0,u)%l===0):o)),o}const millisecond=timeInterval(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);millisecond.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?timeInterval(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*durationSecond)},(t,e)=>(e-t)/durationSecond,t=>t.getUTCSeconds());second.range;const timeMinute=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getMinutes());timeMinute.range;const utcMinute=timeInterval(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond-t.getMinutes()*durationMinute)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getHours());timeHour.range;const utcHour=timeInterval(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getUTCHours());utcHour.range;const timeDay=timeInterval(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationDay,t=>t.getDate()-1);timeDay.range;const utcDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>t.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>Math.floor(t/durationDay));unixDay.range;function timeWeekday(t){return timeInterval(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(t){return timeInterval(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());timeMonth.range;const utcMonth=timeInterval(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());utcMonth.range;const timeYear=timeInterval(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());timeYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});timeYear.range;const utcYear=timeInterval(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());utcYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});utcYear.range;function ticker(t,e,n,i,o,l){const u=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[l,1,durationMinute],[l,5,5*durationMinute],[l,15,15*durationMinute],[l,30,30*durationMinute],[o,1,durationHour],[o,3,3*durationHour],[o,6,6*durationHour],[o,12,12*durationHour],[i,1,durationDay],[i,2,2*durationDay],[n,1,durationWeek],[e,1,durationMonth],[e,3,3*durationMonth],[t,1,durationYear]];function f(p,g,E){const A=g<p;A&&([p,g]=[g,p]);const R=E&&typeof E.range=="function"?E:d(p,g,E),I=R?R.range(p,+g+1):[];return A?I.reverse():I}function d(p,g,E){const A=Math.abs(g-p)/E,R=bisector(([,,q])=>q).right(u,A);if(R===u.length)return t.every(tickStep(p/durationYear,g/durationYear,E));if(R===0)return millisecond.every(Math.max(tickStep(p,g,E),1));const[I,j]=u[A/u[R-1][2]<u[R][2]/A?R-1:R];return I.every(j)}return[f,d]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,n=t.date,i=t.time,o=t.periods,l=t.days,u=t.shortDays,f=t.months,d=t.shortMonths,p=formatRe(o),g=formatLookup(o),E=formatRe(l),A=formatLookup(l),R=formatRe(u),I=formatLookup(u),j=formatRe(f),q=formatLookup(f),L=formatRe(d),z=formatLookup(d),U={a:me,A:ee,b:ie,B:oe,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:de,q:xe,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},W={a:Ee,A:Ae,b:Ce,B:Oe,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:We,q:qe,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},H={a:ae,A:se,b:ue,B:fe,c:_e,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:ne,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:ge,X:ce,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};U.x=Z(n,U),U.X=Z(i,U),U.c=Z(e,U),W.x=Z(n,W),W.X=Z(i,W),W.c=Z(e,W);function Z(Ne,Me){return function(Be){var je=[],ze=-1,ke=0,Ge=Ne.length,He,ct,tr;for(Be instanceof Date||(Be=new Date(+Be));++ze<Ge;)Ne.charCodeAt(ze)===37&&(je.push(Ne.slice(ke,ze)),(ct=pads[He=Ne.charAt(++ze)])!=null?He=Ne.charAt(++ze):ct=He==="e"?" ":"0",(tr=Me[He])&&(He=tr(Be,ct)),je.push(He),ke=ze+1);return je.push(Ne.slice(ke,ze)),je.join("")}}function Y(Ne,Me){return function(Be){var je=newDate(1900,void 0,1),ze=J(je,Ne,Be+="",0),ke,Ge;if(ze!=Be.length)return null;if("Q"in je)return new Date(je.Q);if("s"in je)return new Date(je.s*1e3+("L"in je?je.L:0));if(Me&&!("Z"in je)&&(je.Z=0),"p"in je&&(je.H=je.H%12+je.p*12),je.m===void 0&&(je.m="q"in je?je.q:0),"V"in je){if(je.V<1||je.V>53)return null;"w"in je||(je.w=1),"Z"in je?(ke=utcDate(newDate(je.y,0,1)),Ge=ke.getUTCDay(),ke=Ge>4||Ge===0?utcMonday.ceil(ke):utcMonday(ke),ke=utcDay.offset(ke,(je.V-1)*7),je.y=ke.getUTCFullYear(),je.m=ke.getUTCMonth(),je.d=ke.getUTCDate()+(je.w+6)%7):(ke=localDate(newDate(je.y,0,1)),Ge=ke.getDay(),ke=Ge>4||Ge===0?timeMonday.ceil(ke):timeMonday(ke),ke=timeDay.offset(ke,(je.V-1)*7),je.y=ke.getFullYear(),je.m=ke.getMonth(),je.d=ke.getDate()+(je.w+6)%7)}else("W"in je||"U"in je)&&("w"in je||(je.w="u"in je?je.u%7:"W"in je?1:0),Ge="Z"in je?utcDate(newDate(je.y,0,1)).getUTCDay():localDate(newDate(je.y,0,1)).getDay(),je.m=0,je.d="W"in je?(je.w+6)%7+je.W*7-(Ge+5)%7:je.w+je.U*7-(Ge+6)%7);return"Z"in je?(je.H+=je.Z/100|0,je.M+=je.Z%100,utcDate(je)):localDate(je)}}function J(Ne,Me,Be,je){for(var ze=0,ke=Me.length,Ge=Be.length,He,ct;ze<ke;){if(je>=Ge)return-1;if(He=Me.charCodeAt(ze++),He===37){if(He=Me.charAt(ze++),ct=H[He in pads?Me.charAt(ze++):He],!ct||(je=ct(Ne,Be,je))<0)return-1}else if(He!=Be.charCodeAt(je++))return-1}return je}function ne(Ne,Me,Be){var je=p.exec(Me.slice(Be));return je?(Ne.p=g.get(je[0].toLowerCase()),Be+je[0].length):-1}function ae(Ne,Me,Be){var je=R.exec(Me.slice(Be));return je?(Ne.w=I.get(je[0].toLowerCase()),Be+je[0].length):-1}function se(Ne,Me,Be){var je=E.exec(Me.slice(Be));return je?(Ne.w=A.get(je[0].toLowerCase()),Be+je[0].length):-1}function ue(Ne,Me,Be){var je=L.exec(Me.slice(Be));return je?(Ne.m=z.get(je[0].toLowerCase()),Be+je[0].length):-1}function fe(Ne,Me,Be){var je=j.exec(Me.slice(Be));return je?(Ne.m=q.get(je[0].toLowerCase()),Be+je[0].length):-1}function _e(Ne,Me,Be){return J(Ne,e,Me,Be)}function ge(Ne,Me,Be){return J(Ne,n,Me,Be)}function ce(Ne,Me,Be){return J(Ne,i,Me,Be)}function me(Ne){return u[Ne.getDay()]}function ee(Ne){return l[Ne.getDay()]}function ie(Ne){return d[Ne.getMonth()]}function oe(Ne){return f[Ne.getMonth()]}function de(Ne){return o[+(Ne.getHours()>=12)]}function xe(Ne){return 1+~~(Ne.getMonth()/3)}function Ee(Ne){return u[Ne.getUTCDay()]}function Ae(Ne){return l[Ne.getUTCDay()]}function Ce(Ne){return d[Ne.getUTCMonth()]}function Oe(Ne){return f[Ne.getUTCMonth()]}function We(Ne){return o[+(Ne.getUTCHours()>=12)]}function qe(Ne){return 1+~~(Ne.getUTCMonth()/3)}return{format:function(Ne){var Me=Z(Ne+="",U);return Me.toString=function(){return Ne},Me},parse:function(Ne){var Me=Y(Ne+="",!1);return Me.toString=function(){return Ne},Me},utcFormat:function(Ne){var Me=Z(Ne+="",W);return Me.toString=function(){return Ne},Me},utcParse:function(Ne){var Me=Y(Ne+="",!0);return Me.toString=function(){return Ne},Me}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(t,e,n){var i=t<0?"-":"",o=(i?-t:t)+"",l=o.length;return i+(l<n?new Array(n-l+1).join(e)+o:o)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function parseWeekdayNumberSunday(t,e,n){var i=numberRe.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function parseWeekdayNumberMonday(t,e,n){var i=numberRe.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function parseWeekNumberSunday(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function parseWeekNumberISO(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function parseWeekNumberMonday(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function parseFullYear(t,e,n){var i=numberRe.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function parseYear(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function parseZone(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function parseQuarter(t,e,n){var i=numberRe.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function parseMonthNumber(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function parseDayOfMonth(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function parseDayOfYear(t,e,n){var i=numberRe.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function parseHour24(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function parseMinutes(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function parseSeconds(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function parseMilliseconds(t,e,n){var i=numberRe.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function parseMicroseconds(t,e,n){var i=numberRe.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function parseLiteralPercent(t,e,n){var i=percentRe.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function parseUnixTimestamp(t,e,n){var i=numberRe.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function parseUnixTimestampSeconds(t,e,n){var i=numberRe.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function formatDayOfMonth(t,e){return pad(t.getDate(),e,2)}function formatHour24(t,e){return pad(t.getHours(),e,2)}function formatHour12(t,e){return pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds(t,e){return pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return e===0?7:e}function formatWeekNumberSunday(t,e){return pad(timeSunday.count(timeYear(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||e===0?timeThursday(t):timeThursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad(timeThursday.count(timeYear(t),t)+(timeYear(t).getDay()===4),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad(timeMonday.count(timeYear(t)-1,t),e,2)}function formatYear$1(t,e){return pad(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return t=dISO(t),pad(t.getFullYear()%100,e,2)}function formatFullYear(t,e){return pad(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var n=t.getDay();return t=n>=4||n===0?timeThursday(t):timeThursday.ceil(t),pad(t.getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return e===0?7:e}function formatUTCWeekNumberSunday(t,e){return pad(utcSunday.count(utcYear(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||e===0?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad(utcThursday.count(utcYear(t),t)+(utcYear(t).getUTCDay()===4),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad(utcMonday.count(utcYear(t)-1,t),e,2)}function formatUTCYear(t,e){return pad(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return t=UTCdISO(t),pad(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var n=t.getUTCDay();return t=n>=4||n===0?utcThursday(t):utcThursday.ceil(t),pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(t){return locale=formatLocale(t),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(t){return new Date(t)}function number$1(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,n,i,o,l,u,f,d,p){var g=continuous(),E=g.invert,A=g.domain,R=p(".%L"),I=p(":%S"),j=p("%I:%M"),q=p("%I %p"),L=p("%a %d"),z=p("%b %d"),U=p("%B"),W=p("%Y");function H(Z){return(d(Z)<Z?R:f(Z)<Z?I:u(Z)<Z?j:l(Z)<Z?q:i(Z)<Z?o(Z)<Z?L:z:n(Z)<Z?U:W)(Z)}return g.invert=function(Z){return new Date(E(Z))},g.domain=function(Z){return arguments.length?A(Array.from(Z,number$1)):A().map(date)},g.ticks=function(Z){var Y=A();return t(Y[0],Y[Y.length-1],Z??10)},g.tickFormat=function(Z,Y){return Y==null?H:p(Y)},g.nice=function(Z){var Y=A();return(!Z||typeof Z.range!="function")&&(Z=e(Y[0],Y[Y.length-1],Z??10)),Z?A(nice(Y,Z)):g},g.copy=function(){return copy$1(g,calendar(t,e,n,i,o,l,u,f,d,p))},g}function time$1(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var t=0,e=1,n,i,o,l,u=identity$4,f=!1,d;function p(E){return E==null||isNaN(E=+E)?d:u(o===0?.5:(E=(l(E)-n)*o,f?Math.max(0,Math.min(1,E)):E))}p.domain=function(E){return arguments.length?([t,e]=E,n=l(t=+t),i=l(e=+e),o=n===i?0:1/(i-n),p):[t,e]},p.clamp=function(E){return arguments.length?(f=!!E,p):f},p.interpolator=function(E){return arguments.length?(u=E,p):u};function g(E){return function(A){var R,I;return arguments.length?([R,I]=A,u=E(R,I),p):[u(0),u(1)]}}return p.range=g(interpolate$1),p.rangeRound=g(interpolateRound),p.unknown=function(E){return arguments.length?(d=E,p):d},function(E){return l=E,n=E(t),i=E(e),o=n===i?0:1/(i-n),p}}function copy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sequential(){var t=linearish(transformer$1()(identity$4));return t.copy=function(){return copy(t,sequential())},initInterpolator.apply(t,arguments)}function sequentialLog(){var t=loggish(transformer$1()).domain([1,10]);return t.copy=function(){return copy(t,sequentialLog()).base(t.base())},initInterpolator.apply(t,arguments)}function sequentialSymlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy(t,sequentialSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function sequentialPow(){var t=powish(transformer$1());return t.copy=function(){return copy(t,sequentialPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var t=[],e=identity$4;function n(i){if(i!=null&&!isNaN(i=+i))return e((bisectRight(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let o of i)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ascending),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,o)=>e(o/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(o,l)=>quantile$1(t,l/i))},n.copy=function(){return sequentialQuantile(e).domain(t)},initInterpolator.apply(n,arguments)}function transformer(){var t=0,e=.5,n=1,i=1,o,l,u,f,d,p=identity$4,g,E=!1,A;function R(j){return isNaN(j=+j)?A:(j=.5+((j=+g(j))-l)*(i*j<i*l?f:d),p(E?Math.max(0,Math.min(1,j)):j))}R.domain=function(j){return arguments.length?([t,e,n]=j,o=g(t=+t),l=g(e=+e),u=g(n=+n),f=o===l?0:.5/(l-o),d=l===u?0:.5/(u-l),i=l<o?-1:1,R):[t,e,n]},R.clamp=function(j){return arguments.length?(E=!!j,R):E},R.interpolator=function(j){return arguments.length?(p=j,R):p};function I(j){return function(q){var L,z,U;return arguments.length?([L,z,U]=q,p=piecewise(j,[L,z,U]),R):[p(0),p(.5),p(1)]}}return R.range=I(interpolate$1),R.rangeRound=I(interpolateRound),R.unknown=function(j){return arguments.length?(A=j,R):A},function(j){return g=j,o=j(t),l=j(e),u=j(n),f=o===l?0:.5/(l-o),d=l===u?0:.5/(u-l),i=l<o?-1:1,R}}function diverging(){var t=linearish(transformer()(identity$4));return t.copy=function(){return copy(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer()).domain([.1,1,10]);return t.copy=function(){return copy(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer());return t.copy=function(){return copy(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer());return t.copy=function(){return copy(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$2,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time$1,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var _baseExtremum,hasRequired_baseExtremum;function require_baseExtremum(){if(hasRequired_baseExtremum)return _baseExtremum;hasRequired_baseExtremum=1;var t=requireIsSymbol();function e(n,i,o){for(var l=-1,u=n.length;++l<u;){var f=n[l],d=i(f);if(d!=null&&(p===void 0?d===d&&!t(d):o(d,p)))var p=d,g=f}return g}return _baseExtremum=e,_baseExtremum}var _baseGt,hasRequired_baseGt;function require_baseGt(){if(hasRequired_baseGt)return _baseGt;hasRequired_baseGt=1;function t(e,n){return e>n}return _baseGt=t,_baseGt}var max_1,hasRequiredMax;function requireMax(){if(hasRequiredMax)return max_1;hasRequiredMax=1;var t=require_baseExtremum(),e=require_baseGt(),n=requireIdentity();function i(o){return o&&o.length?t(o,n,e):void 0}return max_1=i,max_1}var maxExports=requireMax();const max=getDefaultExportFromCjs(maxExports);var _baseLt,hasRequired_baseLt;function require_baseLt(){if(hasRequired_baseLt)return _baseLt;hasRequired_baseLt=1;function t(e,n){return e<n}return _baseLt=t,_baseLt}var min_1,hasRequiredMin;function requireMin(){if(hasRequiredMin)return min_1;hasRequiredMin=1;var t=require_baseExtremum(),e=require_baseLt(),n=requireIdentity();function i(o){return o&&o.length?t(o,n,e):void 0}return min_1=i,min_1}var minExports=requireMin();const min=getDefaultExportFromCjs(minExports);var map_1,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map_1;hasRequiredMap=1;var t=require_arrayMap(),e=require_baseIteratee(),n=require_baseMap(),i=requireIsArray();function o(l,u){var f=i(l)?t:n;return f(l,e(u,3))}return map_1=o,map_1}var flatMap_1,hasRequiredFlatMap;function requireFlatMap(){if(hasRequiredFlatMap)return flatMap_1;hasRequiredFlatMap=1;var t=require_baseFlatten(),e=requireMap();function n(i,o){return t(e(i,o),1)}return flatMap_1=n,flatMap_1}var flatMapExports=requireFlatMap();const flatMap=getDefaultExportFromCjs(flatMapExports);var isEqual_1,hasRequiredIsEqual;function requireIsEqual(){if(hasRequiredIsEqual)return isEqual_1;hasRequiredIsEqual=1;var t=require_baseIsEqual();function e(n,i){return t(n,i)}return isEqual_1=e,isEqual_1}var isEqualExports=requireIsEqual();const isEqual=getDefaultExportFromCjs(isEqualExports);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};P.comparedTo=P.cmp=function(t){var e,n,i,o,l=this;if(t=new l.constructor(t),l.s!==t.s)return l.s||-t.s;if(l.e!==t.e)return l.e>t.e^l.s<0?1:-1;for(i=l.d.length,o=t.d.length,e=0,n=i<o?i:o;e<n;++e)if(l.d[e]!==t.d[e])return l.d[e]>t.d[e]^l.s<0?1:-1;return i===o?0:i>o^l.s<0?1:-1};P.decimalPlaces=P.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*LOG_BASE;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};P.dividedBy=P.div=function(t){return divide(this,new this.constructor(t))};P.dividedToIntegerBy=P.idiv=function(t){var e=this,n=e.constructor;return round(divide(e,new n(t),0,1),n.precision)};P.equals=P.eq=function(t){return!this.cmp(t)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(t){return this.cmp(t)>0};P.greaterThanOrEqualTo=P.gte=function(t){return this.cmp(t)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(t){return this.cmp(t)<0};P.lessThanOrEqualTo=P.lte=function(t){return this.cmp(t)<1};P.logarithm=P.log=function(t){var e,n=this,i=n.constructor,o=i.precision,l=o+5;if(t===void 0)t=new i(10);else if(t=new i(t),t.s<1||t.eq(ONE))throw Error(decimalError+"NaN");if(n.s<1)throw Error(decimalError+(n.s?"NaN":"-Infinity"));return n.eq(ONE)?new i(0):(external=!1,e=divide(ln(n,l),ln(t,l),l),external=!0,round(e,o))};P.minus=P.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?subtract(e,t):add(e,(t.s=-t.s,t))};P.modulo=P.mod=function(t){var e,n=this,i=n.constructor,o=i.precision;if(t=new i(t),!t.s)throw Error(decimalError+"NaN");return n.s?(external=!1,e=divide(n,t,0,1).times(t),external=!0,n.minus(e)):round(new i(n),o)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};P.plus=P.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?add(e,t):subtract(e,(t.s=-t.s,t))};P.precision=P.sd=function(t){var e,n,i,o=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(invalidArgument+t);if(e=getBase10Exponent(o)+1,i=o.d.length-1,n=i*LOG_BASE+1,i=o.d[i],i){for(;i%10==0;i/=10)n--;for(i=o.d[0];i>=10;i/=10)n++}return t&&e>n?e:n};P.squareRoot=P.sqrt=function(){var t,e,n,i,o,l,u,f=this,d=f.constructor;if(f.s<1){if(!f.s)return new d(0);throw Error(decimalError+"NaN")}for(t=getBase10Exponent(f),external=!1,o=Math.sqrt(+f),o==0||o==1/0?(e=digitsToString(f.d),(e.length+t)%2==0&&(e+="0"),o=Math.sqrt(e),t=mathfloor((t+1)/2)-(t<0||t%2),o==1/0?e="5e"+t:(e=o.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),i=new d(e)):i=new d(o.toString()),n=d.precision,o=u=n+3;;)if(l=i,i=l.plus(divide(f,l,u+2)).times(.5),digitsToString(l.d).slice(0,u)===(e=digitsToString(i.d)).slice(0,u)){if(e=e.slice(u-3,u+1),o==u&&e=="4999"){if(round(l,n+1,0),l.times(l).eq(f)){i=l;break}}else if(e!="9999")break;u+=4}return external=!0,round(i,n)};P.times=P.mul=function(t){var e,n,i,o,l,u,f,d,p,g=this,E=g.constructor,A=g.d,R=(t=new E(t)).d;if(!g.s||!t.s)return new E(0);for(t.s*=g.s,n=g.e+t.e,d=A.length,p=R.length,d<p&&(l=A,A=R,R=l,u=d,d=p,p=u),l=[],u=d+p,i=u;i--;)l.push(0);for(i=p;--i>=0;){for(e=0,o=d+i;o>i;)f=l[o]+R[i]*A[o-i-1]+e,l[o--]=f%BASE|0,e=f/BASE|0;l[o]=(l[o]+e)%BASE|0}for(;!l[--u];)l.pop();return e?++n:l.shift(),t.d=l,t.e=n,external?round(t,E.precision):t};P.toDecimalPlaces=P.todp=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(checkInt32(t,0,MAX_DIGITS),e===void 0?e=i.rounding:checkInt32(e,0,8),round(n,t+getBase10Exponent(n)+1,e))};P.toExponential=function(t,e){var n,i=this,o=i.constructor;return t===void 0?n=toString(i,!0):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=o.rounding:checkInt32(e,0,8),i=round(new o(i),t+1,e),n=toString(i,!0,t+1)),n};P.toFixed=function(t,e){var n,i,o=this,l=o.constructor;return t===void 0?toString(o):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=l.rounding:checkInt32(e,0,8),i=round(new l(o),t+getBase10Exponent(o)+1,e),n=toString(i.abs(),!1,t+getBase10Exponent(i)+1),o.isneg()&&!o.isZero()?"-"+n:n)};P.toInteger=P.toint=function(){var t=this,e=t.constructor;return round(new e(t),getBase10Exponent(t)+1,e.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(t){var e,n,i,o,l,u,f=this,d=f.constructor,p=12,g=+(t=new d(t));if(!t.s)return new d(ONE);if(f=new d(f),!f.s){if(t.s<1)throw Error(decimalError+"Infinity");return f}if(f.eq(ONE))return f;if(i=d.precision,t.eq(ONE))return round(f,i);if(e=t.e,n=t.d.length-1,u=e>=n,l=f.s,u){if((n=g<0?-g:g)<=MAX_SAFE_INTEGER){for(o=new d(ONE),e=Math.ceil(i/LOG_BASE+4),external=!1;n%2&&(o=o.times(f),truncate(o.d,e)),n=mathfloor(n/2),n!==0;)f=f.times(f),truncate(f.d,e);return external=!0,t.s<0?new d(ONE).div(o):round(o,i)}}else if(l<0)throw Error(decimalError+"NaN");return l=l<0&&t.d[Math.max(e,n)]&1?-1:1,f.s=1,external=!1,o=t.times(ln(f,i+p)),external=!0,o=exp(o),o.s=l,o};P.toPrecision=function(t,e){var n,i,o=this,l=o.constructor;return t===void 0?(n=getBase10Exponent(o),i=toString(o,n<=l.toExpNeg||n>=l.toExpPos)):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=l.rounding:checkInt32(e,0,8),o=round(new l(o),t,e),n=getBase10Exponent(o),i=toString(o,t<=n||n<=l.toExpNeg,t)),i};P.toSignificantDigits=P.tosd=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=i.rounding:checkInt32(e,0,8)),round(new i(n),t,e)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=getBase10Exponent(t),n=t.constructor;return toString(t,e<=n.toExpNeg||e>=n.toExpPos)};function add(t,e){var n,i,o,l,u,f,d,p,g=t.constructor,E=g.precision;if(!t.s||!e.s)return e.s||(e=new g(t)),external?round(e,E):e;if(d=t.d,p=e.d,u=t.e,o=e.e,d=d.slice(),l=u-o,l){for(l<0?(i=d,l=-l,f=p.length):(i=p,o=u,f=d.length),u=Math.ceil(E/LOG_BASE),f=u>f?u+1:f+1,l>f&&(l=f,i.length=1),i.reverse();l--;)i.push(0);i.reverse()}for(f=d.length,l=p.length,f-l<0&&(l=f,i=p,p=d,d=i),n=0;l;)n=(d[--l]=d[l]+p[l]+n)/BASE|0,d[l]%=BASE;for(n&&(d.unshift(n),++o),f=d.length;d[--f]==0;)d.pop();return e.d=d,e.e=o,external?round(e,E):e}function checkInt32(t,e,n){if(t!==~~t||t<e||t>n)throw Error(invalidArgument+t)}function digitsToString(t){var e,n,i,o=t.length-1,l="",u=t[0];if(o>0){for(l+=u,e=1;e<o;e++)i=t[e]+"",n=LOG_BASE-i.length,n&&(l+=getZeroString(n)),l+=i;u=t[e],i=u+"",n=LOG_BASE-i.length,n&&(l+=getZeroString(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return l+u}var divide=function(){function t(i,o){var l,u=0,f=i.length;for(i=i.slice();f--;)l=i[f]*o+u,i[f]=l%BASE|0,u=l/BASE|0;return u&&i.unshift(u),i}function e(i,o,l,u){var f,d;if(l!=u)d=l>u?1:-1;else for(f=d=0;f<l;f++)if(i[f]!=o[f]){d=i[f]>o[f]?1:-1;break}return d}function n(i,o,l){for(var u=0;l--;)i[l]-=u,u=i[l]<o[l]?1:0,i[l]=u*BASE+i[l]-o[l];for(;!i[0]&&i.length>1;)i.shift()}return function(i,o,l,u){var f,d,p,g,E,A,R,I,j,q,L,z,U,W,H,Z,Y,J,ne=i.constructor,ae=i.s==o.s?1:-1,se=i.d,ue=o.d;if(!i.s)return new ne(i);if(!o.s)throw Error(decimalError+"Division by zero");for(d=i.e-o.e,Y=ue.length,H=se.length,R=new ne(ae),I=R.d=[],p=0;ue[p]==(se[p]||0);)++p;if(ue[p]>(se[p]||0)&&--d,l==null?z=l=ne.precision:u?z=l+(getBase10Exponent(i)-getBase10Exponent(o))+1:z=l,z<0)return new ne(0);if(z=z/LOG_BASE+2|0,p=0,Y==1)for(g=0,ue=ue[0],z++;(p<H||g)&&z--;p++)U=g*BASE+(se[p]||0),I[p]=U/ue|0,g=U%ue|0;else{for(g=BASE/(ue[0]+1)|0,g>1&&(ue=t(ue,g),se=t(se,g),Y=ue.length,H=se.length),W=Y,j=se.slice(0,Y),q=j.length;q<Y;)j[q++]=0;J=ue.slice(),J.unshift(0),Z=ue[0],ue[1]>=BASE/2&&++Z;do g=0,f=e(ue,j,Y,q),f<0?(L=j[0],Y!=q&&(L=L*BASE+(j[1]||0)),g=L/Z|0,g>1?(g>=BASE&&(g=BASE-1),E=t(ue,g),A=E.length,q=j.length,f=e(E,j,A,q),f==1&&(g--,n(E,Y<A?J:ue,A))):(g==0&&(f=g=1),E=ue.slice()),A=E.length,A<q&&E.unshift(0),n(j,E,q),f==-1&&(q=j.length,f=e(ue,j,Y,q),f<1&&(g++,n(j,Y<q?J:ue,q))),q=j.length):f===0&&(g++,j=[0]),I[p++]=g,f&&j[0]?j[q++]=se[W]||0:(j=[se[W]],q=1);while((W++<H||j[0]!==void 0)&&z--)}return I[0]||I.shift(),R.e=d,round(R,u?l+getBase10Exponent(R)+1:l)}}();function exp(t,e){var n,i,o,l,u,f,d=0,p=0,g=t.constructor,E=g.precision;if(getBase10Exponent(t)>16)throw Error(exponentOutOfRange+getBase10Exponent(t));if(!t.s)return new g(ONE);for(external=!1,f=E,u=new g(.03125);t.abs().gte(.1);)t=t.times(u),p+=5;for(i=Math.log(mathpow(2,p))/Math.LN10*2+5|0,f+=i,n=o=l=new g(ONE),g.precision=f;;){if(o=round(o.times(t),f),n=n.times(++d),u=l.plus(divide(o,n,f)),digitsToString(u.d).slice(0,f)===digitsToString(l.d).slice(0,f)){for(;p--;)l=round(l.times(l),f);return g.precision=E,e==null?(external=!0,round(l,E)):l}l=u}}function getBase10Exponent(t){for(var e=t.e*LOG_BASE,n=t.d[0];n>=10;n/=10)e++;return e}function getLn10(t,e,n){if(e>t.LN10.sd())throw external=!0,n&&(t.precision=n),Error(decimalError+"LN10 precision limit exceeded");return round(new t(t.LN10),e)}function getZeroString(t){for(var e="";t--;)e+="0";return e}function ln(t,e){var n,i,o,l,u,f,d,p,g,E=1,A=10,R=t,I=R.d,j=R.constructor,q=j.precision;if(R.s<1)throw Error(decimalError+(R.s?"NaN":"-Infinity"));if(R.eq(ONE))return new j(0);if(e==null?(external=!1,p=q):p=e,R.eq(10))return e==null&&(external=!0),getLn10(j,p);if(p+=A,j.precision=p,n=digitsToString(I),i=n.charAt(0),l=getBase10Exponent(R),Math.abs(l)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)R=R.times(t),n=digitsToString(R.d),i=n.charAt(0),E++;l=getBase10Exponent(R),i>1?(R=new j("0."+n),l++):R=new j(i+"."+n.slice(1))}else return d=getLn10(j,p+2,q).times(l+""),R=ln(new j(i+"."+n.slice(1)),p-A).plus(d),j.precision=q,e==null?(external=!0,round(R,q)):R;for(f=u=R=divide(R.minus(ONE),R.plus(ONE),p),g=round(R.times(R),p),o=3;;){if(u=round(u.times(g),p),d=f.plus(divide(u,new j(o),p)),digitsToString(d.d).slice(0,p)===digitsToString(f.d).slice(0,p))return f=f.times(2),l!==0&&(f=f.plus(getLn10(j,p+2,q).times(l+""))),f=divide(f,new j(E),p),j.precision=q,e==null?(external=!0,round(f,q)):f;f=d,o+=2}}function parseDecimal(t,e){var n,i,o;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(o=e.length;e.charCodeAt(o-1)===48;)--o;if(e=e.slice(i,o),e){if(o-=i,n=n-i-1,t.e=mathfloor(n/LOG_BASE),t.d=[],i=(n+1)%LOG_BASE,n<0&&(i+=LOG_BASE),i<o){for(i&&t.d.push(+e.slice(0,i)),o-=LOG_BASE;i<o;)t.d.push(+e.slice(i,i+=LOG_BASE));e=e.slice(i),i=LOG_BASE-e.length}else i-=o;for(;i--;)e+="0";if(t.d.push(+e),external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+n)}else t.s=0,t.e=0,t.d=[0];return t}function round(t,e,n){var i,o,l,u,f,d,p,g,E=t.d;for(u=1,l=E[0];l>=10;l/=10)u++;if(i=e-u,i<0)i+=LOG_BASE,o=e,p=E[g=0];else{if(g=Math.ceil((i+1)/LOG_BASE),l=E.length,g>=l)return t;for(p=l=E[g],u=1;l>=10;l/=10)u++;i%=LOG_BASE,o=i-LOG_BASE+u}if(n!==void 0&&(l=mathpow(10,u-o-1),f=p/l%10|0,d=e<0||E[g+1]!==void 0||p%l,d=n<4?(f||d)&&(n==0||n==(t.s<0?3:2)):f>5||f==5&&(n==4||d||n==6&&(i>0?o>0?p/mathpow(10,u-o):0:E[g-1])%10&1||n==(t.s<0?8:7))),e<1||!E[0])return d?(l=getBase10Exponent(t),E.length=1,e=e-l-1,E[0]=mathpow(10,(LOG_BASE-e%LOG_BASE)%LOG_BASE),t.e=mathfloor(-e/LOG_BASE)||0):(E.length=1,E[0]=t.e=t.s=0),t;if(i==0?(E.length=g,l=1,g--):(E.length=g+1,l=mathpow(10,LOG_BASE-i),E[g]=o>0?(p/mathpow(10,u-o)%mathpow(10,o)|0)*l:0),d)for(;;)if(g==0){(E[0]+=l)==BASE&&(E[0]=1,++t.e);break}else{if(E[g]+=l,E[g]!=BASE)break;E[g--]=0,l=1}for(i=E.length;E[--i]===0;)E.pop();if(external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(t));return t}function subtract(t,e){var n,i,o,l,u,f,d,p,g,E,A=t.constructor,R=A.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new A(t),external?round(e,R):e;if(d=t.d,E=e.d,i=e.e,p=t.e,d=d.slice(),u=p-i,u){for(g=u<0,g?(n=d,u=-u,f=E.length):(n=E,i=p,f=d.length),o=Math.max(Math.ceil(R/LOG_BASE),f)+2,u>o&&(u=o,n.length=1),n.reverse(),o=u;o--;)n.push(0);n.reverse()}else{for(o=d.length,f=E.length,g=o<f,g&&(f=o),o=0;o<f;o++)if(d[o]!=E[o]){g=d[o]<E[o];break}u=0}for(g&&(n=d,d=E,E=n,e.s=-e.s),f=d.length,o=E.length-f;o>0;--o)d[f++]=0;for(o=E.length;o>u;){if(d[--o]<E[o]){for(l=o;l&&d[--l]===0;)d[l]=BASE-1;--d[l],d[o]+=BASE}d[o]-=E[o]}for(;d[--f]===0;)d.pop();for(;d[0]===0;d.shift())--i;return d[0]?(e.d=d,e.e=i,external?round(e,R):e):new A(0)}function toString(t,e,n){var i,o=getBase10Exponent(t),l=digitsToString(t.d),u=l.length;return e?(n&&(i=n-u)>0?l=l.charAt(0)+"."+l.slice(1)+getZeroString(i):u>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(o<0?"e":"e+")+o):o<0?(l="0."+getZeroString(-o-1)+l,n&&(i=n-u)>0&&(l+=getZeroString(i))):o>=u?(l+=getZeroString(o+1-u),n&&(i=n-o-1)>0&&(l=l+"."+getZeroString(i))):((i=o+1)<u&&(l=l.slice(0,i)+"."+l.slice(i)),n&&(i=n-u)>0&&(o+1===u&&(l+="."),l+=getZeroString(i))),t.s<0?"-"+l:l}function truncate(t,e){if(t.length>e)return t.length=e,!0}function clone(t){var e,n,i;function o(l){var u=this;if(!(u instanceof o))return new o(l);if(u.constructor=o,l instanceof o){u.s=l.s,u.e=l.e,u.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(invalidArgument+l);if(l>0)u.s=1;else if(l<0)l=-l,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(l===~~l&&l<1e7){u.e=0,u.d=[l];return}return parseDecimal(u,l.toString())}else if(typeof l!="string")throw Error(invalidArgument+l);if(l.charCodeAt(0)===45?(l=l.slice(1),u.s=-1):u.s=1,isDecimal.test(l))parseDecimal(u,l);else throw Error(invalidArgument+l)}if(o.prototype=P,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=clone,o.config=o.set=config,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return o.config(t),o}function config(t){if(!t||typeof t!="object")throw Error(decimalError+"Object expected");var e,n,i,o=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<o.length;e+=3)if((i=t[n=o[e]])!==void 0)if(mathfloor(i)===i&&i>=o[e+1]&&i<=o[e+2])this[n]=i;else throw Error(invalidArgument+n+": "+i);if((i=t[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(invalidArgument+n+": "+i);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$b(t){return _arrayWithoutHoles$b(t)||_iterableToArray$c(t)||_unsupportedIterableToArray$h(t)||_nonIterableSpread$b()}function _nonIterableSpread$b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$h(t,e)}}function _iterableToArray$c(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles$b(t){if(Array.isArray(t))return _arrayLikeToArray$h(t)}function _arrayLikeToArray$h(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var identity$1=function t(e){return e},PLACE_HOLDER={},isPlaceHolder=function t(e){return e===PLACE_HOLDER},curry0=function t(e){return function n(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},curryN=function t(e,n){return e===1?n:curry0(function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var u=o.filter(function(f){return f!==PLACE_HOLDER}).length;return u>=e?n.apply(void 0,o):t(e-u,curry0(function(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var g=o.map(function(E){return isPlaceHolder(E)?d.shift():E});return n.apply(void 0,_toConsumableArray$b(g).concat(d))}))})},curry=function t(e){return curryN(e.length,e)},range$1=function t(e,n){for(var i=[],o=e;o<n;++o)i[o-e]=o;return i},map=curry(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),compose=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!n.length)return identity$1;var o=n.reverse(),l=o[0],u=o.slice(1);return function(){return u.reduce(function(f,d){return d(f)},l.apply(void 0,arguments))}},reverse=function t(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},memoize$2=function t(e){var n=null,i=null;return function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n&&l.every(function(f,d){return f===n[d]})||(n=l,i=e.apply(void 0,l)),i}};function getDigitCount(t){var e;return t===0?e=1:e=Math.floor(new Decimal$1(t).abs().log(10).toNumber())+1,e}function rangeStep(t,e,n){for(var i=new Decimal$1(t),o=0,l=[];i.lt(e)&&o<1e5;)l.push(i.toNumber()),i=i.add(n),o++;return l}var interpolateNumber=curry(function(t,e,n){var i=+t,o=+e;return i+n*(o-i)}),uninterpolateNumber=curry(function(t,e,n){var i=e-+t;return i=i||1/0,(n-t)/i}),uninterpolateTruncation=curry(function(t,e,n){var i=e-+t;return i=i||1/0,Math.max(0,Math.min(1,(n-t)/i))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$a(t){return _arrayWithoutHoles$a(t)||_iterableToArray$b(t)||_unsupportedIterableToArray$g(t)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$b(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles$a(t){if(Array.isArray(t))return _arrayLikeToArray$g(t)}function _slicedToArray$8(t,e){return _arrayWithHoles$9(t)||_iterableToArrayLimit$8(t,e)||_unsupportedIterableToArray$g(t,e)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$g(t,e)}}function _arrayLikeToArray$g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit$8(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],i=!0,o=!1,l=void 0;try{for(var u=t[Symbol.iterator](),f;!(i=(f=u.next()).done)&&(n.push(f.value),!(e&&n.length===e));i=!0);}catch(d){o=!0,l=d}finally{try{!i&&u.return!=null&&u.return()}finally{if(o)throw l}}return n}}function _arrayWithHoles$9(t){if(Array.isArray(t))return t}function getValidInterval(t){var e=_slicedToArray$8(t,2),n=e[0],i=e[1],o=n,l=i;return n>i&&(o=i,l=n),[o,l]}function getFormatStep(t,e,n){if(t.lte(0))return new Decimal$1(0);var i=Arithmetic.getDigitCount(t.toNumber()),o=new Decimal$1(10).pow(i),l=t.div(o),u=i!==1?.05:.1,f=new Decimal$1(Math.ceil(l.div(u).toNumber())).add(n).mul(u),d=f.mul(o);return e?d:new Decimal$1(Math.ceil(d))}function getTickOfSingleValue(t,e,n){var i=1,o=new Decimal$1(t);if(!o.isint()&&n){var l=Math.abs(t);l<1?(i=new Decimal$1(10).pow(Arithmetic.getDigitCount(t)-1),o=new Decimal$1(Math.floor(o.div(i).toNumber())).mul(i)):l>1&&(o=new Decimal$1(Math.floor(t)))}else t===0?o=new Decimal$1(Math.floor((e-1)/2)):n||(o=new Decimal$1(Math.floor(t)));var u=Math.floor((e-1)/2),f=compose(map(function(d){return o.add(new Decimal$1(d-u).mul(i)).toNumber()}),range$1);return f(0,e)}function calculateStep(t,e,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var l=getFormatStep(new Decimal$1(e).sub(t).div(n-1),i,o),u;t<=0&&e>=0?u=new Decimal$1(0):(u=new Decimal$1(t).add(e).div(2),u=u.sub(new Decimal$1(u).mod(l)));var f=Math.ceil(u.sub(t).div(l).toNumber()),d=Math.ceil(new Decimal$1(e).sub(u).div(l).toNumber()),p=f+d+1;return p>n?calculateStep(t,e,n,i,o+1):(p<n&&(d=e>0?d+(n-p):d,f=e>0?f:f+(n-p)),{step:l,tickMin:u.sub(new Decimal$1(f).mul(l)),tickMax:u.add(new Decimal$1(d).mul(l))})}function getNiceTickValuesFn(t){var e=_slicedToArray$8(t,2),n=e[0],i=e[1],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(o,2),f=getValidInterval([n,i]),d=_slicedToArray$8(f,2),p=d[0],g=d[1];if(p===-1/0||g===1/0){var E=g===1/0?[p].concat(_toConsumableArray$a(range$1(0,o-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$a(range$1(0,o-1).map(function(){return-1/0})),[g]);return n>i?reverse(E):E}if(p===g)return getTickOfSingleValue(p,o,l);var A=calculateStep(p,g,u,l),R=A.step,I=A.tickMin,j=A.tickMax,q=Arithmetic.rangeStep(I,j.add(new Decimal$1(.1).mul(R)),R);return n>i?reverse(q):q}function getTickValuesFixedDomainFn(t,e){var n=_slicedToArray$8(t,2),i=n[0],o=n[1],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=getValidInterval([i,o]),f=_slicedToArray$8(u,2),d=f[0],p=f[1];if(d===-1/0||p===1/0)return[i,o];if(d===p)return[d];var g=Math.max(e,2),E=getFormatStep(new Decimal$1(p).sub(d).div(g-1),l,0),A=[].concat(_toConsumableArray$a(Arithmetic.rangeStep(new Decimal$1(d),new Decimal$1(p).sub(new Decimal$1(.99).mul(E)),E)),[p]);return i>o?reverse(A):A}var getNiceTickValues=memoize$2(getNiceTickValuesFn),getTickValuesFixedDomain=memoize$2(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant$1(t,e){throw new Error(prefix)}var _excluded$h=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$E(t){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$E(t)}function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$t.apply(this,arguments)}function _slicedToArray$7(t,e){return _arrayWithHoles$8(t)||_iterableToArrayLimit$7(t,e)||_unsupportedIterableToArray$f(t,e)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$f(t,e)}}function _arrayLikeToArray$f(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit$7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e!==0)for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles$8(t){if(Array.isArray(t))return t}function _objectWithoutProperties$h(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$h(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$h(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _classCallCheck$k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$D(i.key),i)}}function _createClass$k(t,e,n){return e&&_defineProperties$k(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$h(t,e,n){return e=_getPrototypeOf$i(e),_possibleConstructorReturn$i(t,_isNativeReflectConstruct$i()?Reflect.construct(e,n||[],_getPrototypeOf$i(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$i(t,e){if(e&&(_typeof$E(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$i(t)}function _assertThisInitialized$i(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$i(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$i=function(){return!!t})()}function _getPrototypeOf$i(t){return _getPrototypeOf$i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$i(t)}function _inherits$i(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$i(t,e)}function _setPrototypeOf$i(t,e){return _setPrototypeOf$i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$i(t,e)}function _defineProperty$D(t,e,n){return e=_toPropertyKey$D(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$D(t){var e=_toPrimitive$D(t,"string");return _typeof$E(e)=="symbol"?e:e+""}function _toPrimitive$D(t,e){if(_typeof$E(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$E(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ErrorBar=function(t){function e(){return _classCallCheck$k(this,e),_callSuper$h(this,e,arguments)}return _inherits$i(e,t),_createClass$k(e,[{key:"render",value:function(){var i=this.props,o=i.offset,l=i.layout,u=i.width,f=i.dataKey,d=i.data,p=i.dataPointFormatter,g=i.xAxis,E=i.yAxis,A=_objectWithoutProperties$h(i,_excluded$h),R=filterProps$1(A,!1);this.props.direction==="x"&&g.type!=="number"&&invariant$1();var I=d.map(function(j){var q=p(j,f),L=q.x,z=q.y,U=q.value,W=q.errorVal;if(!W)return null;var H=[],Z,Y;if(Array.isArray(W)){var J=_slicedToArray$7(W,2);Z=J[0],Y=J[1]}else Z=Y=W;if(l==="vertical"){var ne=g.scale,ae=z+o,se=ae+u,ue=ae-u,fe=ne(U-Z),_e=ne(U+Y);H.push({x1:_e,y1:se,x2:_e,y2:ue}),H.push({x1:fe,y1:ae,x2:_e,y2:ae}),H.push({x1:fe,y1:se,x2:fe,y2:ue})}else if(l==="horizontal"){var ge=E.scale,ce=L+o,me=ce-u,ee=ce+u,ie=ge(U-Z),oe=ge(U+Y);H.push({x1:me,y1:oe,x2:ee,y2:oe}),H.push({x1:ce,y1:ie,x2:ce,y2:oe}),H.push({x1:me,y1:ie,x2:ee,y2:ie})}return React.createElement(Layer,_extends$t({className:"recharts-errorBar",key:"bar-".concat(H.map(function(de){return"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))},R),H.map(function(de){return React.createElement("line",_extends$t({},de,{key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},I)}}])}(React.Component);_defineProperty$D(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$D(ErrorBar,"displayName","ErrorBar");function _typeof$D(t){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$D(t)}function ownKeys$y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$y(Object(n),!0).forEach(function(i){_defineProperty$C(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$y(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$C(t,e,n){return e=_toPropertyKey$C(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$C(t){var e=_toPrimitive$C(t,"string");return _typeof$D(e)=="symbol"?e:e+""}function _toPrimitive$C(t,e){if(_typeof$D(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$D(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getLegendProps=function t(e){var n=e.children,i=e.formattedGraphicalItems,o=e.legendWidth,l=e.legendContent,u=findChildByType(n,Legend);if(!u)return null;var f=Legend.defaultProps,d=f!==void 0?_objectSpread$y(_objectSpread$y({},f),u.props):{},p;return u.props&&u.props.payload?p=u.props&&u.props.payload:l==="children"?p=(i||[]).reduce(function(g,E){var A=E.item,R=E.props,I=R.sectors||R.data||[];return g.concat(I.map(function(j){return{type:u.props.iconType||A.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):p=(i||[]).map(function(g){var E=g.item,A=E.type.defaultProps,R=A!==void 0?_objectSpread$y(_objectSpread$y({},A),E.props):{},I=R.dataKey,j=R.name,q=R.legendType,L=R.hide;return{inactive:L,dataKey:I,type:d.iconType||q||"square",color:getMainColorOfGraphicItem(E),value:j||I,payload:R}}),_objectSpread$y(_objectSpread$y(_objectSpread$y({},d),Legend.getWithHeight(u,o)),{},{payload:p,item:u})};function _typeof$C(t){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$C(t)}function _toConsumableArray$9(t){return _arrayWithoutHoles$9(t)||_iterableToArray$a(t)||_unsupportedIterableToArray$e(t)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$e(t,e)}}function _iterableToArray$a(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$9(t){if(Array.isArray(t))return _arrayLikeToArray$e(t)}function _arrayLikeToArray$e(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ownKeys$x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$x(Object(n),!0).forEach(function(i){_defineProperty$B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$x(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$B(t,e,n){return e=_toPropertyKey$B(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$B(t){var e=_toPrimitive$B(t,"string");return _typeof$C(e)=="symbol"?e:e+""}function _toPrimitive$B(t,e){if(_typeof$C(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$C(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getValueByDataKey(t,e,n){return isNil(t)||isNil(e)?n:isNumOrStr(e)?get(t,e,n):isFunction(e)?e(t):n}function getDomainOfDataByKey(t,e,n,i){var o=flatMap(t,function(f){return getValueByDataKey(f,e)});if(n==="number"){var l=o.filter(function(f){return isNumber(f)||parseFloat(f)});return l.length?[min(l),max(l)]:[1/0,-1/0]}var u=i?o.filter(function(f){return!isNil(f)}):o;return u.map(function(f){return isNumOrStr(f)||f instanceof Date?f:""})}var calculateActiveTickIndex=function t(e){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,u=-1,f=(n=i==null?void 0:i.length)!==null&&n!==void 0?n:0;if(f<=1)return 0;if(l&&l.axisType==="angleAxis"&&Math.abs(Math.abs(l.range[1]-l.range[0])-360)<=1e-6)for(var d=l.range,p=0;p<f;p++){var g=p>0?o[p-1].coordinate:o[f-1].coordinate,E=o[p].coordinate,A=p>=f-1?o[0].coordinate:o[p+1].coordinate,R=void 0;if(mathSign(E-g)!==mathSign(A-E)){var I=[];if(mathSign(A-E)===mathSign(d[1]-d[0])){R=A;var j=E+d[1]-d[0];I[0]=Math.min(j,(j+g)/2),I[1]=Math.max(j,(j+g)/2)}else{R=g;var q=A+d[1]-d[0];I[0]=Math.min(E,(q+E)/2),I[1]=Math.max(E,(q+E)/2)}var L=[Math.min(E,(R+E)/2),Math.max(E,(R+E)/2)];if(e>L[0]&&e<=L[1]||e>=I[0]&&e<=I[1]){u=o[p].index;break}}else{var z=Math.min(g,A),U=Math.max(g,A);if(e>(z+E)/2&&e<=(U+E)/2){u=o[p].index;break}}}else for(var W=0;W<f;W++)if(W===0&&e<=(i[W].coordinate+i[W+1].coordinate)/2||W>0&&W<f-1&&e>(i[W].coordinate+i[W-1].coordinate)/2&&e<=(i[W].coordinate+i[W+1].coordinate)/2||W===f-1&&e>(i[W].coordinate+i[W-1].coordinate)/2){u=i[W].index;break}return u},getMainColorOfGraphicItem=function t(e){var n,i=e,o=i.type.displayName,l=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_objectSpread$x(_objectSpread$x({},e.type.defaultProps),e.props):e.props,u=l.stroke,f=l.fill,d;switch(o){case"Line":d=u;break;case"Area":case"Radar":d=u&&u!=="none"?u:f;break;default:d=f;break}return d},getBarSizeList=function t(e){var n=e.barSize,i=e.totalSize,o=e.stackGroups,l=o===void 0?{}:o;if(!l)return{};for(var u={},f=Object.keys(l),d=0,p=f.length;d<p;d++)for(var g=l[f[d]].stackGroups,E=Object.keys(g),A=0,R=E.length;A<R;A++){var I=g[E[A]],j=I.items,q=I.cateAxisId,L=j.filter(function(Y){return getDisplayName(Y.type).indexOf("Bar")>=0});if(L&&L.length){var z=L[0].type.defaultProps,U=z!==void 0?_objectSpread$x(_objectSpread$x({},z),L[0].props):L[0].props,W=U.barSize,H=U[q];u[H]||(u[H]=[]);var Z=isNil(W)?n:W;u[H].push({item:L[0],stackList:L.slice(1),barSize:isNil(Z)?void 0:getPercentValue(Z,i,0)})}}return u},getBarPosition=function t(e){var n=e.barGap,i=e.barCategoryGap,o=e.bandSize,l=e.sizeList,u=l===void 0?[]:l,f=e.maxBarSize,d=u.length;if(d<1)return null;var p=getPercentValue(n,o,0,!0),g,E=[];if(u[0].barSize===+u[0].barSize){var A=!1,R=o/d,I=u.reduce(function(W,H){return W+H.barSize||0},0);I+=(d-1)*p,I>=o&&(I-=(d-1)*p,p=0),I>=o&&R>0&&(A=!0,R*=.9,I=d*R);var j=(o-I)/2>>0,q={offset:j-p,size:0};g=u.reduce(function(W,H){var Z={item:H.item,position:{offset:q.offset+q.size+p,size:A?R:H.barSize}},Y=[].concat(_toConsumableArray$9(W),[Z]);return q=Y[Y.length-1].position,H.stackList&&H.stackList.length&&H.stackList.forEach(function(J){Y.push({item:J,position:q})}),Y},E)}else{var L=getPercentValue(i,o,0,!0);o-2*L-(d-1)*p<=0&&(p=0);var z=(o-2*L-(d-1)*p)/d;z>1&&(z>>=0);var U=f===+f?Math.min(z,f):z;g=u.reduce(function(W,H,Z){var Y=[].concat(_toConsumableArray$9(W),[{item:H.item,position:{offset:L+(z+p)*Z+(z-U)/2,size:U}}]);return H.stackList&&H.stackList.length&&H.stackList.forEach(function(J){Y.push({item:J,position:Y[Y.length-1].position})}),Y},E)}return g},appendOffsetOfLegend=function t(e,n,i,o){var l=i.children,u=i.width,f=i.margin,d=u-(f.left||0)-(f.right||0),p=getLegendProps({children:l,legendWidth:d});if(p){var g=o||{},E=g.width,A=g.height,R=p.align,I=p.verticalAlign,j=p.layout;if((j==="vertical"||j==="horizontal"&&I==="middle")&&R!=="center"&&isNumber(e[R]))return _objectSpread$x(_objectSpread$x({},e),{},_defineProperty$B({},R,e[R]+(E||0)));if((j==="horizontal"||j==="vertical"&&R==="center")&&I!=="middle"&&isNumber(e[I]))return _objectSpread$x(_objectSpread$x({},e),{},_defineProperty$B({},I,e[I]+(A||0)))}return e},isErrorBarRelevantForAxis=function t(e,n,i){return isNil(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||i==="x"?n==="xAxis":i==="y"?n==="yAxis":!0},getDomainOfErrorBars=function t(e,n,i,o,l){var u=n.props.children,f=findAllByType(u,ErrorBar).filter(function(p){return isErrorBarRelevantForAxis(o,l,p.props.direction)});if(f&&f.length){var d=f.map(function(p){return p.props.dataKey});return e.reduce(function(p,g){var E=getValueByDataKey(g,i);if(isNil(E))return p;var A=Array.isArray(E)?[min(E),max(E)]:[E,E],R=d.reduce(function(I,j){var q=getValueByDataKey(g,j,0),L=A[0]-Math.abs(Array.isArray(q)?q[0]:q),z=A[1]+Math.abs(Array.isArray(q)?q[1]:q);return[Math.min(L,I[0]),Math.max(z,I[1])]},[1/0,-1/0]);return[Math.min(R[0],p[0]),Math.max(R[1],p[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function t(e,n,i,o,l){var u=n.map(function(f){return getDomainOfErrorBars(e,f,i,l,o)}).filter(function(f){return!isNil(f)});return u&&u.length?u.reduce(function(f,d){return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function t(e,n,i,o,l){var u=n.map(function(d){var p=d.props.dataKey;return i==="number"&&p&&getDomainOfErrorBars(e,d,p,o)||getDomainOfDataByKey(e,p,i,l)});if(i==="number")return u.reduce(function(d,p){return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);var f={};return u.reduce(function(d,p){for(var g=0,E=p.length;g<E;g++)f[p[g]]||(f[p[g]]=!0,d.push(p[g]));return d},[])},isCategoricalAxis=function t(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},getCoordinatesOfGrid=function t(e,n,i,o){if(o)return e.map(function(d){return d.coordinate});var l,u,f=e.map(function(d){return d.coordinate===n&&(l=!0),d.coordinate===i&&(u=!0),d.coordinate});return l||f.push(n),u||f.push(i),f},getTicksOfAxis=function t(e,n,i){if(!e)return null;var o=e.scale,l=e.duplicateDomain,u=e.type,f=e.range,d=e.realScaleType==="scaleBand"?o.bandwidth()/2:2,p=(n||i)&&u==="category"&&o.bandwidth?o.bandwidth()/d:0;if(p=e.axisType==="angleAxis"&&(f==null?void 0:f.length)>=2?mathSign(f[0]-f[1])*2*p:p,n&&(e.ticks||e.niceTicks)){var g=(e.ticks||e.niceTicks).map(function(E){var A=l?l.indexOf(E):E;return{coordinate:o(A)+p,value:E,offset:p}});return g.filter(function(E){return!isNan(E.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(E,A){return{coordinate:o(E)+p,value:E,index:A,offset:p}}):o.ticks&&!i?o.ticks(e.tickCount).map(function(E){return{coordinate:o(E)+p,value:E,offset:p}}):o.domain().map(function(E,A){return{coordinate:o(E)+p,value:l?l[E]:E,index:A,offset:p}})},handlerWeakMap=new WeakMap,combineEventHandlers=function t(e,n){if(typeof n!="function")return e;handlerWeakMap.has(e)||handlerWeakMap.set(e,new WeakMap);var i=handlerWeakMap.get(e);if(i.has(n))return i.get(n);var o=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return i.set(n,o),o},parseScale=function t(e,n,i){var o=e.scale,l=e.type,u=e.layout,f=e.axisType;if(o==="auto")return u==="radial"&&f==="radiusAxis"?{scale:band(),realScaleType:"band"}:u==="radial"&&f==="angleAxis"?{scale:linear(),realScaleType:"linear"}:l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!i)?{scale:point(),realScaleType:"point"}:l==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$1(o)){var d="scale".concat(upperFirst(o));return{scale:(d3Scales[d]||point)(),realScaleType:d3Scales[d]?d:"point"}}return isFunction(o)?{scale:o}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function t(e){var n=e.domain();if(!(!n||n.length<=2)){var i=n.length,o=e.range(),l=Math.min(o[0],o[1])-EPS,u=Math.max(o[0],o[1])+EPS,f=e(n[0]),d=e(n[i-1]);(f<l||f>u||d<l||d>u)&&e.domain([n[0],n[i-1]])}},findPositionOfBar=function t(e,n){if(!e)return null;for(var i=0,o=e.length;i<o;i++)if(e[i].item===n)return e[i].position;return null},truncateByDomain=function t(e,n){if(!n||n.length!==2||!isNumber(n[0])||!isNumber(n[1]))return e;var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]),l=[e[0],e[1]];return(!isNumber(e[0])||e[0]<i)&&(l[0]=i),(!isNumber(e[1])||e[1]>o)&&(l[1]=o),l[0]>o&&(l[0]=o),l[1]<i&&(l[1]=i),l},offsetSign=function t(e){var n=e.length;if(!(n<=0))for(var i=0,o=e[0].length;i<o;++i)for(var l=0,u=0,f=0;f<n;++f){var d=isNan(e[f][i][1])?e[f][i][0]:e[f][i][1];d>=0?(e[f][i][0]=l,e[f][i][1]=l+d,l=e[f][i][1]):(e[f][i][0]=u,e[f][i][1]=u+d,u=e[f][i][1])}},offsetPositive=function t(e){var n=e.length;if(!(n<=0))for(var i=0,o=e[0].length;i<o;++i)for(var l=0,u=0;u<n;++u){var f=isNan(e[u][i][1])?e[u][i][0]:e[u][i][1];f>=0?(e[u][i][0]=l,e[u][i][1]=l+f,l=e[u][i][1]):(e[u][i][0]=0,e[u][i][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function t(e,n,i){var o=n.map(function(f){return f.props.dataKey}),l=STACK_OFFSET_MAP[i],u=shapeStack().keys(o).value(function(f,d){return+getValueByDataKey(f,d,0)}).order(stackOrderNone).offset(l);return u(e)},getStackGroupsByAxisId=function t(e,n,i,o,l,u){if(!e)return null;var f=u?n.reverse():n,d={},p=f.reduce(function(E,A){var R,I=(R=A.type)!==null&&R!==void 0&&R.defaultProps?_objectSpread$x(_objectSpread$x({},A.type.defaultProps),A.props):A.props,j=I.stackId,q=I.hide;if(q)return E;var L=I[i],z=E[L]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(j)){var U=z.stackGroups[j]||{numericAxisId:i,cateAxisId:o,items:[]};U.items.push(A),z.hasStack=!0,z.stackGroups[j]=U}else z.stackGroups[uniqueId("_stackId_")]={numericAxisId:i,cateAxisId:o,items:[A]};return _objectSpread$x(_objectSpread$x({},E),{},_defineProperty$B({},L,z))},d),g={};return Object.keys(p).reduce(function(E,A){var R=p[A];if(R.hasStack){var I={};R.stackGroups=Object.keys(R.stackGroups).reduce(function(j,q){var L=R.stackGroups[q];return _objectSpread$x(_objectSpread$x({},j),{},_defineProperty$B({},q,{numericAxisId:i,cateAxisId:o,items:L.items,stackedData:getStackedData(e,L.items,l)}))},I)}return _objectSpread$x(_objectSpread$x({},E),{},_defineProperty$B({},A,R))},g)},getTicksOfScale=function t(e,n){var i=n.realScaleType,o=n.type,l=n.tickCount,u=n.originalDomain,f=n.allowDecimals,d=i||n.scale;if(d!=="auto"&&d!=="linear")return null;if(l&&o==="number"&&u&&(u[0]==="auto"||u[1]==="auto")){var p=e.domain();if(!p.length)return null;var g=getNiceTickValues(p,l,f);return e.domain([min(g),max(g)]),{niceTicks:g}}if(l&&o==="number"){var E=e.domain(),A=getTickValuesFixedDomain(E,l,f);return{niceTicks:A}}return null};function getCateCoordinateOfLine(t){var e=t.axis,n=t.ticks,i=t.bandSize,o=t.entry,l=t.index,u=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!isNil(o[e.dataKey])){var f=findEntryInArray(n,"value",o[e.dataKey]);if(f)return f.coordinate+i/2}return n[l]?n[l].coordinate+i/2:null}var d=getValueByDataKey(o,isNil(u)?e.dataKey:u);return isNil(d)?null:e.scale(d)}var getCateCoordinateOfBar=function t(e){var n=e.axis,i=e.ticks,o=e.offset,l=e.bandSize,u=e.entry,f=e.index;if(n.type==="category")return i[f]?i[f].coordinate+o:null;var d=getValueByDataKey(u,n.dataKey,n.domain[f]);return isNil(d)?null:n.scale(d)-l/2+o},getBaseValueOfBar=function t(e){var n=e.numericAxis,i=n.scale.domain();if(n.type==="number"){var o=Math.min(i[0],i[1]),l=Math.max(i[0],i[1]);return o<=0&&l>=0?0:l<0?l:o}return i[0]},getStackedDataOfItem=function t(e,n){var i,o=(i=e.type)!==null&&i!==void 0&&i.defaultProps?_objectSpread$x(_objectSpread$x({},e.type.defaultProps),e.props):e.props,l=o.stackId;if(isNumOrStr(l)){var u=n[l];if(u){var f=u.items.indexOf(e);return f>=0?u.stackedData[f]:null}}return null},getDomainOfSingle=function t(e){return e.reduce(function(n,i){return[min(i.concat([n[0]]).filter(isNumber)),max(i.concat([n[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function t(e,n,i){return Object.keys(e).reduce(function(o,l){var u=e[l],f=u.stackedData,d=f.reduce(function(p,g){var E=getDomainOfSingle(g.slice(n,i+1));return[Math.min(p[0],E[0]),Math.max(p[1],E[1])]},[1/0,-1/0]);return[Math.min(d[0],o[0]),Math.max(d[1],o[1])]},[1/0,-1/0]).map(function(o){return o===1/0||o===-1/0?0:o})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function t(e,n,i){if(isFunction(e))return e(n,i);if(!Array.isArray(e))return n;var o=[];if(isNumber(e[0]))o[0]=i?e[0]:Math.min(e[0],n[0]);else if(MIN_VALUE_REG.test(e[0])){var l=+MIN_VALUE_REG.exec(e[0])[1];o[0]=n[0]-l}else isFunction(e[0])?o[0]=e[0](n[0]):o[0]=n[0];if(isNumber(e[1]))o[1]=i?e[1]:Math.max(e[1],n[1]);else if(MAX_VALUE_REG.test(e[1])){var u=+MAX_VALUE_REG.exec(e[1])[1];o[1]=n[1]+u}else isFunction(e[1])?o[1]=e[1](n[1]):o[1]=n[1];return o},getBandSizeOfAxis=function t(e,n,i){if(e&&e.scale&&e.scale.bandwidth){var o=e.scale.bandwidth();if(!i||o>0)return o}if(e&&n&&n.length>=2){for(var l=sortBy(n,function(E){return E.coordinate}),u=1/0,f=1,d=l.length;f<d;f++){var p=l[f],g=l[f-1];u=Math.min((p.coordinate||0)-(g.coordinate||0),u)}return u===1/0?0:u}return i?void 0:0},parseDomainOfCategoryAxis=function t(e,n,i){return!e||!e.length||isEqual(e,get(i,"type.defaultProps.domain"))?n:e},getTooltipItem=function t(e,n){var i=e.type.defaultProps?_objectSpread$x(_objectSpread$x({},e.type.defaultProps),e.props):e.props,o=i.dataKey,l=i.name,u=i.unit,f=i.formatter,d=i.tooltipType,p=i.chartType,g=i.hide;return _objectSpread$x(_objectSpread$x({},filterProps$1(e,!1)),{},{dataKey:o,unit:u,formatter:f,name:l||o,color:getMainColorOfGraphicItem(e),value:getValueByDataKey(n,o),type:d,payload:n,chartType:p,hide:g})};function _typeof$B(t){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$B(t)}function ownKeys$w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$w(Object(n),!0).forEach(function(i){_defineProperty$A(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$w(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$A(t,e,n){return e=_toPropertyKey$A(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$A(t){var e=_toPrimitive$A(t,"string");return _typeof$B(e)=="symbol"?e:e+""}function _toPrimitive$A(t,e){if(_typeof$B(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$B(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$6(t,e){return _arrayWithHoles$7(t)||_iterableToArrayLimit$6(t,e)||_unsupportedIterableToArray$d(t,e)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$d(t,e)}}function _arrayLikeToArray$d(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit$6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e!==0)for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles$7(t){if(Array.isArray(t))return t}var RADIAN$1=Math.PI/180,radianToDegree=function t(e){return e*180/Math.PI},polarToCartesian=function t(e,n,i,o){return{x:e+Math.cos(-RADIAN$1*o)*i,y:n+Math.sin(-RADIAN$1*o)*i}},getMaxRadius=function t(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},formatAxisMap$1=function t(e,n,i,o,l){var u=e.width,f=e.height,d=e.startAngle,p=e.endAngle,g=getPercentValue(e.cx,u,u/2),E=getPercentValue(e.cy,f,f/2),A=getMaxRadius(u,f,i),R=getPercentValue(e.innerRadius,A,0),I=getPercentValue(e.outerRadius,A,A*.8),j=Object.keys(n);return j.reduce(function(q,L){var z=n[L],U=z.domain,W=z.reversed,H;if(isNil(z.range))o==="angleAxis"?H=[d,p]:o==="radiusAxis"&&(H=[R,I]),W&&(H=[H[1],H[0]]);else{H=z.range;var Z=H,Y=_slicedToArray$6(Z,2);d=Y[0],p=Y[1]}var J=parseScale(z,l),ne=J.realScaleType,ae=J.scale;ae.domain(U).range(H),checkDomainOfScale(ae);var se=getTicksOfScale(ae,_objectSpread$w(_objectSpread$w({},z),{},{realScaleType:ne})),ue=_objectSpread$w(_objectSpread$w(_objectSpread$w({},z),se),{},{range:H,radius:I,realScaleType:ne,scale:ae,cx:g,cy:E,innerRadius:R,outerRadius:I,startAngle:d,endAngle:p});return _objectSpread$w(_objectSpread$w({},q),{},_defineProperty$A({},L,ue))},{})},distanceBetweenPoints=function t(e,n){var i=e.x,o=e.y,l=n.x,u=n.y;return Math.sqrt(Math.pow(i-l,2)+Math.pow(o-u,2))},getAngleOfPoint=function t(e,n){var i=e.x,o=e.y,l=n.cx,u=n.cy,f=distanceBetweenPoints({x:i,y:o},{x:l,y:u});if(f<=0)return{radius:f};var d=(i-l)/f,p=Math.acos(d);return o>u&&(p=2*Math.PI-p),{radius:f,angle:radianToDegree(p),angleInRadian:p}},formatAngleOfSector=function t(e){var n=e.startAngle,i=e.endAngle,o=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(o,l);return{startAngle:n-u*360,endAngle:i-u*360}},reverseFormatAngleOfSetor=function t(e,n){var i=n.startAngle,o=n.endAngle,l=Math.floor(i/360),u=Math.floor(o/360),f=Math.min(l,u);return e+f*360},inRangeOfSector=function t(e,n){var i=e.x,o=e.y,l=getAngleOfPoint({x:i,y:o},n),u=l.radius,f=l.angle,d=n.innerRadius,p=n.outerRadius;if(u<d||u>p)return!1;if(u===0)return!0;var g=formatAngleOfSector(n),E=g.startAngle,A=g.endAngle,R=f,I;if(E<=A){for(;R>A;)R-=360;for(;R<E;)R+=360;I=R>=E&&R<=A}else{for(;R>E;)R-=360;for(;R<A;)R+=360;I=R>=A&&R<=E}return I?_objectSpread$w(_objectSpread$w({},n),{},{radius:u,angle:reverseFormatAngleOfSetor(R,n)}):null},getTickClassName=function t(e){return!reactExports.isValidElement(e)&&!isFunction(e)&&typeof e!="boolean"?e.className:""};function _typeof$A(t){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$A(t)}var _excluded$g=["offset"];function _toConsumableArray$8(t){return _arrayWithoutHoles$8(t)||_iterableToArray$9(t)||_unsupportedIterableToArray$c(t)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$c(t,e)}}function _iterableToArray$9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$8(t){if(Array.isArray(t))return _arrayLikeToArray$c(t)}function _arrayLikeToArray$c(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _objectWithoutProperties$g(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$g(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$g(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function ownKeys$v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$v(Object(n),!0).forEach(function(i){_defineProperty$z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$v(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$z(t,e,n){return e=_toPropertyKey$z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$z(t){var e=_toPrimitive$z(t,"string");return _typeof$A(e)=="symbol"?e:e+""}function _toPrimitive$z(t,e){if(_typeof$A(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$A(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$s.apply(this,arguments)}var getLabel=function t(e){var n=e.value,i=e.formatter,o=isNil(e.children)?n:e.children;return isFunction(i)?i(o):o},getDeltaAngle$1=function t(e,n){var i=mathSign(n-e),o=Math.min(Math.abs(n-e),360);return i*o},renderRadialLabel=function t(e,n,i){var o=e.position,l=e.viewBox,u=e.offset,f=e.className,d=l,p=d.cx,g=d.cy,E=d.innerRadius,A=d.outerRadius,R=d.startAngle,I=d.endAngle,j=d.clockWise,q=(E+A)/2,L=getDeltaAngle$1(R,I),z=L>=0?1:-1,U,W;o==="insideStart"?(U=R+z*u,W=j):o==="insideEnd"?(U=I-z*u,W=!j):o==="end"&&(U=I+z*u,W=j),W=L<=0?W:!W;var H=polarToCartesian(p,g,q,U),Z=polarToCartesian(p,g,q,U+(W?1:-1)*359),Y="M".concat(H.x,",").concat(H.y,`
    A`).concat(q,",").concat(q,",0,1,").concat(W?0:1,`,
    `).concat(Z.x,",").concat(Z.y),J=isNil(e.id)?uniqueId("recharts-radial-line-"):e.id;return React.createElement("text",_extends$s({},i,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",f)}),React.createElement("defs",null,React.createElement("path",{id:J,d:Y})),React.createElement("textPath",{xlinkHref:"#".concat(J)},n))},getAttrsOfPolarLabel=function t(e){var n=e.viewBox,i=e.offset,o=e.position,l=n,u=l.cx,f=l.cy,d=l.innerRadius,p=l.outerRadius,g=l.startAngle,E=l.endAngle,A=(g+E)/2;if(o==="outside"){var R=polarToCartesian(u,f,p+i,A),I=R.x,j=R.y;return{x:I,y:j,textAnchor:I>=u?"start":"end",verticalAnchor:"middle"}}if(o==="center")return{x:u,y:f,textAnchor:"middle",verticalAnchor:"middle"};if(o==="centerTop")return{x:u,y:f,textAnchor:"middle",verticalAnchor:"start"};if(o==="centerBottom")return{x:u,y:f,textAnchor:"middle",verticalAnchor:"end"};var q=(d+p)/2,L=polarToCartesian(u,f,q,A),z=L.x,U=L.y;return{x:z,y:U,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function t(e){var n=e.viewBox,i=e.parentViewBox,o=e.offset,l=e.position,u=n,f=u.x,d=u.y,p=u.width,g=u.height,E=g>=0?1:-1,A=E*o,R=E>0?"end":"start",I=E>0?"start":"end",j=p>=0?1:-1,q=j*o,L=j>0?"end":"start",z=j>0?"start":"end";if(l==="top"){var U={x:f+p/2,y:d-E*o,textAnchor:"middle",verticalAnchor:R};return _objectSpread$v(_objectSpread$v({},U),i?{height:Math.max(d-i.y,0),width:p}:{})}if(l==="bottom"){var W={x:f+p/2,y:d+g+A,textAnchor:"middle",verticalAnchor:I};return _objectSpread$v(_objectSpread$v({},W),i?{height:Math.max(i.y+i.height-(d+g),0),width:p}:{})}if(l==="left"){var H={x:f-q,y:d+g/2,textAnchor:L,verticalAnchor:"middle"};return _objectSpread$v(_objectSpread$v({},H),i?{width:Math.max(H.x-i.x,0),height:g}:{})}if(l==="right"){var Z={x:f+p+q,y:d+g/2,textAnchor:z,verticalAnchor:"middle"};return _objectSpread$v(_objectSpread$v({},Z),i?{width:Math.max(i.x+i.width-Z.x,0),height:g}:{})}var Y=i?{width:p,height:g}:{};return l==="insideLeft"?_objectSpread$v({x:f+q,y:d+g/2,textAnchor:z,verticalAnchor:"middle"},Y):l==="insideRight"?_objectSpread$v({x:f+p-q,y:d+g/2,textAnchor:L,verticalAnchor:"middle"},Y):l==="insideTop"?_objectSpread$v({x:f+p/2,y:d+A,textAnchor:"middle",verticalAnchor:I},Y):l==="insideBottom"?_objectSpread$v({x:f+p/2,y:d+g-A,textAnchor:"middle",verticalAnchor:R},Y):l==="insideTopLeft"?_objectSpread$v({x:f+q,y:d+A,textAnchor:z,verticalAnchor:I},Y):l==="insideTopRight"?_objectSpread$v({x:f+p-q,y:d+A,textAnchor:L,verticalAnchor:I},Y):l==="insideBottomLeft"?_objectSpread$v({x:f+q,y:d+g-A,textAnchor:z,verticalAnchor:R},Y):l==="insideBottomRight"?_objectSpread$v({x:f+p-q,y:d+g-A,textAnchor:L,verticalAnchor:R},Y):isObject$1(l)&&(isNumber(l.x)||isPercent(l.x))&&(isNumber(l.y)||isPercent(l.y))?_objectSpread$v({x:f+getPercentValue(l.x,p),y:d+getPercentValue(l.y,g),textAnchor:"end",verticalAnchor:"end"},Y):_objectSpread$v({x:f+p/2,y:d+g/2,textAnchor:"middle",verticalAnchor:"middle"},Y)},isPolar=function t(e){return"cx"in e&&isNumber(e.cx)};function Label(t){var e=t.offset,n=e===void 0?5:e,i=_objectWithoutProperties$g(t,_excluded$g),o=_objectSpread$v({offset:n},i),l=o.viewBox,u=o.position,f=o.value,d=o.children,p=o.content,g=o.className,E=g===void 0?"":g,A=o.textBreakAll;if(!l||isNil(f)&&isNil(d)&&!reactExports.isValidElement(p)&&!isFunction(p))return null;if(reactExports.isValidElement(p))return reactExports.cloneElement(p,o);var R;if(isFunction(p)){if(R=reactExports.createElement(p,o),reactExports.isValidElement(R))return R}else R=getLabel(o);var I=isPolar(l),j=filterProps$1(o,!0);if(I&&(u==="insideStart"||u==="insideEnd"||u==="end"))return renderRadialLabel(o,R,j);var q=I?getAttrsOfPolarLabel(o):getAttrsOfCartesianLabel(o);return React.createElement(Text,_extends$s({className:clsx("recharts-label",E)},j,q,{breakAll:A}),R)}Label.displayName="Label";var parseViewBox=function t(e){var n=e.cx,i=e.cy,o=e.angle,l=e.startAngle,u=e.endAngle,f=e.r,d=e.radius,p=e.innerRadius,g=e.outerRadius,E=e.x,A=e.y,R=e.top,I=e.left,j=e.width,q=e.height,L=e.clockWise,z=e.labelViewBox;if(z)return z;if(isNumber(j)&&isNumber(q)){if(isNumber(E)&&isNumber(A))return{x:E,y:A,width:j,height:q};if(isNumber(R)&&isNumber(I))return{x:R,y:I,width:j,height:q}}return isNumber(E)&&isNumber(A)?{x:E,y:A,width:0,height:0}:isNumber(n)&&isNumber(i)?{cx:n,cy:i,startAngle:l||o||0,endAngle:u||o||0,innerRadius:p||0,outerRadius:g||d||f||0,clockWise:L}:e.viewBox?e.viewBox:{}},parseLabel=function t(e,n){return e?e===!0?React.createElement(Label,{key:"label-implicit",viewBox:n}):isNumOrStr(e)?React.createElement(Label,{key:"label-implicit",viewBox:n,value:e}):reactExports.isValidElement(e)?e.type===Label?reactExports.cloneElement(e,{key:"label-implicit",viewBox:n}):React.createElement(Label,{key:"label-implicit",content:e,viewBox:n}):isFunction(e)?React.createElement(Label,{key:"label-implicit",content:e,viewBox:n}):isObject$1(e)?React.createElement(Label,_extends$s({viewBox:n},e,{key:"label-implicit"})):null:null},renderCallByParent$1=function t(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&i&&!e.label)return null;var o=e.children,l=parseViewBox(e),u=findAllByType(o,Label).map(function(d,p){return reactExports.cloneElement(d,{viewBox:n||l,key:"label-".concat(p)})});if(!i)return u;var f=parseLabel(e.label,n||l);return[f].concat(_toConsumableArray$8(u))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;var last_1,hasRequiredLast;function requireLast(){if(hasRequiredLast)return last_1;hasRequiredLast=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return last_1=t,last_1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);function _typeof$z(t){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$z(t)}var _excluded$f=["valueAccessor"],_excluded2$6=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$7(t){return _arrayWithoutHoles$7(t)||_iterableToArray$8(t)||_unsupportedIterableToArray$b(t)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$b(t,e)}}function _iterableToArray$8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$7(t){if(Array.isArray(t))return _arrayLikeToArray$b(t)}function _arrayLikeToArray$b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$r.apply(this,arguments)}function ownKeys$u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$u(Object(n),!0).forEach(function(i){_defineProperty$y(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$u(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$y(t,e,n){return e=_toPropertyKey$y(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$y(t){var e=_toPrimitive$y(t,"string");return _typeof$z(e)=="symbol"?e:e+""}function _toPrimitive$y(t,e){if(_typeof$z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$z(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$f(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$f(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$f(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}var defaultAccessor=function t(e){return Array.isArray(e.value)?last(e.value):e.value};function LabelList(t){var e=t.valueAccessor,n=e===void 0?defaultAccessor:e,i=_objectWithoutProperties$f(t,_excluded$f),o=i.data,l=i.dataKey,u=i.clockWise,f=i.id,d=i.textBreakAll,p=_objectWithoutProperties$f(i,_excluded2$6);return!o||!o.length?null:React.createElement(Layer,{className:"recharts-label-list"},o.map(function(g,E){var A=isNil(l)?n(g,E):getValueByDataKey(g&&g.payload,l),R=isNil(f)?{}:{id:"".concat(f,"-").concat(E)};return React.createElement(Label,_extends$r({},filterProps$1(g,!0),p,R,{parentViewBox:g.parentViewBox,value:A,textBreakAll:d,viewBox:Label.parseViewBox(isNil(u)?g:_objectSpread$u(_objectSpread$u({},g),{},{clockWise:u})),key:"label-".concat(E),index:E}))}))}LabelList.displayName="LabelList";function parseLabelList(t,e){return t?t===!0?React.createElement(LabelList,{key:"labelList-implicit",data:e}):React.isValidElement(t)||isFunction(t)?React.createElement(LabelList,{key:"labelList-implicit",data:e,content:t}):isObject$1(t)?React.createElement(LabelList,_extends$r({data:e},t,{key:"labelList-implicit"})):null:null}function renderCallByParent(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=findAllByType(i,LabelList).map(function(u,f){return reactExports.cloneElement(u,{data:e,key:"labelList-".concat(f)})});if(!n)return o;var l=parseLabelList(t.label,e);return[l].concat(_toConsumableArray$7(o))}LabelList.renderCallByParent=renderCallByParent;function _typeof$y(t){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$y(t)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$q.apply(this,arguments)}function ownKeys$t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$t(Object(n),!0).forEach(function(i){_defineProperty$x(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$t(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$x(t,e,n){return e=_toPropertyKey$x(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$x(t){var e=_toPrimitive$x(t,"string");return _typeof$y(e)=="symbol"?e:e+""}function _toPrimitive$x(t,e){if(_typeof$y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$y(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getDeltaAngle=function t(e,n){var i=mathSign(n-e),o=Math.min(Math.abs(n-e),359.999);return i*o},getTangentCircle=function t(e){var n=e.cx,i=e.cy,o=e.radius,l=e.angle,u=e.sign,f=e.isExternal,d=e.cornerRadius,p=e.cornerIsExternal,g=d*(f?1:-1)+o,E=Math.asin(d/g)/RADIAN$1,A=p?l:l+u*E,R=polarToCartesian(n,i,g,A),I=polarToCartesian(n,i,o,A),j=p?l-u*E:l,q=polarToCartesian(n,i,g*Math.cos(E*RADIAN$1),j);return{center:R,circleTangency:I,lineTangency:q,theta:E}},getSectorPath=function t(e){var n=e.cx,i=e.cy,o=e.innerRadius,l=e.outerRadius,u=e.startAngle,f=e.endAngle,d=getDeltaAngle(u,f),p=u+d,g=polarToCartesian(n,i,l,u),E=polarToCartesian(n,i,l,p),A="M ".concat(g.x,",").concat(g.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(u>p),`,
    `).concat(E.x,",").concat(E.y,`
  `);if(o>0){var R=polarToCartesian(n,i,o,u),I=polarToCartesian(n,i,o,p);A+="L ".concat(I.x,",").concat(I.y,`
            A `).concat(o,",").concat(o,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(u<=p),`,
            `).concat(R.x,",").concat(R.y," Z")}else A+="L ".concat(n,",").concat(i," Z");return A},getSectorWithCorner=function t(e){var n=e.cx,i=e.cy,o=e.innerRadius,l=e.outerRadius,u=e.cornerRadius,f=e.forceCornerRadius,d=e.cornerIsExternal,p=e.startAngle,g=e.endAngle,E=mathSign(g-p),A=getTangentCircle({cx:n,cy:i,radius:l,angle:p,sign:E,cornerRadius:u,cornerIsExternal:d}),R=A.circleTangency,I=A.lineTangency,j=A.theta,q=getTangentCircle({cx:n,cy:i,radius:l,angle:g,sign:-E,cornerRadius:u,cornerIsExternal:d}),L=q.circleTangency,z=q.lineTangency,U=q.theta,W=d?Math.abs(p-g):Math.abs(p-g)-j-U;if(W<0)return f?"M ".concat(I.x,",").concat(I.y,`
        a`).concat(u,",").concat(u,",0,0,1,").concat(u*2,`,0
        a`).concat(u,",").concat(u,",0,0,1,").concat(-u*2,`,0
      `):getSectorPath({cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:p,endAngle:g});var H="M ".concat(I.x,",").concat(I.y,`
    A`).concat(u,",").concat(u,",0,0,").concat(+(E<0),",").concat(R.x,",").concat(R.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(W>180),",").concat(+(E<0),",").concat(L.x,",").concat(L.y,`
    A`).concat(u,",").concat(u,",0,0,").concat(+(E<0),",").concat(z.x,",").concat(z.y,`
  `);if(o>0){var Z=getTangentCircle({cx:n,cy:i,radius:o,angle:p,sign:E,isExternal:!0,cornerRadius:u,cornerIsExternal:d}),Y=Z.circleTangency,J=Z.lineTangency,ne=Z.theta,ae=getTangentCircle({cx:n,cy:i,radius:o,angle:g,sign:-E,isExternal:!0,cornerRadius:u,cornerIsExternal:d}),se=ae.circleTangency,ue=ae.lineTangency,fe=ae.theta,_e=d?Math.abs(p-g):Math.abs(p-g)-ne-fe;if(_e<0&&u===0)return"".concat(H,"L").concat(n,",").concat(i,"Z");H+="L".concat(ue.x,",").concat(ue.y,`
      A`).concat(u,",").concat(u,",0,0,").concat(+(E<0),",").concat(se.x,",").concat(se.y,`
      A`).concat(o,",").concat(o,",0,").concat(+(_e>180),",").concat(+(E>0),",").concat(Y.x,",").concat(Y.y,`
      A`).concat(u,",").concat(u,",0,0,").concat(+(E<0),",").concat(J.x,",").concat(J.y,"Z")}else H+="L".concat(n,",").concat(i,"Z");return H},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function t(e){var n=_objectSpread$t(_objectSpread$t({},defaultProps$3),e),i=n.cx,o=n.cy,l=n.innerRadius,u=n.outerRadius,f=n.cornerRadius,d=n.forceCornerRadius,p=n.cornerIsExternal,g=n.startAngle,E=n.endAngle,A=n.className;if(u<l||g===E)return null;var R=clsx("recharts-sector",A),I=u-l,j=getPercentValue(f,I,0,!0),q;return j>0&&Math.abs(g-E)<360?q=getSectorWithCorner({cx:i,cy:o,innerRadius:l,outerRadius:u,cornerRadius:Math.min(j,I/2),forceCornerRadius:d,cornerIsExternal:p,startAngle:g,endAngle:E}):q=getSectorPath({cx:i,cy:o,innerRadius:l,outerRadius:u,startAngle:g,endAngle:E}),React.createElement("path",_extends$q({},filterProps$1(n,!0),{className:R,d:q,role:"img"}))};function _typeof$x(t){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$x(t)}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$p.apply(this,arguments)}function ownKeys$s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$s(Object(n),!0).forEach(function(i){_defineProperty$w(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$s(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$w(t,e,n){return e=_toPropertyKey$w(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$w(t){var e=_toPrimitive$w(t,"string");return _typeof$x(e)=="symbol"?e:e+""}function _toPrimitive$w(t,e){if(_typeof$x(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$x(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function t(e){return e.x===+e.x&&e.y===+e.y},getX=function t(e){return e.x},getY=function t(e){return e.y},getCurveFactory=function t(e,n){if(isFunction(e))return e;var i="curve".concat(upperFirst(e));return(i==="curveMonotone"||i==="curveBump")&&n?CURVE_FACTORIES["".concat(i).concat(n==="vertical"?"Y":"X")]:CURVE_FACTORIES[i]||curveLinear},getPath$1=function t(e){var n=e.type,i=n===void 0?"linear":n,o=e.points,l=o===void 0?[]:o,u=e.baseLine,f=e.layout,d=e.connectNulls,p=d===void 0?!1:d,g=getCurveFactory(i,f),E=p?l.filter(function(j){return defined(j)}):l,A;if(Array.isArray(u)){var R=p?u.filter(function(j){return defined(j)}):u,I=E.map(function(j,q){return _objectSpread$s(_objectSpread$s({},j),{},{base:R[q]})});return f==="vertical"?A=shapeArea().y(getY).x1(getX).x0(function(j){return j.base.x}):A=shapeArea().x(getX).y1(getY).y0(function(j){return j.base.y}),A.defined(defined).curve(g),A(I)}return f==="vertical"&&isNumber(u)?A=shapeArea().y(getY).x1(getX).x0(u):isNumber(u)?A=shapeArea().x(getX).y1(getY).y0(u):A=shapeLine().x(getX).y(getY),A.defined(defined).curve(g),A(E)},Curve=function t(e){var n=e.className,i=e.points,o=e.path,l=e.pathRef;if((!i||!i.length)&&!o)return null;var u=i&&i.length?getPath$1(e):o;return React.createElement("path",_extends$p({},filterProps$1(e,!1),adaptEventHandlers(e),{className:clsx("recharts-curve",n),d:u,ref:l}))},getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty;function combineComparators(t,e){return function(i,o,l){return t(i,o,l)&&e(i,o,l)}}function createIsCircular(t){return function(n,i,o){if(!n||!i||typeof n!="object"||typeof i!="object")return t(n,i,o);var l=o.cache,u=l.get(n),f=l.get(i);if(u&&f)return u===i&&f===n;l.set(n,i),l.set(i,n);var d=t(n,i,o);return l.delete(n),l.delete(i),d}}function getStrictProperties(t){return getOwnPropertyNames(t).concat(getOwnPropertySymbols(t))}var hasOwn=Object.hasOwn||function(t,e){return hasOwnProperty.call(t,e)};function sameValueZeroEqual(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys=Object.keys;function areArraysEqual(t,e,n){var i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n.equals(t[i],e[i],i,i,t,e,n))return!1;return!0}function areDatesEqual$1(t,e){return sameValueZeroEqual(t.getTime(),e.getTime())}function areErrorsEqual(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function areFunctionsEqual(t,e){return t===e}function areMapsEqual(t,e,n){var i=t.size;if(i!==e.size)return!1;if(!i)return!0;for(var o=new Array(i),l=t.entries(),u,f,d=0;(u=l.next())&&!u.done;){for(var p=e.entries(),g=!1,E=0;(f=p.next())&&!f.done;){if(o[E]){E++;continue}var A=u.value,R=f.value;if(n.equals(A[0],R[0],d,E,t,e,n)&&n.equals(A[1],R[1],A[0],R[0],t,e,n)){g=o[E]=!0;break}E++}if(!g)return!1;d++}return!0}var areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(t,e,n){var i=keys(t),o=i.length;if(keys(e).length!==o)return!1;for(;o-- >0;)if(!isPropertyEqual(t,e,n,i[o]))return!1;return!0}function areObjectsEqualStrict(t,e,n){var i=getStrictProperties(t),o=i.length;if(getStrictProperties(e).length!==o)return!1;for(var l,u,f;o-- >0;)if(l=i[o],!isPropertyEqual(t,e,n,l)||(u=getOwnPropertyDescriptor(t,l),f=getOwnPropertyDescriptor(e,l),(u||f)&&(!u||!f||u.configurable!==f.configurable||u.enumerable!==f.enumerable||u.writable!==f.writable)))return!1;return!0}function arePrimitiveWrappersEqual(t,e){return sameValueZeroEqual(t.valueOf(),e.valueOf())}function areRegExpsEqual(t,e){return t.source===e.source&&t.flags===e.flags}function areSetsEqual(t,e,n){var i=t.size;if(i!==e.size)return!1;if(!i)return!0;for(var o=new Array(i),l=t.values(),u,f;(u=l.next())&&!u.done;){for(var d=e.values(),p=!1,g=0;(f=d.next())&&!f.done;){if(!o[g]&&n.equals(u.value,f.value,u.value,f.value,t,e,n)){p=o[g]=!0;break}g++}if(!p)return!1}return!0}function areTypedArraysEqual(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function areUrlsEqual(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function isPropertyEqual(t,e,n,i){return(i===REACT_OWNER||i===PREACT_OWNER||i===PREACT_VNODE)&&(t.$$typeof||e.$$typeof)?!0:hasOwn(e,i)&&n.equals(t[i],e[i],i,i,t,e,n)}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",URL_TAG="[object URL]",isArray=Array.isArray,isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(t){var e=t.areArraysEqual,n=t.areDatesEqual,i=t.areErrorsEqual,o=t.areFunctionsEqual,l=t.areMapsEqual,u=t.areNumbersEqual,f=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,p=t.areRegExpsEqual,g=t.areSetsEqual,E=t.areTypedArraysEqual,A=t.areUrlsEqual;return function(I,j,q){if(I===j)return!0;if(I==null||j==null)return!1;var L=typeof I;if(L!==typeof j)return!1;if(L!=="object")return L==="number"?u(I,j,q):L==="function"?o(I,j,q):!1;var z=I.constructor;if(z!==j.constructor)return!1;if(z===Object)return f(I,j,q);if(isArray(I))return e(I,j,q);if(isTypedArray!=null&&isTypedArray(I))return E(I,j,q);if(z===Date)return n(I,j,q);if(z===RegExp)return p(I,j,q);if(z===Map)return l(I,j,q);if(z===Set)return g(I,j,q);var U=getTag(I);return U===DATE_TAG?n(I,j,q):U===REG_EXP_TAG?p(I,j,q):U===MAP_TAG?l(I,j,q):U===SET_TAG?g(I,j,q):U===OBJECT_TAG?typeof I.then!="function"&&typeof j.then!="function"&&f(I,j,q):U===URL_TAG?A(I,j,q):U===ERROR_TAG?i(I,j,q):U===ARGUMENTS_TAG?f(I,j,q):U===BOOLEAN_TAG||U===NUMBER_TAG||U===STRING_TAG?d(I,j,q):!1}}function createEqualityComparatorConfig(t){var e=t.circular,n=t.createCustomConfig,i=t.strict,o={areArraysEqual:i?areObjectsEqualStrict:areArraysEqual,areDatesEqual:areDatesEqual$1,areErrorsEqual,areFunctionsEqual,areMapsEqual:i?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:i?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:i?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:i?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual};if(n&&(o=assign({},o,n(o))),e){var l=createIsCircular(o.areArraysEqual),u=createIsCircular(o.areMapsEqual),f=createIsCircular(o.areObjectsEqual),d=createIsCircular(o.areSetsEqual);o=assign({},o,{areArraysEqual:l,areMapsEqual:u,areObjectsEqual:f,areSetsEqual:d})}return o}function createInternalEqualityComparator(t){return function(e,n,i,o,l,u,f){return t(e,n,f)}}function createIsEqual(t){var e=t.circular,n=t.comparator,i=t.createState,o=t.equals,l=t.strict;if(i)return function(d,p){var g=i(),E=g.cache,A=E===void 0?e?new WeakMap:void 0:E,R=g.meta;return n(d,p,{cache:A,equals:o,meta:R,strict:l})};if(e)return function(d,p){return n(d,p,{cache:new WeakMap,equals:o,meta:void 0,strict:l})};var u={cache:void 0,equals:o,meta:void 0,strict:l};return function(d,p){return n(d,p,u)}}var deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,i=t.createInternalComparator,o=t.createState,l=t.strict,u=l===void 0?!1:l,f=createEqualityComparatorConfig(t),d=createEqualityComparator(f),p=i?i(d):createInternalEqualityComparator(d);return createIsEqual({circular:n,comparator:d,createState:o,equals:p,strict:u})}function safeRequestAnimationFrame(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function setRafTimeout(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,i=function o(l){n<0&&(n=l),l-n>e?(t(l),n=-1):safeRequestAnimationFrame(o)};requestAnimationFrame(i)}function _typeof$w(t){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$w(t)}function _toArray(t){return _arrayWithHoles$6(t)||_iterableToArray$7(t)||_unsupportedIterableToArray$a(t)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$a(t,e)}}function _arrayLikeToArray$a(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArray$7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithHoles$6(t){if(Array.isArray(t))return t}function createAnimateManager(){var t={},e=function(){return null},n=!1,i=function o(l){if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,f=_toArray(u),d=f[0],p=f.slice(1);if(typeof d=="number"){setRafTimeout(o.bind(null,p),d);return}o(d),setRafTimeout(o.bind(null,p));return}_typeof$w(l)==="object"&&(t=l,e(t)),typeof l=="function"&&l()}};return{stop:function(){n=!0},start:function(l){n=!1,i(l)},subscribe:function(l){return e=l,function(){e=function(){return null}}}}}function _typeof$v(t){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$v(t)}function ownKeys$r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$r(Object(n),!0).forEach(function(i){_defineProperty$v(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$r(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$v(t,e,n){return e=_toPropertyKey$v(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$v(t){var e=_toPrimitive$v(t,"string");return _typeof$v(e)==="symbol"?e:String(e)}function _toPrimitive$v(t,e){if(_typeof$v(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$v(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getIntersectionKeys=function t(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(i,o){return i.filter(function(l){return o.includes(l)})})},identity=function t(e){return e},getDashCase=function t(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},mapObject=function t(e,n){return Object.keys(n).reduce(function(i,o){return _objectSpread$r(_objectSpread$r({},i),{},_defineProperty$v({},o,e(o,n[o])))},{})},getTransitionVal=function t(e,n,i){return e.map(function(o){return"".concat(getDashCase(o)," ").concat(n,"ms ").concat(i)}).join(",")};function _slicedToArray$5(t,e){return _arrayWithHoles$5(t)||_iterableToArrayLimit$5(t,e)||_unsupportedIterableToArray$9(t,e)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e!==0)for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles$5(t){if(Array.isArray(t))return t}function _toConsumableArray$6(t){return _arrayWithoutHoles$6(t)||_iterableToArray$6(t)||_unsupportedIterableToArray$9(t)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$9(t,e)}}function _iterableToArray$6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$6(t){if(Array.isArray(t))return _arrayLikeToArray$9(t)}function _arrayLikeToArray$9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var ACCURACY=1e-4,cubicBezierFactor=function t(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},multyTime=function t(e,n){return e.map(function(i,o){return i*Math.pow(n,o)}).reduce(function(i,o){return i+o})},cubicBezier$1=function t(e,n){return function(i){var o=cubicBezierFactor(e,n);return multyTime(o,i)}},derivativeCubicBezier=function t(e,n){return function(i){var o=cubicBezierFactor(e,n),l=[].concat(_toConsumableArray$6(o.map(function(u,f){return u*f}).slice(1)),[0]);return multyTime(l,i)}},configBezier=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=n[0],l=n[1],u=n[2],f=n[3];if(n.length===1)switch(n[0]){case"linear":o=0,l=0,u=1,f=1;break;case"ease":o=.25,l=.1,u=.25,f=1;break;case"ease-in":o=.42,l=0,u=1,f=1;break;case"ease-out":o=.42,l=0,u=.58,f=1;break;case"ease-in-out":o=0,l=0,u=.58,f=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var p=d[1].split(")")[0].split(",").map(function(q){return parseFloat(q)}),g=_slicedToArray$5(p,4);o=g[0],l=g[1],u=g[2],f=g[3]}}}var E=cubicBezier$1(o,u),A=cubicBezier$1(l,f),R=derivativeCubicBezier(o,u),I=function(L){return L>1?1:L<0?0:L},j=function(L){for(var z=L>1?1:L,U=z,W=0;W<8;++W){var H=E(U)-z,Z=R(U);if(Math.abs(H-z)<ACCURACY||Z<ACCURACY)return A(U);U=I(U-H/Z)}return A(U)};return j.isStepper=!1,j},configSpring=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,i=n===void 0?100:n,o=e.damping,l=o===void 0?8:o,u=e.dt,f=u===void 0?17:u,d=function(g,E,A){var R=-(g-E)*i,I=A*l,j=A+(R-I)*f/1e3,q=A*f/1e3+g;return Math.abs(q-E)<ACCURACY&&Math.abs(j)<ACCURACY?[E,0]:[q,j]};return d.isStepper=!0,d.dt=f,d},configEasing=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=n[0];if(typeof o=="string")switch(o){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(o);case"spring":return configSpring();default:if(o.split("(")[0]==="cubic-bezier")return configBezier(o)}return typeof o=="function"?o:null};function _typeof$u(t){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$u(t)}function _toConsumableArray$5(t){return _arrayWithoutHoles$5(t)||_iterableToArray$5(t)||_unsupportedIterableToArray$8(t)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$5(t){if(Array.isArray(t))return _arrayLikeToArray$8(t)}function ownKeys$q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$q(Object(n),!0).forEach(function(i){_defineProperty$u(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$q(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$u(t,e,n){return e=_toPropertyKey$u(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$u(t){var e=_toPrimitive$u(t,"string");return _typeof$u(e)==="symbol"?e:String(e)}function _toPrimitive$u(t,e){if(_typeof$u(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$u(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$4(t,e){return _arrayWithHoles$4(t)||_iterableToArrayLimit$4(t,e)||_unsupportedIterableToArray$8(t,e)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$8(t,e)}}function _arrayLikeToArray$8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit$4(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e!==0)for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles$4(t){if(Array.isArray(t))return t}var alpha$1=function t(e,n,i){return e+(n-e)*i},needContinue=function t(e){var n=e.from,i=e.to;return n!==i},calStepperVals=function t(e,n,i){var o=mapObject(function(l,u){if(needContinue(u)){var f=e(u.from,u.to,u.velocity),d=_slicedToArray$4(f,2),p=d[0],g=d[1];return _objectSpread$q(_objectSpread$q({},u),{},{from:p,velocity:g})}return u},n);return i<1?mapObject(function(l,u){return needContinue(u)?_objectSpread$q(_objectSpread$q({},u),{},{velocity:alpha$1(u.velocity,o[l].velocity,i),from:alpha$1(u.from,o[l].from,i)}):u},n):t(e,o,i-1)};const configUpdate=function(t,e,n,i,o){var l=getIntersectionKeys(t,e),u=l.reduce(function(q,L){return _objectSpread$q(_objectSpread$q({},q),{},_defineProperty$u({},L,[t[L],e[L]]))},{}),f=l.reduce(function(q,L){return _objectSpread$q(_objectSpread$q({},q),{},_defineProperty$u({},L,{from:t[L],velocity:0,to:e[L]}))},{}),d=-1,p,g,E=function(){return null},A=function(){return mapObject(function(L,z){return z.from},f)},R=function(){return!Object.values(f).filter(needContinue).length},I=function(L){p||(p=L);var z=L-p,U=z/n.dt;f=calStepperVals(n,f,U),o(_objectSpread$q(_objectSpread$q(_objectSpread$q({},t),e),A())),p=L,R()||(d=requestAnimationFrame(E))},j=function(L){g||(g=L);var z=(L-g)/i,U=mapObject(function(H,Z){return alpha$1.apply(void 0,_toConsumableArray$5(Z).concat([n(z)]))},u);if(o(_objectSpread$q(_objectSpread$q(_objectSpread$q({},t),e),U)),z<1)d=requestAnimationFrame(E);else{var W=mapObject(function(H,Z){return alpha$1.apply(void 0,_toConsumableArray$5(Z).concat([n(1)]))},u);o(_objectSpread$q(_objectSpread$q(_objectSpread$q({},t),e),W))}};return E=n.isStepper?I:j,function(){return requestAnimationFrame(E),function(){cancelAnimationFrame(d)}}};function _typeof$t(t){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$t(t)}var _excluded$e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$e(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$e(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$e(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function _toConsumableArray$4(t){return _arrayWithoutHoles$4(t)||_iterableToArray$4(t)||_unsupportedIterableToArray$7(t)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$7(t,e)}}function _iterableToArray$4(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$4(t){if(Array.isArray(t))return _arrayLikeToArray$7(t)}function _arrayLikeToArray$7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ownKeys$p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$p(Object(n),!0).forEach(function(i){_defineProperty$t(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$p(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$t(t,e,n){return e=_toPropertyKey$t(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck$j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$t(i.key),i)}}function _createClass$j(t,e,n){return e&&_defineProperties$j(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$t(t){var e=_toPrimitive$t(t,"string");return _typeof$t(e)==="symbol"?e:String(e)}function _toPrimitive$t(t,e){if(_typeof$t(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$t(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _inherits$h(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$h(t,e)}function _setPrototypeOf$h(t,e){return _setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$h(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct$h();return function(){var i=_getPrototypeOf$h(t),o;if(e){var l=_getPrototypeOf$h(this).constructor;o=Reflect.construct(i,arguments,l)}else o=i.apply(this,arguments);return _possibleConstructorReturn$h(this,o)}}function _possibleConstructorReturn$h(t,e){if(e&&(_typeof$t(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$h(t)}function _assertThisInitialized$h(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$h(t){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$h(t)}var Animate=function(t){_inherits$h(n,t);var e=_createSuper(n);function n(i,o){var l;_classCallCheck$j(this,n),l=e.call(this,i,o);var u=l.props,f=u.isActive,d=u.attributeName,p=u.from,g=u.to,E=u.steps,A=u.children,R=u.duration;if(l.handleStyleChange=l.handleStyleChange.bind(_assertThisInitialized$h(l)),l.changeStyle=l.changeStyle.bind(_assertThisInitialized$h(l)),!f||R<=0)return l.state={style:{}},typeof A=="function"&&(l.state={style:g}),_possibleConstructorReturn$h(l);if(E&&E.length)l.state={style:E[0].style};else if(p){if(typeof A=="function")return l.state={style:p},_possibleConstructorReturn$h(l);l.state={style:d?_defineProperty$t({},d,p):p}}else l.state={style:{}};return l}return _createClass$j(n,[{key:"componentDidMount",value:function(){var o=this.props,l=o.isActive,u=o.canBegin;this.mounted=!0,!(!l||!u)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(o){var l=this.props,u=l.isActive,f=l.canBegin,d=l.attributeName,p=l.shouldReAnimate,g=l.to,E=l.from,A=this.state.style;if(f){if(!u){var R={style:d?_defineProperty$t({},d,g):g};this.state&&A&&(d&&A[d]!==g||!d&&A!==g)&&this.setState(R);return}if(!(deepEqual(o.to,g)&&o.canBegin&&o.isActive)){var I=!o.canBegin||!o.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=I||p?E:o.to;if(this.state&&A){var q={style:d?_defineProperty$t({},d,j):j};(d&&A[d]!==j||!d&&A!==j)&&this.setState(q)}this.runAnimation(_objectSpread$p(_objectSpread$p({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var o=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),o&&o()}},{key:"handleStyleChange",value:function(o){this.changeStyle(o)}},{key:"changeStyle",value:function(o){this.mounted&&this.setState({style:o})}},{key:"runJSAnimation",value:function(o){var l=this,u=o.from,f=o.to,d=o.duration,p=o.easing,g=o.begin,E=o.onAnimationEnd,A=o.onAnimationStart,R=configUpdate(u,f,configEasing(p),d,this.changeStyle),I=function(){l.stopJSAnimation=R()};this.manager.start([A,g,I,d,E])}},{key:"runStepAnimation",value:function(o){var l=this,u=o.steps,f=o.begin,d=o.onAnimationStart,p=u[0],g=p.style,E=p.duration,A=E===void 0?0:E,R=function(j,q,L){if(L===0)return j;var z=q.duration,U=q.easing,W=U===void 0?"ease":U,H=q.style,Z=q.properties,Y=q.onAnimationEnd,J=L>0?u[L-1]:q,ne=Z||Object.keys(H);if(typeof W=="function"||W==="spring")return[].concat(_toConsumableArray$4(j),[l.runJSAnimation.bind(l,{from:J.style,to:H,duration:z,easing:W}),z]);var ae=getTransitionVal(ne,z,W),se=_objectSpread$p(_objectSpread$p(_objectSpread$p({},J.style),H),{},{transition:ae});return[].concat(_toConsumableArray$4(j),[se,z,Y]).filter(identity)};return this.manager.start([d].concat(_toConsumableArray$4(u.reduce(R,[g,Math.max(A,f)])),[o.onAnimationEnd]))}},{key:"runAnimation",value:function(o){this.manager||(this.manager=createAnimateManager());var l=o.begin,u=o.duration,f=o.attributeName,d=o.to,p=o.easing,g=o.onAnimationStart,E=o.onAnimationEnd,A=o.steps,R=o.children,I=this.manager;if(this.unSubscribe=I.subscribe(this.handleStyleChange),typeof p=="function"||typeof R=="function"||p==="spring"){this.runJSAnimation(o);return}if(A.length>1){this.runStepAnimation(o);return}var j=f?_defineProperty$t({},f,d):d,q=getTransitionVal(Object.keys(j),u,p);I.start([g,l,_objectSpread$p(_objectSpread$p({},j),{},{transition:q}),u,E])}},{key:"render",value:function(){var o=this.props,l=o.children;o.begin;var u=o.duration;o.attributeName,o.easing;var f=o.isActive;o.steps,o.from,o.to,o.canBegin,o.onAnimationEnd,o.shouldReAnimate,o.onAnimationReStart;var d=_objectWithoutProperties$e(o,_excluded$e),p=reactExports.Children.count(l),g=this.state.style;if(typeof l=="function")return l(g);if(!f||p===0||u<=0)return l;var E=function(R){var I=R.props,j=I.style,q=j===void 0?{}:j,L=I.className,z=reactExports.cloneElement(R,_objectSpread$p(_objectSpread$p({},d),{},{style:_objectSpread$p(_objectSpread$p({},q),g),className:L}));return z};return p===1?E(reactExports.Children.only(l)):React.createElement("div",null,reactExports.Children.map(l,function(A){return E(A)}))}}]),n}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function t(){},onAnimationStart:function t(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$s(t){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$s(t)}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$o.apply(this,arguments)}function _slicedToArray$3(t,e){return _arrayWithHoles$3(t)||_iterableToArrayLimit$3(t,e)||_unsupportedIterableToArray$6(t,e)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$6(t,e)}}function _arrayLikeToArray$6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit$3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e!==0)for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles$3(t){if(Array.isArray(t))return t}function ownKeys$o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$o(Object(n),!0).forEach(function(i){_defineProperty$s(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$o(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$s(t,e,n){return e=_toPropertyKey$s(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$s(t){var e=_toPrimitive$s(t,"string");return _typeof$s(e)=="symbol"?e:e+""}function _toPrimitive$s(t,e){if(_typeof$s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$s(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getRectanglePath=function t(e,n,i,o,l){var u=Math.min(Math.abs(i)/2,Math.abs(o)/2),f=o>=0?1:-1,d=i>=0?1:-1,p=o>=0&&i>=0||o<0&&i<0?1:0,g;if(u>0&&l instanceof Array){for(var E=[0,0,0,0],A=0,R=4;A<R;A++)E[A]=l[A]>u?u:l[A];g="M".concat(e,",").concat(n+f*E[0]),E[0]>0&&(g+="A ".concat(E[0],",").concat(E[0],",0,0,").concat(p,",").concat(e+d*E[0],",").concat(n)),g+="L ".concat(e+i-d*E[1],",").concat(n),E[1]>0&&(g+="A ".concat(E[1],",").concat(E[1],",0,0,").concat(p,`,
        `).concat(e+i,",").concat(n+f*E[1])),g+="L ".concat(e+i,",").concat(n+o-f*E[2]),E[2]>0&&(g+="A ".concat(E[2],",").concat(E[2],",0,0,").concat(p,`,
        `).concat(e+i-d*E[2],",").concat(n+o)),g+="L ".concat(e+d*E[3],",").concat(n+o),E[3]>0&&(g+="A ".concat(E[3],",").concat(E[3],",0,0,").concat(p,`,
        `).concat(e,",").concat(n+o-f*E[3])),g+="Z"}else if(u>0&&l===+l&&l>0){var I=Math.min(u,l);g="M ".concat(e,",").concat(n+f*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(p,",").concat(e+d*I,",").concat(n,`
            L `).concat(e+i-d*I,",").concat(n,`
            A `).concat(I,",").concat(I,",0,0,").concat(p,",").concat(e+i,",").concat(n+f*I,`
            L `).concat(e+i,",").concat(n+o-f*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(p,",").concat(e+i-d*I,",").concat(n+o,`
            L `).concat(e+d*I,",").concat(n+o,`
            A `).concat(I,",").concat(I,",0,0,").concat(p,",").concat(e,",").concat(n+o-f*I," Z")}else g="M ".concat(e,",").concat(n," h ").concat(i," v ").concat(o," h ").concat(-i," Z");return g},isInRectangle=function t(e,n){if(!e||!n)return!1;var i=e.x,o=e.y,l=n.x,u=n.y,f=n.width,d=n.height;if(Math.abs(f)>0&&Math.abs(d)>0){var p=Math.min(l,l+f),g=Math.max(l,l+f),E=Math.min(u,u+d),A=Math.max(u,u+d);return i>=p&&i<=g&&o>=E&&o<=A}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function t(e){var n=_objectSpread$o(_objectSpread$o({},defaultProps$2),e),i=reactExports.useRef(),o=reactExports.useState(-1),l=_slicedToArray$3(o,2),u=l[0],f=l[1];reactExports.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var W=i.current.getTotalLength();W&&f(W)}catch{}},[]);var d=n.x,p=n.y,g=n.width,E=n.height,A=n.radius,R=n.className,I=n.animationEasing,j=n.animationDuration,q=n.animationBegin,L=n.isAnimationActive,z=n.isUpdateAnimationActive;if(d!==+d||p!==+p||g!==+g||E!==+E||g===0||E===0)return null;var U=clsx("recharts-rectangle",R);return z?React.createElement(Animate,{canBegin:u>0,from:{width:g,height:E,x:d,y:p},to:{width:g,height:E,x:d,y:p},duration:j,animationEasing:I,isActive:z},function(W){var H=W.width,Z=W.height,Y=W.x,J=W.y;return React.createElement(Animate,{canBegin:u>0,from:"0px ".concat(u===-1?1:u,"px"),to:"".concat(u,"px 0px"),attributeName:"strokeDasharray",begin:q,duration:j,isActive:L,easing:I},React.createElement("path",_extends$o({},filterProps$1(n,!0),{className:U,d:getRectanglePath(Y,J,H,Z,A),ref:i})))}):React.createElement("path",_extends$o({},filterProps$1(n,!0),{className:U,d:getRectanglePath(d,p,g,E,A)}))},_excluded$d=["points","className","baseLinePoints","connectNulls"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$n.apply(this,arguments)}function _objectWithoutProperties$d(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$d(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$d(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _toConsumableArray$3(t){return _arrayWithoutHoles$3(t)||_iterableToArray$3(t)||_unsupportedIterableToArray$5(t)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$5(t,e)}}function _iterableToArray$3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$3(t){if(Array.isArray(t))return _arrayLikeToArray$5(t)}function _arrayLikeToArray$5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var isValidatePoint=function t(e){return e&&e.x===+e.x&&e.y===+e.y},getParsedPoints=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(i){isValidatePoint(i)?n[n.length-1].push(i):n[n.length-1].length>0&&n.push([])}),isValidatePoint(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},getSinglePolygonPath=function t(e,n){var i=getParsedPoints(e);n&&(i=[i.reduce(function(l,u){return[].concat(_toConsumableArray$3(l),_toConsumableArray$3(u))},[])]);var o=i.map(function(l){return l.reduce(function(u,f,d){return"".concat(u).concat(d===0?"M":"L").concat(f.x,",").concat(f.y)},"")}).join("");return i.length===1?"".concat(o,"Z"):o},getRanglePath=function t(e,n,i){var o=getSinglePolygonPath(e,i);return"".concat(o.slice(-1)==="Z"?o.slice(0,-1):o,"L").concat(getSinglePolygonPath(n.reverse(),i).slice(1))},Polygon=function t(e){var n=e.points,i=e.className,o=e.baseLinePoints,l=e.connectNulls,u=_objectWithoutProperties$d(e,_excluded$d);if(!n||!n.length)return null;var f=clsx("recharts-polygon",i);if(o&&o.length){var d=u.stroke&&u.stroke!=="none",p=getRanglePath(n,o,l);return React.createElement("g",{className:f},React.createElement("path",_extends$n({},filterProps$1(u,!0),{fill:p.slice(-1)==="Z"?u.fill:"none",stroke:"none",d:p})),d?React.createElement("path",_extends$n({},filterProps$1(u,!0),{fill:"none",d:getSinglePolygonPath(n,l)})):null,d?React.createElement("path",_extends$n({},filterProps$1(u,!0),{fill:"none",d:getSinglePolygonPath(o,l)})):null)}var g=getSinglePolygonPath(n,l);return React.createElement("path",_extends$n({},filterProps$1(u,!0),{fill:g.slice(-1)==="Z"?u.fill:"none",className:f,d:g}))};function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$m.apply(this,arguments)}var Dot=function t(e){var n=e.cx,i=e.cy,o=e.r,l=e.className,u=clsx("recharts-dot",l);return n===+n&&i===+i&&o===+o?React.createElement("circle",_extends$m({},filterProps$1(e,!1),adaptEventHandlers(e),{className:u,cx:n,cy:i,r:o})):null};function _typeof$r(t){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$r(t)}var _excluded$c=["x","y","top","left","width","height","className"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$l.apply(this,arguments)}function ownKeys$n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$n(Object(n),!0).forEach(function(i){_defineProperty$r(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$n(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$r(t,e,n){return e=_toPropertyKey$r(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$r(t){var e=_toPrimitive$r(t,"string");return _typeof$r(e)=="symbol"?e:e+""}function _toPrimitive$r(t,e){if(_typeof$r(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$r(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$c(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$c(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$c(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}var getPath=function t(e,n,i,o,l,u){return"M".concat(e,",").concat(l,"v").concat(o,"M").concat(u,",").concat(n,"h").concat(i)},Cross=function t(e){var n=e.x,i=n===void 0?0:n,o=e.y,l=o===void 0?0:o,u=e.top,f=u===void 0?0:u,d=e.left,p=d===void 0?0:d,g=e.width,E=g===void 0?0:g,A=e.height,R=A===void 0?0:A,I=e.className,j=_objectWithoutProperties$c(e,_excluded$c),q=_objectSpread$n({x:i,y:l,top:f,left:p,width:E,height:R},j);return!isNumber(i)||!isNumber(l)||!isNumber(E)||!isNumber(R)||!isNumber(f)||!isNumber(p)?null:React.createElement("path",_extends$l({},filterProps$1(q,!0),{className:clsx("recharts-cross",I),d:getPath(i,l,E,R,f,p)}))},_excluded$b=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function _typeof$q(t){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$q(t)}function _objectWithoutProperties$b(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$b(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$b(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$k.apply(this,arguments)}function ownKeys$m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$m(Object(n),!0).forEach(function(i){_defineProperty$q(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$m(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$q(t,e,n){return e=_toPropertyKey$q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$q(t){var e=_toPrimitive$q(t,"string");return _typeof$q(e)=="symbol"?e:e+""}function _toPrimitive$q(t,e){if(_typeof$q(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$q(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getPolygonPath=function t(e,n,i,o){var l="";return o.forEach(function(u,f){var d=polarToCartesian(n,i,e,u);f?l+="L ".concat(d.x,",").concat(d.y):l+="M ".concat(d.x,",").concat(d.y)}),l+="Z",l},PolarAngles=function t(e){var n=e.cx,i=e.cy,o=e.innerRadius,l=e.outerRadius,u=e.polarAngles,f=e.radialLines;if(!u||!u.length||!f)return null;var d=_objectSpread$m({stroke:"#ccc"},filterProps$1(e,!1));return React.createElement("g",{className:"recharts-polar-grid-angle"},u.map(function(p){var g=polarToCartesian(n,i,o,p),E=polarToCartesian(n,i,l,p);return React.createElement("line",_extends$k({},d,{key:"line-".concat(p),x1:g.x,y1:g.y,x2:E.x,y2:E.y}))}))},ConcentricCircle=function t(e){var n=e.cx,i=e.cy,o=e.radius,l=e.index,u=_objectSpread$m(_objectSpread$m({stroke:"#ccc"},filterProps$1(e,!1)),{},{fill:"none"});return React.createElement("circle",_extends$k({},u,{className:clsx("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(l),cx:n,cy:i,r:o}))},ConcentricPolygon=function t(e){var n=e.radius,i=e.index,o=_objectSpread$m(_objectSpread$m({stroke:"#ccc"},filterProps$1(e,!1)),{},{fill:"none"});return React.createElement("path",_extends$k({},o,{className:clsx("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(i),d:getPolygonPath(n,e.cx,e.cy,e.polarAngles)}))},ConcentricPath=function t(e){var n=e.polarRadius,i=e.gridType;return!n||!n.length?null:React.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(o,l){var u=l;return i==="circle"?React.createElement(ConcentricCircle,_extends$k({key:u},e,{radius:o,index:l})):React.createElement(ConcentricPolygon,_extends$k({key:u},e,{radius:o,index:l}))}))},PolarGrid=function t(e){var n=e.cx,i=n===void 0?0:n,o=e.cy,l=o===void 0?0:o,u=e.innerRadius,f=u===void 0?0:u,d=e.outerRadius,p=d===void 0?0:d,g=e.gridType,E=g===void 0?"polygon":g,A=e.radialLines,R=A===void 0?!0:A,I=_objectWithoutProperties$b(e,_excluded$b);return p<=0?null:React.createElement("g",{className:"recharts-polar-grid"},React.createElement(PolarAngles,_extends$k({cx:i,cy:l,innerRadius:f,outerRadius:p,gridType:E,radialLines:R},I)),React.createElement(ConcentricPath,_extends$k({cx:i,cy:l,innerRadius:f,outerRadius:p,gridType:E,radialLines:R},I)))};PolarGrid.displayName="PolarGrid";var maxBy_1,hasRequiredMaxBy;function requireMaxBy(){if(hasRequiredMaxBy)return maxBy_1;hasRequiredMaxBy=1;var t=require_baseExtremum(),e=require_baseGt(),n=require_baseIteratee();function i(o,l){return o&&o.length?t(o,n(l,2),e):void 0}return maxBy_1=i,maxBy_1}var maxByExports=requireMaxBy();const maxBy=getDefaultExportFromCjs(maxByExports);var minBy_1,hasRequiredMinBy;function requireMinBy(){if(hasRequiredMinBy)return minBy_1;hasRequiredMinBy=1;var t=require_baseExtremum(),e=require_baseIteratee(),n=require_baseLt();function i(o,l){return o&&o.length?t(o,e(l,2),n):void 0}return minBy_1=i,minBy_1}var minByExports=requireMinBy();const minBy=getDefaultExportFromCjs(minByExports);var _excluded$a=["cx","cy","angle","ticks","axisLine"],_excluded2$5=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$p(t){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$p(t)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$j.apply(this,arguments)}function ownKeys$l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$l(Object(n),!0).forEach(function(i){_defineProperty$p(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$l(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _objectWithoutProperties$a(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$a(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$a(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _classCallCheck$i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$p(i.key),i)}}function _createClass$i(t,e,n){return e&&_defineProperties$i(t.prototype,e),n&&_defineProperties$i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$g(t,e,n){return e=_getPrototypeOf$g(e),_possibleConstructorReturn$g(t,_isNativeReflectConstruct$g()?Reflect.construct(e,n||[],_getPrototypeOf$g(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$g(t,e){if(e&&(_typeof$p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$g(t)}function _assertThisInitialized$g(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$g=function(){return!!t})()}function _getPrototypeOf$g(t){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$g(t)}function _inherits$g(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$g(t,e)}function _setPrototypeOf$g(t,e){return _setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$g(t,e)}function _defineProperty$p(t,e,n){return e=_toPropertyKey$p(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$p(t){var e=_toPrimitive$p(t,"string");return _typeof$p(e)=="symbol"?e:e+""}function _toPrimitive$p(t,e){if(_typeof$p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$p(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PolarRadiusAxis=function(t){function e(){return _classCallCheck$i(this,e),_callSuper$g(this,e,arguments)}return _inherits$g(e,t),_createClass$i(e,[{key:"getTickValueCoord",value:function(i){var o=i.coordinate,l=this.props,u=l.angle,f=l.cx,d=l.cy;return polarToCartesian(f,d,o,u)}},{key:"getTickTextAnchor",value:function(){var i=this.props.orientation,o;switch(i){case"left":o="end";break;case"right":o="start";break;default:o="middle";break}return o}},{key:"getViewBox",value:function(){var i=this.props,o=i.cx,l=i.cy,u=i.angle,f=i.ticks,d=maxBy(f,function(g){return g.coordinate||0}),p=minBy(f,function(g){return g.coordinate||0});return{cx:o,cy:l,startAngle:u,endAngle:u,innerRadius:p.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.cx,l=i.cy,u=i.angle,f=i.ticks,d=i.axisLine,p=_objectWithoutProperties$a(i,_excluded$a),g=f.reduce(function(I,j){return[Math.min(I[0],j.coordinate),Math.max(I[1],j.coordinate)]},[1/0,-1/0]),E=polarToCartesian(o,l,g[0],u),A=polarToCartesian(o,l,g[1],u),R=_objectSpread$l(_objectSpread$l(_objectSpread$l({},filterProps$1(p,!1)),{},{fill:"none"},filterProps$1(d,!1)),{},{x1:E.x,y1:E.y,x2:A.x,y2:A.y});return React.createElement("line",_extends$j({className:"recharts-polar-radius-axis-line"},R))}},{key:"renderTicks",value:function(){var i=this,o=this.props,l=o.ticks,u=o.tick,f=o.angle,d=o.tickFormatter,p=o.stroke,g=_objectWithoutProperties$a(o,_excluded2$5),E=this.getTickTextAnchor(),A=filterProps$1(g,!1),R=filterProps$1(u,!1),I=l.map(function(j,q){var L=i.getTickValueCoord(j),z=_objectSpread$l(_objectSpread$l(_objectSpread$l(_objectSpread$l({textAnchor:E,transform:"rotate(".concat(90-f,", ").concat(L.x,", ").concat(L.y,")")},A),{},{stroke:"none",fill:p},R),{},{index:q},L),{},{payload:j});return React.createElement(Layer,_extends$j({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(u)),key:"tick-".concat(j.coordinate)},adaptEventsOfChild(i.props,j,q)),e.renderTickItem(u,z,d?d(j.value,q):j.value))});return React.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},I)}},{key:"render",value:function(){var i=this.props,o=i.ticks,l=i.axisLine,u=i.tick;return!o||!o.length?null:React.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},l&&this.renderAxisLine(),u&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(i,o,l){var u;return React.isValidElement(i)?u=React.cloneElement(i,o):isFunction(i)?u=i(o):u=React.createElement(Text,_extends$j({},o,{className:"recharts-polar-radius-axis-tick-value"}),l),u}}])}(reactExports.PureComponent);_defineProperty$p(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$p(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$p(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$o(t){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$o(t)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$i.apply(this,arguments)}function ownKeys$k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$k(Object(n),!0).forEach(function(i){_defineProperty$o(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$k(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$o(i.key),i)}}function _createClass$h(t,e,n){return e&&_defineProperties$h(t.prototype,e),n&&_defineProperties$h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$f(t,e,n){return e=_getPrototypeOf$f(e),_possibleConstructorReturn$f(t,_isNativeReflectConstruct$f()?Reflect.construct(e,n||[],_getPrototypeOf$f(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$f(t,e){if(e&&(_typeof$o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f(t)}function _assertThisInitialized$f(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$f=function(){return!!t})()}function _getPrototypeOf$f(t){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$f(t)}function _inherits$f(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$f(t,e)}function _setPrototypeOf$f(t,e){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$f(t,e)}function _defineProperty$o(t,e,n){return e=_toPropertyKey$o(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$o(t){var e=_toPrimitive$o(t,"string");return _typeof$o(e)=="symbol"?e:e+""}function _toPrimitive$o(t,e){if(_typeof$o(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$o(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=function(t){function e(){return _classCallCheck$h(this,e),_callSuper$f(this,e,arguments)}return _inherits$f(e,t),_createClass$h(e,[{key:"getTickLineCoord",value:function(i){var o=this.props,l=o.cx,u=o.cy,f=o.radius,d=o.orientation,p=o.tickSize,g=p||8,E=polarToCartesian(l,u,f,i.coordinate),A=polarToCartesian(l,u,f+(d==="inner"?-1:1)*g,i.coordinate);return{x1:E.x,y1:E.y,x2:A.x,y2:A.y}}},{key:"getTickTextAnchor",value:function(i){var o=this.props.orientation,l=Math.cos(-i.coordinate*RADIAN),u;return l>eps?u=o==="outer"?"start":"end":l<-1e-5?u=o==="outer"?"end":"start":u="middle",u}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.cx,l=i.cy,u=i.radius,f=i.axisLine,d=i.axisLineType,p=_objectSpread$k(_objectSpread$k({},filterProps$1(this.props,!1)),{},{fill:"none"},filterProps$1(f,!1));if(d==="circle")return React.createElement(Dot,_extends$i({className:"recharts-polar-angle-axis-line"},p,{cx:o,cy:l,r:u}));var g=this.props.ticks,E=g.map(function(A){return polarToCartesian(o,l,u,A.coordinate)});return React.createElement(Polygon,_extends$i({className:"recharts-polar-angle-axis-line"},p,{points:E}))}},{key:"renderTicks",value:function(){var i=this,o=this.props,l=o.ticks,u=o.tick,f=o.tickLine,d=o.tickFormatter,p=o.stroke,g=filterProps$1(this.props,!1),E=filterProps$1(u,!1),A=_objectSpread$k(_objectSpread$k({},g),{},{fill:"none"},filterProps$1(f,!1)),R=l.map(function(I,j){var q=i.getTickLineCoord(I),L=i.getTickTextAnchor(I),z=_objectSpread$k(_objectSpread$k(_objectSpread$k({textAnchor:L},g),{},{stroke:"none",fill:p},E),{},{index:j,payload:I,x:q.x2,y:q.y2});return React.createElement(Layer,_extends$i({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(u)),key:"tick-".concat(I.coordinate)},adaptEventsOfChild(i.props,I,j)),f&&React.createElement("line",_extends$i({className:"recharts-polar-angle-axis-tick-line"},A,q)),u&&e.renderTickItem(u,z,d?d(I.value,j):I.value))});return React.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},R)}},{key:"render",value:function(){var i=this.props,o=i.ticks,l=i.radius,u=i.axisLine;return l<=0||!o||!o.length?null:React.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},u&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(i,o,l){var u;return React.isValidElement(i)?u=React.cloneElement(i,o):isFunction(i)?u=i(o):u=React.createElement(Text,_extends$i({},o,{className:"recharts-polar-angle-axis-tick-value"}),l),u}}])}(reactExports.PureComponent);_defineProperty$o(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$o(PolarAngleAxis,"axisType","angleAxis");_defineProperty$o(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var _getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var t=require_overArg(),e=t(Object.getPrototypeOf,Object);return _getPrototype=e,_getPrototype}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var t=require_baseGetTag(),e=require_getPrototype(),n=requireIsObjectLike(),i="[object Object]",o=Function.prototype,l=Object.prototype,u=o.toString,f=l.hasOwnProperty,d=u.call(Object);function p(g){if(!n(g)||t(g)!=i)return!1;var E=e(g);if(E===null)return!0;var A=f.call(E,"constructor")&&E.constructor;return typeof A=="function"&&A instanceof A&&u.call(A)==d}return isPlainObject_1=p,isPlainObject_1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);var isBoolean_1,hasRequiredIsBoolean;function requireIsBoolean(){if(hasRequiredIsBoolean)return isBoolean_1;hasRequiredIsBoolean=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Boolean]";function i(o){return o===!0||o===!1||e(o)&&t(o)==n}return isBoolean_1=i,isBoolean_1}var isBooleanExports=requireIsBoolean();const isBoolean=getDefaultExportFromCjs(isBooleanExports);function _typeof$n(t){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$n(t)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$h.apply(this,arguments)}function _slicedToArray$2(t,e){return _arrayWithHoles$2(t)||_iterableToArrayLimit$2(t,e)||_unsupportedIterableToArray$4(t,e)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$4(t,e)}}function _arrayLikeToArray$4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit$2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e!==0)for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles$2(t){if(Array.isArray(t))return t}function ownKeys$j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$j(Object(n),!0).forEach(function(i){_defineProperty$n(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$j(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$n(t,e,n){return e=_toPropertyKey$n(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$n(t){var e=_toPrimitive$n(t,"string");return _typeof$n(e)=="symbol"?e:e+""}function _toPrimitive$n(t,e){if(_typeof$n(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$n(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getTrapezoidPath=function t(e,n,i,o,l){var u=i-o,f;return f="M ".concat(e,",").concat(n),f+="L ".concat(e+i,",").concat(n),f+="L ".concat(e+i-u/2,",").concat(n+l),f+="L ".concat(e+i-u/2-o,",").concat(n+l),f+="L ".concat(e,",").concat(n," Z"),f},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function t(e){var n=_objectSpread$j(_objectSpread$j({},defaultProps$1),e),i=reactExports.useRef(),o=reactExports.useState(-1),l=_slicedToArray$2(o,2),u=l[0],f=l[1];reactExports.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var U=i.current.getTotalLength();U&&f(U)}catch{}},[]);var d=n.x,p=n.y,g=n.upperWidth,E=n.lowerWidth,A=n.height,R=n.className,I=n.animationEasing,j=n.animationDuration,q=n.animationBegin,L=n.isUpdateAnimationActive;if(d!==+d||p!==+p||g!==+g||E!==+E||A!==+A||g===0&&E===0||A===0)return null;var z=clsx("recharts-trapezoid",R);return L?React.createElement(Animate,{canBegin:u>0,from:{upperWidth:0,lowerWidth:0,height:A,x:d,y:p},to:{upperWidth:g,lowerWidth:E,height:A,x:d,y:p},duration:j,animationEasing:I,isActive:L},function(U){var W=U.upperWidth,H=U.lowerWidth,Z=U.height,Y=U.x,J=U.y;return React.createElement(Animate,{canBegin:u>0,from:"0px ".concat(u===-1?1:u,"px"),to:"".concat(u,"px 0px"),attributeName:"strokeDasharray",begin:q,duration:j,easing:I},React.createElement("path",_extends$h({},filterProps$1(n,!0),{className:z,d:getTrapezoidPath(Y,J,W,H,Z),ref:i})))}):React.createElement("g",null,React.createElement("path",_extends$h({},filterProps$1(n,!0),{className:z,d:getTrapezoidPath(d,p,g,E,A)})))},_excluded$9=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$m(t){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$m(t)}function _objectWithoutProperties$9(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$9(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$9(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function ownKeys$i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$i(Object(n),!0).forEach(function(i){_defineProperty$m(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$i(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$m(t,e,n){return e=_toPropertyKey$m(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$m(t){var e=_toPrimitive$m(t,"string");return _typeof$m(e)=="symbol"?e:e+""}function _toPrimitive$m(t,e){if(_typeof$m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$m(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultPropTransformer(t,e){return _objectSpread$i(_objectSpread$i({},e),t)}function isSymbolsProps(t,e){return t==="symbols"}function ShapeSelector(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return React.createElement(Rectangle,n);case"trapezoid":return React.createElement(Trapezoid,n);case"sector":return React.createElement(Sector,n);case"symbols":if(isSymbolsProps(e))return React.createElement(Symbols,n);break;default:return null}}function getPropsFromShapeOption(t){return reactExports.isValidElement(t)?t.props:t}function Shape(t){var e=t.option,n=t.shapeType,i=t.propTransformer,o=i===void 0?defaultPropTransformer:i,l=t.activeClassName,u=l===void 0?"recharts-active-shape":l,f=t.isActive,d=_objectWithoutProperties$9(t,_excluded$9),p;if(reactExports.isValidElement(e))p=reactExports.cloneElement(e,_objectSpread$i(_objectSpread$i({},d),getPropsFromShapeOption(e)));else if(isFunction(e))p=e(d);else if(isPlainObject(e)&&!isBoolean(e)){var g=o(e,d);p=React.createElement(ShapeSelector,{shapeType:n,elementProps:g})}else{var E=d;p=React.createElement(ShapeSelector,{shapeType:n,elementProps:E})}return f?React.createElement(Layer,{className:u},p):p}function isFunnel(t,e){return e!=null&&"trapezoids"in t.props}function isPie(t,e){return e!=null&&"sectors"in t.props}function isScatter(t,e){return e!=null&&"points"in t.props}function compareFunnel(t,e){var n,i,o=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,l=t.y===(e==null||(i=e.labelViewBox)===null||i===void 0?void 0:i.y)||t.y===e.y;return o&&l}function comparePie(t,e){var n=t.endAngle===e.endAngle,i=t.startAngle===e.startAngle;return n&&i}function compareScatter(t,e){var n=t.x===e.x,i=t.y===e.y,o=t.z===e.z;return n&&i&&o}function getComparisonFn(t,e){var n;return isFunnel(t,e)?n=compareFunnel:isPie(t,e)?n=comparePie:isScatter(t,e)&&(n=compareScatter),n}function getShapeDataKey(t,e){var n;return isFunnel(t,e)?n="trapezoids":isPie(t,e)?n="sectors":isScatter(t,e)&&(n="points"),n}function getActiveShapeTooltipPayload(t,e){if(isFunnel(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(isPie(t,e)){var i;return(i=e.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}return isScatter(t,e)?e.payload:{}}function getActiveShapeIndexForTooltip(t){var e=t.activeTooltipItem,n=t.graphicalItem,i=t.itemData,o=getShapeDataKey(n,e),l=getActiveShapeTooltipPayload(n,e),u=i.filter(function(d,p){var g=isEqual(l,d),E=n.props[o].filter(function(I){var j=getComparisonFn(n,e);return j(I,e)}),A=n.props[o].indexOf(E[E.length-1]),R=p===A;return g&&R}),f=i.indexOf(u[u.length-1]);return f}var _Pie;function _typeof$l(t){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$l(t)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$g.apply(this,arguments)}function ownKeys$h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$h(Object(n),!0).forEach(function(i){_defineProperty$l(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$h(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$l(i.key),i)}}function _createClass$g(t,e,n){return e&&_defineProperties$g(t.prototype,e),n&&_defineProperties$g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$e(t,e,n){return e=_getPrototypeOf$e(e),_possibleConstructorReturn$e(t,_isNativeReflectConstruct$e()?Reflect.construct(e,n||[],_getPrototypeOf$e(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$e(t,e){if(e&&(_typeof$l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(t)}function _assertThisInitialized$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!t})()}function _getPrototypeOf$e(t){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$e(t)}function _inherits$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$e(t,e)}function _setPrototypeOf$e(t,e){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$e(t,e)}function _defineProperty$l(t,e,n){return e=_toPropertyKey$l(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$l(t){var e=_toPrimitive$l(t,"string");return _typeof$l(e)=="symbol"?e:e+""}function _toPrimitive$l(t,e){if(_typeof$l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$l(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pie=function(t){function e(n){var i;return _classCallCheck$g(this,e),i=_callSuper$e(this,e,[n]),_defineProperty$l(i,"pieRef",null),_defineProperty$l(i,"sectorRefs",[]),_defineProperty$l(i,"id",uniqueId("recharts-pie-")),_defineProperty$l(i,"handleAnimationEnd",function(){var o=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),isFunction(o)&&o()}),_defineProperty$l(i,"handleAnimationStart",function(){var o=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),isFunction(o)&&o()}),i.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},i}return _inherits$e(e,t),_createClass$g(e,[{key:"isActiveIndex",value:function(i){var o=this.props.activeIndex;return Array.isArray(o)?o.indexOf(i)!==-1:i===o}},{key:"hasActiveIndex",value:function(){var i=this.props.activeIndex;return Array.isArray(i)?i.length!==0:i||i===0}},{key:"renderLabels",value:function(i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.label,f=l.labelLine,d=l.dataKey,p=l.valueKey,g=filterProps$1(this.props,!1),E=filterProps$1(u,!1),A=filterProps$1(f,!1),R=u&&u.offsetRadius||20,I=i.map(function(j,q){var L=(j.startAngle+j.endAngle)/2,z=polarToCartesian(j.cx,j.cy,j.outerRadius+R,L),U=_objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h({},g),j),{},{stroke:"none"},E),{},{index:q,textAnchor:e.getTextAnchor(z.x,j.cx)},z),W=_objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h({},g),j),{},{fill:"none",stroke:j.fill},A),{},{index:q,points:[polarToCartesian(j.cx,j.cy,j.outerRadius,L),z]}),H=d;return isNil(d)&&isNil(p)?H="value":isNil(d)&&(H=p),React.createElement(Layer,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(q)},f&&e.renderLabelLineItem(f,W,"line"),e.renderLabelItem(u,U,getValueByDataKey(j,H)))});return React.createElement(Layer,{className:"recharts-pie-labels"},I)}},{key:"renderSectorsStatically",value:function(i){var o=this,l=this.props,u=l.activeShape,f=l.blendStroke,d=l.inactiveShape;return i.map(function(p,g){if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&i.length!==1)return null;var E=o.isActiveIndex(g),A=d&&o.hasActiveIndex()?d:null,R=E?u:A,I=_objectSpread$h(_objectSpread$h({},p),{},{stroke:f?p.fill:p.stroke,tabIndex:-1});return React.createElement(Layer,_extends$g({ref:function(q){q&&!o.sectorRefs.includes(q)&&o.sectorRefs.push(q)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(o.props,p,g),{key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(g)}),React.createElement(Shape,_extends$g({option:R,isActive:E,shapeType:"sector"},I)))})}},{key:"renderSectorsWithAnimation",value:function(){var i=this,o=this.props,l=o.sectors,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,p=o.animationEasing,g=o.animationId,E=this.state,A=E.prevSectors,R=E.prevIsAnimationActive;return React.createElement(Animate,{begin:f,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(R),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(I){var j=I.t,q=[],L=l&&l[0],z=L.startAngle;return l.forEach(function(U,W){var H=A&&A[W],Z=W>0?get(U,"paddingAngle",0):0;if(H){var Y=interpolateNumber$2(H.endAngle-H.startAngle,U.endAngle-U.startAngle),J=_objectSpread$h(_objectSpread$h({},U),{},{startAngle:z+Z,endAngle:z+Y(j)+Z});q.push(J),z=J.endAngle}else{var ne=U.endAngle,ae=U.startAngle,se=interpolateNumber$2(0,ne-ae),ue=se(j),fe=_objectSpread$h(_objectSpread$h({},U),{},{startAngle:z+Z,endAngle:z+ue+Z});q.push(fe),z=fe.endAngle}}),React.createElement(Layer,null,i.renderSectorsStatically(q))})}},{key:"attachKeyboardHandlers",value:function(i){var o=this;i.onkeydown=function(l){if(!l.altKey)switch(l.key){case"ArrowLeft":{var u=++o.state.sectorToFocus%o.sectorRefs.length;o.sectorRefs[u].focus(),o.setState({sectorToFocus:u});break}case"ArrowRight":{var f=--o.state.sectorToFocus<0?o.sectorRefs.length-1:o.state.sectorToFocus%o.sectorRefs.length;o.sectorRefs[f].focus(),o.setState({sectorToFocus:f});break}case"Escape":{o.sectorRefs[o.state.sectorToFocus].blur(),o.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var i=this.props,o=i.sectors,l=i.isAnimationActive,u=this.state.prevSectors;return l&&o&&o.length&&(!u||!isEqual(u,o))?this.renderSectorsWithAnimation():this.renderSectorsStatically(o)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var i=this,o=this.props,l=o.hide,u=o.sectors,f=o.className,d=o.label,p=o.cx,g=o.cy,E=o.innerRadius,A=o.outerRadius,R=o.isAnimationActive,I=this.state.isAnimationFinished;if(l||!u||!u.length||!isNumber(p)||!isNumber(g)||!isNumber(E)||!isNumber(A))return null;var j=clsx("recharts-pie",f);return React.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:j,ref:function(L){i.pieRef=L}},this.renderSectors(),d&&this.renderLabels(u),Label.renderCallByParent(this.props,null,!1),(!R||I)&&LabelList.renderCallByParent(this.props,u,!1))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return o.prevIsAnimationActive!==i.isAnimationActive?{prevIsAnimationActive:i.isAnimationActive,prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:[],isAnimationFinished:!0}:i.isAnimationActive&&i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:o.curSectors,isAnimationFinished:!0}:i.sectors!==o.curSectors?{curSectors:i.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(i,o){return i>o?"start":i<o?"end":"middle"}},{key:"renderLabelLineItem",value:function(i,o,l){if(React.isValidElement(i))return React.cloneElement(i,o);if(isFunction(i))return i(o);var u=clsx("recharts-pie-label-line",typeof i!="boolean"?i.className:"");return React.createElement(Curve,_extends$g({},o,{key:l,type:"linear",className:u}))}},{key:"renderLabelItem",value:function(i,o,l){if(React.isValidElement(i))return React.cloneElement(i,o);var u=l;if(isFunction(i)&&(u=i(o),React.isValidElement(u)))return u;var f=clsx("recharts-pie-label-text",typeof i!="boolean"&&!isFunction(i)?i.className:"");return React.createElement(Text,_extends$g({},o,{alignmentBaseline:"middle",className:f}),u)}}])}(reactExports.PureComponent);_Pie=Pie;_defineProperty$l(Pie,"displayName","Pie");_defineProperty$l(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$l(Pie,"parseDeltaAngle",function(t,e){var n=mathSign(e-t),i=Math.min(Math.abs(e-t),360);return n*i});_defineProperty$l(Pie,"getRealPieData",function(t){var e=t.data,n=t.children,i=filterProps$1(t,!1),o=findAllByType(n,Cell);return e&&e.length?e.map(function(l,u){return _objectSpread$h(_objectSpread$h(_objectSpread$h({payload:l},i),l),o&&o[u]&&o[u].props)}):o&&o.length?o.map(function(l){return _objectSpread$h(_objectSpread$h({},i),l.props)}):[]});_defineProperty$l(Pie,"parseCoordinateOfPie",function(t,e){var n=e.top,i=e.left,o=e.width,l=e.height,u=getMaxRadius(o,l),f=i+getPercentValue(t.cx,o,o/2),d=n+getPercentValue(t.cy,l,l/2),p=getPercentValue(t.innerRadius,u,0),g=getPercentValue(t.outerRadius,u,u*.8),E=t.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:f,cy:d,innerRadius:p,outerRadius:g,maxRadius:E}});_defineProperty$l(Pie,"getComposedData",function(t){var e=t.item,n=t.offset,i=e.type.defaultProps!==void 0?_objectSpread$h(_objectSpread$h({},e.type.defaultProps),e.props):e.props,o=_Pie.getRealPieData(i);if(!o||!o.length)return null;var l=i.cornerRadius,u=i.startAngle,f=i.endAngle,d=i.paddingAngle,p=i.dataKey,g=i.nameKey,E=i.valueKey,A=i.tooltipType,R=Math.abs(i.minAngle),I=_Pie.parseCoordinateOfPie(i,n),j=_Pie.parseDeltaAngle(u,f),q=Math.abs(j),L=p;isNil(p)&&isNil(E)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),L="value"):isNil(p)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),L=E);var z=o.filter(function(J){return getValueByDataKey(J,L,0)!==0}).length,U=(q>=360?z:z-1)*d,W=q-z*R-U,H=o.reduce(function(J,ne){var ae=getValueByDataKey(ne,L,0);return J+(isNumber(ae)?ae:0)},0),Z;if(H>0){var Y;Z=o.map(function(J,ne){var ae=getValueByDataKey(J,L,0),se=getValueByDataKey(J,g,ne),ue=(isNumber(ae)?ae:0)/H,fe;ne?fe=Y.endAngle+mathSign(j)*d*(ae!==0?1:0):fe=u;var _e=fe+mathSign(j)*((ae!==0?R:0)+ue*W),ge=(fe+_e)/2,ce=(I.innerRadius+I.outerRadius)/2,me=[{name:se,value:ae,payload:J,dataKey:L,type:A}],ee=polarToCartesian(I.cx,I.cy,ce,ge);return Y=_objectSpread$h(_objectSpread$h(_objectSpread$h({percent:ue,cornerRadius:l,name:se,tooltipPayload:me,midAngle:ge,middleRadius:ce,tooltipPosition:ee},J),I),{},{value:getValueByDataKey(J,L),startAngle:fe,endAngle:_e,payload:J,paddingAngle:mathSign(j)*d}),Y})}return _objectSpread$h(_objectSpread$h({},I),{},{sectors:Z,data:o})});var head_1,hasRequiredHead;function requireHead(){if(hasRequiredHead)return head_1;hasRequiredHead=1;function t(e){return e&&e.length?e[0]:void 0}return head_1=t,head_1}var first$1,hasRequiredFirst;function requireFirst(){return hasRequiredFirst||(hasRequiredFirst=1,first$1=requireHead()),first$1}var firstExports=requireFirst();const first=getDefaultExportFromCjs(firstExports);var _excluded$8=["key"];function _typeof$k(t){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$k(t)}function _objectWithoutProperties$8(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$8(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$8(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$f.apply(this,arguments)}function ownKeys$g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$g(Object(n),!0).forEach(function(i){_defineProperty$k(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$g(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$k(i.key),i)}}function _createClass$f(t,e,n){return e&&_defineProperties$f(t.prototype,e),n&&_defineProperties$f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$d(t,e,n){return e=_getPrototypeOf$d(e),_possibleConstructorReturn$d(t,_isNativeReflectConstruct$d()?Reflect.construct(e,n||[],_getPrototypeOf$d(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$d(t,e){if(e&&(_typeof$k(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(t)}function _assertThisInitialized$d(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!t})()}function _getPrototypeOf$d(t){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$d(t)}function _inherits$d(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$d(t,e)}function _setPrototypeOf$d(t,e){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$d(t,e)}function _defineProperty$k(t,e,n){return e=_toPropertyKey$k(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$k(t){var e=_toPrimitive$k(t,"string");return _typeof$k(e)=="symbol"?e:e+""}function _toPrimitive$k(t,e){if(_typeof$k(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$k(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Radar=function(t){function e(){var n;_classCallCheck$f(this,e);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=_callSuper$d(this,e,[].concat(o)),_defineProperty$k(n,"state",{isAnimationFinished:!1}),_defineProperty$k(n,"handleAnimationEnd",function(){var u=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),isFunction(u)&&u()}),_defineProperty$k(n,"handleAnimationStart",function(){var u=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),isFunction(u)&&u()}),_defineProperty$k(n,"handleMouseEnter",function(u){var f=n.props.onMouseEnter;f&&f(n.props,u)}),_defineProperty$k(n,"handleMouseLeave",function(u){var f=n.props.onMouseLeave;f&&f(n.props,u)}),n}return _inherits$d(e,t),_createClass$f(e,[{key:"renderDots",value:function(i){var o=this.props,l=o.dot,u=o.dataKey,f=filterProps$1(this.props,!1),d=filterProps$1(l,!0),p=i.map(function(g,E){var A=_objectSpread$g(_objectSpread$g(_objectSpread$g({key:"dot-".concat(E),r:3},f),d),{},{dataKey:u,cx:g.x,cy:g.y,index:E,payload:g});return e.renderDotItem(l,A)});return React.createElement(Layer,{className:"recharts-radar-dots"},p)}},{key:"renderPolygonStatically",value:function(i){var o=this.props,l=o.shape,u=o.dot,f=o.isRange,d=o.baseLinePoints,p=o.connectNulls,g;return React.isValidElement(l)?g=React.cloneElement(l,_objectSpread$g(_objectSpread$g({},this.props),{},{points:i})):isFunction(l)?g=l(_objectSpread$g(_objectSpread$g({},this.props),{},{points:i})):g=React.createElement(Polygon,_extends$f({},filterProps$1(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:i,baseLinePoints:f?d:null,connectNulls:p})),React.createElement(Layer,{className:"recharts-radar-polygon"},g,u?this.renderDots(i):null)}},{key:"renderPolygonWithAnimation",value:function(){var i=this,o=this.props,l=o.points,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,p=o.animationEasing,g=o.animationId,E=this.state.prevPoints;return React.createElement(Animate,{begin:f,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"radar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var R=A.t,I=E&&E.length/l.length,j=l.map(function(q,L){var z=E&&E[Math.floor(L*I)];if(z){var U=interpolateNumber$2(z.x,q.x),W=interpolateNumber$2(z.y,q.y);return _objectSpread$g(_objectSpread$g({},q),{},{x:U(R),y:W(R)})}var H=interpolateNumber$2(q.cx,q.x),Z=interpolateNumber$2(q.cy,q.y);return _objectSpread$g(_objectSpread$g({},q),{},{x:H(R),y:Z(R)})});return i.renderPolygonStatically(j)})}},{key:"renderPolygon",value:function(){var i=this.props,o=i.points,l=i.isAnimationActive,u=i.isRange,f=this.state.prevPoints;return l&&o&&o.length&&!u&&(!f||!isEqual(f,o))?this.renderPolygonWithAnimation():this.renderPolygonStatically(o)}},{key:"render",value:function(){var i=this.props,o=i.hide,l=i.className,u=i.points,f=i.isAnimationActive;if(o||!u||!u.length)return null;var d=this.state.isAnimationFinished,p=clsx("recharts-radar",l);return React.createElement(Layer,{className:p},this.renderPolygon(),(!f||d)&&LabelList.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"renderDotItem",value:function(i,o){var l;if(React.isValidElement(i))l=React.cloneElement(i,o);else if(isFunction(i))l=i(o);else{var u=o.key,f=_objectWithoutProperties$8(o,_excluded$8);l=React.createElement(Dot,_extends$f({},f,{key:u,className:clsx("recharts-radar-dot",typeof i!="boolean"?i.className:"")}))}return l}}])}(reactExports.PureComponent);_defineProperty$k(Radar,"displayName","Radar");_defineProperty$k(Radar,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});_defineProperty$k(Radar,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,i=t.displayedData,o=t.dataKey,l=t.bandSize,u=n.cx,f=n.cy,d=!1,p=[],g=n.type!=="number"?l??0:0;i.forEach(function(A,R){var I=getValueByDataKey(A,n.dataKey,R),j=getValueByDataKey(A,o),q=n.scale(I)+g,L=Array.isArray(j)?last(j):j,z=isNil(L)?void 0:e.scale(L);Array.isArray(j)&&j.length>=2&&(d=!0),p.push(_objectSpread$g(_objectSpread$g({},polarToCartesian(u,f,z,q)),{},{name:I,value:j,cx:u,cy:f,radius:z,angle:q,payload:A}))});var E=[];return d&&p.forEach(function(A){if(Array.isArray(A.value)){var R=first(A.value),I=isNil(R)?void 0:e.scale(R);E.push(_objectSpread$g(_objectSpread$g({},A),{},{radius:I},polarToCartesian(u,f,I,A.angle)))}else E.push(A)}),{points:p,isRange:d,baseLinePoints:E}});var _baseRange,hasRequired_baseRange;function require_baseRange(){if(hasRequired_baseRange)return _baseRange;hasRequired_baseRange=1;var t=Math.ceil,e=Math.max;function n(i,o,l,u){for(var f=-1,d=e(t((o-i)/(l||1)),0),p=Array(d);d--;)p[u?d:++f]=i,i+=l;return p}return _baseRange=n,_baseRange}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var t=requireToNumber(),e=1/0,n=17976931348623157e292;function i(o){if(!o)return o===0?o:0;if(o=t(o),o===e||o===-1/0){var l=o<0?-1:1;return l*n}return o===o?o:0}return toFinite_1=i,toFinite_1}var _createRange,hasRequired_createRange;function require_createRange(){if(hasRequired_createRange)return _createRange;hasRequired_createRange=1;var t=require_baseRange(),e=require_isIterateeCall(),n=requireToFinite();function i(o){return function(l,u,f){return f&&typeof f!="number"&&e(l,u,f)&&(u=f=void 0),l=n(l),u===void 0?(u=l,l=0):u=n(u),f=f===void 0?l<u?1:-1:n(f),t(l,u,f,o)}}return _createRange=i,_createRange}var range_1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range_1;hasRequiredRange=1;var t=require_createRange(),e=t();return range_1=e,range_1}var rangeExports=requireRange();const range=getDefaultExportFromCjs(rangeExports);function _typeof$j(t){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$j(t)}function ownKeys$f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$f(Object(n),!0).forEach(function(i){_defineProperty$j(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$f(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$j(t,e,n){return e=_toPropertyKey$j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$j(t){var e=_toPrimitive$j(t,"string");return _typeof$j(e)=="symbol"?e:e+""}function _toPrimitive$j(t,e){if(_typeof$j(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$j(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function t(e,n){var i=e.replace(/(\w)/,function(l){return l.toUpperCase()}),o=PREFIX_LIST.reduce(function(l,u){return _objectSpread$f(_objectSpread$f({},l),{},_defineProperty$j({},u+i,n))},{});return o[e]=n,o};function _typeof$i(t){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$i(t)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$e.apply(this,arguments)}function ownKeys$e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$e(Object(n),!0).forEach(function(i){_defineProperty$i(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$e(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$i(i.key),i)}}function _createClass$e(t,e,n){return e&&_defineProperties$e(t.prototype,e),n&&_defineProperties$e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$c(t,e,n){return e=_getPrototypeOf$c(e),_possibleConstructorReturn$c(t,_isNativeReflectConstruct$c()?Reflect.construct(e,n||[],_getPrototypeOf$c(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$c(t,e){if(e&&(_typeof$i(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(t)}function _assertThisInitialized$c(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!t})()}function _getPrototypeOf$c(t){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$c(t)}function _inherits$c(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$c(t,e)}function _setPrototypeOf$c(t,e){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$c(t,e)}function _defineProperty$i(t,e,n){return e=_toPropertyKey$i(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$i(t){var e=_toPrimitive$i(t,"string");return _typeof$i(e)=="symbol"?e:e+""}function _toPrimitive$i(t,e){if(_typeof$i(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$i(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var createScale=function t(e){var n=e.data,i=e.startIndex,o=e.endIndex,l=e.x,u=e.width,f=e.travellerWidth;if(!n||!n.length)return{};var d=n.length,p=point().domain(range(0,d)).range([l,l+u-f]),g=p.domain().map(function(E){return p(E)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:p(i),endX:p(o),scale:p,scaleValues:g}},isTouch=function t(e){return e.changedTouches&&!!e.changedTouches.length},Brush=function(t){function e(n){var i;return _classCallCheck$e(this,e),i=_callSuper$c(this,e,[n]),_defineProperty$i(i,"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),_defineProperty$i(i,"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),_defineProperty$i(i,"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=i.props,l=o.endIndex,u=o.onDragEnd,f=o.startIndex;u==null||u({endIndex:l,startIndex:f})}),i.detachDragEndListener()}),_defineProperty$i(i,"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),_defineProperty$i(i,"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),_defineProperty$i(i,"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),_defineProperty$i(i,"handleSlideDragStart",function(o){var l=isTouch(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:l.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(i,"startX"),endX:i.handleTravellerDragStart.bind(i,"endX")},i.state={},i}return _inherits$c(e,t),_createClass$e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,l=i.endX,u=this.state.scaleValues,f=this.props,d=f.gap,p=f.data,g=p.length-1,E=Math.min(o,l),A=Math.max(o,l),R=e.getIndexInRange(u,E),I=e.getIndexInRange(u,A);return{startIndex:R-R%d,endIndex:I===g?g:I-I%d}}},{key:"getTextOfTick",value:function(i){var o=this.props,l=o.data,u=o.tickFormatter,f=o.dataKey,d=getValueByDataKey(l[i],f,i);return isFunction(u)?u(d,i):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,l=o.slideMoveStartX,u=o.startX,f=o.endX,d=this.props,p=d.x,g=d.width,E=d.travellerWidth,A=d.startIndex,R=d.endIndex,I=d.onChange,j=i.pageX-l;j>0?j=Math.min(j,p+g-E-f,p+g-E-u):j<0&&(j=Math.max(j,p-u,p-f));var q=this.getIndex({startX:u+j,endX:f+j});(q.startIndex!==A||q.endIndex!==R)&&I&&I(q),this.setState({startX:u+j,endX:f+j,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var l=isTouch(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:l.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o=this.state,l=o.brushMoveStartX,u=o.movingTravellerId,f=o.endX,d=o.startX,p=this.state[u],g=this.props,E=g.x,A=g.width,R=g.travellerWidth,I=g.onChange,j=g.gap,q=g.data,L={startX:this.state.startX,endX:this.state.endX},z=i.pageX-l;z>0?z=Math.min(z,E+A-R-p):z<0&&(z=Math.max(z,E-p)),L[u]=p+z;var U=this.getIndex(L),W=U.startIndex,H=U.endIndex,Z=function(){var J=q.length-1;return u==="startX"&&(f>d?W%j===0:H%j===0)||f<d&&H===J||u==="endX"&&(f>d?H%j===0:W%j===0)||f>d&&H===J};this.setState(_defineProperty$i(_defineProperty$i({},u,p+z),"brushMoveStartX",i.pageX),function(){I&&Z()&&I(U)})}},{key:"handleTravellerMoveKeyboard",value:function(i,o){var l=this,u=this.state,f=u.scaleValues,d=u.startX,p=u.endX,g=this.state[o],E=f.indexOf(g);if(E!==-1){var A=E+i;if(!(A===-1||A>=f.length)){var R=f[A];o==="startX"&&R>=p||o==="endX"&&R<=d||this.setState(_defineProperty$i({},o,R),function(){l.props.onChange(l.getIndex({startX:l.state.startX,endX:l.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,l=i.y,u=i.width,f=i.height,d=i.fill,p=i.stroke;return React.createElement("rect",{stroke:p,fill:d,x:o,y:l,width:u,height:f})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,l=i.y,u=i.width,f=i.height,d=i.data,p=i.children,g=i.padding,E=reactExports.Children.only(p);return E?React.cloneElement(E,{x:o,y:l,width:u,height:f,margin:g,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(i,o){var l,u,f=this,d=this.props,p=d.y,g=d.travellerWidth,E=d.height,A=d.traveller,R=d.ariaLabel,I=d.data,j=d.startIndex,q=d.endIndex,L=Math.max(i,this.props.x),z=_objectSpread$e(_objectSpread$e({},filterProps$1(this.props,!1)),{},{x:L,y:p,width:g,height:E}),U=R||"Min value: ".concat((l=I[j])===null||l===void 0?void 0:l.name,", Max value: ").concat((u=I[q])===null||u===void 0?void 0:u.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":U,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(H){["ArrowLeft","ArrowRight"].includes(H.key)&&(H.preventDefault(),H.stopPropagation(),f.handleTravellerMoveKeyboard(H.key==="ArrowRight"?1:-1,o))},onFocus:function(){f.setState({isTravellerFocused:!0})},onBlur:function(){f.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(A,z))}},{key:"renderSlide",value:function(i,o){var l=this.props,u=l.y,f=l.height,d=l.stroke,p=l.travellerWidth,g=Math.min(i,o)+p,E=Math.max(Math.abs(o-i)-p,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:g,y:u,width:E,height:f})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,l=i.endIndex,u=i.y,f=i.height,d=i.travellerWidth,p=i.stroke,g=this.state,E=g.startX,A=g.endX,R=5,I={pointerEvents:"none",fill:p};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$e({textAnchor:"end",verticalAnchor:"middle",x:Math.min(E,A)-R,y:u+f/2},I),this.getTextOfTick(o)),React.createElement(Text,_extends$e({textAnchor:"start",verticalAnchor:"middle",x:Math.max(E,A)+d+R,y:u+f/2},I),this.getTextOfTick(l)))}},{key:"render",value:function(){var i=this.props,o=i.data,l=i.className,u=i.children,f=i.x,d=i.y,p=i.width,g=i.height,E=i.alwaysShowText,A=this.state,R=A.startX,I=A.endX,j=A.isTextActive,q=A.isSlideMoving,L=A.isTravellerMoving,z=A.isTravellerFocused;if(!o||!o.length||!isNumber(f)||!isNumber(d)||!isNumber(p)||!isNumber(g)||p<=0||g<=0)return null;var U=clsx("recharts-brush",l),W=React.Children.count(u)===1,H=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:U,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:H},this.renderBackground(),W&&this.renderPanorama(),this.renderSlide(R,I),this.renderTravellerLayer(R,"startX"),this.renderTravellerLayer(I,"endX"),(j||q||L||z||E)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,l=i.y,u=i.width,f=i.height,d=i.stroke,p=Math.floor(l+f/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:o,y:l,width:u,height:f,fill:d,stroke:"none"}),React.createElement("line",{x1:o+1,y1:p,x2:o+u-1,y2:p,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:o+1,y1:p+2,x2:o+u-1,y2:p+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var l;return React.isValidElement(i)?l=React.cloneElement(i,o):isFunction(i)?l=i(o):l=e.renderDefaultTraveller(o),l}},{key:"getDerivedStateFromProps",value:function(i,o){var l=i.data,u=i.width,f=i.x,d=i.travellerWidth,p=i.updateId,g=i.startIndex,E=i.endIndex;if(l!==o.prevData||p!==o.prevUpdateId)return _objectSpread$e({prevData:l,prevTravellerWidth:d,prevUpdateId:p,prevX:f,prevWidth:u},l&&l.length?createScale({data:l,width:u,x:f,travellerWidth:d,startIndex:g,endIndex:E}):{scale:null,scaleValues:null});if(o.scale&&(u!==o.prevWidth||f!==o.prevX||d!==o.prevTravellerWidth)){o.scale.range([f,f+u-d]);var A=o.scale.domain().map(function(R){return o.scale(R)});return{prevData:l,prevTravellerWidth:d,prevUpdateId:p,prevX:f,prevWidth:u,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:A}}return null}},{key:"getIndexInRange",value:function(i,o){for(var l=i.length,u=0,f=l-1;f-u>1;){var d=Math.floor((u+f)/2);i[d]>o?f=d:u=d}return o>=i[f]?f:u}}])}(reactExports.PureComponent);_defineProperty$i(Brush,"displayName","Brush");_defineProperty$i(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _baseSome,hasRequired_baseSome;function require_baseSome(){if(hasRequired_baseSome)return _baseSome;hasRequired_baseSome=1;var t=require_baseEach();function e(n,i){var o;return t(n,function(l,u,f){return o=i(l,u,f),!o}),!!o}return _baseSome=e,_baseSome}var some_1,hasRequiredSome;function requireSome(){if(hasRequiredSome)return some_1;hasRequiredSome=1;var t=require_arraySome(),e=require_baseIteratee(),n=require_baseSome(),i=requireIsArray(),o=require_isIterateeCall();function l(u,f,d){var p=i(u)?t:n;return d&&o(u,f,d)&&(f=void 0),p(u,e(f,3))}return some_1=l,some_1}var someExports=requireSome();const some=getDefaultExportFromCjs(someExports);var ifOverflowMatches=function t(e,n){var i=e.alwaysShow,o=e.ifOverflow;return i&&(o="extendDomain"),o===n},_baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var t=require_defineProperty();function e(n,i,o){i=="__proto__"&&t?t(n,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[i]=o}return _baseAssignValue=e,_baseAssignValue}var mapValues_1,hasRequiredMapValues;function requireMapValues(){if(hasRequiredMapValues)return mapValues_1;hasRequiredMapValues=1;var t=require_baseAssignValue(),e=require_baseForOwn(),n=require_baseIteratee();function i(o,l){var u={};return l=n(l,3),e(o,function(f,d,p){t(u,d,l(f,d,p))}),u}return mapValues_1=i,mapValues_1}var mapValuesExports=requireMapValues();const mapValues=getDefaultExportFromCjs(mapValuesExports);var _arrayEvery,hasRequired_arrayEvery;function require_arrayEvery(){if(hasRequired_arrayEvery)return _arrayEvery;hasRequired_arrayEvery=1;function t(e,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(!n(e[i],i,e))return!1;return!0}return _arrayEvery=t,_arrayEvery}var _baseEvery,hasRequired_baseEvery;function require_baseEvery(){if(hasRequired_baseEvery)return _baseEvery;hasRequired_baseEvery=1;var t=require_baseEach();function e(n,i){var o=!0;return t(n,function(l,u,f){return o=!!i(l,u,f),o}),o}return _baseEvery=e,_baseEvery}var every_1,hasRequiredEvery;function requireEvery(){if(hasRequiredEvery)return every_1;hasRequiredEvery=1;var t=require_arrayEvery(),e=require_baseEvery(),n=require_baseIteratee(),i=requireIsArray(),o=require_isIterateeCall();function l(u,f,d){var p=i(u)?t:e;return d&&o(u,f,d)&&(f=void 0),p(u,n(f,3))}return every_1=l,every_1}var everyExports=requireEvery();const every=getDefaultExportFromCjs(everyExports);var _excluded$7=["x","y"];function _typeof$h(t){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$h(t)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$d.apply(this,arguments)}function ownKeys$d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$d(Object(n),!0).forEach(function(i){_defineProperty$h(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$d(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$h(t,e,n){return e=_toPropertyKey$h(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$h(t){var e=_toPrimitive$h(t,"string");return _typeof$h(e)=="symbol"?e:e+""}function _toPrimitive$h(t,e){if(_typeof$h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$h(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$7(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$7(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$7(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function typeguardBarRectangleProps(t,e){var n=t.x,i=t.y,o=_objectWithoutProperties$7(t,_excluded$7),l="".concat(n),u=parseInt(l,10),f="".concat(i),d=parseInt(f,10),p="".concat(e.height||o.height),g=parseInt(p,10),E="".concat(e.width||o.width),A=parseInt(E,10);return _objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d({},e),o),u?{x:u}:{}),d?{y:d}:{}),{},{height:g,width:A,name:e.name,radius:e.radius})}function BarRectangle(t){return React.createElement(Shape,_extends$d({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},t))}var minPointSizeCallback=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(i,o){if(typeof e=="number")return e;var l=typeof i=="number";return l?e(i,o):(l||invariant$1(),n)}},_excluded$6=["value","background"],_Bar;function _typeof$g(t){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$g(t)}function _objectWithoutProperties$6(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$6(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$6(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$c.apply(this,arguments)}function ownKeys$c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$c(Object(n),!0).forEach(function(i){_defineProperty$g(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$c(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$g(i.key),i)}}function _createClass$d(t,e,n){return e&&_defineProperties$d(t.prototype,e),n&&_defineProperties$d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$b(t,e,n){return e=_getPrototypeOf$b(e),_possibleConstructorReturn$b(t,_isNativeReflectConstruct$b()?Reflect.construct(e,n||[],_getPrototypeOf$b(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$b(t,e){if(e&&(_typeof$g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(t)}function _assertThisInitialized$b(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!t})()}function _getPrototypeOf$b(t){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$b(t)}function _inherits$b(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$b(t,e)}function _setPrototypeOf$b(t,e){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$b(t,e)}function _defineProperty$g(t,e,n){return e=_toPropertyKey$g(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$g(t){var e=_toPrimitive$g(t,"string");return _typeof$g(e)=="symbol"?e:e+""}function _toPrimitive$g(t,e){if(_typeof$g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$g(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bar=function(t){function e(){var n;_classCallCheck$d(this,e);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=_callSuper$b(this,e,[].concat(o)),_defineProperty$g(n,"state",{isAnimationFinished:!1}),_defineProperty$g(n,"id",uniqueId("recharts-bar-")),_defineProperty$g(n,"handleAnimationEnd",function(){var u=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),u&&u()}),_defineProperty$g(n,"handleAnimationStart",function(){var u=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),u&&u()}),n}return _inherits$b(e,t),_createClass$d(e,[{key:"renderRectanglesStatically",value:function(i){var o=this,l=this.props,u=l.shape,f=l.dataKey,d=l.activeIndex,p=l.activeBar,g=filterProps$1(this.props,!1);return i&&i.map(function(E,A){var R=A===d,I=R?p:u,j=_objectSpread$c(_objectSpread$c(_objectSpread$c({},g),E),{},{isActive:R,option:I,index:A,dataKey:f,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return React.createElement(Layer,_extends$c({className:"recharts-bar-rectangle"},adaptEventsOfChild(o.props,E,A),{key:"rectangle-".concat(E==null?void 0:E.x,"-").concat(E==null?void 0:E.y,"-").concat(E==null?void 0:E.value)}),React.createElement(BarRectangle,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,l=o.data,u=o.layout,f=o.isAnimationActive,d=o.animationBegin,p=o.animationDuration,g=o.animationEasing,E=o.animationId,A=this.state.prevData;return React.createElement(Animate,{begin:d,duration:p,isActive:f,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(E),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var I=R.t,j=l.map(function(q,L){var z=A&&A[L];if(z){var U=interpolateNumber$2(z.x,q.x),W=interpolateNumber$2(z.y,q.y),H=interpolateNumber$2(z.width,q.width),Z=interpolateNumber$2(z.height,q.height);return _objectSpread$c(_objectSpread$c({},q),{},{x:U(I),y:W(I),width:H(I),height:Z(I)})}if(u==="horizontal"){var Y=interpolateNumber$2(0,q.height),J=Y(I);return _objectSpread$c(_objectSpread$c({},q),{},{y:q.y+q.height-J,height:J})}var ne=interpolateNumber$2(0,q.width),ae=ne(I);return _objectSpread$c(_objectSpread$c({},q),{},{width:ae})});return React.createElement(Layer,null,i.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,l=i.isAnimationActive,u=this.state.prevData;return l&&o&&o.length&&(!u||!isEqual(u,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props,l=o.data,u=o.dataKey,f=o.activeIndex,d=filterProps$1(this.props.background,!1);return l.map(function(p,g){p.value;var E=p.background,A=_objectWithoutProperties$6(p,_excluded$6);if(!E)return null;var R=_objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c({},A),{},{fill:"#eee"},E),d),adaptEventsOfChild(i.props,p,g)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:u,index:g,className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$c({key:"background-bar-".concat(g),option:i.props.background,isActive:g===f},R))})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.data,f=l.xAxis,d=l.yAxis,p=l.layout,g=l.children,E=findAllByType(g,ErrorBar);if(!E)return null;var A=p==="vertical"?u[0].height/2:u[0].width/2,R=function(q,L){var z=Array.isArray(q.value)?q.value[1]:q.value;return{x:q.x,y:q.y,value:z,errorVal:getValueByDataKey(q,L)}},I={clipPath:i?"url(#clipPath-".concat(o,")"):null};return React.createElement(Layer,I,E.map(function(j){return React.cloneElement(j,{key:"error-bar-".concat(o,"-").concat(j.props.dataKey),data:u,xAxis:f,yAxis:d,layout:p,offset:A,dataPointFormatter:R})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,l=i.data,u=i.className,f=i.xAxis,d=i.yAxis,p=i.left,g=i.top,E=i.width,A=i.height,R=i.isAnimationActive,I=i.background,j=i.id;if(o||!l||!l.length)return null;var q=this.state.isAnimationFinished,L=clsx("recharts-bar",u),z=f&&f.allowDataOverflow,U=d&&d.allowDataOverflow,W=z||U,H=isNil(j)?this.id:j;return React.createElement(Layer,{className:L},z||U?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(H)},React.createElement("rect",{x:z?p:p-E/2,y:U?g:g-A/2,width:z?E:E*2,height:U?A:A*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:W?"url(#clipPath-".concat(H,")"):null},I?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(W,H),(!R||q)&&LabelList.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$g(Bar,"displayName","Bar");_defineProperty$g(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$g(Bar,"getComposedData",function(t){var e=t.props,n=t.item,i=t.barPosition,o=t.bandSize,l=t.xAxis,u=t.yAxis,f=t.xAxisTicks,d=t.yAxisTicks,p=t.stackedData,g=t.dataStartIndex,E=t.displayedData,A=t.offset,R=findPositionOfBar(i,n);if(!R)return null;var I=e.layout,j=n.type.defaultProps,q=j!==void 0?_objectSpread$c(_objectSpread$c({},j),n.props):n.props,L=q.dataKey,z=q.children,U=q.minPointSize,W=I==="horizontal"?u:l,H=p?W.scale.domain():null,Z=getBaseValueOfBar({numericAxis:W}),Y=findAllByType(z,Cell),J=E.map(function(ne,ae){var se,ue,fe,_e,ge,ce;p?se=truncateByDomain(p[g+ae],H):(se=getValueByDataKey(ne,L),Array.isArray(se)||(se=[Z,se]));var me=minPointSizeCallback(U,_Bar.defaultProps.minPointSize)(se[1],ae);if(I==="horizontal"){var ee,ie=[u.scale(se[0]),u.scale(se[1])],oe=ie[0],de=ie[1];ue=getCateCoordinateOfBar({axis:l,ticks:f,bandSize:o,offset:R.offset,entry:ne,index:ae}),fe=(ee=de??oe)!==null&&ee!==void 0?ee:void 0,_e=R.size;var xe=oe-de;if(ge=Number.isNaN(xe)?0:xe,ce={x:ue,y:u.y,width:_e,height:u.height},Math.abs(me)>0&&Math.abs(ge)<Math.abs(me)){var Ee=mathSign(ge||me)*(Math.abs(me)-Math.abs(ge));fe-=Ee,ge+=Ee}}else{var Ae=[l.scale(se[0]),l.scale(se[1])],Ce=Ae[0],Oe=Ae[1];if(ue=Ce,fe=getCateCoordinateOfBar({axis:u,ticks:d,bandSize:o,offset:R.offset,entry:ne,index:ae}),_e=Oe-Ce,ge=R.size,ce={x:l.x,y:fe,width:l.width,height:ge},Math.abs(me)>0&&Math.abs(_e)<Math.abs(me)){var We=mathSign(_e||me)*(Math.abs(me)-Math.abs(_e));_e+=We}}return _objectSpread$c(_objectSpread$c(_objectSpread$c({},ne),{},{x:ue,y:fe,width:_e,height:ge,value:p?se:se[1],payload:ne,background:ce},Y&&Y[ae]&&Y[ae].props),{},{tooltipPayload:[getTooltipItem(n,ne)],tooltipPosition:{x:ue+_e/2,y:fe+ge/2}})});return _objectSpread$c({data:J,layout:I},A)});function _typeof$f(t){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$f(t)}function _classCallCheck$c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$f(i.key),i)}}function _createClass$c(t,e,n){return e&&_defineProperties$c(t.prototype,e),n&&_defineProperties$c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ownKeys$b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$b(Object(n),!0).forEach(function(i){_defineProperty$f(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$b(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$f(t,e,n){return e=_toPropertyKey$f(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$f(t){var e=_toPrimitive$f(t,"string");return _typeof$f(e)=="symbol"?e:e+""}function _toPrimitive$f(t,e){if(_typeof$f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$f(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var formatAxisMap=function t(e,n,i,o,l){var u=e.width,f=e.height,d=e.layout,p=e.children,g=Object.keys(n),E={left:i.left,leftMirror:i.left,right:u-i.right,rightMirror:u-i.right,top:i.top,topMirror:i.top,bottom:f-i.bottom,bottomMirror:f-i.bottom},A=!!findChildByType(p,Bar);return g.reduce(function(R,I){var j=n[I],q=j.orientation,L=j.domain,z=j.padding,U=z===void 0?{}:z,W=j.mirror,H=j.reversed,Z="".concat(q).concat(W?"Mirror":""),Y,J,ne,ae,se;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var ue=L[1]-L[0],fe=1/0,_e=j.categoricalDomain.sort();if(_e.forEach(function(Ae,Ce){Ce>0&&(fe=Math.min((Ae||0)-(_e[Ce-1]||0),fe))}),Number.isFinite(fe)){var ge=fe/ue,ce=j.layout==="vertical"?i.height:i.width;if(j.padding==="gap"&&(Y=ge*ce/2),j.padding==="no-gap"){var me=getPercentValue(e.barCategoryGap,ge*ce),ee=ge*ce/2;Y=ee-me-(ee-me)/ce*me}}}o==="xAxis"?J=[i.left+(U.left||0)+(Y||0),i.left+i.width-(U.right||0)-(Y||0)]:o==="yAxis"?J=d==="horizontal"?[i.top+i.height-(U.bottom||0),i.top+(U.top||0)]:[i.top+(U.top||0)+(Y||0),i.top+i.height-(U.bottom||0)-(Y||0)]:J=j.range,H&&(J=[J[1],J[0]]);var ie=parseScale(j,l,A),oe=ie.scale,de=ie.realScaleType;oe.domain(L).range(J),checkDomainOfScale(oe);var xe=getTicksOfScale(oe,_objectSpread$b(_objectSpread$b({},j),{},{realScaleType:de}));o==="xAxis"?(se=q==="top"&&!W||q==="bottom"&&W,ne=i.left,ae=E[Z]-se*j.height):o==="yAxis"&&(se=q==="left"&&!W||q==="right"&&W,ne=E[Z]-se*j.width,ae=i.top);var Ee=_objectSpread$b(_objectSpread$b(_objectSpread$b({},j),xe),{},{realScaleType:de,x:ne,y:ae,scale:oe,width:o==="xAxis"?i.width:j.width,height:o==="yAxis"?i.height:j.height});return Ee.bandSize=getBandSizeOfAxis(Ee,xe),!j.hide&&o==="xAxis"?E[Z]+=(se?-1:1)*Ee.height:j.hide||(E[Z]+=(se?-1:1)*Ee.width),_objectSpread$b(_objectSpread$b({},R),{},_defineProperty$f({},I,Ee))},{})},rectWithPoints=function t(e,n){var i=e.x,o=e.y,l=n.x,u=n.y;return{x:Math.min(i,l),y:Math.min(o,u),width:Math.abs(l-i),height:Math.abs(u-o)}},rectWithCoords=function t(e){var n=e.x1,i=e.y1,o=e.x2,l=e.y2;return rectWithPoints({x:n,y:i},{x:o,y:l})},ScaleHelper=function(){function t(e){_classCallCheck$c(this,t),this.scale=e}return _createClass$c(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;if(n!==void 0){if(l)switch(l){case"start":return this.scale(n);case"middle":{var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}case"end":{var f=this.bandwidth?this.bandwidth():0;return this.scale(n)+f}default:return this.scale(n)}if(o){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var i=this.range(),o=i[0],l=i[i.length-1];return o<=l?n>=o&&n<=l:n>=l&&n<=o}}],[{key:"create",value:function(n){return new t(n)}}])}();_defineProperty$f(ScaleHelper,"EPS",1e-4);var createLabeledScales=function t(e){var n=Object.keys(e).reduce(function(i,o){return _objectSpread$b(_objectSpread$b({},i),{},_defineProperty$f({},o,ScaleHelper.create(e[o])))},{});return _objectSpread$b(_objectSpread$b({},n),{},{apply:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.bandAware,f=l.position;return mapValues(o,function(d,p){return n[p].apply(d,{bandAware:u,position:f})})},isInRange:function(o){return every(o,function(l,u){return n[u].isInRange(l)})}})};function normalizeAngle(t){return(t%180+180)%180}var getAngledRectangleWidth=function t(e){var n=e.width,i=e.height,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=normalizeAngle(o),u=l*Math.PI/180,f=Math.atan(i/n),d=u>f&&u<Math.PI-f?i/Math.sin(u):n/Math.cos(u);return Math.abs(d)},_createFind,hasRequired_createFind;function require_createFind(){if(hasRequired_createFind)return _createFind;hasRequired_createFind=1;var t=require_baseIteratee(),e=requireIsArrayLike(),n=requireKeys();function i(o){return function(l,u,f){var d=Object(l);if(!e(l)){var p=t(u,3);l=n(l),u=function(E){return p(d[E],E,d)}}var g=o(l,u,f);return g>-1?d[p?l[g]:g]:void 0}}return _createFind=i,_createFind}var toInteger_1,hasRequiredToInteger;function requireToInteger(){if(hasRequiredToInteger)return toInteger_1;hasRequiredToInteger=1;var t=requireToFinite();function e(n){var i=t(n),o=i%1;return i===i?o?i-o:i:0}return toInteger_1=e,toInteger_1}var findIndex_1,hasRequiredFindIndex;function requireFindIndex(){if(hasRequiredFindIndex)return findIndex_1;hasRequiredFindIndex=1;var t=require_baseFindIndex(),e=require_baseIteratee(),n=requireToInteger(),i=Math.max;function o(l,u,f){var d=l==null?0:l.length;if(!d)return-1;var p=f==null?0:n(f);return p<0&&(p=i(d+p,0)),t(l,e(u,3),p)}return findIndex_1=o,findIndex_1}var find_1,hasRequiredFind;function requireFind(){if(hasRequiredFind)return find_1;hasRequiredFind=1;var t=require_createFind(),e=requireFindIndex(),n=t(e);return find_1=n,find_1}var findExports=requireFind();const find=getDefaultExportFromCjs(findExports);var memoizeExports=requireMemoize();const memoize$1=getDefaultExportFromCjs(memoizeExports);var calculateViewBox=memoize$1(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function t(e){var n=e.state,i=n.xAxisMap,o=n.yAxisMap,l=n.offset,u=e.clipPathId,f=e.children,d=e.width,p=e.height,g=calculateViewBox(l);return React.createElement(XAxisContext.Provider,{value:i},React.createElement(YAxisContext.Provider,{value:o},React.createElement(OffsetContext.Provider,{value:l},React.createElement(ViewBoxContext.Provider,{value:g},React.createElement(ClipPathIdContext.Provider,{value:u},React.createElement(ChartHeightContext.Provider,{value:p},React.createElement(ChartWidthContext.Provider,{value:d},f)))))))},useClipPathId=function t(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function t(e){var n=reactExports.useContext(XAxisContext);n==null&&invariant$1();var i=n[e];return i==null&&invariant$1(),i},useArbitraryXAxis=function t(){var e=reactExports.useContext(XAxisContext);return getAnyElementOfObject(e)},useYAxisWithFiniteDomainOrRandom=function t(){var e=reactExports.useContext(YAxisContext),n=find(e,function(i){return every(i.domain,Number.isFinite)});return n||getAnyElementOfObject(e)},useYAxisOrThrow=function t(e){var n=reactExports.useContext(YAxisContext);n==null&&invariant$1();var i=n[e];return i==null&&invariant$1(),i},useViewBox=function t(){var e=reactExports.useContext(ViewBoxContext);return e},useOffset=function t(){return reactExports.useContext(OffsetContext)},useChartWidth=function t(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function t(){return reactExports.useContext(ChartHeightContext)};function _typeof$e(t){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$e(t)}function _classCallCheck$b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$e(i.key),i)}}function _createClass$b(t,e,n){return e&&_defineProperties$b(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$a(t,e,n){return e=_getPrototypeOf$a(e),_possibleConstructorReturn$a(t,_isNativeReflectConstruct$a()?Reflect.construct(e,n||[],_getPrototypeOf$a(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$a(t,e){if(e&&(_typeof$e(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(t)}function _assertThisInitialized$a(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!t})()}function _getPrototypeOf$a(t){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$a(t)}function _inherits$a(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$a(t,e)}function _setPrototypeOf$a(t,e){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$a(t,e)}function ownKeys$a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$a(Object(n),!0).forEach(function(i){_defineProperty$e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$e(t,e,n){return e=_toPropertyKey$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$e(t){var e=_toPrimitive$e(t,"string");return _typeof$e(e)=="symbol"?e:e+""}function _toPrimitive$e(t,e){if(_typeof$e(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$e(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _slicedToArray$1(t,e){return _arrayWithHoles$1(t)||_iterableToArrayLimit$1(t,e)||_unsupportedIterableToArray$3(t,e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$3(t,e)}}function _arrayLikeToArray$3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit$1(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e!==0)for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles$1(t){if(Array.isArray(t))return t}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$b.apply(this,arguments)}var renderLine=function t(e,n){var i;return React.isValidElement(e)?i=React.cloneElement(e,n):isFunction(e)?i=e(n):i=React.createElement("line",_extends$b({},n,{className:"recharts-reference-line-line"})),i},getEndPoints=function t(e,n,i,o,l,u,f,d,p){var g=l.x,E=l.y,A=l.width,R=l.height;if(i){var I=p.y,j=e.y.apply(I,{position:u});if(ifOverflowMatches(p,"discard")&&!e.y.isInRange(j))return null;var q=[{x:g+A,y:j},{x:g,y:j}];return d==="left"?q.reverse():q}if(n){var L=p.x,z=e.x.apply(L,{position:u});if(ifOverflowMatches(p,"discard")&&!e.x.isInRange(z))return null;var U=[{x:z,y:E+R},{x:z,y:E}];return f==="top"?U.reverse():U}if(o){var W=p.segment,H=W.map(function(Z){return e.apply(Z,{position:u})});return ifOverflowMatches(p,"discard")&&some(H,function(Z){return!e.isInRange(Z)})?null:H}return null};function ReferenceLineImpl(t){var e=t.x,n=t.y,i=t.segment,o=t.xAxisId,l=t.yAxisId,u=t.shape,f=t.className,d=t.alwaysShow,p=useClipPathId(),g=useXAxisOrThrow(o),E=useYAxisOrThrow(l),A=useViewBox();if(!p||!A)return null;warn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var R=createLabeledScales({x:g.scale,y:E.scale}),I=isNumOrStr(e),j=isNumOrStr(n),q=i&&i.length===2,L=getEndPoints(R,I,j,q,A,t.position,g.orientation,E.orientation,t);if(!L)return null;var z=_slicedToArray$1(L,2),U=z[0],W=U.x,H=U.y,Z=z[1],Y=Z.x,J=Z.y,ne=ifOverflowMatches(t,"hidden")?"url(#".concat(p,")"):void 0,ae=_objectSpread$a(_objectSpread$a({clipPath:ne},filterProps$1(t,!0)),{},{x1:W,y1:H,x2:Y,y2:J});return React.createElement(Layer,{className:clsx("recharts-reference-line",f)},renderLine(u,ae),Label.renderCallByParent(t,rectWithCoords({x1:W,y1:H,x2:Y,y2:J})))}var ReferenceLine=function(t){function e(){return _classCallCheck$b(this,e),_callSuper$a(this,e,arguments)}return _inherits$a(e,t),_createClass$b(e,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])}(React.Component);_defineProperty$e(ReferenceLine,"displayName","ReferenceLine");_defineProperty$e(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$a.apply(this,arguments)}function _typeof$d(t){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$d(t)}function ownKeys$9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$9(Object(n),!0).forEach(function(i){_defineProperty$d(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$d(i.key),i)}}function _createClass$a(t,e,n){return e&&_defineProperties$a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$9(t,e,n){return e=_getPrototypeOf$9(e),_possibleConstructorReturn$9(t,_isNativeReflectConstruct$9()?Reflect.construct(e,n||[],_getPrototypeOf$9(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$9(t,e){if(e&&(_typeof$d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(t)}function _assertThisInitialized$9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!t})()}function _getPrototypeOf$9(t){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$9(t)}function _inherits$9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$9(t,e)}function _setPrototypeOf$9(t,e){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$9(t,e)}function _defineProperty$d(t,e,n){return e=_toPropertyKey$d(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$d(t){var e=_toPrimitive$d(t,"string");return _typeof$d(e)=="symbol"?e:e+""}function _toPrimitive$d(t,e){if(_typeof$d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$d(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var getCoordinate=function t(e){var n=e.x,i=e.y,o=e.xAxis,l=e.yAxis,u=createLabeledScales({x:o.scale,y:l.scale}),f=u.apply({x:n,y:i},{bandAware:!0});return ifOverflowMatches(e,"discard")&&!u.isInRange(f)?null:f},ReferenceDot=function(t){function e(){return _classCallCheck$a(this,e),_callSuper$9(this,e,arguments)}return _inherits$9(e,t),_createClass$a(e,[{key:"render",value:function(){var i=this.props,o=i.x,l=i.y,u=i.r,f=i.alwaysShow,d=i.clipPathId,p=isNumOrStr(o),g=isNumOrStr(l);if(warn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!p||!g)return null;var E=getCoordinate(this.props);if(!E)return null;var A=E.x,R=E.y,I=this.props,j=I.shape,q=I.className,L=ifOverflowMatches(this.props,"hidden")?"url(#".concat(d,")"):void 0,z=_objectSpread$9(_objectSpread$9({clipPath:L},filterProps$1(this.props,!0)),{},{cx:A,cy:R});return React.createElement(Layer,{className:clsx("recharts-reference-dot",q)},e.renderDot(j,z),Label.renderCallByParent(this.props,{x:A-u,y:R-u,width:2*u,height:2*u}))}}])}(React.Component);_defineProperty$d(ReferenceDot,"displayName","ReferenceDot");_defineProperty$d(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$d(ReferenceDot,"renderDot",function(t,e){var n;return React.isValidElement(t)?n=React.cloneElement(t,e):isFunction(t)?n=t(e):n=React.createElement(Dot,_extends$a({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$9.apply(this,arguments)}function _typeof$c(t){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$c(t)}function ownKeys$8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$8(Object(n),!0).forEach(function(i){_defineProperty$c(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$c(i.key),i)}}function _createClass$9(t,e,n){return e&&_defineProperties$9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$8(t,e,n){return e=_getPrototypeOf$8(e),_possibleConstructorReturn$8(t,_isNativeReflectConstruct$8()?Reflect.construct(e,n||[],_getPrototypeOf$8(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$8(t,e){if(e&&(_typeof$c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(t)}function _assertThisInitialized$8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!t})()}function _getPrototypeOf$8(t){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$8(t)}function _inherits$8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$8(t,e)}function _setPrototypeOf$8(t,e){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$8(t,e)}function _defineProperty$c(t,e,n){return e=_toPropertyKey$c(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$c(t){var e=_toPrimitive$c(t,"string");return _typeof$c(e)=="symbol"?e:e+""}function _toPrimitive$c(t,e){if(_typeof$c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$c(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var getRect=function t(e,n,i,o,l){var u=l.x1,f=l.x2,d=l.y1,p=l.y2,g=l.xAxis,E=l.yAxis;if(!g||!E)return null;var A=createLabeledScales({x:g.scale,y:E.scale}),R={x:e?A.x.apply(u,{position:"start"}):A.x.rangeMin,y:i?A.y.apply(d,{position:"start"}):A.y.rangeMin},I={x:n?A.x.apply(f,{position:"end"}):A.x.rangeMax,y:o?A.y.apply(p,{position:"end"}):A.y.rangeMax};return ifOverflowMatches(l,"discard")&&(!A.isInRange(R)||!A.isInRange(I))?null:rectWithPoints(R,I)},ReferenceArea=function(t){function e(){return _classCallCheck$9(this,e),_callSuper$8(this,e,arguments)}return _inherits$8(e,t),_createClass$9(e,[{key:"render",value:function(){var i=this.props,o=i.x1,l=i.x2,u=i.y1,f=i.y2,d=i.className,p=i.alwaysShow,g=i.clipPathId;warn(p===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var E=isNumOrStr(o),A=isNumOrStr(l),R=isNumOrStr(u),I=isNumOrStr(f),j=this.props.shape;if(!E&&!A&&!R&&!I&&!j)return null;var q=getRect(E,A,R,I,this.props);if(!q&&!j)return null;var L=ifOverflowMatches(this.props,"hidden")?"url(#".concat(g,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",d)},e.renderRect(j,_objectSpread$8(_objectSpread$8({clipPath:L},filterProps$1(this.props,!0)),q)),Label.renderCallByParent(this.props,q))}}])}(React.Component);_defineProperty$c(ReferenceArea,"displayName","ReferenceArea");_defineProperty$c(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$c(ReferenceArea,"renderRect",function(t,e){var n;return React.isValidElement(t)?n=React.cloneElement(t,e):isFunction(t)?n=t(e):n=React.createElement(Rectangle,_extends$9({},e,{className:"recharts-reference-area-rect"})),n});function getEveryNthWithCondition(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var i=[],o=0;o<t.length;o+=e)i.push(t[o]);return i}function getAngledTickWidth(t,e,n){var i={width:t.width+e.width,height:t.height+e.height};return getAngledRectangleWidth(i,n)}function getTickBoundaries(t,e,n){var i=n==="width",o=t.x,l=t.y,u=t.width,f=t.height;return e===1?{start:i?o:l,end:i?o+u:l+f}:{start:i?o+u:l+f,end:i?o:l}}function isVisible(t,e,n,i,o){if(t*e<t*i||t*e>t*o)return!1;var l=n();return t*(e-t*l/2-i)>=0&&t*(e+t*l/2-o)<=0}function getNumberIntervalTicks(t,e){return getEveryNthWithCondition(t,e+1)}function getEquidistantTicks(t,e,n,i,o){for(var l=(i||[]).slice(),u=e.start,f=e.end,d=0,p=1,g=u,E=function(){var I=i==null?void 0:i[d];if(I===void 0)return{v:getEveryNthWithCondition(i,p)};var j=d,q,L=function(){return q===void 0&&(q=n(I,j)),q},z=I.coordinate,U=d===0||isVisible(t,z,L,g,f);U||(d=0,g=u,p+=1),U&&(g=z+t*(L()/2+o),d+=p)},A;p<=l.length;)if(A=E(),A)return A.v;return[]}function _typeof$b(t){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$b(t)}function ownKeys$7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$7(Object(n),!0).forEach(function(i){_defineProperty$b(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$b(t,e,n){return e=_toPropertyKey$b(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$b(t){var e=_toPrimitive$b(t,"string");return _typeof$b(e)=="symbol"?e:e+""}function _toPrimitive$b(t,e){if(_typeof$b(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$b(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getTicksEnd(t,e,n,i,o){for(var l=(i||[]).slice(),u=l.length,f=e.start,d=e.end,p=function(A){var R=l[A],I,j=function(){return I===void 0&&(I=n(R,A)),I};if(A===u-1){var q=t*(R.coordinate+t*j()/2-d);l[A]=R=_objectSpread$7(_objectSpread$7({},R),{},{tickCoord:q>0?R.coordinate-q*t:R.coordinate})}else l[A]=R=_objectSpread$7(_objectSpread$7({},R),{},{tickCoord:R.coordinate});var L=isVisible(t,R.tickCoord,j,f,d);L&&(d=R.tickCoord-t*(j()/2+o),l[A]=_objectSpread$7(_objectSpread$7({},R),{},{isShow:!0}))},g=u-1;g>=0;g--)p(g);return l}function getTicksStart(t,e,n,i,o,l){var u=(i||[]).slice(),f=u.length,d=e.start,p=e.end;if(l){var g=i[f-1],E=n(g,f-1),A=t*(g.coordinate+t*E/2-p);u[f-1]=g=_objectSpread$7(_objectSpread$7({},g),{},{tickCoord:A>0?g.coordinate-A*t:g.coordinate});var R=isVisible(t,g.tickCoord,function(){return E},d,p);R&&(p=g.tickCoord-t*(E/2+o),u[f-1]=_objectSpread$7(_objectSpread$7({},g),{},{isShow:!0}))}for(var I=l?f-1:f,j=function(z){var U=u[z],W,H=function(){return W===void 0&&(W=n(U,z)),W};if(z===0){var Z=t*(U.coordinate-t*H()/2-d);u[z]=U=_objectSpread$7(_objectSpread$7({},U),{},{tickCoord:Z<0?U.coordinate-Z*t:U.coordinate})}else u[z]=U=_objectSpread$7(_objectSpread$7({},U),{},{tickCoord:U.coordinate});var Y=isVisible(t,U.tickCoord,H,d,p);Y&&(d=U.tickCoord+t*(H()/2+o),u[z]=_objectSpread$7(_objectSpread$7({},U),{},{isShow:!0}))},q=0;q<I;q++)j(q);return u}function getTicks(t,e,n){var i=t.tick,o=t.ticks,l=t.viewBox,u=t.minTickGap,f=t.orientation,d=t.interval,p=t.tickFormatter,g=t.unit,E=t.angle;if(!o||!o.length||!i)return[];if(isNumber(d)||Global.isSsr)return getNumberIntervalTicks(o,typeof d=="number"&&isNumber(d)?d:0);var A=[],R=f==="top"||f==="bottom"?"width":"height",I=g&&R==="width"?getStringSize(g,{fontSize:e,letterSpacing:n}):{width:0,height:0},j=function(U,W){var H=isFunction(p)?p(U.value,W):U.value;return R==="width"?getAngledTickWidth(getStringSize(H,{fontSize:e,letterSpacing:n}),I,E):getStringSize(H,{fontSize:e,letterSpacing:n})[R]},q=o.length>=2?mathSign(o[1].coordinate-o[0].coordinate):1,L=getTickBoundaries(l,q,R);return d==="equidistantPreserveStart"?getEquidistantTicks(q,L,j,o,u):(d==="preserveStart"||d==="preserveStartEnd"?A=getTicksStart(q,L,j,o,u,d==="preserveStartEnd"):A=getTicksEnd(q,L,j,o,u),A.filter(function(z){return z.isShow}))}var _excluded$5=["viewBox"],_excluded2$4=["viewBox"],_excluded3=["ticks"];function _typeof$a(t){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$a(t)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$8.apply(this,arguments)}function ownKeys$6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$6(Object(n),!0).forEach(function(i){_defineProperty$a(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _objectWithoutProperties$5(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$5(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$5(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _classCallCheck$8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$a(i.key),i)}}function _createClass$8(t,e,n){return e&&_defineProperties$8(t.prototype,e),n&&_defineProperties$8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$7(t,e,n){return e=_getPrototypeOf$7(e),_possibleConstructorReturn$7(t,_isNativeReflectConstruct$7()?Reflect.construct(e,n||[],_getPrototypeOf$7(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$7(t,e){if(e&&(_typeof$a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(t)}function _assertThisInitialized$7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!t})()}function _getPrototypeOf$7(t){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$7(t)}function _inherits$7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$7(t,e)}function _setPrototypeOf$7(t,e){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$7(t,e)}function _defineProperty$a(t,e,n){return e=_toPropertyKey$a(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$a(t){var e=_toPrimitive$a(t,"string");return _typeof$a(e)=="symbol"?e:e+""}function _toPrimitive$a(t,e){if(_typeof$a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$a(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CartesianAxis=function(t){function e(n){var i;return _classCallCheck$8(this,e),i=_callSuper$7(this,e,[n]),i.state={fontSize:"",letterSpacing:""},i}return _inherits$7(e,t),_createClass$8(e,[{key:"shouldComponentUpdate",value:function(i,o){var l=i.viewBox,u=_objectWithoutProperties$5(i,_excluded$5),f=this.props,d=f.viewBox,p=_objectWithoutProperties$5(f,_excluded2$4);return!shallowEqual(l,d)||!shallowEqual(u,p)||!shallowEqual(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,l=o.x,u=o.y,f=o.width,d=o.height,p=o.orientation,g=o.tickSize,E=o.mirror,A=o.tickMargin,R,I,j,q,L,z,U=E?-1:1,W=i.tickSize||g,H=isNumber(i.tickCoord)?i.tickCoord:i.coordinate;switch(p){case"top":R=I=i.coordinate,q=u+ +!E*d,j=q-U*W,z=j-U*A,L=H;break;case"left":j=q=i.coordinate,I=l+ +!E*f,R=I-U*W,L=R-U*A,z=H;break;case"right":j=q=i.coordinate,I=l+ +E*f,R=I+U*W,L=R+U*A,z=H;break;default:R=I=i.coordinate,q=u+ +E*d,j=q+U*W,z=j+U*A,L=H;break}return{line:{x1:R,y1:j,x2:I,y2:q},tick:{x:L,y:z}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,l=i.mirror,u;switch(o){case"left":u=l?"start":"end";break;case"right":u=l?"end":"start";break;default:u="middle";break}return u}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,l=i.mirror,u="end";switch(o){case"left":case"right":u="middle";break;case"top":u=l?"start":"end";break;default:u=l?"end":"start";break}return u}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,l=i.y,u=i.width,f=i.height,d=i.orientation,p=i.mirror,g=i.axisLine,E=_objectSpread$6(_objectSpread$6(_objectSpread$6({},filterProps$1(this.props,!1)),filterProps$1(g,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var A=+(d==="top"&&!p||d==="bottom"&&p);E=_objectSpread$6(_objectSpread$6({},E),{},{x1:o,y1:l+A*f,x2:o+u,y2:l+A*f})}else{var R=+(d==="left"&&!p||d==="right"&&p);E=_objectSpread$6(_objectSpread$6({},E),{},{x1:o+R*u,y1:l,x2:o+R*u,y2:l+f})}return React.createElement("line",_extends$8({},E,{className:clsx("recharts-cartesian-axis-line",get(g,"className"))}))}},{key:"renderTicks",value:function(i,o,l){var u=this,f=this.props,d=f.tickLine,p=f.stroke,g=f.tick,E=f.tickFormatter,A=f.unit,R=getTicks(_objectSpread$6(_objectSpread$6({},this.props),{},{ticks:i}),o,l),I=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),q=filterProps$1(this.props,!1),L=filterProps$1(g,!1),z=_objectSpread$6(_objectSpread$6({},q),{},{fill:"none"},filterProps$1(d,!1)),U=R.map(function(W,H){var Z=u.getTickLineCoord(W),Y=Z.line,J=Z.tick,ne=_objectSpread$6(_objectSpread$6(_objectSpread$6(_objectSpread$6({textAnchor:I,verticalAnchor:j},q),{},{stroke:"none",fill:p},L),J),{},{index:H,payload:W,visibleTicksCount:R.length,tickFormatter:E});return React.createElement(Layer,_extends$8({className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},adaptEventsOfChild(u.props,W,H)),d&&React.createElement("line",_extends$8({},z,Y,{className:clsx("recharts-cartesian-axis-tick-line",get(d,"className"))})),g&&e.renderTickItem(g,ne,"".concat(isFunction(E)?E(W.value,H):W.value).concat(A||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},U)}},{key:"render",value:function(){var i=this,o=this.props,l=o.axisLine,u=o.width,f=o.height,d=o.ticksGenerator,p=o.className,g=o.hide;if(g)return null;var E=this.props,A=E.ticks,R=_objectWithoutProperties$5(E,_excluded3),I=A;return isFunction(d)&&(I=A&&A.length>0?d(this.props):d(R)),u<=0||f<=0||!I||!I.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",p),ref:function(q){i.layerReference=q}},l&&this.renderAxisLine(),this.renderTicks(I,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,l){var u;return React.isValidElement(i)?u=React.cloneElement(i,o):isFunction(i)?u=i(o):u=React.createElement(Text,_extends$8({},o,{className:"recharts-cartesian-axis-tick-value"}),l),u}}])}(reactExports.Component);_defineProperty$a(CartesianAxis,"displayName","CartesianAxis");_defineProperty$a(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$4=["x1","y1","x2","y2","key"],_excluded2$3=["offset"];function _typeof$9(t){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$9(t)}function ownKeys$5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$5(Object(n),!0).forEach(function(i){_defineProperty$9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$9(t,e,n){return e=_toPropertyKey$9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$9(t){var e=_toPrimitive$9(t,"string");return _typeof$9(e)=="symbol"?e:e+""}function _toPrimitive$9(t,e){if(_typeof$9(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$9(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$7.apply(this,arguments)}function _objectWithoutProperties$4(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$4(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$4(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}var Background=function t(e){var n=e.fill;if(!n||n==="none")return null;var i=e.fillOpacity,o=e.x,l=e.y,u=e.width,f=e.height,d=e.ry;return React.createElement("rect",{x:o,y:l,ry:d,width:u,height:f,stroke:"none",fill:n,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function renderLineItem(t,e){var n;if(React.isValidElement(t))n=React.cloneElement(t,e);else if(isFunction(t))n=t(e);else{var i=e.x1,o=e.y1,l=e.x2,u=e.y2,f=e.key,d=_objectWithoutProperties$4(e,_excluded$4),p=filterProps$1(d,!1);p.offset;var g=_objectWithoutProperties$4(p,_excluded2$3);n=React.createElement("line",_extends$7({},g,{x1:i,y1:o,x2:l,y2:u,fill:"none",key:f}))}return n}function HorizontalGridLines(t){var e=t.x,n=t.width,i=t.horizontal,o=i===void 0?!0:i,l=t.horizontalPoints;if(!o||!l||!l.length)return null;var u=l.map(function(f,d){var p=_objectSpread$5(_objectSpread$5({},t),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(d),index:d});return renderLineItem(o,p)});return React.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function VerticalGridLines(t){var e=t.y,n=t.height,i=t.vertical,o=i===void 0?!0:i,l=t.verticalPoints;if(!o||!l||!l.length)return null;var u=l.map(function(f,d){var p=_objectSpread$5(_objectSpread$5({},t),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(d),index:d});return renderLineItem(o,p)});return React.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function HorizontalStripes(t){var e=t.horizontalFill,n=t.fillOpacity,i=t.x,o=t.y,l=t.width,u=t.height,f=t.horizontalPoints,d=t.horizontal,p=d===void 0?!0:d;if(!p||!e||!e.length)return null;var g=f.map(function(A){return Math.round(A+o-o)}).sort(function(A,R){return A-R});o!==g[0]&&g.unshift(0);var E=g.map(function(A,R){var I=!g[R+1],j=I?o+u-A:g[R+1]-A;if(j<=0)return null;var q=R%e.length;return React.createElement("rect",{key:"react-".concat(R),y:A,x:i,height:j,width:l,stroke:"none",fill:e[q],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},E)}function VerticalStripes(t){var e=t.vertical,n=e===void 0?!0:e,i=t.verticalFill,o=t.fillOpacity,l=t.x,u=t.y,f=t.width,d=t.height,p=t.verticalPoints;if(!n||!i||!i.length)return null;var g=p.map(function(A){return Math.round(A+l-l)}).sort(function(A,R){return A-R});l!==g[0]&&g.unshift(0);var E=g.map(function(A,R){var I=!g[R+1],j=I?l+f-A:g[R+1]-A;if(j<=0)return null;var q=R%i.length;return React.createElement("rect",{key:"react-".concat(R),x:A,y:u,width:j,height:d,stroke:"none",fill:i[q],fillOpacity:o,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},E)}var defaultVerticalCoordinatesGenerator=function t(e,n){var i=e.xAxis,o=e.width,l=e.height,u=e.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$5(_objectSpread$5(_objectSpread$5({},CartesianAxis.defaultProps),i),{},{ticks:getTicksOfAxis(i,!0),viewBox:{x:0,y:0,width:o,height:l}})),u.left,u.left+u.width,n)},defaultHorizontalCoordinatesGenerator=function t(e,n){var i=e.yAxis,o=e.width,l=e.height,u=e.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$5(_objectSpread$5(_objectSpread$5({},CartesianAxis.defaultProps),i),{},{ticks:getTicksOfAxis(i,!0),viewBox:{x:0,y:0,width:o,height:l}})),u.top,u.top+u.height,n)},defaultProps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(t){var e,n,i,o,l,u,f=useChartWidth(),d=useChartHeight(),p=useOffset(),g=_objectSpread$5(_objectSpread$5({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:defaultProps.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:defaultProps.fill,horizontal:(i=t.horizontal)!==null&&i!==void 0?i:defaultProps.horizontal,horizontalFill:(o=t.horizontalFill)!==null&&o!==void 0?o:defaultProps.horizontalFill,vertical:(l=t.vertical)!==null&&l!==void 0?l:defaultProps.vertical,verticalFill:(u=t.verticalFill)!==null&&u!==void 0?u:defaultProps.verticalFill,x:isNumber(t.x)?t.x:p.left,y:isNumber(t.y)?t.y:p.top,width:isNumber(t.width)?t.width:p.width,height:isNumber(t.height)?t.height:p.height}),E=g.x,A=g.y,R=g.width,I=g.height,j=g.syncWithTicks,q=g.horizontalValues,L=g.verticalValues,z=useArbitraryXAxis(),U=useYAxisWithFiniteDomainOrRandom();if(!isNumber(R)||R<=0||!isNumber(I)||I<=0||!isNumber(E)||E!==+E||!isNumber(A)||A!==+A)return null;var W=g.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,H=g.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,Z=g.horizontalPoints,Y=g.verticalPoints;if((!Z||!Z.length)&&isFunction(H)){var J=q&&q.length,ne=H({yAxis:U?_objectSpread$5(_objectSpread$5({},U),{},{ticks:J?q:U.ticks}):void 0,width:f,height:d,offset:p},J?!0:j);warn(Array.isArray(ne),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$9(ne),"]")),Array.isArray(ne)&&(Z=ne)}if((!Y||!Y.length)&&isFunction(W)){var ae=L&&L.length,se=W({xAxis:z?_objectSpread$5(_objectSpread$5({},z),{},{ticks:ae?L:z.ticks}):void 0,width:f,height:d,offset:p},ae?!0:j);warn(Array.isArray(se),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$9(se),"]")),Array.isArray(se)&&(Y=se)}return React.createElement("g",{className:"recharts-cartesian-grid"},React.createElement(Background,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),React.createElement(HorizontalGridLines,_extends$7({},g,{offset:p,horizontalPoints:Z,xAxis:z,yAxis:U})),React.createElement(VerticalGridLines,_extends$7({},g,{offset:p,verticalPoints:Y,xAxis:z,yAxis:U})),React.createElement(HorizontalStripes,_extends$7({},g,{horizontalPoints:Z})),React.createElement(VerticalStripes,_extends$7({},g,{verticalPoints:Y})))}CartesianGrid.displayName="CartesianGrid";var _excluded$3=["type","layout","connectNulls","ref"],_excluded2$2=["key"];function _typeof$8(t){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$8(t)}function _objectWithoutProperties$3(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$3(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$3(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$6.apply(this,arguments)}function ownKeys$4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$4(Object(n),!0).forEach(function(i){_defineProperty$8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _toConsumableArray$2(t){return _arrayWithoutHoles$2(t)||_iterableToArray$2(t)||_unsupportedIterableToArray$2(t)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$2(t,e)}}function _iterableToArray$2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$2(t){if(Array.isArray(t))return _arrayLikeToArray$2(t)}function _arrayLikeToArray$2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _classCallCheck$7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$8(i.key),i)}}function _createClass$7(t,e,n){return e&&_defineProperties$7(t.prototype,e),n&&_defineProperties$7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$6(t,e,n){return e=_getPrototypeOf$6(e),_possibleConstructorReturn$6(t,_isNativeReflectConstruct$6()?Reflect.construct(e,n||[],_getPrototypeOf$6(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$6(t,e){if(e&&(_typeof$8(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(t)}function _assertThisInitialized$6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!t})()}function _getPrototypeOf$6(t){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$6(t)}function _inherits$6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$6(t,e)}function _setPrototypeOf$6(t,e){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$6(t,e)}function _defineProperty$8(t,e,n){return e=_toPropertyKey$8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$8(t){var e=_toPrimitive$8(t,"string");return _typeof$8(e)=="symbol"?e:e+""}function _toPrimitive$8(t,e){if(_typeof$8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$8(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Line=function(t){function e(){var n;_classCallCheck$7(this,e);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=_callSuper$6(this,e,[].concat(o)),_defineProperty$8(n,"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$8(n,"generateSimpleStrokeDasharray",function(u,f){return"".concat(f,"px ").concat(u-f,"px")}),_defineProperty$8(n,"getStrokeDasharray",function(u,f,d){var p=d.reduce(function(L,z){return L+z});if(!p)return n.generateSimpleStrokeDasharray(f,u);for(var g=Math.floor(u/p),E=u%p,A=f-u,R=[],I=0,j=0;I<d.length;j+=d[I],++I)if(j+d[I]>E){R=[].concat(_toConsumableArray$2(d.slice(0,I)),[E-j]);break}var q=R.length%2===0?[0,A]:[A];return[].concat(_toConsumableArray$2(e.repeat(d,g)),_toConsumableArray$2(R),q).map(function(L){return"".concat(L,"px")}).join(", ")}),_defineProperty$8(n,"id",uniqueId("recharts-line-")),_defineProperty$8(n,"pathRef",function(u){n.mainCurve=u}),_defineProperty$8(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),_defineProperty$8(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return _inherits$6(e,t),_createClass$7(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();i!==this.state.totalLength&&this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.points,f=l.xAxis,d=l.yAxis,p=l.layout,g=l.children,E=findAllByType(g,ErrorBar);if(!E)return null;var A=function(j,q){return{x:j.x,y:j.y,value:j.value,errorVal:getValueByDataKey(j.payload,q)}},R={clipPath:i?"url(#clipPath-".concat(o,")"):null};return React.createElement(Layer,R,E.map(function(I){return React.cloneElement(I,{key:"bar-".concat(I.props.dataKey),data:u,xAxis:f,yAxis:d,layout:p,dataPointFormatter:A})}))}},{key:"renderDots",value:function(i,o,l){var u=this.props.isAnimationActive;if(u&&!this.state.isAnimationFinished)return null;var f=this.props,d=f.dot,p=f.points,g=f.dataKey,E=filterProps$1(this.props,!1),A=filterProps$1(d,!0),R=p.map(function(j,q){var L=_objectSpread$4(_objectSpread$4(_objectSpread$4({key:"dot-".concat(q),r:3},E),A),{},{value:j.value,dataKey:g,cx:j.x,cy:j.y,index:q,payload:j.payload});return e.renderDotItem(d,L)}),I={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(l,")"):null};return React.createElement(Layer,_extends$6({className:"recharts-line-dots",key:"dots"},I),R)}},{key:"renderCurveStatically",value:function(i,o,l,u){var f=this.props,d=f.type,p=f.layout,g=f.connectNulls;f.ref;var E=_objectWithoutProperties$3(f,_excluded$3),A=_objectSpread$4(_objectSpread$4(_objectSpread$4({},filterProps$1(E,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(l,")"):null,points:i},u),{},{type:d,layout:p,connectNulls:g});return React.createElement(Curve,_extends$6({},A,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var l=this,u=this.props,f=u.points,d=u.strokeDasharray,p=u.isAnimationActive,g=u.animationBegin,E=u.animationDuration,A=u.animationEasing,R=u.animationId,I=u.animateNewValues,j=u.width,q=u.height,L=this.state,z=L.prevPoints,U=L.totalLength;return React.createElement(Animate,{begin:g,duration:E,isActive:p,easing:A,from:{t:0},to:{t:1},key:"line-".concat(R),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(W){var H=W.t;if(z){var Z=z.length/f.length,Y=f.map(function(ue,fe){var _e=Math.floor(fe*Z);if(z[_e]){var ge=z[_e],ce=interpolateNumber$2(ge.x,ue.x),me=interpolateNumber$2(ge.y,ue.y);return _objectSpread$4(_objectSpread$4({},ue),{},{x:ce(H),y:me(H)})}if(I){var ee=interpolateNumber$2(j*2,ue.x),ie=interpolateNumber$2(q/2,ue.y);return _objectSpread$4(_objectSpread$4({},ue),{},{x:ee(H),y:ie(H)})}return _objectSpread$4(_objectSpread$4({},ue),{},{x:ue.x,y:ue.y})});return l.renderCurveStatically(Y,i,o)}var J=interpolateNumber$2(0,U),ne=J(H),ae;if(d){var se="".concat(d).split(/[,\s]+/gim).map(function(ue){return parseFloat(ue)});ae=l.getStrokeDasharray(ne,U,se)}else ae=l.generateSimpleStrokeDasharray(U,ne);return l.renderCurveStatically(f,i,o,{strokeDasharray:ae})})}},{key:"renderCurve",value:function(i,o){var l=this.props,u=l.points,f=l.isAnimationActive,d=this.state,p=d.prevPoints,g=d.totalLength;return f&&u&&u.length&&(!p&&g>0||!isEqual(p,u))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(u,i,o)}},{key:"render",value:function(){var i,o=this.props,l=o.hide,u=o.dot,f=o.points,d=o.className,p=o.xAxis,g=o.yAxis,E=o.top,A=o.left,R=o.width,I=o.height,j=o.isAnimationActive,q=o.id;if(l||!f||!f.length)return null;var L=this.state.isAnimationFinished,z=f.length===1,U=clsx("recharts-line",d),W=p&&p.allowDataOverflow,H=g&&g.allowDataOverflow,Z=W||H,Y=isNil(q)?this.id:q,J=(i=filterProps$1(u,!1))!==null&&i!==void 0?i:{r:3,strokeWidth:2},ne=J.r,ae=ne===void 0?3:ne,se=J.strokeWidth,ue=se===void 0?2:se,fe=hasClipDot(u)?u:{},_e=fe.clipDot,ge=_e===void 0?!0:_e,ce=ae*2+ue;return React.createElement(Layer,{className:U},W||H?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(Y)},React.createElement("rect",{x:W?A:A-R/2,y:H?E:E-I/2,width:W?R:R*2,height:H?I:I*2})),!ge&&React.createElement("clipPath",{id:"clipPath-dots-".concat(Y)},React.createElement("rect",{x:A-ce/2,y:E-ce/2,width:R+ce,height:I+ce}))):null,!z&&this.renderCurve(Z,Y),this.renderErrorBar(Z,Y),(z||u)&&this.renderDots(Z,ge,Y),(!j||L)&&LabelList.renderCallByParent(this.props,f))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var l=i.length%2!==0?[].concat(_toConsumableArray$2(i),[0]):i,u=[],f=0;f<o;++f)u=[].concat(_toConsumableArray$2(u),_toConsumableArray$2(l));return u}},{key:"renderDotItem",value:function(i,o){var l;if(React.isValidElement(i))l=React.cloneElement(i,o);else if(isFunction(i))l=i(o);else{var u=o.key,f=_objectWithoutProperties$3(o,_excluded2$2),d=clsx("recharts-line-dot",typeof i!="boolean"?i.className:"");l=React.createElement(Dot,_extends$6({key:u},f,{className:d}))}return l}}])}(reactExports.PureComponent);_defineProperty$8(Line,"displayName","Line");_defineProperty$8(Line,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_defineProperty$8(Line,"getComposedData",function(t){var e=t.props,n=t.xAxis,i=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.dataKey,f=t.bandSize,d=t.displayedData,p=t.offset,g=e.layout,E=d.map(function(A,R){var I=getValueByDataKey(A,u);return g==="horizontal"?{x:getCateCoordinateOfLine({axis:n,ticks:o,bandSize:f,entry:A,index:R}),y:isNil(I)?null:i.scale(I),value:I,payload:A}:{x:isNil(I)?null:n.scale(I),y:getCateCoordinateOfLine({axis:i,ticks:l,bandSize:f,entry:A,index:R}),value:I,payload:A}});return _objectSpread$4({points:E,layout:g},p)});var _excluded$2=["layout","type","stroke","connectNulls","isRange","ref"],_excluded2$1=["key"],_Area;function _typeof$7(t){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$7(t)}function _objectWithoutProperties$2(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$2(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$2(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$5.apply(this,arguments)}function ownKeys$3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(n),!0).forEach(function(i){_defineProperty$7(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$7(i.key),i)}}function _createClass$6(t,e,n){return e&&_defineProperties$6(t.prototype,e),n&&_defineProperties$6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$5(t,e,n){return e=_getPrototypeOf$5(e),_possibleConstructorReturn$5(t,_isNativeReflectConstruct$5()?Reflect.construct(e,n||[],_getPrototypeOf$5(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$5(t,e){if(e&&(_typeof$7(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(t)}function _assertThisInitialized$5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!t})()}function _getPrototypeOf$5(t){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$5(t)}function _inherits$5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$5(t,e)}function _setPrototypeOf$5(t,e){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$5(t,e)}function _defineProperty$7(t,e,n){return e=_toPropertyKey$7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$7(t){var e=_toPrimitive$7(t,"string");return _typeof$7(e)=="symbol"?e:e+""}function _toPrimitive$7(t,e){if(_typeof$7(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$7(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Area=function(t){function e(){var n;_classCallCheck$6(this,e);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=_callSuper$5(this,e,[].concat(o)),_defineProperty$7(n,"state",{isAnimationFinished:!0}),_defineProperty$7(n,"id",uniqueId("recharts-area-")),_defineProperty$7(n,"handleAnimationEnd",function(){var u=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),isFunction(u)&&u()}),_defineProperty$7(n,"handleAnimationStart",function(){var u=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),isFunction(u)&&u()}),n}return _inherits$5(e,t),_createClass$6(e,[{key:"renderDots",value:function(i,o,l){var u=this.props.isAnimationActive,f=this.state.isAnimationFinished;if(u&&!f)return null;var d=this.props,p=d.dot,g=d.points,E=d.dataKey,A=filterProps$1(this.props,!1),R=filterProps$1(p,!0),I=g.map(function(q,L){var z=_objectSpread$3(_objectSpread$3(_objectSpread$3({key:"dot-".concat(L),r:3},A),R),{},{index:L,cx:q.x,cy:q.y,dataKey:E,value:q.value,payload:q.payload,points:g});return e.renderDotItem(p,z)}),j={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(l,")"):null};return React.createElement(Layer,_extends$5({className:"recharts-area-dots"},j),I)}},{key:"renderHorizontalRect",value:function(i){var o=this.props,l=o.baseLine,u=o.points,f=o.strokeWidth,d=u[0].x,p=u[u.length-1].x,g=i*Math.abs(d-p),E=max(u.map(function(A){return A.y||0}));return isNumber(l)&&typeof l=="number"?E=Math.max(l,E):l&&Array.isArray(l)&&l.length&&(E=Math.max(max(l.map(function(A){return A.y||0})),E)),isNumber(E)?React.createElement("rect",{x:d<p?d:d-g,y:0,width:g,height:Math.floor(E+(f?parseInt("".concat(f),10):1))}):null}},{key:"renderVerticalRect",value:function(i){var o=this.props,l=o.baseLine,u=o.points,f=o.strokeWidth,d=u[0].y,p=u[u.length-1].y,g=i*Math.abs(d-p),E=max(u.map(function(A){return A.x||0}));return isNumber(l)&&typeof l=="number"?E=Math.max(l,E):l&&Array.isArray(l)&&l.length&&(E=Math.max(max(l.map(function(A){return A.x||0})),E)),isNumber(E)?React.createElement("rect",{x:0,y:d<p?d:d-g,width:E+(f?parseInt("".concat(f),10):1),height:Math.floor(g)}):null}},{key:"renderClipRect",value:function(i){var o=this.props.layout;return o==="vertical"?this.renderVerticalRect(i):this.renderHorizontalRect(i)}},{key:"renderAreaStatically",value:function(i,o,l,u){var f=this.props,d=f.layout,p=f.type,g=f.stroke,E=f.connectNulls,A=f.isRange;f.ref;var R=_objectWithoutProperties$2(f,_excluded$2);return React.createElement(Layer,{clipPath:l?"url(#clipPath-".concat(u,")"):null},React.createElement(Curve,_extends$5({},filterProps$1(R,!0),{points:i,connectNulls:E,type:p,baseLine:o,layout:d,stroke:"none",className:"recharts-area-area"})),g!=="none"&&React.createElement(Curve,_extends$5({},filterProps$1(this.props,!1),{className:"recharts-area-curve",layout:d,type:p,connectNulls:E,fill:"none",points:i})),g!=="none"&&A&&React.createElement(Curve,_extends$5({},filterProps$1(this.props,!1),{className:"recharts-area-curve",layout:d,type:p,connectNulls:E,fill:"none",points:o})))}},{key:"renderAreaWithAnimation",value:function(i,o){var l=this,u=this.props,f=u.points,d=u.baseLine,p=u.isAnimationActive,g=u.animationBegin,E=u.animationDuration,A=u.animationEasing,R=u.animationId,I=this.state,j=I.prevPoints,q=I.prevBaseLine;return React.createElement(Animate,{begin:g,duration:E,isActive:p,easing:A,from:{t:0},to:{t:1},key:"area-".concat(R),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(L){var z=L.t;if(j){var U=j.length/f.length,W=f.map(function(J,ne){var ae=Math.floor(ne*U);if(j[ae]){var se=j[ae],ue=interpolateNumber$2(se.x,J.x),fe=interpolateNumber$2(se.y,J.y);return _objectSpread$3(_objectSpread$3({},J),{},{x:ue(z),y:fe(z)})}return J}),H;if(isNumber(d)&&typeof d=="number"){var Z=interpolateNumber$2(q,d);H=Z(z)}else if(isNil(d)||isNan(d)){var Y=interpolateNumber$2(q,0);H=Y(z)}else H=d.map(function(J,ne){var ae=Math.floor(ne*U);if(q[ae]){var se=q[ae],ue=interpolateNumber$2(se.x,J.x),fe=interpolateNumber$2(se.y,J.y);return _objectSpread$3(_objectSpread$3({},J),{},{x:ue(z),y:fe(z)})}return J});return l.renderAreaStatically(W,H,i,o)}return React.createElement(Layer,null,React.createElement("defs",null,React.createElement("clipPath",{id:"animationClipPath-".concat(o)},l.renderClipRect(z))),React.createElement(Layer,{clipPath:"url(#animationClipPath-".concat(o,")")},l.renderAreaStatically(f,d,i,o)))})}},{key:"renderArea",value:function(i,o){var l=this.props,u=l.points,f=l.baseLine,d=l.isAnimationActive,p=this.state,g=p.prevPoints,E=p.prevBaseLine,A=p.totalLength;return d&&u&&u.length&&(!g&&A>0||!isEqual(g,u)||!isEqual(E,f))?this.renderAreaWithAnimation(i,o):this.renderAreaStatically(u,f,i,o)}},{key:"render",value:function(){var i,o=this.props,l=o.hide,u=o.dot,f=o.points,d=o.className,p=o.top,g=o.left,E=o.xAxis,A=o.yAxis,R=o.width,I=o.height,j=o.isAnimationActive,q=o.id;if(l||!f||!f.length)return null;var L=this.state.isAnimationFinished,z=f.length===1,U=clsx("recharts-area",d),W=E&&E.allowDataOverflow,H=A&&A.allowDataOverflow,Z=W||H,Y=isNil(q)?this.id:q,J=(i=filterProps$1(u,!1))!==null&&i!==void 0?i:{r:3,strokeWidth:2},ne=J.r,ae=ne===void 0?3:ne,se=J.strokeWidth,ue=se===void 0?2:se,fe=hasClipDot(u)?u:{},_e=fe.clipDot,ge=_e===void 0?!0:_e,ce=ae*2+ue;return React.createElement(Layer,{className:U},W||H?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(Y)},React.createElement("rect",{x:W?g:g-R/2,y:H?p:p-I/2,width:W?R:R*2,height:H?I:I*2})),!ge&&React.createElement("clipPath",{id:"clipPath-dots-".concat(Y)},React.createElement("rect",{x:g-ce/2,y:p-ce/2,width:R+ce,height:I+ce}))):null,z?null:this.renderArea(Z,Y),(u||z)&&this.renderDots(Z,ge,Y),(!j||L)&&LabelList.renderCallByParent(this.props,f))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,curBaseLine:i.baseLine,prevPoints:o.curPoints,prevBaseLine:o.curBaseLine}:i.points!==o.curPoints||i.baseLine!==o.curBaseLine?{curPoints:i.points,curBaseLine:i.baseLine}:null}}])}(reactExports.PureComponent);_Area=Area;_defineProperty$7(Area,"displayName","Area");_defineProperty$7(Area,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});_defineProperty$7(Area,"getBaseValue",function(t,e,n,i){var o=t.layout,l=t.baseValue,u=e.props.baseValue,f=u??l;if(isNumber(f)&&typeof f=="number")return f;var d=o==="horizontal"?i:n,p=d.scale.domain();if(d.type==="number"){var g=Math.max(p[0],p[1]),E=Math.min(p[0],p[1]);return f==="dataMin"?E:f==="dataMax"||g<0?g:Math.max(Math.min(p[0],p[1]),0)}return f==="dataMin"?p[0]:f==="dataMax"?p[1]:p[0]});_defineProperty$7(Area,"getComposedData",function(t){var e=t.props,n=t.item,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,u=t.yAxisTicks,f=t.bandSize,d=t.dataKey,p=t.stackedData,g=t.dataStartIndex,E=t.displayedData,A=t.offset,R=e.layout,I=p&&p.length,j=_Area.getBaseValue(e,n,i,o),q=R==="horizontal",L=!1,z=E.map(function(W,H){var Z;I?Z=p[g+H]:(Z=getValueByDataKey(W,d),Array.isArray(Z)?L=!0:Z=[j,Z]);var Y=Z[1]==null||I&&getValueByDataKey(W,d)==null;return q?{x:getCateCoordinateOfLine({axis:i,ticks:l,bandSize:f,entry:W,index:H}),y:Y?null:o.scale(Z[1]),value:Z,payload:W}:{x:Y?null:i.scale(Z[1]),y:getCateCoordinateOfLine({axis:o,ticks:u,bandSize:f,entry:W,index:H}),value:Z,payload:W}}),U;return I||L?U=z.map(function(W){var H=Array.isArray(W.value)?W.value[0]:null;return q?{x:W.x,y:H!=null&&W.y!=null?o.scale(H):null}:{x:H!=null?i.scale(H):null,y:W.y}}):U=q?o.scale(j):i.scale(j),_objectSpread$3({points:z,baseLine:U,layout:R,isRange:L},A)});_defineProperty$7(Area,"renderDotItem",function(t,e){var n;if(React.isValidElement(t))n=React.cloneElement(t,e);else if(isFunction(t))n=t(e);else{var i=clsx("recharts-area-dot",typeof t!="boolean"?t.className:""),o=e.key,l=_objectWithoutProperties$2(e,_excluded2$1);n=React.createElement(Dot,_extends$5({},l,{key:o,className:i}))}return n});function _typeof$6(t){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(t)}function _classCallCheck$5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$6(i.key),i)}}function _createClass$5(t,e,n){return e&&_defineProperties$5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$4(t,e,n){return e=_getPrototypeOf$4(e),_possibleConstructorReturn$4(t,_isNativeReflectConstruct$4()?Reflect.construct(e,n||[],_getPrototypeOf$4(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$4(t,e){if(e&&(_typeof$6(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(t)}function _assertThisInitialized$4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!t})()}function _getPrototypeOf$4(t){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$4(t)}function _inherits$4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$4(t,e)}function _setPrototypeOf$4(t,e){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$4(t,e)}function _defineProperty$6(t,e,n){return e=_toPropertyKey$6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$6(t){var e=_toPrimitive$6(t,"string");return _typeof$6(e)=="symbol"?e:e+""}function _toPrimitive$6(t,e){if(_typeof$6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$6(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZAxis=function(t){function e(){return _classCallCheck$5(this,e),_callSuper$4(this,e,arguments)}return _inherits$4(e,t),_createClass$5(e,[{key:"render",value:function(){return null}}])}(React.Component);_defineProperty$6(ZAxis,"displayName","ZAxis");_defineProperty$6(ZAxis,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var _excluded$1=["option","isActive"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$4.apply(this,arguments)}function _objectWithoutProperties$1(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$1(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose$1(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function ScatterSymbol(t){var e=t.option,n=t.isActive,i=_objectWithoutProperties$1(t,_excluded$1);return typeof e=="string"?React.createElement(Shape,_extends$4({option:React.createElement(Symbols,_extends$4({type:e},i)),isActive:n,shapeType:"symbols"},i)):React.createElement(Shape,_extends$4({option:e,isActive:n,shapeType:"symbols"},i))}function _typeof$5(t){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(t)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$3.apply(this,arguments)}function ownKeys$2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(n),!0).forEach(function(i){_defineProperty$5(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classCallCheck$4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$5(i.key),i)}}function _createClass$4(t,e,n){return e&&_defineProperties$4(t.prototype,e),n&&_defineProperties$4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$3(t,e,n){return e=_getPrototypeOf$3(e),_possibleConstructorReturn$3(t,_isNativeReflectConstruct$3()?Reflect.construct(e,n||[],_getPrototypeOf$3(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$3(t,e){if(e&&(_typeof$5(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(t)}function _assertThisInitialized$3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!t})()}function _getPrototypeOf$3(t){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$3(t)}function _inherits$3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$3(t,e)}function _setPrototypeOf$3(t,e){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$3(t,e)}function _defineProperty$5(t,e,n){return e=_toPropertyKey$5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$5(t){var e=_toPrimitive$5(t,"string");return _typeof$5(e)=="symbol"?e:e+""}function _toPrimitive$5(t,e){if(_typeof$5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$5(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Scatter=function(t){function e(){var n;_classCallCheck$4(this,e);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=_callSuper$3(this,e,[].concat(o)),_defineProperty$5(n,"state",{isAnimationFinished:!1}),_defineProperty$5(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),_defineProperty$5(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),_defineProperty$5(n,"id",uniqueId("recharts-scatter-")),n}return _inherits$3(e,t),_createClass$4(e,[{key:"renderSymbolsStatically",value:function(i){var o=this,l=this.props,u=l.shape,f=l.activeShape,d=l.activeIndex,p=filterProps$1(this.props,!1);return i.map(function(g,E){var A=d===E,R=A?f:u,I=_objectSpread$2(_objectSpread$2({},p),g);return React.createElement(Layer,_extends$3({className:"recharts-scatter-symbol",key:"symbol-".concat(g==null?void 0:g.cx,"-").concat(g==null?void 0:g.cy,"-").concat(g==null?void 0:g.size,"-").concat(E)},adaptEventsOfChild(o.props,g,E),{role:"img"}),React.createElement(ScatterSymbol,_extends$3({option:R,isActive:A,key:"symbol-".concat(E)},I)))})}},{key:"renderSymbolsWithAnimation",value:function(){var i=this,o=this.props,l=o.points,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,p=o.animationEasing,g=o.animationId,E=this.state.prevPoints;return React.createElement(Animate,{begin:f,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"pie-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var R=A.t,I=l.map(function(j,q){var L=E&&E[q];if(L){var z=interpolateNumber$2(L.cx,j.cx),U=interpolateNumber$2(L.cy,j.cy),W=interpolateNumber$2(L.size,j.size);return _objectSpread$2(_objectSpread$2({},j),{},{cx:z(R),cy:U(R),size:W(R)})}var H=interpolateNumber$2(0,j.size);return _objectSpread$2(_objectSpread$2({},j),{},{size:H(R)})});return React.createElement(Layer,null,i.renderSymbolsStatically(I))})}},{key:"renderSymbols",value:function(){var i=this.props,o=i.points,l=i.isAnimationActive,u=this.state.prevPoints;return l&&o&&o.length&&(!u||!isEqual(u,o))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(o)}},{key:"renderErrorBar",value:function(){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,f=o.yAxis,d=o.children,p=findAllByType(d,ErrorBar);return p?p.map(function(g,E){var A=g.props,R=A.direction,I=A.dataKey;return React.cloneElement(g,{key:"".concat(R,"-").concat(I,"-").concat(l[E]),data:l,xAxis:u,yAxis:f,layout:R==="x"?"vertical":"horizontal",dataPointFormatter:function(q,L){return{x:q.cx,y:q.cy,value:R==="x"?+q.node.x:+q.node.y,errorVal:getValueByDataKey(q,L)}}})}):null}},{key:"renderLine",value:function(){var i=this.props,o=i.points,l=i.line,u=i.lineType,f=i.lineJointType,d=filterProps$1(this.props,!1),p=filterProps$1(l,!1),g,E;if(u==="joint")g=o.map(function(U){return{x:U.cx,y:U.cy}});else if(u==="fitting"){var A=getLinearRegression(o),R=A.xmin,I=A.xmax,j=A.a,q=A.b,L=function(W){return j*W+q};g=[{x:R,y:L(R)},{x:I,y:L(I)}]}var z=_objectSpread$2(_objectSpread$2(_objectSpread$2({},d),{},{fill:"none",stroke:d&&d.fill},p),{},{points:g});return React.isValidElement(l)?E=React.cloneElement(l,z):isFunction(l)?E=l(z):E=React.createElement(Curve,_extends$3({},z,{type:f})),React.createElement(Layer,{className:"recharts-scatter-line",key:"recharts-scatter-line"},E)}},{key:"render",value:function(){var i=this.props,o=i.hide,l=i.points,u=i.line,f=i.className,d=i.xAxis,p=i.yAxis,g=i.left,E=i.top,A=i.width,R=i.height,I=i.id,j=i.isAnimationActive;if(o||!l||!l.length)return null;var q=this.state.isAnimationFinished,L=clsx("recharts-scatter",f),z=d&&d.allowDataOverflow,U=p&&p.allowDataOverflow,W=z||U,H=isNil(I)?this.id:I;return React.createElement(Layer,{className:L,clipPath:W?"url(#clipPath-".concat(H,")"):null},z||U?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(H)},React.createElement("rect",{x:z?g:g-A/2,y:U?E:E-R/2,width:z?A:A*2,height:U?R:R*2}))):null,u&&this.renderLine(),this.renderErrorBar(),React.createElement(Layer,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!j||q)&&LabelList.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}}])}(reactExports.PureComponent);_defineProperty$5(Scatter,"displayName","Scatter");_defineProperty$5(Scatter,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});_defineProperty$5(Scatter,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,i=t.zAxis,o=t.item,l=t.displayedData,u=t.xAxisTicks,f=t.yAxisTicks,d=t.offset,p=o.props.tooltipType,g=findAllByType(o.props.children,Cell),E=isNil(e.dataKey)?o.props.dataKey:e.dataKey,A=isNil(n.dataKey)?o.props.dataKey:n.dataKey,R=i&&i.dataKey,I=i?i.range:ZAxis.defaultProps.range,j=I&&I[0],q=e.scale.bandwidth?e.scale.bandwidth():0,L=n.scale.bandwidth?n.scale.bandwidth():0,z=l.map(function(U,W){var H=getValueByDataKey(U,E),Z=getValueByDataKey(U,A),Y=!isNil(R)&&getValueByDataKey(U,R)||"-",J=[{name:isNil(e.dataKey)?o.props.name:e.name||e.dataKey,unit:e.unit||"",value:H,payload:U,dataKey:E,type:p},{name:isNil(n.dataKey)?o.props.name:n.name||n.dataKey,unit:n.unit||"",value:Z,payload:U,dataKey:A,type:p}];Y!=="-"&&J.push({name:i.name||i.dataKey,unit:i.unit||"",value:Y,payload:U,dataKey:R,type:p});var ne=getCateCoordinateOfLine({axis:e,ticks:u,bandSize:q,entry:U,index:W,dataKey:E}),ae=getCateCoordinateOfLine({axis:n,ticks:f,bandSize:L,entry:U,index:W,dataKey:A}),se=Y!=="-"?i.scale(Y):j,ue=Math.sqrt(Math.max(se,0)/Math.PI);return _objectSpread$2(_objectSpread$2({},U),{},{cx:ne,cy:ae,x:ne-ue,y:ae-ue,xAxis:e,yAxis:n,zAxis:i,width:2*ue,height:2*ue,size:se,node:{x:H,y:Z,z:Y},tooltipPayload:J,tooltipPosition:{x:ne,y:ae},payload:U},g&&g[W]&&g[W].props)});return _objectSpread$2({points:z},d)});function _typeof$4(t){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}function _classCallCheck$3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$4(i.key),i)}}function _createClass$3(t,e,n){return e&&_defineProperties$3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$2(t,e,n){return e=_getPrototypeOf$2(e),_possibleConstructorReturn$2(t,_isNativeReflectConstruct$2()?Reflect.construct(e,n||[],_getPrototypeOf$2(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$2(t,e){if(e&&(_typeof$4(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(t)}function _assertThisInitialized$2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!t})()}function _getPrototypeOf$2(t){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$2(t)}function _inherits$2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$2(t,e)}function _setPrototypeOf$2(t,e){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$2(t,e)}function _defineProperty$4(t,e,n){return e=_toPropertyKey$4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$4(t){var e=_toPrimitive$4(t,"string");return _typeof$4(e)=="symbol"?e:e+""}function _toPrimitive$4(t,e){if(_typeof$4(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$4(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$2.apply(this,arguments)}function XAxisImpl(t){var e=t.xAxisId,n=useChartWidth(),i=useChartHeight(),o=useXAxisOrThrow(e);return o==null?null:React.createElement(CartesianAxis,_extends$2({},o,{className:clsx("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return getTicksOfAxis(u,!0)}}))}var XAxis=function(t){function e(){return _classCallCheck$3(this,e),_callSuper$2(this,e,arguments)}return _inherits$2(e,t),_createClass$3(e,[{key:"render",value:function(){return React.createElement(XAxisImpl,this.props)}}])}(React.Component);_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$3(t){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$3(i.key),i)}}function _createClass$2(t,e,n){return e&&_defineProperties$2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$1(t,e,n){return e=_getPrototypeOf$1(e),_possibleConstructorReturn$1(t,_isNativeReflectConstruct$1()?Reflect.construct(e,n||[],_getPrototypeOf$1(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$1(t,e){if(e&&(_typeof$3(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(t)}function _assertThisInitialized$1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!t})()}function _getPrototypeOf$1(t){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$1(t)}function _inherits$1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$1(t,e)}function _setPrototypeOf$1(t,e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf$1(t,e)}function _defineProperty$3(t,e,n){return e=_toPropertyKey$3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$3(t){var e=_toPrimitive$3(t,"string");return _typeof$3(e)=="symbol"?e:e+""}function _toPrimitive$3(t,e){if(_typeof$3(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$1.apply(this,arguments)}var YAxisImpl=function t(e){var n=e.yAxisId,i=useChartWidth(),o=useChartHeight(),l=useYAxisOrThrow(n);return l==null?null:React.createElement(CartesianAxis,_extends$1({},l,{className:clsx("recharts-".concat(l.axisType," ").concat(l.axisType),l.className),viewBox:{x:0,y:0,width:i,height:o},ticksGenerator:function(f){return getTicksOfAxis(f,!0)}}))},YAxis=function(t){function e(){return _classCallCheck$2(this,e),_callSuper$1(this,e,arguments)}return _inherits$1(e,t),_createClass$2(e,[{key:"render",value:function(){return React.createElement(YAxisImpl,this.props)}}])}(React.Component);_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(t){return _arrayWithoutHoles$1(t)||_iterableToArray$1(t)||_unsupportedIterableToArray$1(t)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$1(t,e)}}function _iterableToArray$1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$1(t){if(Array.isArray(t))return _arrayLikeToArray$1(t)}function _arrayLikeToArray$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var detectReferenceElementsDomain=function t(e,n,i,o,l){var u=findAllByType(e,ReferenceLine),f=findAllByType(e,ReferenceDot),d=[].concat(_toConsumableArray$1(u),_toConsumableArray$1(f)),p=findAllByType(e,ReferenceArea),g="".concat(o,"Id"),E=o[0],A=n;if(d.length&&(A=d.reduce(function(j,q){if(q.props[g]===i&&ifOverflowMatches(q.props,"extendDomain")&&isNumber(q.props[E])){var L=q.props[E];return[Math.min(j[0],L),Math.max(j[1],L)]}return j},A)),p.length){var R="".concat(E,"1"),I="".concat(E,"2");A=p.reduce(function(j,q){if(q.props[g]===i&&ifOverflowMatches(q.props,"extendDomain")&&isNumber(q.props[R])&&isNumber(q.props[I])){var L=q.props[R],z=q.props[I];return[Math.min(j[0],L,z),Math.max(j[1],L,z)]}return j},A)}return l&&l.length&&(A=l.reduce(function(j,q){return isNumber(q)?[Math.min(j[0],q),Math.max(j[1],q)]:j},A)),A},eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function o(d,p,g){this.fn=d,this.context=p,this.once=g||!1}function l(d,p,g,E,A){if(typeof g!="function")throw new TypeError("The listener must be a function");var R=new o(g,E||d,A),I=n?n+p:p;return d._events[I]?d._events[I].fn?d._events[I]=[d._events[I],R]:d._events[I].push(R):(d._events[I]=R,d._eventsCount++),d}function u(d,p){--d._eventsCount===0?d._events=new i:delete d._events[p]}function f(){this._events=new i,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],g,E;if(this._eventsCount===0)return p;for(E in g=this._events)e.call(g,E)&&p.push(n?E.slice(1):E);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},f.prototype.listeners=function(p){var g=n?n+p:p,E=this._events[g];if(!E)return[];if(E.fn)return[E.fn];for(var A=0,R=E.length,I=new Array(R);A<R;A++)I[A]=E[A].fn;return I},f.prototype.listenerCount=function(p){var g=n?n+p:p,E=this._events[g];return E?E.fn?1:E.length:0},f.prototype.emit=function(p,g,E,A,R,I){var j=n?n+p:p;if(!this._events[j])return!1;var q=this._events[j],L=arguments.length,z,U;if(q.fn){switch(q.once&&this.removeListener(p,q.fn,void 0,!0),L){case 1:return q.fn.call(q.context),!0;case 2:return q.fn.call(q.context,g),!0;case 3:return q.fn.call(q.context,g,E),!0;case 4:return q.fn.call(q.context,g,E,A),!0;case 5:return q.fn.call(q.context,g,E,A,R),!0;case 6:return q.fn.call(q.context,g,E,A,R,I),!0}for(U=1,z=new Array(L-1);U<L;U++)z[U-1]=arguments[U];q.fn.apply(q.context,z)}else{var W=q.length,H;for(U=0;U<W;U++)switch(q[U].once&&this.removeListener(p,q[U].fn,void 0,!0),L){case 1:q[U].fn.call(q[U].context);break;case 2:q[U].fn.call(q[U].context,g);break;case 3:q[U].fn.call(q[U].context,g,E);break;case 4:q[U].fn.call(q[U].context,g,E,A);break;default:if(!z)for(H=1,z=new Array(L-1);H<L;H++)z[H-1]=arguments[H];q[U].fn.apply(q[U].context,z)}}return!0},f.prototype.on=function(p,g,E){return l(this,p,g,E,!1)},f.prototype.once=function(p,g,E){return l(this,p,g,E,!0)},f.prototype.removeListener=function(p,g,E,A){var R=n?n+p:p;if(!this._events[R])return this;if(!g)return u(this,R),this;var I=this._events[R];if(I.fn)I.fn===g&&(!A||I.once)&&(!E||I.context===E)&&u(this,R);else{for(var j=0,q=[],L=I.length;j<L;j++)(I[j].fn!==g||A&&!I[j].once||E&&I[j].context!==E)&&q.push(I[j]);q.length?this._events[R]=q.length===1?q[0]:q:u(this,R)}return this},f.prototype.removeAllListeners=function(p){var g;return p?(g=n?n+p:p,this._events[g]&&u(this,g)):(this._events=new i,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,t.exports=f}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(t){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey$2(i.key),i)}}function _createClass$1(t,e,n){return e&&_defineProperties$1(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty$2(t,e,n){return e=_toPropertyKey$2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$2(t){var e=_toPrimitive$2(t,"string");return _typeof$2(e)=="symbol"?e:e+""}function _toPrimitive$2(t,e){if(_typeof$2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$2(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AccessibilityManager=function(){function t(){_classCallCheck$1(this,t),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(t,[{key:"setDetails",value:function(n){var i,o=n.coordinateList,l=o===void 0?null:o,u=n.container,f=u===void 0?null:u,d=n.layout,p=d===void 0?null:d,g=n.offset,E=g===void 0?null:g,A=n.mouseHandlerCallback,R=A===void 0?null:A;this.coordinateList=(i=l??this.coordinateList)!==null&&i!==void 0?i:[],this.container=f??this.container,this.layout=p??this.layout,this.offset=E??this.offset,this.mouseHandlerCallback=R??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,i;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var o=this.container.getBoundingClientRect(),l=o.x,u=o.y,f=o.height,d=this.coordinateList[this.activeIndex].coordinate,p=((n=window)===null||n===void 0?void 0:n.scrollX)||0,g=((i=window)===null||i===void 0?void 0:i.scrollY)||0,E=l+d+p,A=u+this.offset.top+f/2+g;this.mouseHandlerCallback({pageX:E,pageY:A})}}}])}();function isDomainSpecifiedByUser(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var i=t==null?void 0:t[0],o=t==null?void 0:t[1];if(i&&o&&isNumber(i)&&isNumber(o))return!0}return!1}function getCursorRectangle(t,e,n,i){var o=i/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-o:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-o,width:t==="horizontal"?i:n.width-1,height:t==="horizontal"?n.height-1:i}}function getRadialCursorPoints(t){var e=t.cx,n=t.cy,i=t.radius,o=t.startAngle,l=t.endAngle,u=polarToCartesian(e,n,i,o),f=polarToCartesian(e,n,i,l);return{points:[u,f],cx:e,cy:n,radius:i,startAngle:o,endAngle:l}}function getCursorPoints(t,e,n){var i,o,l,u;if(t==="horizontal")i=e.x,l=i,o=n.top,u=n.top+n.height;else if(t==="vertical")o=e.y,u=o,i=n.left,l=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var f=e.cx,d=e.cy,p=e.innerRadius,g=e.outerRadius,E=e.angle,A=polarToCartesian(f,d,p,E),R=polarToCartesian(f,d,g,E);i=A.x,o=A.y,l=R.x,u=R.y}else return getRadialCursorPoints(e);return[{x:i,y:o},{x:l,y:u}]}function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function ownKeys$1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(n),!0).forEach(function(i){_defineProperty$1(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$1(t,e,n){return e=_toPropertyKey$1(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return _typeof$1(e)=="symbol"?e:e+""}function _toPrimitive$1(t,e){if(_typeof$1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$1(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cursor(t){var e,n,i=t.element,o=t.tooltipEventType,l=t.isActive,u=t.activeCoordinate,f=t.activePayload,d=t.offset,p=t.activeTooltipIndex,g=t.tooltipAxisBandSize,E=t.layout,A=t.chartName,R=(e=i.props.cursor)!==null&&e!==void 0?e:(n=i.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!i||!R||!l||!u||A!=="ScatterChart"&&o!=="axis")return null;var I,j=Curve;if(A==="ScatterChart")I=u,j=Cross;else if(A==="BarChart")I=getCursorRectangle(E,u,d,g),j=Rectangle;else if(E==="radial"){var q=getRadialCursorPoints(u),L=q.cx,z=q.cy,U=q.radius,W=q.startAngle,H=q.endAngle;I={cx:L,cy:z,startAngle:W,endAngle:H,innerRadius:U,outerRadius:U},j=Sector}else I={points:getCursorPoints(E,u,d)},j=Curve;var Z=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},d),I),filterProps$1(R,!1)),{},{payload:f,payloadIndex:p,className:clsx("recharts-tooltip-cursor",R.className)});return reactExports.isValidElement(R)?reactExports.cloneElement(R,Z):reactExports.createElement(j,Z)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends.apply(this,arguments)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,l,u,f=[],d=!0,p=!1;try{if(l=(n=n.call(t)).next,e!==0)for(;!(d=(i=l.call(n)).done)&&(f.push(i.value),f.length!==e);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return f}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _objectWithoutProperties(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey(i.key),i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper(t,e,n){return e=_getPrototypeOf(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,n||[],_getPrototypeOf(t).constructor):e.apply(t,n))}function _possibleConstructorReturn(t,e){if(e&&(_typeof(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(t)}function _inherits(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},_setPrototypeOf(t,e)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(t,e)}}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(i){_defineProperty(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty(t,e,n){return e=_toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return _typeof(e)=="symbol"?e:e+""}function _toPrimitive(t,e){if(_typeof(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(t){return t}var calculateTooltipPos=function t(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},getActiveCoordinate=function t(e,n,i,o){var l=n.find(function(g){return g&&g.index===i});if(l){if(e==="horizontal")return{x:l.coordinate,y:o.y};if(e==="vertical")return{x:o.x,y:l.coordinate};if(e==="centric"){var u=l.coordinate,f=o.radius;return _objectSpread(_objectSpread(_objectSpread({},o),polarToCartesian(o.cx,o.cy,f,u)),{},{angle:u,radius:f})}var d=l.coordinate,p=o.angle;return _objectSpread(_objectSpread(_objectSpread({},o),polarToCartesian(o.cx,o.cy,d,p)),{},{angle:p,radius:d})}return originCoordinate},getDisplayedData=function t(e,n){var i=n.graphicalItems,o=n.dataStartIndex,l=n.dataEndIndex,u=(i??[]).reduce(function(f,d){var p=d.props.data;return p&&p.length?[].concat(_toConsumableArray(f),_toConsumableArray(p)):f},[]);return u.length>0?u:e&&e.length&&isNumber(o)&&isNumber(l)?e.slice(o,l+1):[]};function getDefaultDomainByAxisType(t){return t==="number"?[0,"auto"]:void 0}var getTooltipContent=function t(e,n,i,o){var l=e.graphicalItems,u=e.tooltipAxis,f=getDisplayedData(n,e);return i<0||!l||!l.length||i>=f.length?null:l.reduce(function(d,p){var g,E=(g=p.props.data)!==null&&g!==void 0?g:n;E&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=i&&(E=E.slice(e.dataStartIndex,e.dataEndIndex+1));var A;if(u.dataKey&&!u.allowDuplicatedCategory){var R=E===void 0?f:E;A=findEntryInArray(R,u.dataKey,o)}else A=E&&E[i]||f[i];return A?[].concat(_toConsumableArray(d),[getTooltipItem(p,A)]):d},[])},getTooltipData=function t(e,n,i,o){var l=o||{x:e.chartX,y:e.chartY},u=calculateTooltipPos(l,i),f=e.orderedTooltipTicks,d=e.tooltipAxis,p=e.tooltipTicks,g=calculateActiveTickIndex(u,f,p,d);if(g>=0&&p){var E=p[g]&&p[g].value,A=getTooltipContent(e,n,g,E),R=getActiveCoordinate(i,f,g,l);return{activeTooltipIndex:g,activeLabel:E,activePayload:A,activeCoordinate:R}}return null},getAxisMapByAxes=function t(e,n){var i=n.axes,o=n.graphicalItems,l=n.axisType,u=n.axisIdKey,f=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,g=e.layout,E=e.children,A=e.stackOffset,R=isCategoricalAxis(g,l);return i.reduce(function(I,j){var q,L=j.type.defaultProps!==void 0?_objectSpread(_objectSpread({},j.type.defaultProps),j.props):j.props,z=L.type,U=L.dataKey,W=L.allowDataOverflow,H=L.allowDuplicatedCategory,Z=L.scale,Y=L.ticks,J=L.includeHidden,ne=L[u];if(I[ne])return I;var ae=getDisplayedData(e.data,{graphicalItems:o.filter(function(xe){var Ee,Ae=u in xe.props?xe.props[u]:(Ee=xe.type.defaultProps)===null||Ee===void 0?void 0:Ee[u];return Ae===ne}),dataStartIndex:d,dataEndIndex:p}),se=ae.length,ue,fe,_e;isDomainSpecifiedByUser(L.domain,W,z)&&(ue=parseSpecifiedDomain(L.domain,null,W),R&&(z==="number"||Z!=="auto")&&(_e=getDomainOfDataByKey(ae,U,"category")));var ge=getDefaultDomainByAxisType(z);if(!ue||ue.length===0){var ce,me=(ce=L.domain)!==null&&ce!==void 0?ce:ge;if(U){if(ue=getDomainOfDataByKey(ae,U,z),z==="category"&&R){var ee=hasDuplicate(ue);H&&ee?(fe=ue,ue=range(0,se)):H||(ue=parseDomainOfCategoryAxis(me,ue,j).reduce(function(xe,Ee){return xe.indexOf(Ee)>=0?xe:[].concat(_toConsumableArray(xe),[Ee])},[]))}else if(z==="category")H?ue=ue.filter(function(xe){return xe!==""&&!isNil(xe)}):ue=parseDomainOfCategoryAxis(me,ue,j).reduce(function(xe,Ee){return xe.indexOf(Ee)>=0||Ee===""||isNil(Ee)?xe:[].concat(_toConsumableArray(xe),[Ee])},[]);else if(z==="number"){var ie=parseErrorBarsOfAxis(ae,o.filter(function(xe){var Ee,Ae,Ce=u in xe.props?xe.props[u]:(Ee=xe.type.defaultProps)===null||Ee===void 0?void 0:Ee[u],Oe="hide"in xe.props?xe.props.hide:(Ae=xe.type.defaultProps)===null||Ae===void 0?void 0:Ae.hide;return Ce===ne&&(J||!Oe)}),U,l,g);ie&&(ue=ie)}R&&(z==="number"||Z!=="auto")&&(_e=getDomainOfDataByKey(ae,U,"category"))}else R?ue=range(0,se):f&&f[ne]&&f[ne].hasStack&&z==="number"?ue=A==="expand"?[0,1]:getDomainOfStackGroups(f[ne].stackGroups,d,p):ue=getDomainOfItemsWithSameAxis(ae,o.filter(function(xe){var Ee=u in xe.props?xe.props[u]:xe.type.defaultProps[u],Ae="hide"in xe.props?xe.props.hide:xe.type.defaultProps.hide;return Ee===ne&&(J||!Ae)}),z,g,!0);if(z==="number")ue=detectReferenceElementsDomain(E,ue,ne,l,Y),me&&(ue=parseSpecifiedDomain(me,ue,W));else if(z==="category"&&me){var oe=me,de=ue.every(function(xe){return oe.indexOf(xe)>=0});de&&(ue=oe)}}return _objectSpread(_objectSpread({},I),{},_defineProperty({},ne,_objectSpread(_objectSpread({},L),{},{axisType:l,domain:ue,categoricalDomain:_e,duplicateDomain:fe,originalDomain:(q=L.domain)!==null&&q!==void 0?q:ge,isCategorical:R,layout:g})))},{})},getAxisMapByItems=function t(e,n){var i=n.graphicalItems,o=n.Axis,l=n.axisType,u=n.axisIdKey,f=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,g=e.layout,E=e.children,A=getDisplayedData(e.data,{graphicalItems:i,dataStartIndex:d,dataEndIndex:p}),R=A.length,I=isCategoricalAxis(g,l),j=-1;return i.reduce(function(q,L){var z=L.type.defaultProps!==void 0?_objectSpread(_objectSpread({},L.type.defaultProps),L.props):L.props,U=z[u],W=getDefaultDomainByAxisType("number");if(!q[U]){j++;var H;return I?H=range(0,R):f&&f[U]&&f[U].hasStack?(H=getDomainOfStackGroups(f[U].stackGroups,d,p),H=detectReferenceElementsDomain(E,H,U,l)):(H=parseSpecifiedDomain(W,getDomainOfItemsWithSameAxis(A,i.filter(function(Z){var Y,J,ne=u in Z.props?Z.props[u]:(Y=Z.type.defaultProps)===null||Y===void 0?void 0:Y[u],ae="hide"in Z.props?Z.props.hide:(J=Z.type.defaultProps)===null||J===void 0?void 0:J.hide;return ne===U&&!ae}),"number",g),o.defaultProps.allowDataOverflow),H=detectReferenceElementsDomain(E,H,U,l)),_objectSpread(_objectSpread({},q),{},_defineProperty({},U,_objectSpread(_objectSpread({axisType:l},o.defaultProps),{},{hide:!0,orientation:get(ORIENT_MAP,"".concat(l,".").concat(j%2),null),domain:H,originalDomain:W,isCategorical:I,layout:g})))}return q},{})},getAxisMap=function t(e,n){var i=n.axisType,o=i===void 0?"xAxis":i,l=n.AxisComp,u=n.graphicalItems,f=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,g=e.children,E="".concat(o,"Id"),A=findAllByType(g,l),R={};return A&&A.length?R=getAxisMapByAxes(e,{axes:A,graphicalItems:u,axisType:o,axisIdKey:E,stackGroups:f,dataStartIndex:d,dataEndIndex:p}):u&&u.length&&(R=getAxisMapByItems(e,{Axis:l,graphicalItems:u,axisType:o,axisIdKey:E,stackGroups:f,dataStartIndex:d,dataEndIndex:p})),R},tooltipTicksGenerator=function t(e){var n=getAnyElementOfObject(e),i=getTicksOfAxis(n,!1,!0);return{tooltipTicks:i,orderedTooltipTicks:sortBy(i,function(o){return o.coordinate}),tooltipAxis:n,tooltipAxisBandSize:getBandSizeOfAxis(n,i)}},createDefaultState=function t(e){var n=e.children,i=e.defaultShowTooltip,o=findChildByType(n,Brush),l=0,u=0;return e.data&&e.data.length!==0&&(u=e.data.length-1),o&&o.props&&(o.props.startIndex>=0&&(l=o.props.startIndex),o.props.endIndex>=0&&(u=o.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:l,dataEndIndex:u,activeTooltipIndex:-1,isTooltipActive:!!i}},hasGraphicalBarItem=function t(e){return!e||!e.length?!1:e.some(function(n){var i=getDisplayName(n&&n.type);return i&&i.indexOf("Bar")>=0})},getAxisNameByLayout=function t(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function t(e,n){var i=e.props,o=e.graphicalItems,l=e.xAxisMap,u=l===void 0?{}:l,f=e.yAxisMap,d=f===void 0?{}:f,p=i.width,g=i.height,E=i.children,A=i.margin||{},R=findChildByType(E,Brush),I=findChildByType(E,Legend),j=Object.keys(d).reduce(function(H,Z){var Y=d[Z],J=Y.orientation;return!Y.mirror&&!Y.hide?_objectSpread(_objectSpread({},H),{},_defineProperty({},J,H[J]+Y.width)):H},{left:A.left||0,right:A.right||0}),q=Object.keys(u).reduce(function(H,Z){var Y=u[Z],J=Y.orientation;return!Y.mirror&&!Y.hide?_objectSpread(_objectSpread({},H),{},_defineProperty({},J,get(H,"".concat(J))+Y.height)):H},{top:A.top||0,bottom:A.bottom||0}),L=_objectSpread(_objectSpread({},q),j),z=L.bottom;R&&(L.bottom+=R.props.height||Brush.defaultProps.height),I&&n&&(L=appendOffsetOfLegend(L,o,i,n));var U=p-L.left-L.right,W=g-L.top-L.bottom;return _objectSpread(_objectSpread({brushBottom:z},L),{},{width:Math.max(U,0),height:Math.max(W,0)})},getCartesianAxisSize=function t(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},generateCategoricalChart=function t(e){var n=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,l=o===void 0?"axis":o,u=e.validateTooltipEventTypes,f=u===void 0?["axis"]:u,d=e.axisComponents,p=e.legendContent,g=e.formatAxisMap,E=e.defaultProps,A=function(L,z){var U=z.graphicalItems,W=z.stackGroups,H=z.offset,Z=z.updateId,Y=z.dataStartIndex,J=z.dataEndIndex,ne=L.barSize,ae=L.layout,se=L.barGap,ue=L.barCategoryGap,fe=L.maxBarSize,_e=getAxisNameByLayout(ae),ge=_e.numericAxisName,ce=_e.cateAxisName,me=hasGraphicalBarItem(U),ee=[];return U.forEach(function(ie,oe){var de=getDisplayedData(L.data,{graphicalItems:[ie],dataStartIndex:Y,dataEndIndex:J}),xe=ie.type.defaultProps!==void 0?_objectSpread(_objectSpread({},ie.type.defaultProps),ie.props):ie.props,Ee=xe.dataKey,Ae=xe.maxBarSize,Ce=xe["".concat(ge,"Id")],Oe=xe["".concat(ce,"Id")],We={},qe=d.reduce(function(xt,ur){var yr=z["".concat(ur.axisType,"Map")],Mt=xe["".concat(ur.axisType,"Id")];yr&&yr[Mt]||ur.axisType==="zAxis"||invariant$1();var Sr=yr[Mt];return _objectSpread(_objectSpread({},xt),{},_defineProperty(_defineProperty({},ur.axisType,Sr),"".concat(ur.axisType,"Ticks"),getTicksOfAxis(Sr)))},We),Ne=qe[ce],Me=qe["".concat(ce,"Ticks")],Be=W&&W[Ce]&&W[Ce].hasStack&&getStackedDataOfItem(ie,W[Ce].stackGroups),je=getDisplayName(ie.type).indexOf("Bar")>=0,ze=getBandSizeOfAxis(Ne,Me),ke=[],Ge=me&&getBarSizeList({barSize:ne,stackGroups:W,totalSize:getCartesianAxisSize(qe,ce)});if(je){var He,ct,tr=isNil(Ae)?fe:Ae,ar=(He=(ct=getBandSizeOfAxis(Ne,Me,!0))!==null&&ct!==void 0?ct:tr)!==null&&He!==void 0?He:0;ke=getBarPosition({barGap:se,barCategoryGap:ue,bandSize:ar!==ze?ar:ze,sizeList:Ge[Oe],maxBarSize:tr}),ar!==ze&&(ke=ke.map(function(xt){return _objectSpread(_objectSpread({},xt),{},{position:_objectSpread(_objectSpread({},xt.position),{},{offset:xt.position.offset-ar/2})})}))}var vt=ie&&ie.type&&ie.type.getComposedData;vt&&ee.push({props:_objectSpread(_objectSpread({},vt(_objectSpread(_objectSpread({},qe),{},{displayedData:de,props:L,dataKey:Ee,item:ie,bandSize:ze,barPosition:ke,offset:H,stackedData:Be,layout:ae,dataStartIndex:Y,dataEndIndex:J}))),{},_defineProperty(_defineProperty(_defineProperty({key:ie.key||"item-".concat(oe)},ge,qe[ge]),ce,qe[ce]),"animationId",Z)),childIndex:parseChildIndex(ie,L.children),item:ie})}),ee},R=function(L,z){var U=L.props,W=L.dataStartIndex,H=L.dataEndIndex,Z=L.updateId;if(!validateWidthHeight({props:U}))return null;var Y=U.children,J=U.layout,ne=U.stackOffset,ae=U.data,se=U.reverseStackOrder,ue=getAxisNameByLayout(J),fe=ue.numericAxisName,_e=ue.cateAxisName,ge=findAllByType(Y,i),ce=getStackGroupsByAxisId(ae,ge,"".concat(fe,"Id"),"".concat(_e,"Id"),ne,se),me=d.reduce(function(xe,Ee){var Ae="".concat(Ee.axisType,"Map");return _objectSpread(_objectSpread({},xe),{},_defineProperty({},Ae,getAxisMap(U,_objectSpread(_objectSpread({},Ee),{},{graphicalItems:ge,stackGroups:Ee.axisType===fe&&ce,dataStartIndex:W,dataEndIndex:H}))))},{}),ee=calculateOffset(_objectSpread(_objectSpread({},me),{},{props:U,graphicalItems:ge}),z==null?void 0:z.legendBBox);Object.keys(me).forEach(function(xe){me[xe]=g(U,me[xe],ee,xe.replace("Map",""),n)});var ie=me["".concat(_e,"Map")],oe=tooltipTicksGenerator(ie),de=A(U,_objectSpread(_objectSpread({},me),{},{dataStartIndex:W,dataEndIndex:H,updateId:Z,graphicalItems:ge,stackGroups:ce,offset:ee}));return _objectSpread(_objectSpread({formattedGraphicalItems:de,graphicalItems:ge,offset:ee,stackGroups:ce},oe),me)},I=function(q){function L(z){var U,W,H;return _classCallCheck(this,L),H=_callSuper(this,L,[z]),_defineProperty(H,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(H,"accessibilityManager",new AccessibilityManager),_defineProperty(H,"handleLegendBBoxUpdate",function(Z){if(Z){var Y=H.state,J=Y.dataStartIndex,ne=Y.dataEndIndex,ae=Y.updateId;H.setState(_objectSpread({legendBBox:Z},R({props:H.props,dataStartIndex:J,dataEndIndex:ne,updateId:ae},_objectSpread(_objectSpread({},H.state),{},{legendBBox:Z}))))}}),_defineProperty(H,"handleReceiveSyncEvent",function(Z,Y,J){if(H.props.syncId===Z){if(J===H.eventEmitterSymbol&&typeof H.props.syncMethod!="function")return;H.applySyncEvent(Y)}}),_defineProperty(H,"handleBrushChange",function(Z){var Y=Z.startIndex,J=Z.endIndex;if(Y!==H.state.dataStartIndex||J!==H.state.dataEndIndex){var ne=H.state.updateId;H.setState(function(){return _objectSpread({dataStartIndex:Y,dataEndIndex:J},R({props:H.props,dataStartIndex:Y,dataEndIndex:J,updateId:ne},H.state))}),H.triggerSyncEvent({dataStartIndex:Y,dataEndIndex:J})}}),_defineProperty(H,"handleMouseEnter",function(Z){var Y=H.getMouseInfo(Z);if(Y){var J=_objectSpread(_objectSpread({},Y),{},{isTooltipActive:!0});H.setState(J),H.triggerSyncEvent(J);var ne=H.props.onMouseEnter;isFunction(ne)&&ne(J,Z)}}),_defineProperty(H,"triggeredAfterMouseMove",function(Z){var Y=H.getMouseInfo(Z),J=Y?_objectSpread(_objectSpread({},Y),{},{isTooltipActive:!0}):{isTooltipActive:!1};H.setState(J),H.triggerSyncEvent(J);var ne=H.props.onMouseMove;isFunction(ne)&&ne(J,Z)}),_defineProperty(H,"handleItemMouseEnter",function(Z){H.setState(function(){return{isTooltipActive:!0,activeItem:Z,activePayload:Z.tooltipPayload,activeCoordinate:Z.tooltipPosition||{x:Z.cx,y:Z.cy}}})}),_defineProperty(H,"handleItemMouseLeave",function(){H.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(H,"handleMouseMove",function(Z){Z.persist(),H.throttleTriggeredAfterMouseMove(Z)}),_defineProperty(H,"handleMouseLeave",function(Z){H.throttleTriggeredAfterMouseMove.cancel();var Y={isTooltipActive:!1};H.setState(Y),H.triggerSyncEvent(Y);var J=H.props.onMouseLeave;isFunction(J)&&J(Y,Z)}),_defineProperty(H,"handleOuterEvent",function(Z){var Y=getReactEventByType(Z),J=get(H.props,"".concat(Y));if(Y&&isFunction(J)){var ne,ae;/.*touch.*/i.test(Y)?ae=H.getMouseInfo(Z.changedTouches[0]):ae=H.getMouseInfo(Z),J((ne=ae)!==null&&ne!==void 0?ne:{},Z)}}),_defineProperty(H,"handleClick",function(Z){var Y=H.getMouseInfo(Z);if(Y){var J=_objectSpread(_objectSpread({},Y),{},{isTooltipActive:!0});H.setState(J),H.triggerSyncEvent(J);var ne=H.props.onClick;isFunction(ne)&&ne(J,Z)}}),_defineProperty(H,"handleMouseDown",function(Z){var Y=H.props.onMouseDown;if(isFunction(Y)){var J=H.getMouseInfo(Z);Y(J,Z)}}),_defineProperty(H,"handleMouseUp",function(Z){var Y=H.props.onMouseUp;if(isFunction(Y)){var J=H.getMouseInfo(Z);Y(J,Z)}}),_defineProperty(H,"handleTouchMove",function(Z){Z.changedTouches!=null&&Z.changedTouches.length>0&&H.throttleTriggeredAfterMouseMove(Z.changedTouches[0])}),_defineProperty(H,"handleTouchStart",function(Z){Z.changedTouches!=null&&Z.changedTouches.length>0&&H.handleMouseDown(Z.changedTouches[0])}),_defineProperty(H,"handleTouchEnd",function(Z){Z.changedTouches!=null&&Z.changedTouches.length>0&&H.handleMouseUp(Z.changedTouches[0])}),_defineProperty(H,"handleDoubleClick",function(Z){var Y=H.props.onDoubleClick;if(isFunction(Y)){var J=H.getMouseInfo(Z);Y(J,Z)}}),_defineProperty(H,"handleContextMenu",function(Z){var Y=H.props.onContextMenu;if(isFunction(Y)){var J=H.getMouseInfo(Z);Y(J,Z)}}),_defineProperty(H,"triggerSyncEvent",function(Z){H.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,H.props.syncId,Z,H.eventEmitterSymbol)}),_defineProperty(H,"applySyncEvent",function(Z){var Y=H.props,J=Y.layout,ne=Y.syncMethod,ae=H.state.updateId,se=Z.dataStartIndex,ue=Z.dataEndIndex;if(Z.dataStartIndex!==void 0||Z.dataEndIndex!==void 0)H.setState(_objectSpread({dataStartIndex:se,dataEndIndex:ue},R({props:H.props,dataStartIndex:se,dataEndIndex:ue,updateId:ae},H.state)));else if(Z.activeTooltipIndex!==void 0){var fe=Z.chartX,_e=Z.chartY,ge=Z.activeTooltipIndex,ce=H.state,me=ce.offset,ee=ce.tooltipTicks;if(!me)return;if(typeof ne=="function")ge=ne(ee,Z);else if(ne==="value"){ge=-1;for(var ie=0;ie<ee.length;ie++)if(ee[ie].value===Z.activeLabel){ge=ie;break}}var oe=_objectSpread(_objectSpread({},me),{},{x:me.left,y:me.top}),de=Math.min(fe,oe.x+oe.width),xe=Math.min(_e,oe.y+oe.height),Ee=ee[ge]&&ee[ge].value,Ae=getTooltipContent(H.state,H.props.data,ge),Ce=ee[ge]?{x:J==="horizontal"?ee[ge].coordinate:de,y:J==="horizontal"?xe:ee[ge].coordinate}:originCoordinate;H.setState(_objectSpread(_objectSpread({},Z),{},{activeLabel:Ee,activeCoordinate:Ce,activePayload:Ae,activeTooltipIndex:ge}))}else H.setState(Z)}),_defineProperty(H,"renderCursor",function(Z){var Y,J=H.state,ne=J.isTooltipActive,ae=J.activeCoordinate,se=J.activePayload,ue=J.offset,fe=J.activeTooltipIndex,_e=J.tooltipAxisBandSize,ge=H.getTooltipEventType(),ce=(Y=Z.props.active)!==null&&Y!==void 0?Y:ne,me=H.props.layout,ee=Z.key||"_recharts-cursor";return React.createElement(Cursor,{key:ee,activeCoordinate:ae,activePayload:se,activeTooltipIndex:fe,chartName:n,element:Z,isActive:ce,layout:me,offset:ue,tooltipAxisBandSize:_e,tooltipEventType:ge})}),_defineProperty(H,"renderPolarAxis",function(Z,Y,J){var ne=get(Z,"type.axisType"),ae=get(H.state,"".concat(ne,"Map")),se=Z.type.defaultProps,ue=se!==void 0?_objectSpread(_objectSpread({},se),Z.props):Z.props,fe=ae&&ae[ue["".concat(ne,"Id")]];return reactExports.cloneElement(Z,_objectSpread(_objectSpread({},fe),{},{className:clsx(ne,fe.className),key:Z.key||"".concat(Y,"-").concat(J),ticks:getTicksOfAxis(fe,!0)}))}),_defineProperty(H,"renderPolarGrid",function(Z){var Y=Z.props,J=Y.radialLines,ne=Y.polarAngles,ae=Y.polarRadius,se=H.state,ue=se.radiusAxisMap,fe=se.angleAxisMap,_e=getAnyElementOfObject(ue),ge=getAnyElementOfObject(fe),ce=ge.cx,me=ge.cy,ee=ge.innerRadius,ie=ge.outerRadius;return reactExports.cloneElement(Z,{polarAngles:Array.isArray(ne)?ne:getTicksOfAxis(ge,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(ae)?ae:getTicksOfAxis(_e,!0).map(function(oe){return oe.coordinate}),cx:ce,cy:me,innerRadius:ee,outerRadius:ie,key:Z.key||"polar-grid",radialLines:J})}),_defineProperty(H,"renderLegend",function(){var Z=H.state.formattedGraphicalItems,Y=H.props,J=Y.children,ne=Y.width,ae=Y.height,se=H.props.margin||{},ue=ne-(se.left||0)-(se.right||0),fe=getLegendProps({children:J,formattedGraphicalItems:Z,legendWidth:ue,legendContent:p});if(!fe)return null;var _e=fe.item,ge=_objectWithoutProperties(fe,_excluded);return reactExports.cloneElement(_e,_objectSpread(_objectSpread({},ge),{},{chartWidth:ne,chartHeight:ae,margin:se,onBBoxUpdate:H.handleLegendBBoxUpdate}))}),_defineProperty(H,"renderTooltip",function(){var Z,Y=H.props,J=Y.children,ne=Y.accessibilityLayer,ae=findChildByType(J,Tooltip);if(!ae)return null;var se=H.state,ue=se.isTooltipActive,fe=se.activeCoordinate,_e=se.activePayload,ge=se.activeLabel,ce=se.offset,me=(Z=ae.props.active)!==null&&Z!==void 0?Z:ue;return reactExports.cloneElement(ae,{viewBox:_objectSpread(_objectSpread({},ce),{},{x:ce.left,y:ce.top}),active:me,label:ge,payload:me?_e:[],coordinate:fe,accessibilityLayer:ne})}),_defineProperty(H,"renderBrush",function(Z){var Y=H.props,J=Y.margin,ne=Y.data,ae=H.state,se=ae.offset,ue=ae.dataStartIndex,fe=ae.dataEndIndex,_e=ae.updateId;return reactExports.cloneElement(Z,{key:Z.key||"_recharts-brush",onChange:combineEventHandlers(H.handleBrushChange,Z.props.onChange),data:ne,x:isNumber(Z.props.x)?Z.props.x:se.left,y:isNumber(Z.props.y)?Z.props.y:se.top+se.height+se.brushBottom-(J.bottom||0),width:isNumber(Z.props.width)?Z.props.width:se.width,startIndex:ue,endIndex:fe,updateId:"brush-".concat(_e)})}),_defineProperty(H,"renderReferenceElement",function(Z,Y,J){if(!Z)return null;var ne=H,ae=ne.clipPathId,se=H.state,ue=se.xAxisMap,fe=se.yAxisMap,_e=se.offset,ge=Z.type.defaultProps||{},ce=Z.props,me=ce.xAxisId,ee=me===void 0?ge.xAxisId:me,ie=ce.yAxisId,oe=ie===void 0?ge.yAxisId:ie;return reactExports.cloneElement(Z,{key:Z.key||"".concat(Y,"-").concat(J),xAxis:ue[ee],yAxis:fe[oe],viewBox:{x:_e.left,y:_e.top,width:_e.width,height:_e.height},clipPathId:ae})}),_defineProperty(H,"renderActivePoints",function(Z){var Y=Z.item,J=Z.activePoint,ne=Z.basePoint,ae=Z.childIndex,se=Z.isRange,ue=[],fe=Y.props.key,_e=Y.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Y.item.type.defaultProps),Y.item.props):Y.item.props,ge=_e.activeDot,ce=_e.dataKey,me=_objectSpread(_objectSpread({index:ae,dataKey:ce,cx:J.x,cy:J.y,r:4,fill:getMainColorOfGraphicItem(Y.item),strokeWidth:2,stroke:"#fff",payload:J.payload,value:J.value},filterProps$1(ge,!1)),adaptEventHandlers(ge));return ue.push(L.renderActiveDot(ge,me,"".concat(fe,"-activePoint-").concat(ae))),ne?ue.push(L.renderActiveDot(ge,_objectSpread(_objectSpread({},me),{},{cx:ne.x,cy:ne.y}),"".concat(fe,"-basePoint-").concat(ae))):se&&ue.push(null),ue}),_defineProperty(H,"renderGraphicChild",function(Z,Y,J){var ne=H.filterFormatItem(Z,Y,J);if(!ne)return null;var ae=H.getTooltipEventType(),se=H.state,ue=se.isTooltipActive,fe=se.tooltipAxis,_e=se.activeTooltipIndex,ge=se.activeLabel,ce=H.props.children,me=findChildByType(ce,Tooltip),ee=ne.props,ie=ee.points,oe=ee.isRange,de=ee.baseLine,xe=ne.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},ne.item.type.defaultProps),ne.item.props):ne.item.props,Ee=xe.activeDot,Ae=xe.hide,Ce=xe.activeBar,Oe=xe.activeShape,We=!!(!Ae&&ue&&me&&(Ee||Ce||Oe)),qe={};ae!=="axis"&&me&&me.props.trigger==="click"?qe={onClick:combineEventHandlers(H.handleItemMouseEnter,Z.props.onClick)}:ae!=="axis"&&(qe={onMouseLeave:combineEventHandlers(H.handleItemMouseLeave,Z.props.onMouseLeave),onMouseEnter:combineEventHandlers(H.handleItemMouseEnter,Z.props.onMouseEnter)});var Ne=reactExports.cloneElement(Z,_objectSpread(_objectSpread({},ne.props),qe));function Me(ur){return typeof fe.dataKey=="function"?fe.dataKey(ur.payload):null}if(We)if(_e>=0){var Be,je;if(fe.dataKey&&!fe.allowDuplicatedCategory){var ze=typeof fe.dataKey=="function"?Me:"payload.".concat(fe.dataKey.toString());Be=findEntryInArray(ie,ze,ge),je=oe&&de&&findEntryInArray(de,ze,ge)}else Be=ie==null?void 0:ie[_e],je=oe&&de&&de[_e];if(Oe||Ce){var ke=Z.props.activeIndex!==void 0?Z.props.activeIndex:_e;return[reactExports.cloneElement(Z,_objectSpread(_objectSpread(_objectSpread({},ne.props),qe),{},{activeIndex:ke})),null,null]}if(!isNil(Be))return[Ne].concat(_toConsumableArray(H.renderActivePoints({item:ne,activePoint:Be,basePoint:je,childIndex:_e,isRange:oe})))}else{var Ge,He=(Ge=H.getItemByXY(H.state.activeCoordinate))!==null&&Ge!==void 0?Ge:{graphicalItem:Ne},ct=He.graphicalItem,tr=ct.item,ar=tr===void 0?Z:tr,vt=ct.childIndex,xt=_objectSpread(_objectSpread(_objectSpread({},ne.props),qe),{},{activeIndex:vt});return[reactExports.cloneElement(ar,xt),null,null]}return oe?[Ne,null,null]:[Ne,null]}),_defineProperty(H,"renderCustomized",function(Z,Y,J){return reactExports.cloneElement(Z,_objectSpread(_objectSpread({key:"recharts-customized-".concat(J)},H.props),H.state))}),_defineProperty(H,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:H.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:H.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:H.renderBrush,once:!0},Bar:{handler:H.renderGraphicChild},Line:{handler:H.renderGraphicChild},Area:{handler:H.renderGraphicChild},Radar:{handler:H.renderGraphicChild},RadialBar:{handler:H.renderGraphicChild},Scatter:{handler:H.renderGraphicChild},Pie:{handler:H.renderGraphicChild},Funnel:{handler:H.renderGraphicChild},Tooltip:{handler:H.renderCursor,once:!0},PolarGrid:{handler:H.renderPolarGrid,once:!0},PolarAngleAxis:{handler:H.renderPolarAxis},PolarRadiusAxis:{handler:H.renderPolarAxis},Customized:{handler:H.renderCustomized}}),H.clipPathId="".concat((U=z.id)!==null&&U!==void 0?U:uniqueId("recharts"),"-clip"),H.throttleTriggeredAfterMouseMove=throttle(H.triggeredAfterMouseMove,(W=z.throttleDelay)!==null&&W!==void 0?W:1e3/60),H.state={},H}return _inherits(L,q),_createClass(L,[{key:"componentDidMount",value:function(){var U,W;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(U=this.props.margin.left)!==null&&U!==void 0?U:0,top:(W=this.props.margin.top)!==null&&W!==void 0?W:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var U=this.props,W=U.children,H=U.data,Z=U.height,Y=U.layout,J=findChildByType(W,Tooltip);if(J){var ne=J.props.defaultIndex;if(!(typeof ne!="number"||ne<0||ne>this.state.tooltipTicks.length-1)){var ae=this.state.tooltipTicks[ne]&&this.state.tooltipTicks[ne].value,se=getTooltipContent(this.state,H,ne,ae),ue=this.state.tooltipTicks[ne].coordinate,fe=(this.state.offset.top+Z)/2,_e=Y==="horizontal",ge=_e?{x:ue,y:fe}:{y:ue,x:fe},ce=this.state.formattedGraphicalItems.find(function(ee){var ie=ee.item;return ie.type.name==="Scatter"});ce&&(ge=_objectSpread(_objectSpread({},ge),ce.props.points[ne].tooltipPosition),se=ce.props.points[ne].tooltipPayload);var me={activeTooltipIndex:ne,isTooltipActive:!0,activeLabel:ae,activePayload:se,activeCoordinate:ge};this.setState(me),this.renderCursor(J),this.accessibilityManager.setIndex(ne)}}}},{key:"getSnapshotBeforeUpdate",value:function(U,W){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==W.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==U.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==U.margin){var H,Z;this.accessibilityManager.setDetails({offset:{left:(H=this.props.margin.left)!==null&&H!==void 0?H:0,top:(Z=this.props.margin.top)!==null&&Z!==void 0?Z:0}})}return null}},{key:"componentDidUpdate",value:function(U){isChildrenEqual([findChildByType(U.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var U=findChildByType(this.props.children,Tooltip);if(U&&typeof U.props.shared=="boolean"){var W=U.props.shared?"axis":"item";return f.indexOf(W)>=0?W:l}return l}},{key:"getMouseInfo",value:function(U){if(!this.container)return null;var W=this.container,H=W.getBoundingClientRect(),Z=getOffset(H),Y={chartX:Math.round(U.pageX-Z.left),chartY:Math.round(U.pageY-Z.top)},J=H.width/W.offsetWidth||1,ne=this.inRange(Y.chartX,Y.chartY,J);if(!ne)return null;var ae=this.state,se=ae.xAxisMap,ue=ae.yAxisMap,fe=this.getTooltipEventType();if(fe!=="axis"&&se&&ue){var _e=getAnyElementOfObject(se).scale,ge=getAnyElementOfObject(ue).scale,ce=_e&&_e.invert?_e.invert(Y.chartX):null,me=ge&&ge.invert?ge.invert(Y.chartY):null;return _objectSpread(_objectSpread({},Y),{},{xValue:ce,yValue:me})}var ee=getTooltipData(this.state,this.props.data,this.props.layout,ne);return ee?_objectSpread(_objectSpread({},Y),ee):null}},{key:"inRange",value:function(U,W){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Z=this.props.layout,Y=U/H,J=W/H;if(Z==="horizontal"||Z==="vertical"){var ne=this.state.offset,ae=Y>=ne.left&&Y<=ne.left+ne.width&&J>=ne.top&&J<=ne.top+ne.height;return ae?{x:Y,y:J}:null}var se=this.state,ue=se.angleAxisMap,fe=se.radiusAxisMap;if(ue&&fe){var _e=getAnyElementOfObject(ue);return inRangeOfSector({x:Y,y:J},_e)}return null}},{key:"parseEventsOfWrapper",value:function(){var U=this.props.children,W=this.getTooltipEventType(),H=findChildByType(U,Tooltip),Z={};H&&W==="axis"&&(H.props.trigger==="click"?Z={onClick:this.handleClick}:Z={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var Y=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},Y),Z)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(U,W,H){for(var Z=this.state.formattedGraphicalItems,Y=0,J=Z.length;Y<J;Y++){var ne=Z[Y];if(ne.item===U||ne.props.key===U.key||W===getDisplayName(ne.item.type)&&H===ne.childIndex)return ne}return null}},{key:"renderClipPath",value:function(){var U=this.clipPathId,W=this.state.offset,H=W.left,Z=W.top,Y=W.height,J=W.width;return React.createElement("defs",null,React.createElement("clipPath",{id:U},React.createElement("rect",{x:H,y:Z,height:Y,width:J})))}},{key:"getXScales",value:function(){var U=this.state.xAxisMap;return U?Object.entries(U).reduce(function(W,H){var Z=_slicedToArray(H,2),Y=Z[0],J=Z[1];return _objectSpread(_objectSpread({},W),{},_defineProperty({},Y,J.scale))},{}):null}},{key:"getYScales",value:function(){var U=this.state.yAxisMap;return U?Object.entries(U).reduce(function(W,H){var Z=_slicedToArray(H,2),Y=Z[0],J=Z[1];return _objectSpread(_objectSpread({},W),{},_defineProperty({},Y,J.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(U){var W;return(W=this.state.xAxisMap)===null||W===void 0||(W=W[U])===null||W===void 0?void 0:W.scale}},{key:"getYScaleByAxisId",value:function(U){var W;return(W=this.state.yAxisMap)===null||W===void 0||(W=W[U])===null||W===void 0?void 0:W.scale}},{key:"getItemByXY",value:function(U){var W=this.state,H=W.formattedGraphicalItems,Z=W.activeItem;if(H&&H.length)for(var Y=0,J=H.length;Y<J;Y++){var ne=H[Y],ae=ne.props,se=ne.item,ue=se.type.defaultProps!==void 0?_objectSpread(_objectSpread({},se.type.defaultProps),se.props):se.props,fe=getDisplayName(se.type);if(fe==="Bar"){var _e=(ae.data||[]).find(function(ee){return isInRectangle(U,ee)});if(_e)return{graphicalItem:ne,payload:_e}}else if(fe==="RadialBar"){var ge=(ae.data||[]).find(function(ee){return inRangeOfSector(U,ee)});if(ge)return{graphicalItem:ne,payload:ge}}else if(isFunnel(ne,Z)||isPie(ne,Z)||isScatter(ne,Z)){var ce=getActiveShapeIndexForTooltip({graphicalItem:ne,activeTooltipItem:Z,itemData:ue.data}),me=ue.activeIndex===void 0?ce:ue.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},ne),{},{childIndex:me}),payload:isScatter(ne,Z)?ue.data[ce]:ne.props.data[ce]}}}return null}},{key:"render",value:function(){var U=this;if(!validateWidthHeight(this))return null;var W=this.props,H=W.children,Z=W.className,Y=W.width,J=W.height,ne=W.style,ae=W.compact,se=W.title,ue=W.desc,fe=_objectWithoutProperties(W,_excluded2),_e=filterProps$1(fe,!1);if(ae)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},_e,{width:Y,height:J,title:se,desc:ue}),this.renderClipPath(),renderByOrder(H,this.renderMap)));if(this.props.accessibilityLayer){var ge,ce;_e.tabIndex=(ge=this.props.tabIndex)!==null&&ge!==void 0?ge:0,_e.role=(ce=this.props.role)!==null&&ce!==void 0?ce:"application",_e.onKeyDown=function(ee){U.accessibilityManager.keyboardEvent(ee)},_e.onFocus=function(){U.accessibilityManager.focus()}}var me=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",Z),style:_objectSpread({position:"relative",cursor:"default",width:Y,height:J},ne)},me,{ref:function(ie){U.container=ie}}),React.createElement(Surface,_extends({},_e,{width:Y,height:J,title:se,desc:ue,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(H,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(I,"displayName",n),_defineProperty(I,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},E)),_defineProperty(I,"getDerivedStateFromProps",function(q,L){var z=q.dataKey,U=q.data,W=q.children,H=q.width,Z=q.height,Y=q.layout,J=q.stackOffset,ne=q.margin,ae=L.dataStartIndex,se=L.dataEndIndex;if(L.updateId===void 0){var ue=createDefaultState(q);return _objectSpread(_objectSpread(_objectSpread({},ue),{},{updateId:0},R(_objectSpread(_objectSpread({props:q},ue),{},{updateId:0}),L)),{},{prevDataKey:z,prevData:U,prevWidth:H,prevHeight:Z,prevLayout:Y,prevStackOffset:J,prevMargin:ne,prevChildren:W})}if(z!==L.prevDataKey||U!==L.prevData||H!==L.prevWidth||Z!==L.prevHeight||Y!==L.prevLayout||J!==L.prevStackOffset||!shallowEqual(ne,L.prevMargin)){var fe=createDefaultState(q),_e={chartX:L.chartX,chartY:L.chartY,isTooltipActive:L.isTooltipActive},ge=_objectSpread(_objectSpread({},getTooltipData(L,U,Y)),{},{updateId:L.updateId+1}),ce=_objectSpread(_objectSpread(_objectSpread({},fe),_e),ge);return _objectSpread(_objectSpread(_objectSpread({},ce),R(_objectSpread({props:q},ce),L)),{},{prevDataKey:z,prevData:U,prevWidth:H,prevHeight:Z,prevLayout:Y,prevStackOffset:J,prevMargin:ne,prevChildren:W})}if(!isChildrenEqual(W,L.prevChildren)){var me,ee,ie,oe,de=findChildByType(W,Brush),xe=de&&(me=(ee=de.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&me!==void 0?me:ae,Ee=de&&(ie=(oe=de.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&ie!==void 0?ie:se,Ae=xe!==ae||Ee!==se,Ce=!isNil(U),Oe=Ce&&!Ae?L.updateId:L.updateId+1;return _objectSpread(_objectSpread({updateId:Oe},R(_objectSpread(_objectSpread({props:q},L),{},{updateId:Oe,dataStartIndex:xe,dataEndIndex:Ee}),L)),{},{prevChildren:W,dataStartIndex:xe,dataEndIndex:Ee})}return null}),_defineProperty(I,"renderActiveDot",function(q,L,z){var U;return reactExports.isValidElement(q)?U=reactExports.cloneElement(q,L):isFunction(q)?U=q(L):U=React.createElement(Dot,L),React.createElement(Layer,{className:"recharts-active-dot",key:z},U)});var j=reactExports.forwardRef(function(L,z){return React.createElement(I,_extends({},L,{ref:z}))});return j.displayName=I.displayName,j},PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),RadarChart=generateCategoricalChart({chartName:"RadarChart",GraphicalChild:Radar,axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ComposedChart=generateCategoricalChart({chartName:"ComposedChart",GraphicalChild:[Line,Area,Bar,Scatter],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis},{axisType:"zAxis",AxisComp:ZAxis}],formatAxisMap});const SituationSummary=({summary:t,radarData:e})=>{const n=[0,20,40,60,80,100],i=({x:u,y:f,payload:d})=>jsxRuntimeExports.jsx("text",{x:u,y:f+15,textAnchor:"middle",className:"radar-axis-tick",children:d.value}),l=(u=>{switch(u){case"初級":return 1;case"中級":return 2;case"中高級":return 3;case"高級":return 4;case"優級":return 5;default:return 0}})("中級");return jsxRuntimeExports.jsxs("div",{className:"situation-summary-container",children:[jsxRuntimeExports.jsxs("div",{className:"summary-card",children:[jsxRuntimeExports.jsx("h2",{className:"summary-title",children:"建議"}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"等級："}),jsxRuntimeExports.jsx("span",{className:"value",children:t.level})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"難度："}),jsxRuntimeExports.jsx("span",{className:"value",children:[...Array(5)].map((u,f)=>jsxRuntimeExports.jsx(Star,{size:18,strokeWidth:2,fill:f<l?"#F4C430":"none",color:"#F4C430",style:{marginRight:"4px"}},f))})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"作答速度："}),jsxRuntimeExports.jsx("span",{className:"value",children:t.speed})]}),jsxRuntimeExports.jsx("div",{className:"summary-advice",children:t.advice})]}),jsxRuntimeExports.jsx("div",{className:"summary-radar",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:350,children:jsxRuntimeExports.jsxs(RadarChart,{cx:"50%",cy:"50%",outerRadius:"80%",data:e,children:[jsxRuntimeExports.jsx(PolarGrid,{stroke:"#f4c7c3"}),jsxRuntimeExports.jsx(PolarAngleAxis,{dataKey:"category",tick:{fill:"#1f2937",fontSize:14}}),jsxRuntimeExports.jsx(PolarRadiusAxis,{domain:[0,100],ticks:n,tick:i,axisLine:!1}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#ffffff",borderRadius:8,border:"1px solid #e5e7eb",fontSize:14,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},labelStyle:{color:"#1f2937",fontWeight:600}}),jsxRuntimeExports.jsx(Radar,{name:"分數",dataKey:"score",stroke:"#9B1B30",fill:"#9B1B30",fillOpacity:.3,strokeWidth:2})]})})})]})},SituationLine=({data:t})=>{t=[{date:"2025-01",正確率:80,同期平均:75,使用者平均:78},{date:"",正確率:null,同期平均:78,使用者平均:0},{date:"2025-03",正確率:90,同期平均:82,使用者平均:85},{date:"2025-04",正確率:75,同期平均:78,使用者平均:76},{date:"2025-05",正確率:85,同期平均:80,使用者平均:82},{date:"2025-06",正確率:60,同期平均:68,使用者平均:64},{date:"2025-07",正確率:70,同期平均:73,使用者平均:71},{date:"2025-08",正確率:95,同期平均:88,使用者平均:90}];const e=t.reduce((o,l)=>o+(l.正確率||0),0)/t.length,n=[{name:"平均分數",value:e},{name:"剩餘",value:100-e}],i=["#F4C7C3","#E0E0E0"];return jsxRuntimeExports.jsxs("div",{className:"judy-situation-line-container",children:[jsxRuntimeExports.jsx("h2",{className:"situation-header",style:{fontWeight:"500"},children:"歷史表現"}),jsxRuntimeExports.jsxs("div",{className:"judy-situation-line-chart-wrapper",style:{display:"flex",gap:"20px"},children:[jsxRuntimeExports.jsx("div",{style:{flex:2,height:400},children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(ComposedChart,{data:t,margin:{top:20,right:20,bottom:10,left:0},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#00000033"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",tick:{fontSize:12,fill:"#374151"},axisLine:{stroke:"#374151"},tickLine:!1}),jsxRuntimeExports.jsx(YAxis,{tick:{fontSize:12,fill:"#374151"},axisLine:{stroke:"#374151"},tickLine:!1}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#ffffff",borderRadius:8,border:"1px solid #e5e7eb",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",fontSize:13},labelStyle:{color:"#1f2937",fontWeight:600},cursor:{stroke:"#4b5563",strokeWidth:2}}),jsxRuntimeExports.jsx(Legend,{iconType:"circle",wrapperStyle:{fontSize:13,paddingTop:10}}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"同期平均",fill:"rgba(151, 151, 151, 0.5)",stroke:"rgba(0,0,0,0.5)",strokeWidth:2,strokeDasharray:"5 5"}),jsxRuntimeExports.jsx(Bar,{dataKey:"正確率",barSize:30,fill:"#9B1B30",radius:[4,4,0,0]})]})})}),jsxRuntimeExports.jsxs("div",{style:{flex:1,height:400,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:18,fontWeight:600,color:"#1f2937"},children:"平均分數"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"70%",height:"60%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:n,innerRadius:70,outerRadius:100,startAngle:90,endAngle:-270,dataKey:"value",children:n.map((o,l)=>jsxRuntimeExports.jsx(Cell,{fill:i[l%i.length]},`cell-${l}`))}),jsxRuntimeExports.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"30px",fontWeight:"bold",fill:"#9B1B30"},children:e.toFixed(1)})]})})]})]})]})},questionTypeData=[{name:"是非",value:45,color:"#F4C7C3"},{name:"選擇",value:35,color:"#E78A8C"},{name:"配合",value:15,color:"#C0394B"},{name:"閱讀填空",value:5,color:"#9B1B30"}],getPerformance=t=>t>=80?"良好":t>=60?"需加強":"不及格",rawData=[{type:"是非",correctRate:85,averageScore:78},{type:"選擇",correctRate:72,averageScore:75},{type:"配合",correctRate:81,averageScore:65},{type:"閱讀填空",correctRate:45,averageScore:32}],performanceData=rawData.map(t=>({...t,performance:getPerformance(t.correctRate)})),SituationDashboard=()=>{const t=({active:i,payload:o,label:l})=>i&&o&&o.length?jsxRuntimeExports.jsxs("div",{className:"situation-tooltip-box",children:[jsxRuntimeExports.jsx("p",{className:"situation-tooltip-title",children:`題型: ${l}`}),o.map((u,f)=>jsxRuntimeExports.jsx("p",{style:{color:u.color},className:"situation-tooltip-subtitle",children:`${u.name}: ${u.value}%`},f))]}):null,e=i=>{switch(i){case"良好":return"rgb(40, 167, 69)";case"需加強":return"#FFB020";case"不及格":return"rgb(220, 53, 69)";default:return"#6B7280"}},n=({cx:i,cy:o,midAngle:l,innerRadius:u,outerRadius:f,percent:d})=>{if(d<.05)return null;const p=Math.PI/180,g=u+(f-u)*.5,E=i+g*Math.cos(-l*p),A=o+g*Math.sin(-l*p);return jsxRuntimeExports.jsx("text",{x:E,y:A,fill:"white",textAnchor:E>i?"start":"end",dominantBaseline:"central",className:"pie-label",children:`${(d*100).toFixed(0)}%`})};return jsxRuntimeExports.jsxs("div",{className:"situation-dashboard-container",children:[jsxRuntimeExports.jsx("div",{className:"situation-header",children:"總覽"}),jsxRuntimeExports.jsxs("div",{className:"situation-dashboard-grid",children:[jsxRuntimeExports.jsxs("div",{className:"situation-card",children:[jsxRuntimeExports.jsx("h2",{className:"situation-card-title",children:"題型分布"}),jsxRuntimeExports.jsx("div",{className:"situation-chart-container-judy",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsx(PieChart,{children:jsxRuntimeExports.jsx(Pie,{data:questionTypeData,cx:"50%",cy:"50%",labelLine:!1,label:n,outerRadius:100,innerRadius:40,dataKey:"value",stroke:"#fff",strokeWidth:2,children:questionTypeData.map((i,o)=>jsxRuntimeExports.jsx(Cell,{fill:i.color},`cell-${o}`))})})})}),jsxRuntimeExports.jsx("div",{className:"situation-legend-grid",children:questionTypeData.map((i,o)=>jsxRuntimeExports.jsxs("div",{className:"situation-legend-item",children:[jsxRuntimeExports.jsx("div",{className:"situation-legend-color",style:{backgroundColor:i.color}}),jsxRuntimeExports.jsx("span",{className:"situation-legend-name",children:i.name})]},o))})]}),jsxRuntimeExports.jsx("div",{className:"situation-card",children:jsxRuntimeExports.jsx("div",{className:"situation-chart-container-judy",style:{height:"100%"},children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(ComposedChart,{data:performanceData,margin:{top:20,right:30,left:20,bottom:5},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"type",axisLine:{stroke:"#e5e7eb"},tick:{fontSize:12}}),jsxRuntimeExports.jsx(YAxis,{yAxisId:"left",axisLine:{stroke:"#e5e7eb"},tick:{fontSize:12},label:{value:"正確率 (%)",angle:-90,position:"insideLeft"}}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(t,{})}),jsxRuntimeExports.jsx(Legend,{layout:"horizontal",payload:[{value:"平均正確率",type:"line",color:"#333"},{value:"良好",type:"square",color:"#10B981"},{value:"需加強",type:"square",color:"#F59E0B"},{value:"不及格",type:"square",color:"#EF4444"}],iconSize:16,wrapperStyle:{display:"flex",width:"-webkit-fill-available",justifyContent:"center"},formatter:i=>jsxRuntimeExports.jsx("span",{style:{fontSize:14,color:"#333"},children:i})}),jsxRuntimeExports.jsx(Bar,{yAxisId:"left",dataKey:"correctRate",name:"正確率",radius:[4,4,0,0],children:performanceData.map((i,o)=>jsxRuntimeExports.jsx(Cell,{fill:e(i.performance)},`cell-${o}`))}),jsxRuntimeExports.jsx(Line,{yAxisId:"left",type:"monotone",dataKey:"averageScore",name:"平均正確率",stroke:"#333",strokeWidth:3,dot:{fill:"white",strokeWidth:2,r:6},activeDot:{r:8,stroke:"#333",strokeWidth:2}})]})})})})]})]})},Filter=({selectedTypes:t,setSelectedTypes:e,selectedDate:n,setSelectedDate:i})=>{const[o,l]=reactExports.useState("all"),u=[{key:"所有",label:"所有"},{key:"是非題",label:"是非題"},{key:"選擇題",label:"選擇題"},{key:"配合題",label:"配合題"},{key:"閱讀填空",label:"閱讀填空"}],f=[{id:"all",label:"全部時間"},{id:"day",label:"單日"}];return jsxRuntimeExports.jsxs("div",{className:"filter-container",children:[jsxRuntimeExports.jsxs("div",{className:"filter-date-mode",children:[f.map(d=>jsxRuntimeExports.jsx("button",{type:"button",className:`filter-mode-btn ${o===d.id?"active":""}`,onClick:()=>{l(d.id),i({start:"",end:""})},children:d.label},d.id)),jsxRuntimeExports.jsx("input",{type:"date",value:n.start,onChange:d=>i({start:d.target.value,end:d.target.value}),className:"filter-date-input",disabled:o==="all"})]}),jsxRuntimeExports.jsx("select",{className:"filter-select",value:t,onChange:d=>e(d.target.value),children:u.map(d=>jsxRuntimeExports.jsx("option",{value:d.key,children:d.label},d.key))})]})},Situation=()=>{const[t,e]=reactExports.useState([]),[n,i]=reactExports.useState([]),[o,l]=reactExports.useState("所有"),[u,f]=reactExports.useState({start:"",end:""});return reactExports.useEffect(()=>{e(fakeData)},[]),reactExports.useEffect(()=>{const d=t.filter(p=>{const g=o==="所有"||p.questionType===o;let E=!0;return u.start&&u.end&&(E=new Date(p.date).toDateString()===new Date(u.start).toDateString()),g&&E});i(d)},[o,u,t]),jsxRuntimeExports.jsxs("div",{className:"situation-container",children:[jsxRuntimeExports.jsx("h2",{className:"situation-header",children:"答題情形"}),jsxRuntimeExports.jsx("div",{className:"situation-filter-wrapper",children:jsxRuntimeExports.jsx(Filter,{selectedTypes:o,setSelectedTypes:l,selectedDate:!0,setSelectedDate:!0})}),n.length>0?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"situation-line-wrapper",children:[jsxRuntimeExports.jsx(SituationSummary,{summary:{level:"中級",difficulty:"中等",speed:"偏快",advice:"你已展現出穩定的作答基礎，建議持續累積練習以維持良好表現。同時可適度挑戰較高難度題目，培養解題的靈活度與深度。在答題過程中，請特別注意細節，避免因粗心而失分。針對標記為不確定或常錯的題型，進行有系統的複習，能幫助鞏固弱點並提升信心，逐步增進速度與準確度。"},radarData:[{category:"綜合",score:78},{category:"正確度",score:85},{category:"難度",score:40},{category:"時間",score:80},{category:"信心度",score:68}]}),jsxRuntimeExports.jsx(SituationLine,{data:getLineData(n)}),jsxRuntimeExports.jsx(SituationDashboard,{})]})}):jsxRuntimeExports.jsx("div",{className:"no-data-box",children:"無符合條件的資料"})]})},Page=({currentPage:t,totalPages:e,onPageChange:n})=>{if(e<=1)return null;const i=()=>{t>1&&n(t-1)},o=()=>{t<e&&n(t+1)};return jsxRuntimeExports.jsxs("div",{className:"pagination",children:[jsxRuntimeExports.jsx("button",{onClick:i,disabled:t===1,children:"上一頁"}),jsxRuntimeExports.jsxs("span",{children:[t," / ",e]}),jsxRuntimeExports.jsx("button",{onClick:o,disabled:t===e,children:"下一頁"})]})},Discussion$1=({})=>{const[t,e]=reactExports.useState([{id:1,user:"User",avatar:"https://res.cloudinary.com/ddtttpd2a/image/upload/v1755674145/%E4%BA%BA_w1qaav.png",text:"請問選項 B 的泰雅語是什麼？🤔",time:"2025-08-28",likes:0,replies:[{id:11,user:"王小明",avatar:"https://res.cloudinary.com/ddtttpd2a/image/upload/v1754930051/%E7%8E%8B%E5%B0%8F%E6%98%8E_rtygjf.webp",text:"跳舞的泰雅語是 m_yugi' 喔！",time:"2025-08-28",likes:3}]},{id:2,user:"User",avatar:"https://res.cloudinary.com/ddtttpd2a/image/upload/v1755674145/%E4%BA%BA_w1qaav.png",text:"matas 畫圖🎨",time:"2025-08-30",likes:1,replies:[]}]),[n,i]=reactExports.useState(""),o=()=>{if(!n.trim())return;const f={id:Date.now(),user:"我",text:n,time:"剛剛",likes:0,replies:[]};e([...t,f]),i("")},l=f=>{e(t.map(d=>d.id===f?{...d,likes:d.likes+1}:d))},u=(f,d=36)=>f?jsxRuntimeExports.jsx("img",{src:f,alt:"avatar",className:"avatar-img",style:{width:d,height:d}}):jsxRuntimeExports.jsx(CircleUser,{className:"avatar",size:d});return jsxRuntimeExports.jsx("div",{className:"discussion-layout",children:jsxRuntimeExports.jsxs("div",{className:"discussion-box",children:[jsxRuntimeExports.jsx("div",{className:"discussion-header",children:jsxRuntimeExports.jsxs("h4",{children:[jsxRuntimeExports.jsx(MessageCircle,{size:20}),"討論區"]})}),jsxRuntimeExports.jsx("div",{className:"messages",children:t.map(f=>jsxRuntimeExports.jsxs("div",{className:"message-card",children:[u(f.avatar,36),jsxRuntimeExports.jsxs("div",{className:"message-content",children:[jsxRuntimeExports.jsxs("p",{className:"user",children:[f.user," ",jsxRuntimeExports.jsx("span",{className:"time",children:f.time})]}),jsxRuntimeExports.jsx("p",{className:"text",children:f.text}),jsxRuntimeExports.jsxs("div",{className:"actions",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>l(f.id),children:[jsxRuntimeExports.jsx(ThumbsUp,{size:14})," ",f.likes]}),jsxRuntimeExports.jsxs("button",{children:[jsxRuntimeExports.jsx(CornerDownRight,{size:14})," 回覆"]})]}),f.replies&&f.replies.length>0&&jsxRuntimeExports.jsx("div",{className:"replies",children:f.replies.map(d=>jsxRuntimeExports.jsxs("div",{className:"reply-card",children:[u(d.avatar,36),jsxRuntimeExports.jsxs("div",{className:"message-content",children:[jsxRuntimeExports.jsxs("p",{className:"user",children:[d.user," ",jsxRuntimeExports.jsx("span",{className:"time",children:d.time})]}),jsxRuntimeExports.jsx("p",{className:"text",children:d.text}),jsxRuntimeExports.jsx("div",{className:"actions",children:jsxRuntimeExports.jsxs("button",{children:[jsxRuntimeExports.jsx(ThumbsUp,{size:14})," ",d.likes]})})]})]},d.id))})]})]},f.id))}),jsxRuntimeExports.jsxs("div",{className:"input-box",children:[jsxRuntimeExports.jsx("input",{type:"text",value:n,onChange:f=>i(f.target.value),placeholder:"輸入留言..."}),jsxRuntimeExports.jsx("button",{onClick:o,children:jsxRuntimeExports.jsx(Send,{size:18})})]})]})})},Discussion=({})=>{var g;const[t,e]=reactExports.useState([{id:1,sender:"assistant",type:"intro",text:"哈囉！我是泰雅助手 👋 有什麼想問的嗎？"}]),[n,i]=reactExports.useState(""),[o,l]=reactExports.useState(!1),[u,f]=reactExports.useState(null),d=async()=>{if(!n.trim())return;const E={id:Date.now(),sender:"user",type:"text",text:n};e(A=>[...A,E]),i(""),l(!0);try{const A=await fetch(void 0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n})});if(!A.ok)throw new Error("API 請求失敗");const R=await A.json(),I={id:Date.now()+1,sender:"assistant",type:"translation",original:R.original,translation:R.translation,words:R.words.map((j,q)=>({word:j.tayal,meaning:j.chinese,color:`color${q+1}`})),image:R.image||null};e(j=>[...j,I])}catch(A){console.error("錯誤:",A);const R={id:Date.now()+2,sender:"assistant",type:"text",text:"伺服器錯誤，請稍後再試。"};e(I=>[...I,R])}finally{l(!1)}},p=E=>{var R;const A=E.sender==="user";return jsxRuntimeExports.jsxs("div",{className:`chat-message ${A?"user":"assistant"}`,onClick:()=>f(E),children:[jsxRuntimeExports.jsx("div",{className:"avatar",children:A?"":jsxRuntimeExports.jsx(Bot,{size:24})}),jsxRuntimeExports.jsx("div",{className:"bubble",children:E.type==="translation"?jsxRuntimeExports.jsxs("div",{className:"translation-block",children:[jsxRuntimeExports.jsx("p",{className:"original",children:E.original}),jsxRuntimeExports.jsx("p",{className:"translation",children:E.translation}),jsxRuntimeExports.jsx("hr",{className:"review-divider-AI"}),jsxRuntimeExports.jsx("div",{className:"word-line",children:(R=E.words)==null?void 0:R.map((I,j)=>jsxRuntimeExports.jsxs("div",{className:"word-block",children:[jsxRuntimeExports.jsx("span",{className:"word",children:I.word}),jsxRuntimeExports.jsx("span",{className:`meaning ${I.color}`,children:I.meaning})]},j))}),E.image&&jsxRuntimeExports.jsx("img",{src:E.image,alt:"相關圖示",className:"reply-image"})]}):jsxRuntimeExports.jsx("p",{children:E.text})})]},E.id)};return jsxRuntimeExports.jsxs("div",{className:"assistant-layout",children:[jsxRuntimeExports.jsx("div",{className:"assistant-header",children:jsxRuntimeExports.jsxs("h4",{children:[jsxRuntimeExports.jsx(Bot,{size:20}),"泰雅助手"]})}),jsxRuntimeExports.jsxs("div",{className:"assistant-messages",children:[t.map(p),o&&jsxRuntimeExports.jsxs("div",{className:"message bot",children:[jsxRuntimeExports.jsx("div",{className:"avatar-small",children:jsxRuntimeExports.jsx(Bot,{})}),jsxRuntimeExports.jsx("div",{className:"review-message-bubble typing",children:jsxRuntimeExports.jsxs("div",{className:"review-typing-indicator",children:[jsxRuntimeExports.jsx("span",{}),jsxRuntimeExports.jsx("span",{}),jsxRuntimeExports.jsx("span",{})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"assistant-input",children:[jsxRuntimeExports.jsx("input",{type:"text",value:n,onChange:E=>i(E.target.value),placeholder:"輸入你的問題..."}),jsxRuntimeExports.jsx("button",{onClick:d,children:jsxRuntimeExports.jsx(Send,{size:18})})]}),u&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",onClick:()=>f(null),children:jsxRuntimeExports.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>f(null),children:jsxRuntimeExports.jsx(X,{size:20})}),u.type==="translation"?jsxRuntimeExports.jsxs("div",{className:"translation-block expanded",children:[jsxRuntimeExports.jsx("p",{className:"original",children:u.original}),jsxRuntimeExports.jsx("p",{className:"translation",children:u.translation}),jsxRuntimeExports.jsx("hr",{className:"review-divider-AI"}),jsxRuntimeExports.jsx("div",{className:"word-line",children:(g=u.words)==null?void 0:g.map((E,A)=>jsxRuntimeExports.jsxs("div",{className:"word-block",children:[jsxRuntimeExports.jsx("span",{className:"word",children:E.word}),jsxRuntimeExports.jsx("span",{className:`meaning ${E.color}`,children:E.meaning})]},A))}),u.image&&jsxRuntimeExports.jsx("img",{src:u.image,alt:"圖示",className:"reply-image large"})]}):jsxRuntimeExports.jsx("p",{className:"expanded-text",children:u.text})]})})]})},Review=({})=>{const[t,e]=reactExports.useState([]),[n,i]=reactExports.useState(!0),o=["測驗紀錄","討論","泰雅助手"],[l,u]=reactExports.useState(0),[f,d]=reactExports.useState(!1),[p,g]=reactExports.useState(null),[E,A]=reactExports.useState(null),[R,I]=reactExports.useState(1),j=5,q=Math.ceil(t.length/j),L=(R-1)*j,z=t.slice(L,L+j),U=["A","B","C"];reactExports.useEffect(()=>{(async()=>{try{const J=await getCurrentSituation();e(J)}catch(J){console.error("載入失敗：",J)}finally{i(!1)}})()},[]);const W=Y=>Y>=70?"score-good":"score-bad",H=async(Y,J,ne)=>{const ae=await getQuizById(Y);if(ae){const se={...ae,results:J,answers:ne};g(se),A(null),u(0)}},Z=async(Y,J)=>{if(Y){const ne={...Y,userAnswer:p.answers[J],isCorrect:p.results[J].isCorrect,idx:J};A(ne)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"review-header",children:[jsxRuntimeExports.jsx("h2",{className:"review-title",children:"重點複習"}),jsxRuntimeExports.jsxs("button",{className:"review-intro-btn",onClick:()=>{d(!f)},children:[jsxRuntimeExports.jsx(CircleHelp,{}),"說明"]}),f&&jsxRuntimeExports.jsxs("div",{className:"review-intro-box",children:[jsxRuntimeExports.jsx("p",{className:"review-parts-title",children:"功能說明"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"測驗紀錄："}),"查看歷次測驗紀錄，點選「查看測驗」檢視詳細題目。"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"討論："}),"與其他使用者一同討論解題思路與學習心得。"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"泰雅助手："}),"AI智慧協助，針對題目進行解說、延伸學習。"]})]}),jsxRuntimeExports.jsx("p",{className:"review-hint",children:"💡提示：若尚未選擇題目，「討論」與「泰雅助手」將無法使用。"})]})]}),jsxRuntimeExports.jsxs("div",{className:"review-container",children:[jsxRuntimeExports.jsxs("div",{style:{width:"50%"},children:[jsxRuntimeExports.jsx("div",{className:"review-nav",children:o.map((Y,J)=>{const ne=J>0&&!E;return jsxRuntimeExports.jsx("div",{className:`nav-item ${l===J?"active":""} ${ne?"disabled":""}`,onClick:()=>{ne||u(J)},children:Y},J)})}),jsxRuntimeExports.jsx("div",{className:"review-table-container",children:p?jsxRuntimeExports.jsxs("div",{className:"review-quiz-detail",children:[l===0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"review-quiz-header",children:[jsxRuntimeExports.jsx("button",{className:"back-btn",onClick:()=>g(null),children:"← 返回"}),jsxRuntimeExports.jsxs("h3",{children:[p.title," ",p.createdAt.toDate().toLocaleString().split(" ")[0]]})]}),jsxRuntimeExports.jsx("div",{className:"quiz-questions",children:jsxRuntimeExports.jsxs("table",{className:"review-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"　　"}),jsxRuntimeExports.jsx("th",{children:"題目"}),jsxRuntimeExports.jsx("th",{children:"　　"})]})}),jsxRuntimeExports.jsx("tbody",{children:p.data.map((Y,J)=>{var se;const ne=(se=p.results)==null?void 0:se[J],ae=ne==null?void 0:ne.isCorrect;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{children:[J+1,ae===!0&&jsxRuntimeExports.jsx(CircleCheckBig,{size:16,color:"#388e3c"}),ae===!1&&jsxRuntimeExports.jsx(CircleX,{size:16,color:"#d32f2f"})]}),jsxRuntimeExports.jsx("td",{children:Y.question_ab}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{className:"view-btn",onClick:()=>{Z(Y,J)},children:"查看題目"})})]},J)})})]})})]}),l===1&&jsxRuntimeExports.jsx(Discussion$1,{}),l===2&&jsxRuntimeExports.jsx(Discussion,{})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("table",{className:"review-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"測驗時間"}),jsxRuntimeExports.jsx("th",{children:"類型"}),jsxRuntimeExports.jsx("th",{children:"分數"}),jsxRuntimeExports.jsx("th",{style:{width:"124.67px"}})]})}),jsxRuntimeExports.jsx("tbody",{children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:4,style:{textAlign:"center"},children:"載入中..."})}):t.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:4,style:{textAlign:"center"},children:"尚無答題紀錄"})}):z.map(Y=>{let J=countScore(Y.results);return jsxRuntimeExports.jsx(React.Fragment,{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:Y.answeredAt.toDate().toLocaleString().split(" ")[0]}),jsxRuntimeExports.jsx("td",{children:Y.quizType}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("span",{className:`${W(J)}`,children:J})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{className:"view-btn",onClick:()=>{H(Y.quizId,Y.results,Y.answers)},children:"查看測驗"})})]})},Y.quizId)})})]}),jsxRuntimeExports.jsx(Page,{currentPage:R,totalPages:q,onPageChange:I})]})})]}),jsxRuntimeExports.jsx("div",{className:"quiz-question-detail",children:E?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"review-q",children:jsxRuntimeExports.jsxs("div",{className:"review-question-card",children:[jsxRuntimeExports.jsxs("div",{className:"review-question-header",children:[jsxRuntimeExports.jsxs("h4",{children:["題目",E.idx+1]}),E.isCorrect?jsxRuntimeExports.jsx(CircleCheckBig,{className:"icon-correct",size:26}):jsxRuntimeExports.jsx(CircleX,{className:"icon-wrong",size:26})]}),jsxRuntimeExports.jsx("hr",{className:"review-divider"}),jsxRuntimeExports.jsxs("div",{className:"review-question-body",children:[jsxRuntimeExports.jsxs("div",{className:"question-content",children:[jsxRuntimeExports.jsx("button",{className:"play-btn",onClick:()=>{new Audio(E.audio).play()},children:jsxRuntimeExports.jsx(Play,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"question-ab",children:E.question_ab}),jsxRuntimeExports.jsx("p",{className:"question-ch",children:E.question_ch})]})]}),jsxRuntimeExports.jsx("div",{className:"answer-row answer-images",children:jsxRuntimeExports.jsxs("div",{className:"answer-block",children:[jsxRuntimeExports.jsx("span",{children:"我的答案"}),jsxRuntimeExports.jsx("div",{className:"answer-options",children:U.map((Y,J)=>{const ne=E.images[Y],ae=E.userAnswer===J+1,se=E.answer===J+1;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:`option-img-wrapper ${ae?"user-choice":""}`,children:[jsxRuntimeExports.jsx("img",{src:ne,alt:`選項 ${Y}`,className:"option-img"}),jsxRuntimeExports.jsx("span",{className:"option-label",children:Y})]}),se&&jsxRuntimeExports.jsxs("span",{className:"correct-tip",children:[jsxRuntimeExports.jsx(Check,{size:14})," 正確答案"]})]},Y)})})]})})]})]})}),jsxRuntimeExports.jsx("button",{className:"review-q-btn",onClick:()=>{A(null)},children:"取消"})]}):jsxRuntimeExports.jsx("div",{className:"review-q",children:jsxRuntimeExports.jsx("div",{className:"review-empty-container",children:"尚未選擇題目"})})})]})]})},ChartComp=({data:t,title:e})=>jsxRuntimeExports.jsxs("div",{className:"chart-container",children:[jsxRuntimeExports.jsxs("div",{className:"chart-header",children:[jsxRuntimeExports.jsx(ChartColumn,{size:18,className:"chart-icon"}),jsxRuntimeExports.jsx("h4",{className:"chart-title",children:e})]}),jsxRuntimeExports.jsx("div",{className:"chart-bars",children:Object.entries(t).map(([n,i])=>jsxRuntimeExports.jsxs("div",{className:"chart-bar-row",children:[jsxRuntimeExports.jsx("span",{className:"chart-label",children:n}),jsxRuntimeExports.jsx("div",{className:"chart-bar-background",children:jsxRuntimeExports.jsx("div",{className:"chart-bar-fill",style:{width:`${i}%`}})}),jsxRuntimeExports.jsxs("span",{className:"chart-percent",children:[i,"%"]})]},n))})]}),LinkComp=({practiceType:t,url:e,color:n})=>jsxRuntimeExports.jsx("div",{className:"link-wrapper",children:jsxRuntimeExports.jsxs("button",{className:"link-button",style:{backgroundColor:n},onClick:()=>alert(e),children:[jsxRuntimeExports.jsx(Play,{size:16}),"開始",t,"練習",jsxRuntimeExports.jsx(ExternalLink,{size:14})]})}),LayoutGroupContext=reactExports.createContext({});function useConstant(t){const e=reactExports.useRef(null);return e.current===null&&(e.current=t()),e.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(t,e){t.indexOf(e)===-1&&t.push(e)}function removeItem(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const clamp=(t,e,n)=>n>e?e:n<t?t:n;let invariant=()=>{};const MotionGlobalConfig={},isNumericalString=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function isObject(t){return typeof t=="object"&&t!==null}const isZeroValueString=t=>/^0[^.\s]+$/u.test(t);function memo(t){let e;return()=>(e===void 0&&(e=t()),e)}const noop=t=>t,combineFunctions=(t,e)=>n=>e(t(n)),pipe=(...t)=>t.reduce(combineFunctions),progress=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=t=>t*1e3,millisecondsToSeconds=t=>t/1e3;function velocityPerSecond(t,e){return e?t*(1e3/e):0}const calcBezier=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(t,e,n,i,o){let l,u,f=0;do u=e+(n-e)/2,l=calcBezier(u,i,o)-t,l>0?n=u:e=u;while(Math.abs(l)>subdivisionPrecision&&++f<subdivisionMaxIterations);return u}function cubicBezier(t,e,n,i){if(t===e&&n===i)return noop;const o=l=>binarySubdivide(l,0,1,t,n);return l=>l===0||l===1?l:calcBezier(o(l),e,i)}const mirrorEasing=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,reverseEasing=t=>e=>1-t(1-e),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=t=>(t*=2)<1?.5*backIn(t):.5*(2-Math.pow(2,-10*(t-1))),circIn=t=>1-Math.sin(Math.acos(t)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=t=>Array.isArray(t)&&typeof t[0]!="number",isBezierDefinition=t=>Array.isArray(t)&&typeof t[0]=="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=t=>typeof t=="string",easingDefinitionToFunction=t=>{if(isBezierDefinition(t)){invariant(t.length===4);const[e,n,i,o]=t;return cubicBezier(e,n,i,o)}else if(isValidEasing(t))return easingLookup[t];return t},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(t,e){let n=new Set,i=new Set,o=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(g){u.has(g)&&(p.schedule(g),t()),g(f)}const p={schedule:(g,E=!1,A=!1)=>{const I=A&&o?n:i;return E&&u.add(g),I.has(g)||I.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(f=g,o){l=!0;return}o=!0,[n,i]=[i,n],n.forEach(d),n.clear(),o=!1,l&&(l=!1,p.process(g))}};return p}const maxElapsed=40;function createRenderBatcher(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=stepsOrder.reduce((U,W)=>(U[W]=createRenderStep(l),U),{}),{setup:f,read:d,resolveKeyframes:p,preUpdate:g,update:E,preRender:A,render:R,postRender:I}=u,j=()=>{const U=MotionGlobalConfig.useManualTiming?o.timestamp:performance.now();n=!1,MotionGlobalConfig.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(U-o.timestamp,maxElapsed),1)),o.timestamp=U,o.isProcessing=!0,f.process(o),d.process(o),p.process(o),g.process(o),E.process(o),A.process(o),R.process(o),I.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(j))},q=()=>{n=!0,i=!0,o.isProcessing||t(j)};return{schedule:stepsOrder.reduce((U,W)=>{const H=u[W];return U[W]=(Z,Y=!1,J=!1)=>(n||q(),H.schedule(Z,Y,J)),U},{}),cancel:U=>{for(let W=0;W<stepsOrder.length;W++)u[stepsOrder[W]].cancel(U)},state:o,steps:u}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:t=>{now=t,queueMicrotask(clearTime)}},checkStringStartsWith=t=>e=>typeof e=="string"&&e.startsWith(t),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=t=>startsAsVariableToken(t)?singleCssVariableRegex.test(t.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},alpha={...number,transform:t=>clamp(0,1,t)},scale={...number,default:1},sanitize=t=>Math.round(t*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(t){return t==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(t,e)=>n=>!!(typeof n=="string"&&singleColorRegex.test(n)&&n.startsWith(t)||e&&!isNullish(n)&&Object.prototype.hasOwnProperty.call(n,e)),splitColor=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,l,u,f]=i.match(floatRegex);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},clampRgbUnit=t=>clamp(0,255,t),rgbUnit={...number,transform:t=>Math.round(clampRgbUnit(t))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+rgbUnit.transform(t)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(n)+", "+sanitize(alpha.transform(i))+")"};function parseHex(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:t=>percent.parse(t)/100,transform:t=>percent.transform(t*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha.transform(i))+")"},color={test:t=>rgba.test(t)||hex.test(t)||hsla.test(t),parse:t=>rgba.test(t)?rgba.parse(t):hsla.test(t)?hsla.parse(t):hex.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rgba.transform(t):hsla.transform(t),getAnimatableNone:t=>{const e=color.parse(t);return e.alpha=0,color.transform(e)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(floatRegex))==null?void 0:e.length)||0)+(((n=t.match(colorRegex))==null?void 0:n.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=e.replace(complexRegex,d=>(color.test(d)?(i.color.push(l),o.push(COLOR_TOKEN),n.push(color.parse(d))):d.startsWith(VAR_FUNCTION_TOKEN)?(i.var.push(l),o.push(VAR_TOKEN),n.push(d)):(i.number.push(l),o.push(NUMBER_TOKEN),n.push(parseFloat(d))),++l,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:n,split:f,indexes:i,types:o}}function parseComplexValue(t){return analyseComplexValue(t).values}function createTransformer(t){const{split:e,types:n}=analyseComplexValue(t),i=e.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],o[u]!==void 0){const f=n[u];f===NUMBER_TOKEN?l+=sanitize(o[u]):f===COLOR_TOKEN?l+=color.transform(o[u]):l+=o[u]}return l}}const convertNumbersToZero=t=>typeof t=="number"?0:color.test(t)?color.getAnimatableNone(t):t;function getAnimatableNone$1(t){const e=parseComplexValue(t);return createTransformer(t)(e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslaToRgba({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;o=hueToRgb(d,f,t+1/3),l=hueToRgb(d,f,t),u=hueToRgb(d,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function mixImmediate(t,e){return n=>n>0?e:t}const mixNumber$1=(t,e,n)=>t+(e-t)*n,mixLinearColor=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},colorTypes=[hex,rgba,hsla],getColorType=t=>colorTypes.find(e=>e.test(t));function asRGBA(t){const e=getColorType(t);if(!e)return!1;let n=e.parse(t);return e===hsla&&(n=hslaToRgba(n)),n}const mixColor=(t,e)=>{const n=asRGBA(t),i=asRGBA(e);if(!n||!i)return mixImmediate(t,e);const o={...n};return l=>(o.red=mixLinearColor(n.red,i.red,l),o.green=mixLinearColor(n.green,i.green,l),o.blue=mixLinearColor(n.blue,i.blue,l),o.alpha=mixNumber$1(n.alpha,i.alpha,l),rgba.transform(o))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(t,e){return invisibleValues.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mixNumber(t,e){return n=>mixNumber$1(t,e,n)}function getMixer(t){return typeof t=="number"?mixNumber:typeof t=="string"?isCSSVariableToken(t)?mixImmediate:color.test(t)?mixColor:mixComplex:Array.isArray(t)?mixArray:typeof t=="object"?color.test(t)?mixColor:mixObject:mixImmediate}function mixArray(t,e){const n=[...t],i=n.length,o=t.map((l,u)=>getMixer(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=o[u](l);return n}}function mixObject(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=getMixer(t[o])(t[o],e[o]));return o=>{for(const l in i)n[l]=i[l](o);return n}}function matchOrder(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][i[l]],f=t.values[u]??0;n[o]=f,i[l]++}return n}const mixComplex=(t,e)=>{const n=complex.createTransformer(e),i=analyseComplexValue(t),o=analyseComplexValue(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?invisibleValues.has(t)&&!o.values.length||invisibleValues.has(e)&&!i.values.length?mixVisibility(t,e):pipe(mixArray(matchOrder(i,o),o.values),n):mixImmediate(t,e)};function mix(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mixNumber$1(t,e,n):getMixer(t)(t,e)}const frameloopDriver=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>frame.update(e,n),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generateLinearEasing=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)i+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<maxGeneratorDuration;)e+=n,i=t.next(e);return e>=maxGeneratorDuration?1/0:e}function createGeneratorEasing(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(calcGeneratorDuration(i),maxGeneratorDuration);return{type:"keyframes",ease:l=>i.next(o*l).value/e,duration:millisecondsToSeconds(o)}}const velocitySampleDuration=5;function calcGeneratorVelocity(t,e,n){const i=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(n-t(i),e-i)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:t=springDefaults.duration,bounce:e=springDefaults.bounce,velocity:n=springDefaults.velocity,mass:i=springDefaults.mass}){let o,l,u=1-e;u=clamp(springDefaults.minDamping,springDefaults.maxDamping,u),t=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(t)),u<1?(o=p=>{const g=p*u,E=g*t,A=g-n,R=calcAngularFreq(p,u),I=Math.exp(-E);return safeMin-A/R*I},l=p=>{const E=p*u*t,A=E*n+n,R=Math.pow(u,2)*Math.pow(p,2)*t,I=Math.exp(-E),j=calcAngularFreq(Math.pow(p,2),u);return(-o(p)+safeMin>0?-1:1)*((A-R)*I)/j}):(o=p=>{const g=Math.exp(-p*t),E=(p-n)*t+1;return-.001+g*E},l=p=>{const g=Math.exp(-p*t),E=(n-p)*(t*t);return g*E});const f=5/t,d=approximateRoot(o,l,f);if(t=secondsToMilliseconds(t),isNaN(d))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const rootIterations=12;function approximateRoot(t,e,n){let i=n;for(let o=1;o<rootIterations;o++)i=i-t(i)/e(i);return i}function calcAngularFreq(t,e){return t*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(t,e){return e.some(n=>t[n]!==void 0)}function getSpringOptions(t){let e={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...t};if(!isSpringType(t,physicsKeys)&&isSpringType(t,durationKeys))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,l=2*clamp(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:springDefaults.mass,stiffness:o,damping:l}}else{const n=findSpring(t);e={...e,...n,mass:springDefaults.mass},e.isResolvedFromDuration=!0}return e}function spring(t=springDefaults.visualDuration,e=springDefaults.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:p,mass:g,duration:E,velocity:A,isResolvedFromDuration:R}=getSpringOptions({...n,velocity:-millisecondsToSeconds(n.velocity||0)}),I=A||0,j=p/(2*Math.sqrt(d*g)),q=u-l,L=millisecondsToSeconds(Math.sqrt(d/g)),z=Math.abs(q)<5;i||(i=z?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),o||(o=z?springDefaults.restDelta.granular:springDefaults.restDelta.default);let U;if(j<1){const H=calcAngularFreq(L,j);U=Z=>{const Y=Math.exp(-j*L*Z);return u-Y*((I+j*L*q)/H*Math.sin(H*Z)+q*Math.cos(H*Z))}}else if(j===1)U=H=>u-Math.exp(-L*H)*(q+(I+L*q)*H);else{const H=L*Math.sqrt(j*j-1);U=Z=>{const Y=Math.exp(-j*L*Z),J=Math.min(H*Z,300);return u-Y*((I+j*L*q)*Math.sinh(J)+H*q*Math.cosh(J))/H}}const W={calculatedDuration:R&&E||null,next:H=>{const Z=U(H);if(R)f.done=H>=E;else{let Y=H===0?I:0;j<1&&(Y=H===0?secondsToMilliseconds(I):calcGeneratorVelocity(U,H,Z));const J=Math.abs(Y)<=i,ne=Math.abs(u-Z)<=o;f.done=J&&ne}return f.value=f.done?u:Z,f},toString:()=>{const H=Math.min(calcGeneratorDuration(W),maxGeneratorDuration),Z=generateLinearEasing(Y=>W.next(H*Y).value,H,30);return H+"ms "+Z},toTransition:()=>{}};return W}spring.applyToOptions=t=>{const e=createGeneratorEasing(t,100,spring);return t.ease=e.ease,t.duration=secondsToMilliseconds(e.duration),t.type="keyframes",t};function inertia({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:d,restDelta:p=.5,restSpeed:g}){const E=t[0],A={done:!1,value:E},R=J=>f!==void 0&&J<f||d!==void 0&&J>d,I=J=>f===void 0?d:d===void 0||Math.abs(f-J)<Math.abs(d-J)?f:d;let j=n*e;const q=E+j,L=u===void 0?q:u(q);L!==q&&(j=L-E);const z=J=>-j*Math.exp(-J/i),U=J=>L+z(J),W=J=>{const ne=z(J),ae=U(J);A.done=Math.abs(ne)<=p,A.value=A.done?L:ae};let H,Z;const Y=J=>{R(A.value)&&(H=J,Z=spring({keyframes:[A.value,I(A.value)],velocity:calcGeneratorVelocity(U,J,A.value),damping:o,stiffness:l,restDelta:p,restSpeed:g}))};return Y(0),{calculatedDuration:null,next:J=>{let ne=!1;return!Z&&H===void 0&&(ne=!0,W(J),Y(J)),H!==void 0&&J>=H?Z.next(J-H):(!ne&&W(J),A)}}}function createMixers(t,e,n){const i=[],o=n||MotionGlobalConfig.mix||mix,l=t.length-1;for(let u=0;u<l;u++){let f=o(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||noop:e;f=pipe(d,f)}i.push(f)}return i}function interpolate(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const l=t.length;if(invariant(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=createMixers(e,i,o),d=f.length,p=g=>{if(u&&g<t[0])return e[0];let E=0;if(d>1)for(;E<t.length-2&&!(g<t[E+1]);E++);const A=progress(t[E],t[E+1],g);return f[E](A)};return n?g=>p(clamp(t[0],t[l-1],g)):p}function fillOffset(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=progress(0,e,i);t.push(mixNumber$1(n,1,o))}}function defaultOffset(t){const e=[0];return fillOffset(e,t.length-1),e}function convertOffsetToTimes(t,e){return t.map(n=>n*e)}function defaultEasing(t,e){return t.map(()=>e||easeInOut).splice(0,t.length-1)}function keyframes({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=isEasingArray(i)?i.map(easingDefinitionToFunction):easingDefinitionToFunction(i),l={done:!1,value:e[0]},u=convertOffsetToTimes(n&&n.length===e.length?n:defaultOffset(e),t),f=interpolate(u,e,{ease:Array.isArray(o)?o:defaultEasing(e,o)});return{calculatedDuration:t,next:d=>(l.value=f(d),l.done=d>=t,l)}}const isNotNull$1=t=>t!==null;function getFinalKeyframe$1(t,{repeat:e,repeatType:n="loop"},i,o=1){const l=t.filter(isNotNull$1),f=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(t){typeof t.type=="string"&&(t.type=transitionTypeMap[t.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const percentToProgress=t=>t/100;class JSAnimation extends WithPromise{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==time.now()&&this.tick(time.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;replaceTransitionType(e);const{type:n=keyframes,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const d=n||keyframes;d!==keyframes&&typeof f[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(f[0],f[1])),f=[0,100]);const p=d({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=calcGeneratorDuration(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:E,repeatType:A,repeatDelay:R,type:I,onUpdate:j,finalKeyframe:q}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-p*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?L<0:L>o;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let U=this.currentTime,W=i;if(E){const J=Math.min(this.currentTime,o)/f;let ne=Math.floor(J),ae=J%1;!ae&&J>=1&&(ae=1),ae===1&&ne--,ne=Math.min(ne,E+1),!!(ne%2)&&(A==="reverse"?(ae=1-ae,R&&(ae-=R/f)):A==="mirror"&&(W=u)),U=clamp(0,1,ae)*f}const H=z?{done:!1,value:g[0]}:W.next(U);l&&(H.value=l(H.value));let{done:Z}=H;!z&&d!==null&&(Z=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Y=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return Y&&I!==inertia&&(H.value=getFinalKeyframe$1(g,this.options,q,this.speed)),j&&j(H.value),Y&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get time(){return millisecondsToSeconds(this.currentTime)}set time(e){var n;e=secondsToMilliseconds(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(time.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=millisecondsToSeconds(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:e=frameloopDriver,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(o=this.options).onPlay)==null||l.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function fillWildcards(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const radToDeg=t=>t*180/Math.PI,rotate=t=>{const e=radToDeg(Math.atan2(t[1],t[0]));return rebaseAngle(e)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate,rotateZ:rotate,skewX:t=>radToDeg(Math.atan(t[1])),skewY:t=>radToDeg(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rebaseAngle=t=>(t=t%360,t<0&&(t+=360),t),rotateZ=rotate,scaleX=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),scaleY=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:t=>(scaleX(t)+scaleY(t))/2,rotateX:t=>rebaseAngle(radToDeg(Math.atan2(t[6],t[5]))),rotateY:t=>rebaseAngle(radToDeg(Math.atan2(-t[2],t[0]))),rotateZ,rotate:rotateZ,skewX:t=>radToDeg(Math.atan(t[4])),skewY:t=>radToDeg(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function defaultTransformValue(t){return t.includes("scale")?1:0}function parseValueFromTransform(t,e){if(!t||t==="none")return defaultTransformValue(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=matrix3dParsers,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=matrix2dParsers,o=f}if(!o)return defaultTransformValue(e);const l=i[e],u=o[1].split(",").map(convertTransformToNumber);return typeof l=="function"?l(u):u[l]}const readTransformValue=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return parseValueFromTransform(n,e)};function convertTransformToNumber(t){return parseFloat(t.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=t=>t===number||t===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(t=>!transformKeys.has(t));function removeNonTranslationalTransform(t){const e=[];return nonTranslationalTransformKeys.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const positionalValues={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>parseValueFromTransform(e,"x"),y:(t,{transform:e})=>parseValueFromTransform(e,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const t=Array.from(toResolve).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=removeNonTranslationalTransform(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([l,u])=>{var f;(f=i.getValue(l))==null||f.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(t=>t.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(e,n,i,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}fillWildcards(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=t=>t.startsWith("--");function setStyle(t,e,n){isCSSVar(e)?t.style.setProperty(e,n):t.style[e]=n}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(t,e){const n=memo(t);return()=>supportsFlags[e]??n()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(t,e){if(t)return typeof t=="function"?supportsLinearEasing()?generateLinearEasing(t,e):"ease-out":isBezierDefinition(t)?cubicBezierAsString(t):Array.isArray(t)?t.map(n=>mapEasingToNativeEasing(n,e)||supportedWaapiEasing.easeOut):supportedWaapiEasing[t]}function startWaapiAnimation(t,e,n,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:d}={},p=void 0){const g={[e]:n};d&&(g.offset=d);const E=mapEasingToNativeEasing(f,o);Array.isArray(E)&&(g.easing=E);const A={delay:i,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(A.pseudoElement=p),t.animate(g,A)}function isGenerator(t){return typeof t=="function"&&"applyToOptions"in t}function applyGeneratorOptions({type:t,...e}){return isGenerator(t)&&supportsLinearEasing()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class NativeAnimation extends WithPromise{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,invariant(typeof e.type!="string");const p=applyGeneratorOptions(e);this.animation=startWaapiAnimation(n,i,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=getFinalKeyframe$1(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):setStyle(n,i,g),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return millisecondsToSeconds(Number(e))}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&supportsScrollTimeline()?(this.animation.timeline=e,noop):n(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(t){return t in unsupportedEasingFunctions}function replaceStringEasing(t){typeof t.ease=="string"&&isUnsupportedEase(t.ease)&&(t.ease=unsupportedEasingFunctions[t.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(e){replaceStringEasing(e),replaceTransitionType(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new JSAnimation({...u,autoplay:!1}),d=secondsToMilliseconds(this.finishedTime??this.time);n.setWithVelocity(f.sample(d-sampleDelta).value,f.sample(d).value,sampleDelta),f.stop()}}const isAnimatable=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(complex.test(t)||t==="0")&&!t.startsWith("url("));function hasKeyframesChanged(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function canAnimate(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=isAnimatable(o,e),f=isAnimatable(l,e);return!u||!f?!1:hasKeyframesChanged(t)||(n==="spring"||isGenerator(n))&&i}function makeAnimationInstant(t){t.duration=0,t.type}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(t){var g;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:l,type:u}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return supportsWaapi()&&n&&acceleratedValues.has(n)&&(n!=="transform"||!p)&&!d&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:d,motionValue:p,element:g,...E}){var I;super(),this.stop=()=>{var j,q;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(q=this.keyframeResolver)==null||q.cancel()},this.createdAt=time.now();const A={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:g,...E},R=(g==null?void 0:g.KeyframeResolver)||KeyframeResolver;this.keyframeResolver=new R(f,(j,q,L)=>this.onKeyframesResolved(j,q,A,!L),d,p,g),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:d,isHandoff:p,onUpdate:g}=i;this.resolvedAt=time.now(),canAnimate(e,l,u,f)||((MotionGlobalConfig.instantAnimations||!d)&&(g==null||g(getFinalKeyframe$1(e,i,n))),e[0]=e[e.length-1],makeAnimationInstant(i),i.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},R=!p&&supportsBrowserAnimation(A)?new NativeAnimationExtended({...A,element:A.motionValue.owner.current}):new JSAnimation(A);R.finished.then(()=>this.notifyFinished()).catch(noop),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(t){const e=splitCSSVariableRegex.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function getVariableValue(t,e,n=1){const[i,o]=parseCSSVariable(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return isNumericalString(u)?parseFloat(u):u}return isCSSVariableToken(o)?getVariableValue(o,e,n+1):o}function getValueTransition(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:t=>t==="auto",parse:t=>t},testValueType=t=>e=>e.test(t),dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=t=>dimensionValueTypes.find(testValueType(t));function isNone(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||isZeroValueString(t):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(floatRegex)||[];if(!i)return t;const o=n.replace(i,"");let l=maxDefaults.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+o+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:t=>{const e=t.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):t}},int={...number,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=t=>defaultValueTypes[t];function getAnimatableNone(t,e){let n=getDefaultValueType(t);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(t,e,n){let i=0,o;for(;i<t.length&&!o;){const l=t[i];typeof l=="string"&&!invalidTemplates.has(l)&&analyseComplexValue(l).values.length&&(o=t[i]),i++}if(o&&n)for(const l of e)t[l]=getAnimatableNone(n,o)}class DOMKeyframesResolver extends KeyframeResolver{constructor(e,n,i,o,l){super(e,n,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),isCSSVariableToken(p))){const g=getVariableValue(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(i)||e.length!==2)return;const[o,l]=e,u=findDimensionValueType(o),f=findDimensionValueType(l);if(u!==f)if(isNumOrPxType(u)&&isNumOrPxType(f))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else positionalValues[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||isNone(e[o]))&&i.push(o);i.length&&makeNoneKeyframesAnimatable(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=positionalValues[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function resolveElements(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const getValueAsType=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function isHTMLElement(t){return isObject(t)&&"offsetHeight"in t}const MAX_VELOCITY_DELTA=30,isFloat=t=>!isNaN(parseFloat(t));class MotionValue{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const o=time.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=time.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new SubscriptionManager);const i=this.events[e].add(n);return e==="change"?()=>{i(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(t,e){return new MotionValue(t,e)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(t){return t==="x"||t==="y"?isDragging[t]?null:(isDragging[t]=!0,()=>{isDragging[t]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(t,e){const n=resolveElements(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function isValidHover(t){return!(t.pointerType==="touch"||isDragActive())}function hover(t,e,n={}){const[i,o,l]=setupGesture(t,n),u=f=>{if(!isValidHover(f))return;const{target:d}=f,p=e(d,f);if(typeof p!="function"||!d)return;const g=E=>{isValidHover(E)&&(p(E),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,o)};return i.forEach(f=>{f.addEventListener("pointerenter",u,o)}),l}const isNodeOrChild=(t,e)=>e?t===e?!0:isNodeOrChild(t,e.parentElement):!1,isPrimaryPointer=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(t){return focusableElements.has(t.tagName)||t.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(t){return e=>{e.key==="Enter"&&t(e)}}function firePointerEvent(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=filterEvents(()=>{if(isPressing.has(n))return;firePointerEvent(n,"down");const o=filterEvents(()=>{firePointerEvent(n,"up")}),l=()=>firePointerEvent(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function isValidPressEvent(t){return isPrimaryPointer(t)&&!isDragActive()}function press(t,e,n={}){const[i,o,l]=setupGesture(t,n),u=f=>{const d=f.currentTarget;if(!isValidPressEvent(f))return;isPressing.add(d);const p=e(d,f),g=(R,I)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),isPressing.has(d)&&isPressing.delete(d),isValidPressEvent(R)&&typeof p=="function"&&p(R,{success:I})},E=R=>{g(R,d===window||d===document||n.useGlobalTarget||isNodeOrChild(d,R.target))},A=R=>{g(R,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",A,o)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),isHTMLElement(f)&&(f.addEventListener("focus",p=>enableKeyboardPress(p,o)),!isElementKeyboardAccessible(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function isSVGElement(t){return isObject(t)&&"ownerSVGElement"in t}function isSVGSVGElement(t){return isSVGElement(t)&&t.tagName==="svg"}const isMotionValue=t=>!!(t&&t.getVelocity),valueTypes=[...dimensionValueTypes,color,complex],findValueType=t=>valueTypes.find(testValueType(t)),MotionConfigContext=reactExports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=isHTMLElement(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:t,isPresent:e,anchorX:n,root:i}){const o=reactExports.useId(),l=reactExports.useRef(null),u=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:d,height:p,top:g,left:E,right:A}=u.current;if(e||!l.current||!d||!p)return;const R=n==="left"?`left: ${E}`:`right: ${A}`;l.current.dataset.motionPopId=o;const I=document.createElement("style");f&&(I.nonce=f);const j=i??document.head;return j.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            ${R}px !important;
            top: ${g}px !important;
          }
        `),()=>{j.contains(I)&&j.removeChild(I)}},[e]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:e,childRef:l,sizeRef:u,children:reactExports.cloneElement(t,{ref:l})})}const PresenceChild=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:u,anchorX:f,root:d})=>{const p=useConstant(newChildrenMap),g=reactExports.useId();let E=!0,A=reactExports.useMemo(()=>(E=!1,{id:g,initial:e,isPresent:n,custom:o,onExitComplete:R=>{p.set(R,!0);for(const I of p.values())if(!I)return;i&&i()},register:R=>(p.set(R,!1),()=>p.delete(R))}),[n,p,i]);return l&&E&&(A={...A}),reactExports.useMemo(()=>{p.forEach((R,I)=>p.set(I,!1))},[n]),reactExports.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),u==="popLayout"&&(t=jsxRuntimeExports.jsx(PopChild,{isPresent:n,anchorX:f,root:d,children:t})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:A,children:t})};function newChildrenMap(){return new Map}function usePresence(t=!0){const e=reactExports.useContext(PresenceContext);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,l=reactExports.useId();reactExports.useEffect(()=>{if(t)return o(l)},[t]);const u=reactExports.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const getChildKey=t=>t.key||"";function onlyElements(t){const e=[];return reactExports.Children.forEach(t,n=>{reactExports.isValidElement(n)&&e.push(n)}),e}const AnimatePresence=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:d})=>{const[p,g]=usePresence(u),E=reactExports.useMemo(()=>onlyElements(t),[t]),A=u&&!p?[]:E.map(getChildKey),R=reactExports.useRef(!0),I=reactExports.useRef(E),j=useConstant(()=>new Map),[q,L]=reactExports.useState(E),[z,U]=reactExports.useState(E);useIsomorphicLayoutEffect(()=>{R.current=!1,I.current=E;for(let Z=0;Z<z.length;Z++){const Y=getChildKey(z[Z]);A.includes(Y)?j.delete(Y):j.get(Y)!==!0&&j.set(Y,!1)}},[z,A.length,A.join("-")]);const W=[];if(E!==q){let Z=[...E];for(let Y=0;Y<z.length;Y++){const J=z[Y],ne=getChildKey(J);A.includes(ne)||(Z.splice(Y,0,J),W.push(J))}return l==="wait"&&W.length&&(Z=W),U(onlyElements(Z)),L(E),null}const{forceRender:H}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:z.map(Z=>{const Y=getChildKey(Z),J=u&&!p?!1:E===z||A.includes(Y),ne=()=>{if(j.has(Y))j.set(Y,!0);else return;let ae=!0;j.forEach(se=>{se||(ae=!1)}),ae&&(H==null||H(),U(I.current),u&&(g==null||g()),i&&i())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:J,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:d,onExitComplete:J?void 0:ne,anchorX:f,children:Z},Y)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const t in featureProps)featureDefinitions[t]={isEnabled:e=>featureProps[t].some(n=>!!e[n])};function loadFeatures(t){for(const e in t)featureDefinitions[e]={...featureDefinitions[e],...t[e]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||validMotionProps.has(t)}let shouldForward=t=>!isValidMotionProp(t);function loadExternalIsValidProp(t){typeof t=="function"&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):t(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(shouldForward(o)||n===!0&&isValidMotionProp(o)||!e&&!isValidMotionProp(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const MotionContext=reactExports.createContext({});function isAnimationControls(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function isVariantLabel(t){return typeof t=="string"||Array.isArray(t)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(t){return isAnimationControls(t.animate)||variantProps.some(e=>isVariantLabel(t[e]))}function isVariantNode(t){return!!(isControllingVariants(t)||t.variants)}function getCurrentTreeVariants(t,e){if(isControllingVariants(t)){const{initial:n,animate:i}=t;return{initial:n===!1||isVariantLabel(n)?n:void 0,animate:isVariantLabel(i)?i:void 0}}return t.inherit!==!1?e:{}}function useCreateMotionContext(t){const{initial:e,animate:n}=getCurrentTreeVariants(t,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:n}),[variantLabelsAsDependency(e),variantLabelsAsDependency(n)])}function variantLabelsAsDependency(t){return Array.isArray(t)?t.join(" "):t}const scaleCorrectors={};function addScaleCorrector(t){for(const e in t)scaleCorrectors[e]=t[e],isCSSVariableName(e)&&(scaleCorrectors[e].isCSSVariable=!0)}function isForcedMotionValue(t,{layout:e,layoutId:n}){return transformProps.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!scaleCorrectors[t]||t==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(t,e,n){let i="",o=!0;for(let l=0;l<numTransforms;l++){const u=transformPropOrder[l],f=t[u];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(u.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const p=getValueAsType(f,numberValueTypes[u]);if(!d){o=!1;const g=translateAlias[u]||u;i+=`${g}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function buildHTMLStyles(t,e,n){const{style:i,vars:o,transformOrigin:l}=t;let u=!1,f=!1;for(const d in e){const p=e[d];if(transformProps.has(d)){u=!0;continue}else if(isCSSVariableName(d)){o[d]=p;continue}else{const g=getValueAsType(p,numberValueTypes[d]);d.startsWith("origin")?(f=!0,l[d]=g):i[d]=g}}if(e.transform||(u||n?i.transform=buildTransform(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:d="50%",originY:p="50%",originZ:g=0}=l;i.transformOrigin=`${d} ${p} ${g}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(t,e,n){for(const i in e)!isMotionValue(e[i])&&!isForcedMotionValue(i,n)&&(t[i]=e[i])}function useInitialMotionValues({transformTemplate:t},e){return reactExports.useMemo(()=>{const n=createHtmlRenderState();return buildHTMLStyles(n,e,t),Object.assign({},n.vars,n.style)},[e])}function useStyle(t,e){const n=t.style||{},i={};return copyRawValuesOnly(i,n,t),Object.assign(i,useInitialMotionValues(t,e)),i}function useHTMLProps(t,e){const n={},i=useStyle(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(t,e,n=1,i=0,o=!0){t.pathLength=1;const l=o?dashKeys:camelKeys;t[l.offset]=px.transform(-i);const u=px.transform(e),f=px.transform(n);t[l.array]=`${u} ${f}`}function buildSVGAttrs(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...f},d,p,g){if(buildHTMLStyles(t,f,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:A}=t;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete E.transformBox),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),i!==void 0&&(E.scale=i),o!==void 0&&buildSVGPath(E,o,l,u,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=t=>typeof t=="string"&&t.toLowerCase()==="svg";function useSVGProps(t,e,n,i){const o=reactExports.useMemo(()=>{const l=createSvgRenderState();return buildSVGAttrs(l,e,isSVGTag(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};copyRawValuesOnly(l,t.style,t),o.style={...l,...o.style}}return o}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(t){return typeof t!="string"||t.includes("-")?!1:!!(lowercaseSVGElements.indexOf(t)>-1||/[A-Z]/u.test(t))}function useRender(t,e,n,{latestValues:i},o,l=!1){const f=(isSVGComponent(t)?useSVGProps:useHTMLProps)(e,i,o,t),d=filterProps(e,typeof t=="string",l),p=t!==reactExports.Fragment?{...d,...f,ref:n}:{},{children:g}=e,E=reactExports.useMemo(()=>isMotionValue(g)?g.get():g,[g]);return reactExports.createElement(t,{...p,children:E})}function getValueState(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function resolveVariantFromProps(t,e,n,i){if(typeof e=="function"){const[o,l]=getValueState(i);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=getValueState(i);e=e(n!==void 0?n:t.custom,o,l)}return e}function resolveMotionValue(t){return isMotionValue(t)?t.get():t}function makeState({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:makeLatestValues(n,i,o,t),renderState:e()}}function makeLatestValues(t,e,n,i){const o={},l=i(t,{});for(const A in l)o[A]=resolveMotionValue(l[A]);let{initial:u,animate:f}=t;const d=isControllingVariants(t),p=isVariantNode(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const E=g?f:u;if(E&&typeof E!="boolean"&&!isAnimationControls(E)){const A=Array.isArray(E)?E:[E];for(let R=0;R<A.length;R++){const I=resolveVariantFromProps(t,A[R]);if(I){const{transitionEnd:j,transition:q,...L}=I;for(const z in L){let U=L[z];if(Array.isArray(U)){const W=g?U.length-1:0;U=U[W]}U!==null&&(o[z]=U)}for(const z in j)o[z]=j[z]}}}return o}const makeUseVisualState=t=>(e,n)=>{const i=reactExports.useContext(MotionContext),o=reactExports.useContext(PresenceContext),l=()=>makeState(t,e,i,o);return n?l():useConstant(l)};function scrapeMotionValuesFromProps$1(t,e,n){var l;const{style:i}=t,o={};for(const u in i)(isMotionValue(i[u])||e.style&&isMotionValue(e.style[u])||isForcedMotionValue(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(o[u]=i[u]);return o}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(t,e,n){const i=scrapeMotionValuesFromProps$1(t,e,n);for(const o in t)if(isMotionValue(t[o])||isMotionValue(e[o])){const l=transformPropOrder.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=t[o]}return i}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function useMotionRef(t,e,n){return reactExports.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):isRefObject(n)&&(n.current=i))},[e])}const camelToDash=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(t,e,n,i,o){var j,q;const{visualElement:l}=reactExports.useContext(MotionContext),u=reactExports.useContext(LazyContext),f=reactExports.useContext(PresenceContext),d=reactExports.useContext(MotionConfigContext).reducedMotion,p=reactExports.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,E=reactExports.useContext(SwitchLayoutGroupContext);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&createProjectionNode$1(p.current,n,o,E);const A=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{g&&A.current&&g.update(n,f)});const R=n[optimizedAppearDataAttribute],I=reactExports.useRef(!!R&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,R))&&((q=window.MotionHasOptimisedAnimation)==null?void 0:q.call(window,R)));return useIsomorphicLayoutEffect(()=>{g&&(A.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),I.current&&g.animationState&&g.animationState.animateChanges())}),reactExports.useEffect(()=>{g&&(!I.current&&g.animationState&&g.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,R)}),I.current=!1),g.enteringChildren=void 0)}),g}function createProjectionNode$1(t,e,n,i){const{layoutId:o,layout:l,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:getClosestProjectingNode(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||f&&isRefObject(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:p})}function getClosestProjectingNode(t){if(t)return t.options.allowProjection!==!1?t.projection:getClosestProjectingNode(t.parent)}function createMotionComponent(t,{forwardMotionProps:e=!1}={},n,i){n&&loadFeatures(n);const o=isSVGComponent(t)?useSVGVisualState:useHTMLVisualState;function l(f,d){let p;const g={...reactExports.useContext(MotionConfigContext),...f,layoutId:useLayoutId(f)},{isStatic:E}=g,A=useCreateMotionContext(f),R=o(f,E);if(!E&&isBrowser){useStrictMode();const I=getProjectionFunctionality(g);p=I.MeasureLayout,A.visualElement=useVisualElement(t,R,g,i,I.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:A,children:[p&&A.visualElement?jsxRuntimeExports.jsx(p,{visualElement:A.visualElement,...g}):null,useRender(t,f,useMotionRef(R,A.visualElement,d),R,E,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=reactExports.forwardRef(l);return u[motionComponentSymbol]=t,u}function useLayoutId({layoutId:t}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&t!==void 0?e+"-"+t:t}function useStrictMode(t,e){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(t){const{drag:e,layout:n}=featureDefinitions;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function createMotionProxy(t,e){if(typeof Proxy>"u")return createMotionComponent;const n=new Map,i=(l,u)=>createMotionComponent(l,u,t,e),o=(l,u)=>i(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,createMotionComponent(u,void 0,t,e)),n.get(u))})}function convertBoundingBoxToBox({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function convertBoxToBoundingBox({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function transformBoxPoints(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function isIdentityScale(t){return t===void 0||t===1}function hasScale({scale:t,scaleX:e,scaleY:n}){return!isIdentityScale(t)||!isIdentityScale(e)||!isIdentityScale(n)}function hasTransform(t){return hasScale(t)||has2DTranslate(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function has2DTranslate(t){return is2DTranslate(t.x)||is2DTranslate(t.y)}function is2DTranslate(t){return t&&t!=="0%"}function scalePoint(t,e,n){const i=t-n,o=e*i;return n+o}function applyPointDelta(t,e,n,i,o){return o!==void 0&&(t=scalePoint(t,o,i)),scalePoint(t,n,i)+e}function applyAxisDelta(t,e=0,n=1,i,o){t.min=applyPointDelta(t.min,e,n,i,o),t.max=applyPointDelta(t.max,e,n,i,o)}function applyBoxDelta(t,{x:e,y:n}){applyAxisDelta(t.x,e.translate,e.scale,e.originPoint),applyAxisDelta(t.y,n.translate,n.scale,n.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let f=0;f<o;f++){l=n[f],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&transformBox(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,applyBoxDelta(t,u)),i&&hasTransform(l.latestValues)&&transformBox(t,l.latestValues))}e.x<TREE_SCALE_SNAP_MAX&&e.x>TREE_SCALE_SNAP_MIN&&(e.x=1),e.y<TREE_SCALE_SNAP_MAX&&e.y>TREE_SCALE_SNAP_MIN&&(e.y=1)}function translateAxis(t,e){t.min=t.min+e,t.max=t.max+e}function transformAxis(t,e,n,i,o=.5){const l=mixNumber$1(t.min,t.max,o);applyAxisDelta(t,e,n,l,i)}function transformBox(t,e){transformAxis(t.x,e.x,e.scaleX,e.scale,e.originX),transformAxis(t.y,e.y,e.scaleY,e.scale,e.originY)}function measureViewportBox(t,e){return convertBoundingBoxToBox(transformBoxPoints(t.getBoundingClientRect(),e))}function measurePageBox(t,e,n){const i=measureViewportBox(t,n),{scroll:o}=e;return o&&(translateAxis(i.x,o.offset.x),translateAxis(i.y,o.offset.y)),i}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=t.matches;t.addEventListener("change",e),e()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(t,e,n){for(const i in e){const o=e[i],l=n[i];if(isMotionValue(o))t.addValue(i,o);else if(isMotionValue(l))t.addValue(i,motionValue(o,{owner:t}));else if(l!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,motionValue(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=time.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,frame.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in E){const R=E[A];d[A]!==void 0&&isMotionValue(R)&&R.set(d[A])}}mount(e){var n;this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=transformProps.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&frame.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in featureDefinitions){const n=featureDefinitions[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<propEventHandlers.length;i++){const o=propEventHandlers[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=motionValue(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(isNumericalString(i)||isZeroValueString(i))?i=parseFloat(i):!findValueType(i)&&complex.test(n)&&(i=getAnimatableNone(e,n)),this.setBaseTarget(e,isMotionValue(i)?i.get():i)),isMotionValue(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=resolveVariantFromProps(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!isMotionValue(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function renderHTML(t,{style:e,vars:n},i,o){const l=t.style;let u;for(u in e)l[u]=e[u];o==null||o.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function getComputedStyle$1(t){return window.getComputedStyle(t)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(e,n){var i;if(transformProps.has(n))return(i=this.projection)!=null&&i.isProjecting?defaultTransformValue(n):readTransformValue(e,n);{const o=getComputedStyle$1(e),l=(isCSSVariableName(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return measureViewportBox(e,n)}build(e,n,i){buildHTMLStyles(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return scrapeMotionValuesFromProps$1(e,n,i)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(t,e,n,i){renderHTML(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(camelCaseAttributes.has(o)?o:camelToDash(o),e.attrs[o])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(transformProps.has(n)){const i=getDefaultValueType(n);return i&&i.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return scrapeMotionValuesFromProps(e,n,i)}build(e,n,i){buildSVGAttrs(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){renderSVG(e,n,i,o)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(t,e)=>isSVGComponent(t)?new SVGVisualElement(e):new HTMLVisualElement(e,{allowProjection:t!==reactExports.Fragment});function resolveVariant(t,e,n){const i=t.getProps();return resolveVariantFromProps(i,e,n!==void 0?n:i.custom,t)}const isKeyframesTarget=t=>Array.isArray(t);function setMotionValue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,motionValue(n))}function resolveFinalValueInKeyframes(t){return isKeyframesTarget(t)?t[t.length-1]||0:t}function setTarget(t,e){const n=resolveVariant(t,e);let{transitionEnd:i={},transition:o={},...l}=n||{};l={...l,...i};for(const u in l){const f=resolveFinalValueInKeyframes(l[u]);setMotionValue(t,u,f)}}function isWillChangeMotionValue(t){return!!(isMotionValue(t)&&t.add)}function addValueToWillChange(t,e){const n=t.getValue("willChange");if(isWillChangeMotionValue(n))return n.add(e);if(!n&&MotionGlobalConfig.WillChange){const i=new MotionGlobalConfig.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function getOptimisedAppearId(t){return t.props[optimizedAppearDataAttribute]}const isNotNull=t=>t!==null;function getFinalKeyframe(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(isNotNull),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(t,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(t)?t.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease;function isTransitionDefined({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:f,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const animateMotionValue=(t,e,n,i={},o,l)=>u=>{const f=getValueTransition(i,t)||{},d=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-secondsToMilliseconds(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:A=>{e.set(A),f.onUpdate&&f.onUpdate(A)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:o};isTransitionDefined(f)||Object.assign(g,getDefaultTransition(t,g)),g.duration&&(g.duration=secondsToMilliseconds(g.duration)),g.repeatDelay&&(g.repeatDelay=secondsToMilliseconds(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let E=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(makeAnimationInstant(g),g.delay===0&&(E=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(E=!0,makeAnimationInstant(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,E&&!l&&e.get()!==void 0){const A=getFinalKeyframe(g.keyframes,f);if(A!==void 0){frame.update(()=>{g.onUpdate(A),g.onComplete()});return}}return f.isSync?new JSAnimation(g):new AsyncMotionValueAnimation(g)};function shouldBlockAnimation({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function animateTarget(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(l=i);const d=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in f){const E=t.getValue(g,t.latestValues[g]??null),A=f[g];if(A===void 0||p&&shouldBlockAnimation(p,g))continue;const R={delay:n,...getValueTransition(l||{},g)},I=E.get();if(I!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===I&&!R.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const L=getOptimisedAppearId(t);if(L){const z=window.MotionHandoffAnimation(L,g,frame);z!==null&&(R.startTime=z,j=!0)}}addValueToWillChange(t,g),E.start(animateMotionValue(g,E,A,t.shouldReduceMotion&&positionalKeys.has(g)?{type:!1}:R,t,j));const q=E.animation;q&&d.push(q)}return u&&Promise.all(d).then(()=>{frame.update(()=>{u&&setTarget(t,u)})}),d}function calcChildStagger(t,e,n,i=0,o=1){const l=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(l,u):o===1?l*i:f-l*i}function animateVariant(t,e,n={}){var d;const i=resolveVariant(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>Promise.all(animateTarget(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:E,staggerDirection:A}=o;return animateChildren(t,e,p,g,E,A,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[p,g]=f==="beforeChildren"?[l,u]:[u,l];return p().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function animateChildren(t,e,n=0,i=0,o=0,l=1,u){const f=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),f.push(animateVariant(d,e,{...u,delay:n+(typeof i=="function"?0:i)+calcChildStagger(t.variantChildren,d,i,o,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(f)}function animateVisualElement(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>animateVariant(t,l,n));i=Promise.all(o)}else if(typeof e=="string")i=animateVariant(t,e,n);else{const o=typeof e=="function"?resolveVariant(t,e,n.custom):e;i=Promise.all(animateTarget(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function shallowCompare(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?getVariantContext(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<numVariantProps;n++){const i=variantProps[n],o=t.props[i];(isVariantLabel(o)||o===!1)&&(e[i]=o)}return e}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(t){return e=>Promise.all(e.map(({animation:n,options:i})=>animateVisualElement(t,n,i)))}function createAnimationState(t){let e=animateList(t),n=createState(),i=!0;const o=d=>(p,g)=>{var A;const E=resolveVariant(t,g,d==="exit"?(A=t.presenceContext)==null?void 0:A.custom:void 0);if(E){const{transition:R,transitionEnd:I,...j}=E;p={...p,...j,...I}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,g=getVariantContext(t.parent)||{},E=[],A=new Set;let R={},I=1/0;for(let q=0;q<numAnimationTypes;q++){const L=reversePriorityOrder[q],z=n[L],U=p[L]!==void 0?p[L]:g[L],W=isVariantLabel(U),H=L===d?z.isActive:null;H===!1&&(I=q);let Z=U===g[L]&&U!==p[L]&&W;if(Z&&i&&t.manuallyAnimateOnMount&&(Z=!1),z.protectedKeys={...R},!z.isActive&&H===null||!U&&!z.prevProp||isAnimationControls(U)||typeof U=="boolean")continue;const Y=checkVariantsDidChange(z.prevProp,U);let J=Y||L===d&&z.isActive&&!Z&&W||q>I&&W,ne=!1;const ae=Array.isArray(U)?U:[U];let se=ae.reduce(o(L),{});H===!1&&(se={});const{prevResolvedValues:ue={}}=z,fe={...ue,...se},_e=me=>{J=!0,A.has(me)&&(ne=!0,A.delete(me)),z.needsAnimating[me]=!0;const ee=t.getValue(me);ee&&(ee.liveStyle=!1)};for(const me in fe){const ee=se[me],ie=ue[me];if(R.hasOwnProperty(me))continue;let oe=!1;isKeyframesTarget(ee)&&isKeyframesTarget(ie)?oe=!shallowCompare(ee,ie):oe=ee!==ie,oe?ee!=null?_e(me):A.add(me):ee!==void 0&&A.has(me)?_e(me):z.protectedKeys[me]=!0}z.prevProp=U,z.prevResolvedValues=se,z.isActive&&(R={...R,...se}),i&&t.blockInitialAnimation&&(J=!1);const ge=Z&&Y;J&&(!ge||ne)&&E.push(...ae.map(me=>{const ee={type:L};if(typeof me=="string"&&i&&!ge&&t.manuallyAnimateOnMount&&t.parent){const{parent:ie}=t,oe=resolveVariant(ie,me);if(ie.enteringChildren&&oe){const{delayChildren:de}=oe.transition||{};ee.delay=calcChildStagger(ie.enteringChildren,t,de)}}return{animation:me,options:ee}}))}if(A.size){const q={};if(typeof p.initial!="boolean"){const L=resolveVariant(t,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(q.transition=L.transition)}A.forEach(L=>{const z=t.getBaseTarget(L),U=t.getValue(L);U&&(U.liveStyle=!0),q[L]=z??null}),E.push({animation:q})}let j=!!E.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(j=!1),i=!1,j?e(E):Promise.resolve()}function f(d,p){var E;if(n[d].isActive===p)return Promise.resolve();(E=t.variantChildren)==null||E.forEach(A=>{var R;return(R=A.animationState)==null?void 0:R.setActive(d,p)}),n[d].isActive=p;const g=u(d);for(const A in n)n[A].protectedKeys={};return g}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=createState(),i=!0}}}function checkVariantsDidChange(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!shallowCompare(e,t):!1}function createTypeState(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();isAnimationControls(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function extractEventInfo(t){return{point:{x:t.pageX,y:t.pageY}}}const addPointerInfo=t=>e=>isPrimaryPointer(e)&&t(e,extractEventInfo(e));function addPointerEvent(t,e,n,i){return addDomEvent(t,e,addPointerInfo(n),i)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(t){return t.max-t.min}function isNear(t,e,n){return Math.abs(t-e)<=n}function calcAxisDelta(t,e,n,i=.5){t.origin=i,t.originPoint=mixNumber$1(e.min,e.max,t.origin),t.scale=calcLength(n)/calcLength(e),t.translate=mixNumber$1(n.min,n.max,t.origin)-t.originPoint,(t.scale>=SCALE_MIN&&t.scale<=SCALE_MAX||isNaN(t.scale))&&(t.scale=1),(t.translate>=TRANSLATE_MIN&&t.translate<=TRANSLATE_MAX||isNaN(t.translate))&&(t.translate=0)}function calcBoxDelta(t,e,n,i){calcAxisDelta(t.x,e.x,n.x,i?i.originX:void 0),calcAxisDelta(t.y,e.y,n.y,i?i.originY:void 0)}function calcRelativeAxis(t,e,n){t.min=n.min+e.min,t.max=t.min+calcLength(e)}function calcRelativeBox(t,e,n){calcRelativeAxis(t.x,e.x,n.x),calcRelativeAxis(t.y,e.y,n.y)}function calcRelativeAxisPosition(t,e,n){t.min=e.min-n.min,t.max=t.min+calcLength(e)}function calcRelativePosition(t,e,n){calcRelativeAxisPosition(t.x,e.x,n.x),calcRelativeAxisPosition(t.y,e.y,n.y)}function eachAxis(t){return[t("x"),t("y")]}const getContextWindow=({current:t})=>t?t.ownerDocument.defaultView:null,distance=(t,e)=>Math.abs(t-e);function distance2D(t,e){const n=distance(t.x,e.x),i=distance(t.y,e.y);return Math.sqrt(n**2+i**2)}class PanSession{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=getPanInfo(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,I=distance2D(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!I)return;const{point:j}=A,{timestamp:q}=frameData;this.history.push({...j,timestamp:q});const{onStart:L,onMove:z}=this.handlers;R||(L&&L(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,A)},this.handlePointerMove=(A,R)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=transformPoint(R,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(A,R)=>{this.end();const{onEnd:I,onSessionEnd:j,resumeAnimation:q}=this.handlers;if(this.dragSnapToOrigin&&q&&q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=getPanInfo(A.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(R,this.transformPagePoint),this.history);this.startEvent&&I&&I(A,L),j&&j(A,L)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const f=extractEventInfo(e),d=transformPoint(f,this.transformPagePoint),{point:p}=d,{timestamp:g}=frameData;this.history=[{...p,timestamp:g}];const{onSessionStart:E}=n;E&&E(e,getPanInfo(d,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(t,e){return e?{point:e(t.point)}:t}function subtractPoint(t,e){return{x:t.x-e.x,y:t.y-e.y}}function getPanInfo({point:t},e){return{point:t,delta:subtractPoint(t,lastDevicePoint(e)),offset:subtractPoint(t,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(t){return t[0]}function lastDevicePoint(t){return t[t.length-1]}function getVelocity(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=lastDevicePoint(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>secondsToMilliseconds(e)));)n--;if(!i)return{x:0,y:0};const l=millisecondsToSeconds(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function applyConstraints(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?mixNumber$1(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?mixNumber$1(n,t,i.max):Math.min(t,n)),t}function calcRelativeAxisConstraints(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function calcRelativeConstraints(t,{top:e,left:n,bottom:i,right:o}){return{x:calcRelativeAxisConstraints(t.x,n,o),y:calcRelativeAxisConstraints(t.y,e,i)}}function calcViewportAxisConstraints(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function calcViewportConstraints(t,e){return{x:calcViewportAxisConstraints(t.x,e.x),y:calcViewportAxisConstraints(t.y,e.y)}}function calcOrigin(t,e){let n=.5;const i=calcLength(t),o=calcLength(e);return o>i?n=progress(e.min,e.max-i,t.min):i>o&&(n=progress(t.min,t.max-o,e.min)),clamp(0,1,n)}function rebaseAxisConstraints(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const defaultElastic=.35;function resolveDragElastic(t=defaultElastic){return t===!1?t=0:t===!0&&(t=defaultElastic),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}function resolveAxisElastic(t,e,n){return{min:resolvePointElastic(t,e),max:resolvePointElastic(t,n)}}function resolvePointElastic(t,e){return typeof t=="number"?t:t[e]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(E).point)},u=(E,A)=>{const{drag:R,dragPropagation:I,onDragStart:j}=this.getProps();if(R&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(R),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(L=>{let z=this.getAxisMotionValue(L).get()||0;if(percent.test(z)){const{projection:U}=this.visualElement;if(U&&U.layout){const W=U.layout.layoutBox[L];W&&(z=calcLength(W)*(parseFloat(z)/100))}}this.originPoint[L]=z}),j&&frame.postRender(()=>j(E,A)),addValueToWillChange(this.visualElement,"transform");const{animationState:q}=this.visualElement;q&&q.setActive("whileDrag",!0)},f=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:R,dragDirectionLock:I,onDirectionLock:j,onDrag:q}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:L}=A;if(I&&this.currentDirection===null){this.currentDirection=getCurrentDirection(L),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",A.point,L),this.updateAxis("y",A.point,L),this.visualElement.render(),q&&q(E,A)},d=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>eachAxis(E=>{var A;return this.getAnimationState(E)==="paused"&&((A=this.getAxisMotionValue(E).animation)==null?void 0:A.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:getContextWindow(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&frame.postRender(()=>f(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!shouldDrag(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=applyConstraints(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&isRefObject(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=calcRelativeConstraints(i.layoutBox,e):this.constraints=!1,this.elastic=resolveDragElastic(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=rebaseAxisConstraints(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!isRefObject(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=measurePageBox(i,o.root,this.visualElement.getTransformPagePoint());let u=calcViewportConstraints(o.layout.layoutBox,l);if(n){const f=n(convertBoxToBoundingBox(u));this.hasMutatedConstraints=!!f,f&&(u=convertBoundingBoxToBox(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},p=eachAxis(g=>{if(!shouldDrag(g,n,this.currentDirection))return;let E=d&&d[g]||{};u&&(E={min:0,max:0});const A=o?200:1e6,R=o?40:1e7,I={type:"inertia",velocity:i?e[g]:0,bounceStiffness:A,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...E};return this.startAxisValueAnimation(g,I)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return addValueToWillChange(this.visualElement,e),i.start(animateMotionValue(e,i,0,n,this.visualElement,!1))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(n=>{const{drag:i}=this.getProps();if(!shouldDrag(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];l.set(e[n]-mixNumber$1(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!isRefObject(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};eachAxis(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();o[u]=calcOrigin({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),eachAxis(u=>{if(!shouldDrag(u,e,null))return;const f=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];f.set(mixNumber$1(d,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,n=addPointerEvent(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();isRefObject(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),frame.read(i);const u=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(eachAxis(g=>{const E=this.getAxisMotionValue(g);E&&(this.originPoint[g]+=d[g].translate,E.set(E.get()+d[g].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=defaultElastic,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function shouldDrag(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function getCurrentDirection(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=t=>(e,n)=>{t&&frame.postRender(()=>t(e,n))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(n),onMove:i,onEnd:(l,u)=>{delete this.session,o&&frame.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const correctBorderRadius={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(px.test(t))t=parseFloat(t);else return t;const n=pixelsToPercent(t,e.target.x),i=pixelsToPercent(t,e.target.y);return`${n}% ${i}%`}},correctBoxShadow={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=complex.parse(t);if(o.length>5)return i;const l=complex.createTransformer(t),u=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;o[0+u]/=f,o[1+u]/=d;const p=mixNumber$1(f,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),l(o)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;addScaleCorrector(defaultScaleCorrectors),l&&(n.group&&n.group.add(l),i&&i.register&&o&&i.register(l),hasTakenAnySnapshot&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,hasTakenAnySnapshot=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||frame.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),microtask.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;hasTakenAnySnapshot=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(t){const[e,n]=usePresence(),i=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...t,layoutGroup:i,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:n})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(t,e,n){const i=isMotionValue(t)?t:motionValue(t);return i.start(animateMotionValue("",i,e,n)),i.animation}const compareByDepth=(t,e)=>t.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(t,e){const n=time.now(),i=({timestamp:o})=>{const l=o-n;l>=e&&(cancelFrame(i),t(l-e))};return frame.setup(i,!0),()=>cancelFrame(i)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=t=>typeof t=="string"?parseFloat(t):t,isPx=t=>typeof t=="number"||px.test(t);function mixValues(t,e,n,i,o,l){o?(t.opacity=mixNumber$1(0,n.opacity??1,easeCrossfadeIn(i)),t.opacityExit=mixNumber$1(e.opacity??1,0,easeCrossfadeOut(i))):l&&(t.opacity=mixNumber$1(e.opacity??1,n.opacity??1,i));for(let u=0;u<numBorders;u++){const f=`border${borders[u]}Radius`;let d=getRadius(e,f),p=getRadius(n,f);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||isPx(d)===isPx(p)?(t[f]=Math.max(mixNumber$1(asNumber(d),asNumber(p),i),0),(percent.test(p)||percent.test(d))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=mixNumber$1(e.rotate||0,n.rotate||0,i))}function getRadius(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(t,e,n){return i=>i<t?0:i>e?1:n(progress(t,e,i))}function copyAxisInto(t,e){t.min=e.min,t.max=e.max}function copyBoxInto(t,e){copyAxisInto(t.x,e.x),copyAxisInto(t.y,e.y)}function copyAxisDeltaInto(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function removePointDelta(t,e,n,i,o){return t-=e,t=scalePoint(t,1/n,i),o!==void 0&&(t=scalePoint(t,1/o,i)),t}function removeAxisDelta(t,e=0,n=1,i=.5,o,l=t,u=t){if(percent.test(e)&&(e=parseFloat(e),e=mixNumber$1(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=mixNumber$1(l.min,l.max,i);t===l&&(f-=e),t.min=removePointDelta(t.min,e,n,f,o),t.max=removePointDelta(t.max,e,n,f,o)}function removeAxisTransforms(t,e,[n,i,o],l,u){removeAxisDelta(t,e[n],e[i],e[o],e.scale,l,u)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(t,e,n,i){removeAxisTransforms(t.x,e,xKeys,n?n.x:void 0,i?i.x:void 0),removeAxisTransforms(t.y,e,yKeys,n?n.y:void 0,i?i.y:void 0)}function isAxisDeltaZero(t){return t.translate===0&&t.scale===1}function isDeltaZero(t){return isAxisDeltaZero(t.x)&&isAxisDeltaZero(t.y)}function axisEquals(t,e){return t.min===e.min&&t.max===e.max}function boxEquals(t,e){return axisEquals(t.x,e.x)&&axisEquals(t.y,e.y)}function axisEqualsRounded(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function boxEqualsRounded(t,e){return axisEqualsRounded(t.x,e.x)&&axisEqualsRounded(t.y,e.y)}function aspectRatio(t){return calcLength(t.x)/calcLength(t.y)}function axisDeltaEquals(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(t,e,n){let i="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:E,rotateY:A,skewX:R,skewY:I}=n;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),E&&(i+=`rotateX(${E}deg) `),A&&(i+=`rotateY(${A}deg) `),R&&(i+=`skewX(${R}deg) `),I&&(i+=`skewY(${I}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(i+=`scale(${f}, ${d})`),i||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function cancelTreeOptimisedTransformAnimations(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=getOptimisedAppearId(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",frame,!(o||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(i)}function createProjectionNode({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},f=e==null?void 0:e()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new SubscriptionManager),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=isSVGElement(u)&&!isSVGSVGElement(u),this.instance=u;const{layoutId:f,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),t){let g,E=0;const A=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{E=window.innerWidth}),t(u,()=>{const R=window.innerWidth;R!==E&&(E=R,this.root.updateBlockedByResize=!0,g&&g(),g=delay(A,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:j,onLayoutAnimationComplete:q}=p.getProps(),L=!this.targetLayout||!boxEqualsRounded(this.targetLayout,R),z=!E&&A;if(this.options.layoutRoot||this.resumeFrom||z||E&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...getValueTransition(I,"layout"),onPlay:j,onComplete:q};(p.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(g,z)}else E||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const E=this.path[g];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const f=time.now();frameData.delta=clamp(0,1e3/60,f-frameData.timestamp),frameData.timestamp=f,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!isDeltaZero(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||hasTransform(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),roundBox(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return createBox();const f=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:g}=this.root;g&&(translateAxis(f.x,g.offset.x),translateAxis(f.y,g.offset.y))}return f}removeElementScroll(u){var d;const f=createBox();if(copyBoxInto(f,u),(d=this.scroll)!=null&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:E,options:A}=g;g!==this.root&&E&&A.layoutScroll&&(E.wasRoot&&copyBoxInto(f,u),translateAxis(f.x,E.offset.x),translateAxis(f.y,E.offset.y))}return f}applyTransform(u,f=!1){const d=createBox();copyBoxInto(d,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&transformBox(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),hasTransform(g.latestValues)&&transformBox(d,g.latestValues)}return hasTransform(this.latestValues)&&transformBox(d,this.latestValues),d}removeTransform(u){const f=createBox();copyBoxInto(f,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!hasTransform(p.latestValues))continue;hasScale(p.latestValues)&&p.updateSnapshot();const g=createBox(),E=p.measurePageBox();copyBoxInto(g,E),removeBoxTransforms(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return hasTransform(this.latestValues)&&removeBoxTransforms(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var A;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:E}=this.options;if(!(!this.layout||!(g||E))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,R.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var I;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=createBox());const{target:R}=u;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(u,f=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},E=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const A=createBox(),R=d?d.source:void 0,I=this.layout?this.layout.source:void 0,j=R!==I,q=this.getStack(),L=!q||q.members.length<=1,z=!!(j&&!L&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let U;this.mixTargetDelta=W=>{const H=W/1e3;mixAxisDelta(E.x,u.x,H),mixAxisDelta(E.y,u.y,H),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,A,H),U&&boxEquals(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=createBox()),copyBoxInto(U,this.relativeTarget)),j&&(this.animationValues=g,mixValues(g,p,this.latestValues,H,z,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,d,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:p,latestValues:g}=u;if(!(!f||!d||!p)){if(this!==u&&this.layout&&p&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||createBox();const E=calcLength(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+E;const A=calcLength(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+A}copyBoxInto(f,d),transformBox(f,g),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new NodeStack),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const p={};d.z&&resetDistortingTransform("z",u,p,this.animationValues);for(let g=0;g<transformAxes.length;g++)resetDistortingTransform(`rotate${transformAxes[g]}`,u,p,this.animationValues),resetDistortingTransform(`skew${transformAxes[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=resolveMotionValue(f==null?void 0:f.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=resolveMotionValue(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let E=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,g);d&&(E=d(g,E)),u.transform=E;const{x:A,y:R}=this.projectionDelta;u.transformOrigin=`${A.origin*100}% ${R.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in scaleCorrectors){if(g[I]===void 0)continue;const{correct:j,applyTo:q,isCSSVariable:L}=scaleCorrectors[I],z=E==="none"?g[I]:j(g[I],p);if(q){const U=q.length;for(let W=0;W<U;W++)u[q[W]]=z}else L?this.options.visualElement.renderState.vars[I]=z:u[I]=z}this.options.layoutId&&(u.pointerEvents=p===this?resolveMotionValue(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(t){t.updateLayout()}function notifyLayoutUpdate(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?eachAxis(E=>{const A=u?e.measuredBox[E]:e.layoutBox[E],R=calcLength(A);A.min=i[E].min,A.max=A.min+R}):shouldAnimatePositionOnly(l,e.layoutBox,i)&&eachAxis(E=>{const A=u?e.measuredBox[E]:e.layoutBox[E],R=calcLength(i[E]);A.max=A.min+R,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[E].max=t.relativeTarget[E].min+R)});const f=createDelta();calcBoxDelta(f,i,e.layoutBox);const d=createDelta();u?calcBoxDelta(d,t.applyTransform(o,!0),e.measuredBox):calcBoxDelta(d,i,e.layoutBox);const p=!isDeltaZero(f);let g=!1;if(!t.resumeFrom){const E=t.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:A,layout:R}=E;if(A&&R){const I=createBox();calcRelativePosition(I,e.layoutBox,A.layoutBox);const j=createBox();calcRelativePosition(j,i,R.layoutBox),boxEqualsRounded(I,j)||(g=!0),E.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=I,t.relativeParent=E)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:d,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function propagateDirtyNodes(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cleanDirtyNodes(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function clearSnapshot(t){t.clearSnapshot()}function clearMeasurements(t){t.clearMeasurements()}function clearIsLayoutDirty(t){t.isLayoutDirty=!1}function resetTransformStyle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function finishAnimation(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function resolveTargetDelta(t){t.resolveTargetDelta()}function calcProjection(t){t.calcProjection()}function resetSkewAndRotation(t){t.resetSkewAndRotation()}function removeLeadSnapshots(t){t.removeLeadSnapshot()}function mixAxisDelta(t,e,n){t.translate=mixNumber$1(e.translate,0,n),t.scale=mixNumber$1(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mixAxis(t,e,n,i){t.min=mixNumber$1(e.min,n.min,i),t.max=mixNumber$1(e.max,n.max,i)}function mixBox(t,e,n,i){mixAxis(t.x,e.x,n.x,i),mixAxis(t.y,e.y,n.y,i)}function hasOpacityCrossfade(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(t){t.min=roundPoint(t.min),t.max=roundPoint(t.max)}function roundBox(t){roundAxis(t.x),roundAxis(t.y)}function shouldAnimatePositionOnly(t,e,n){return t==="position"||t==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(n),.2)}function checkNodeWasScrollRoot(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(t,e)=>addDomEvent(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const t=new DocumentProjectionNode({});t.mount(window),t.setOptions({layoutScroll:!0}),rootProjectionNode.current=t}return rootProjectionNode.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=i[o];l&&frame.postRender(()=>l(e,extractEventInfo(e)))}class HoverGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=hover(e,(n,i)=>(handleHoverEvent(this.node,i,"Start"),o=>handleHoverEvent(this.node,o,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=i[o];l&&frame.postRender(()=>l(e,extractEventInfo(e)))}class PressGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=press(e,(n,i)=>(handlePressEvent(this.node,i,"Start"),(o,{success:l})=>handlePressEvent(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=t=>{const e=observerCallbacks.get(t.target);e&&e(t)},fireAllObserverCallbacks=t=>{t.forEach(fireObserverCallback)};function initIntersectionObserver({root:t,...e}){const n=t||document;observers.has(n)||observers.set(n,{});const i=observers.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(fireAllObserverCallbacks,{root:t,...e})),i[o]}function observeIntersection(t,e,n){const i=initIntersectionObserver(e);return observerCallbacks.set(t,n),i.observe(t),()=>{observerCallbacks.delete(t),i.unobserve(t)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:thresholdNames[o]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:E}=this.node.getProps(),A=p?g:E;A&&A(d)};return observeIntersection(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement),Advice=({onClose:t})=>{const[e,n]=reactExports.useState([{id:1,text:"lokah su 你好！我是您的泰雅AI助手，有什麼我可以幫您的嗎？",role:"bot"}]),[i,o]=reactExports.useState(""),[l,u]=reactExports.useState(!1),f=reactExports.useRef(null),d=["我想了解我的學習狀況","介紹泰雅族的編織藝術"],p={聽力:{url:"聽力url",color:"#007B8A"},詞彙:{url:"詞彙url",color:"#D35400"}},g={詞彙:55,文法:77,聽力:66,口說:88},E=q=>{const L=[];return(q.includes("學習狀況")||q.includes("進度")||q.includes("表現"))&&L.push({type:"chart",title:"您的學習進度",data:g}),Object.keys(p).forEach(z=>{q.includes(z)&&(q.includes("練習")||q.includes("建議"))&&L.push({type:"link",practiceType:z,...p[z]})}),L},A=q=>{o(q.target.value)},R=async()=>{if(i.trim()==="")return;const q={id:e.length+1,text:i,role:"user"};n([...e,q]),o(""),u(!0);try{const z=await(await fetch(void 0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:i})})).json(),U=E(z.message),W={id:e.length+2,text:z.message,role:"bot",extraElements:U};n(H=>[...H,W])}catch(L){const z={id:e.length+2,text:"很抱歉，無法取得回應，請稍後再試。",role:"bot"};n(U=>[...U,z]),console.error("取得回應失敗:",L)}finally{u(!1)}},I=q=>{q.key==="Enter"&&R()},j=q=>{o(q)};return jsxRuntimeExports.jsx("div",{className:"overlay",children:jsxRuntimeExports.jsxs(motion.div,{className:"chat-container",initial:{y:"100%",opacity:0},animate:{y:"0%",opacity:1},exit:{y:"100%",opacity:0},transition:{duration:.35},children:[jsxRuntimeExports.jsxs("div",{className:"chat-header",children:[jsxRuntimeExports.jsx("button",{onClick:t,className:"chat-return",children:jsxRuntimeExports.jsx(ChevronLeft,{size:22})}),jsxRuntimeExports.jsx("div",{className:"avatar",children:jsxRuntimeExports.jsx(Bot,{})}),jsxRuntimeExports.jsxs("div",{className:"header-info",children:[jsxRuntimeExports.jsx("h2",{children:"泰雅智慧助手"}),jsxRuntimeExports.jsx("p",{className:"status online",children:"在線"})]})]}),jsxRuntimeExports.jsxs("div",{className:"messages-container",children:[e.map(q=>jsxRuntimeExports.jsxs("div",{className:`message ${q.role}`,children:[q.role==="bot"&&jsxRuntimeExports.jsx("div",{className:"avatar-small",children:jsxRuntimeExports.jsx(Bot,{})}),jsxRuntimeExports.jsxs("div",{className:"message-bubble",children:[jsxRuntimeExports.jsx("p",{children:q.text}),q.extraElements&&q.extraElements.map((L,z)=>jsxRuntimeExports.jsxs("div",{children:[L.type==="chart"&&jsxRuntimeExports.jsx(ChartComp,{data:L.data,title:L.title}),L.type==="link"&&jsxRuntimeExports.jsx(LinkComp,{practiceType:L.practiceType,url:L.url,color:L.color})]},z))]})]},q.id)),l&&jsxRuntimeExports.jsxs("div",{className:"message bot",children:[jsxRuntimeExports.jsx("div",{className:"avatar-small",children:jsxRuntimeExports.jsx(Bot,{})}),jsxRuntimeExports.jsx("div",{className:"message-bubble typing",children:jsxRuntimeExports.jsxs("div",{className:"typing-indicator",children:[jsxRuntimeExports.jsx("span",{}),jsxRuntimeExports.jsx("span",{}),jsxRuntimeExports.jsx("span",{})]})})]}),jsxRuntimeExports.jsx("div",{ref:f})]}),e.length<=2&&jsxRuntimeExports.jsxs("div",{className:"suggestions-container",children:[jsxRuntimeExports.jsx("p",{className:"suggestions-title",children:"您可能想問："}),jsxRuntimeExports.jsx("div",{className:"suggestion-pills",children:d.map((q,L)=>jsxRuntimeExports.jsx("button",{className:"suggestion-pill",onClick:()=>j(q),children:q},L))})]}),jsxRuntimeExports.jsxs("div",{className:"input-area",children:[jsxRuntimeExports.jsx("input",{type:"text",value:i,onChange:A,onKeyPress:I,placeholder:"輸入您的訊息...",className:"message-input"}),jsxRuntimeExports.jsx("button",{className:`send-button ${i.trim()?"active":""}`,onClick:R,disabled:i.trim()==="",children:"發送"})]})]})})};function NotePage(){const t=useNavigate(),e=reactExports.useRef(null),{userData:n}=useAuth(),i=(n==null?void 0:n.uid)||"guest",[o,l]=reactExports.useState([]),[u,f]=reactExports.useState(0),[d,p]=reactExports.useState(!0),[g,E]=reactExports.useState([]),[A,R]=reactExports.useState(!0),[I,j]=reactExports.useState(""),q=`userNotes_${i}`;reactExports.useEffect(()=>{const ee=localStorage.getItem(q);if(ee)l(JSON.parse(ee));else{const ie=[{id:Date.now(),title:"",content:""}];localStorage.setItem(q,JSON.stringify(ie)),l(ie)}f(0),R(!1)},[q]);const L=()=>{if(!e.current)return;const ee=[...o];ee[u].content=e.current.innerHTML,l(ee),localStorage.setItem(q,JSON.stringify(ee))},[z,U]=reactExports.useState(null),W=(ee,ie=null)=>{if(ee==="insertImage"&&ie){const oe=window.getSelection();if(!oe||!oe.rangeCount)return;const de=oe.getRangeAt(0),xe=document.createElement("img");xe.src=ie,xe.style.maxWidth="30%",xe.style.height="auto",de.insertNode(xe),de.setStartAfter(xe),de.setEndAfter(xe),oe.removeAllRanges(),oe.addRange(de)}else document.execCommand(ee,!1,ie)},H=()=>{L();const ee={id:Date.now(),title:"未命名筆記",content:"<p></p>"},ie=[...o,ee];l(ie),f(ie.length-1),p(!0),localStorage.setItem(q,JSON.stringify(ie))},Z=()=>{if(!window.confirm("確定要刪除這則筆記？"))return;const ee=o.filter((de,xe)=>xe!==u),ie=Math.max(u-1,0),oe=ee.length?ee:[{id:Date.now(),title:"未命名筆記",content:"<p></p>"}];l(oe),f(ee.length?ie:0),localStorage.setItem(q,JSON.stringify(oe))},Y=()=>{L(),p(!1),_e(!1)},J=ee=>{L();const ie=Math.min(Math.max(u+ee,0),o.length-1);f(ie),p(!1)},ne=ee=>{E(ie=>ie.includes(ee)?ie.filter(oe=>oe!==ee):[...ie,ee])},ae=ee=>{const ie=[...o];ie[u].title=ee.target.value,l(ie),localStorage.setItem(q,JSON.stringify(ie))},se=()=>E(o.map((ee,ie)=>ie)),ue=()=>E([]),[fe,_e]=reactExports.useState(!1),ge=()=>{var oe;if(!e.current)return;const ee=e.current.innerHTML,ie=((oe=o[u])==null?void 0:oe.content)||"<p></p>";_e(ee!==ie)},ce=async()=>{var xe;Y();const ee=g.length>0?g.map(Ee=>o[Ee]):[],ie=ee.some(Ee=>{var Ae;return!((Ae=Ee.title)!=null&&Ae.trim())});if(ee.length===0){j("請至少選擇一頁要分享的筆記。");return}if(ie){j("所選頁面中包含空白標題，請填寫後再分享。");return}const oe=n.firestoreData.name?n==null?void 0:n.firestoreData.name:"匿名",de=n.firestoreData.avatarUrl?n==null?void 0:n.firestoreData.avatarUrl:null;try{let Ee="";if(z){const Oe=new FormData;Oe.append("file",z),Oe.append("upload_preset",void 0),Oe.append("folder","tayal_note"),Ee=(await(await fetch("https://api.cloudinary.com/v1_1/undefined/image/upload",{method:"POST",body:Oe})).json()).secure_url}const Ae=await addDoc(collection(db,"sharedNotes"),{pages:ee,preview:((xe=ee[0])==null?void 0:xe.content)||"<p></p>",image:Ee||"",createdAt:serverTimestamp$1(),likes:0,likedBy:[],uid:i,username:oe,avatarUrl:de,deleted:!1});window.confirm(`上傳成功！

要立即前往分享頁面嗎？

按「確定」前往，按「取消」繼續留在此頁。`)?t("/note/share"):j(""),j("")}catch(Ee){console.error("分享失敗：",Ee),alert("分享失敗，請稍後再試。")}};if(A)return jsxRuntimeExports.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"70vh"},children:jsxRuntimeExports.jsx(Spinner,{animation:"border",variant:"primary"})});const me=o[u]||{title:"",content:"<p></p>"};return jsxRuntimeExports.jsxs(Container,{fluid:!0,className:"main-container",children:[jsxRuntimeExports.jsxs(Row,{className:"editor-toolbar",children:[jsxRuntimeExports.jsxs(Col,{xs:"auto",className:"group",children:[jsxRuntimeExports.jsx("span",{className:"group-label",children:"大小"}),jsxRuntimeExports.jsxs("select",{onChange:ee=>W("fontSize",ee.target.value),children:[jsxRuntimeExports.jsx("option",{value:"3",children:"小"}),jsxRuntimeExports.jsx("option",{value:"4",children:"中"}),jsxRuntimeExports.jsx("option",{value:"5",children:"大"})]})]}),jsxRuntimeExports.jsxs(Col,{xs:"auto",className:"group",children:[jsxRuntimeExports.jsx(Button,{className:"btn-ghost",onClick:()=>W("bold"),children:"𝐁"}),jsxRuntimeExports.jsx(Button,{className:"btn-ghost",onClick:()=>W("italic"),children:"𝑰"})]}),jsxRuntimeExports.jsxs(Col,{xs:"auto",className:"group",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:ee=>{const ie=ee.target.files[0];if(ie){U(ie);const oe=new FileReader;oe.onload=de=>W("insertImage",de.target.result),oe.readAsDataURL(ie)}}}),jsxRuntimeExports.jsxs(Button,{className:"btn-upload",onClick:()=>document.getElementById("image-upload").click(),children:[jsxRuntimeExports.jsx(Image$1,{size:20}),"上傳圖片"]})]}),jsxRuntimeExports.jsx(Col,{xs:"auto",className:"group",children:["red","blue","black","orange"].map(ee=>jsxRuntimeExports.jsx("button",{type:"button",className:"color-box",style:{backgroundColor:ee,width:40,height:6,border:"none",borderRadius:"6px"},onClick:()=>W("foreColor",ee)},ee))})]}),jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsxs(Col,{md:9,children:[jsxRuntimeExports.jsx(Form$1.Control,{className:"note-title mb-3",type:"text",value:me.title,onChange:ae,placeholder:"請輸入筆記標題"}),jsxRuntimeExports.jsx("div",{ref:e,className:"note-text",contentEditable:!0,suppressContentEditableWarning:!0,dangerouslySetInnerHTML:{__html:me.content},onInput:ge}),I&&jsxRuntimeExports.jsx(Alert$1,{variant:"danger",className:"mt-3",children:I})]}),jsxRuntimeExports.jsxs(Col,{md:3,className:"sticky-top",style:{top:80,height:"calc(100vh - 70px)",zIndex:"100"},children:[jsxRuntimeExports.jsx("h5",{className:"mt-2",children:"分享頁面選擇"}),jsxRuntimeExports.jsxs("div",{className:"mb-2 d-flex gap-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",className:"btn-ghost",onClick:se,children:"全選"}),jsxRuntimeExports.jsx(Button,{size:"sm",className:"btn-ghost",onClick:ue,children:"取消"})]}),jsxRuntimeExports.jsx(Form$1,{children:o.map((ee,ie)=>jsxRuntimeExports.jsx(Form$1.Check,{type:"checkbox",label:`第 ${ie+1} 頁：${ee.title||"（未命名）"}${ie===u&&fe?"*":""}`,checked:g.includes(ie),onChange:()=>ne(ie),className:"mb-1"},ie))}),g.length>0&&jsxRuntimeExports.jsx(Button,{className:"btn-primary mt-2 w-100",onClick:ce,children:"分享"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bottom-toolbar mt-3 d-flex align-items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsx(Button,{onClick:H,className:"btn-add",children:"新增"}),jsxRuntimeExports.jsx(Button,{onClick:Y,className:"btn-primary",children:"儲存"}),jsxRuntimeExports.jsx(Button,{onClick:()=>J(-1),className:"btn-page",disabled:u===0,children:"上一頁"}),jsxRuntimeExports.jsxs("span",{className:"toolbar-page-info",children:[u+1," / ",o.length]}),jsxRuntimeExports.jsx(Button,{onClick:()=>J(1),className:"btn-page",disabled:u>=o.length-1,children:"下一頁"}),jsxRuntimeExports.jsx(Button,{onClick:Z,className:"btn-danger",children:"刪除"})]})]})}function timeAgo(t){if(!t)return"";const e=(t.seconds?t.seconds*1e3:t)-0,n=Date.now()-e,i=Math.floor(n/1e3),o=Math.floor(i/60),l=Math.floor(o/60),u=Math.floor(l/24);return i<60?"剛剛":o<60?`${o} 分鐘前`:l<24?`${l} 小時前`:u===1?"昨天":`${u} 天前`}function NoteShare(){const{id:t}=useParams(),e=useNavigate(),{userData:n}=useAuth(),[i,o]=reactExports.useState([]),[l,u]=reactExports.useState("latest"),[f,d]=reactExports.useState(""),[p,g]=reactExports.useState(1),[E,A]=reactExports.useState(!1),[R,I]=reactExports.useState(null),[j,q]=reactExports.useState(0),[L,z]=reactExports.useState({show:!1,text:""}),U=reactExports.useRef(null),W=reactExports.useRef(null),H=8,Z=(n==null?void 0:n.uid)||null,Y=l==="my";reactExports.useEffect(()=>{(async()=>{try{const ee=await getDocs(collection(db,"sharedNotes")),ie=[];ee.forEach(oe=>{const de=oe.data();de.deleted||ie.push({id:oe.id,...de})}),o(ie),g(1)}catch(ee){console.error("Fetch sharedNotes error:",ee)}})()},[j]);const J=reactExports.useMemo(()=>{let ee=[...i];l==="my"?(ee=Z?ee.filter(oe=>oe.uid===Z):[],ee.sort((oe,de)=>{var xe,Ee;return(((xe=de.createdAt)==null?void 0:xe.seconds)||0)-(((Ee=oe.createdAt)==null?void 0:Ee.seconds)||0)})):l==="hot"?ee.sort((oe,de)=>(de.likes||0)-(oe.likes||0)):ee.sort((oe,de)=>{var xe,Ee;return(((xe=de.createdAt)==null?void 0:xe.seconds)||0)-(((Ee=oe.createdAt)==null?void 0:Ee.seconds)||0)});const ie=f.trim().toLowerCase();return ie&&(ee=ee.filter(oe=>{const de=(oe.title||"").toLowerCase(),xe=(oe.username||"").toLowerCase(),Ee=(oe.preview||"").replace(/<[^>]+>/g," ").toLowerCase();return de.includes(ie)||xe.includes(ie)||Ee.includes(ie)})),ee},[i,l,f,Z]),ne=Math.max(1,Math.ceil(J.length/H)),ae=reactExports.useMemo(()=>J.slice((p-1)*H,p*H),[J,p]),se=async ee=>{try{const ie=await getDoc(doc(db,"sharedNotes",ee.id));ie.exists()&&(I({id:ie.id,...ie.data()}),A(!0))}catch(ie){console.error("Open modal error:",ie)}},ue=()=>{A(!1),I(null)},fe=ee=>n&&ee.uid===n.uid,_e=ee=>n?(ee.likedBy||[]).includes(n.uid):!1,ge=(ee,ie=2500)=>{z({show:!0,text:ee}),U.current&&clearTimeout(U.current),U.current=setTimeout(()=>z({show:!1,text:""}),ie)},ce=async(ee,ie,oe="card")=>{if(ee.stopPropagation(),!n){ge("請先登入後再按讚"),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>e("/login"),1e3);return}if(fe(ie))return;const de=_e(ie),xe=doc(db,"sharedNotes",ie.id),Ee=de?(ie.likedBy||[]).filter(Ce=>Ce!==n.uid):[...ie.likedBy||[],n.uid],Ae=Math.max(0,(ie.likes||0)+(de?-1:1));o(Ce=>Ce.map(Oe=>Oe.id===ie.id?{...Oe,likes:Ae,likedBy:Ee}:Oe)),I(Ce=>Ce&&Ce.id===ie.id?{...Ce,likes:Ae,likedBy:Ee}:Ce);try{await updateDoc(xe,{likes:Ae,likedBy:Ee})}catch(Ce){console.error("toggleLike error:",Ce),o(Oe=>Oe.map(We=>We.id===ie.id?ie:We)),I(Oe=>Oe&&Oe.id===ie.id?{...ie}:Oe),ge("操作失敗，請稍後再試")}},me=async()=>{if(!(!R||!Y||Z!==R.uid)&&window.confirm("確定要刪除這則筆記？"))try{await updateDoc(doc(db,"sharedNotes",R.id),{deleted:!0}),o(ee=>ee.filter(ie=>ie.id!==R.id)),ue()}catch(ee){console.error("Delete error:",ee),ge("刪除失敗，請稍後再試")}};return reactExports.useEffect(()=>{if(!t)return;const ee=i.find(ie=>ie.id===t);ee&&se(ee)},[t,i.length]),reactExports.useEffect(()=>()=>{U.current&&clearTimeout(U.current),W.current&&clearTimeout(W.current)},[]),jsxRuntimeExports.jsxs("div",{className:"ns-wrap",children:[jsxRuntimeExports.jsxs("div",{className:"ns-toolbar",children:[jsxRuntimeExports.jsxs("div",{className:"ns-search",children:[jsxRuntimeExports.jsx("span",{className:"ns-search-icon",children:"🔎"}),jsxRuntimeExports.jsx("input",{value:f,onChange:ee=>{d(ee.target.value),g(1)},placeholder:"搜尋...",className:"ns-search-input"})]}),jsxRuntimeExports.jsxs("div",{className:"ns-tabs",children:[[{key:"my",label:"我的"},{key:"latest",label:"最新"},{key:"hot",label:"熱門"}].map(ee=>jsxRuntimeExports.jsx("button",{onClick:()=>{u(ee.key),g(1)},className:`ns-tab ${l===ee.key?"active":""}`,children:ee.label},ee.key)),jsxRuntimeExports.jsx("button",{className:"ns-refresh",title:"重新整理",onClick:()=>q(ee=>ee+1),children:"⟳"})]})]}),Y&&!Z&&jsxRuntimeExports.jsx("div",{className:"ns-empty",children:"請先登入以查看你曾發布的筆記。"}),J.length===0&&jsxRuntimeExports.jsx("div",{className:"ns-empty",children:"目前沒有可顯示的分享筆記。"}),jsxRuntimeExports.jsx("div",{className:"ns-grid",children:ae.map(ee=>{n&&fe(ee);const ie=_e(ee);return jsxRuntimeExports.jsxs("div",{className:"ns-card",onClick:()=>se(ee),children:[jsxRuntimeExports.jsxs("div",{className:"ns-card-head",children:[ee.avatarUrl?jsxRuntimeExports.jsx("img",{src:ee.avatarUrl,alt:"avatar",className:"ns-avatar"}):jsxRuntimeExports.jsx("div",{className:"ns-avatar ns-avatar-fallback",children:"👤"}),jsxRuntimeExports.jsxs("div",{className:"ns-meta",children:[jsxRuntimeExports.jsx("div",{className:"ns-username",children:ee.username||"使用者名稱"}),jsxRuntimeExports.jsx("div",{className:"ns-time",children:timeAgo(ee.createdAt)})]}),Y&&Z===ee.uid&&jsxRuntimeExports.jsx("span",{className:"ns-edit",children:"編輯"})]}),jsxRuntimeExports.jsxs("div",{className:"ns-card-body",children:[jsxRuntimeExports.jsx("div",{className:"ns-title",children:ee.pages&&ee.pages.length>0&&ee.pages[0].title||"標題"}),jsxRuntimeExports.jsx("div",{className:"ns-preview",dangerouslySetInnerHTML:{__html:ee.preview||"<p>內容</p>"}}),jsxRuntimeExports.jsx("div",{className:"ns-like-row",children:jsxRuntimeExports.jsxs("button",{className:`ns-like-btn ${ie?"is-liked":""}`,onClick:oe=>ce(oe,ee,"card"),children:[jsxRuntimeExports.jsx(Heart,{size:20,fill:ie?"red":"none"}),jsxRuntimeExports.jsx("span",{children:ee.likes||0})]})})]})]},ee.id)})}),J.length>0&&jsxRuntimeExports.jsxs("div",{className:"ns-pager",children:[jsxRuntimeExports.jsxs("div",{className:"ns-pager-btns",children:[jsxRuntimeExports.jsx("button",{className:"ns-page-btn",disabled:p===1,onClick:()=>g(ee=>Math.max(1,ee-1)),children:"上一頁"}),jsxRuntimeExports.jsx("button",{className:"ns-page-btn",disabled:p===ne,onClick:()=>g(ee=>Math.min(ne,ee+1)),children:"下一頁"})]}),jsxRuntimeExports.jsxs("div",{className:"ns-page-info",children:["第 ",jsxRuntimeExports.jsx("strong",{className:"ns-page-num",children:p})," / ",ne," 頁"]})]}),E&&R&&jsxRuntimeExports.jsx("div",{className:"ns-modal-mask",onClick:ue,children:jsxRuntimeExports.jsxs("div",{className:"ns-modal",onClick:ee=>ee.stopPropagation(),children:[jsxRuntimeExports.jsx("h2",{className:"ns-modal-title",children:R.pages[0].title||"筆記內容"}),jsxRuntimeExports.jsxs("p",{className:"ns-modal-sub",children:["分享者：",R.username||"匿名者","　❤️ ",R.likes||0]}),n&&!fe(R)&&jsxRuntimeExports.jsx("div",{style:{marginBottom:"0.75rem"},children:jsxRuntimeExports.jsx("button",{className:`ns-like-btn ${_e(R)?"is-liked":""}`,onClick:ee=>ce(ee,R,"modal"),children:_e(R)?"收回讚":"按讚"})}),(R.pages||[]).map((ee,ie)=>jsxRuntimeExports.jsxs("div",{className:"ns-modal-page",children:[jsxRuntimeExports.jsxs("div",{className:"ns-page-label",children:["第 ",ie+1," 頁"]}),jsxRuntimeExports.jsx("div",{className:"ns-modal-content",dangerouslySetInnerHTML:{__html:ee.content}})]},ie)),jsxRuntimeExports.jsxs("div",{className:"ns-modal-actions",children:[Y&&Z&&R.uid===Z&&jsxRuntimeExports.jsx("button",{className:"ns-btn danger",onClick:me,children:"刪除筆記"}),jsxRuntimeExports.jsx("button",{className:"ns-btn",onClick:ue,children:"關閉"})]})]})}),L.show&&jsxRuntimeExports.jsx("div",{className:"ns-toast",children:L.text})]})}const Friends=({})=>{const[t,e]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const l=await getAllUsers();e(l)})();const i=getDatabase(),o=ref(i,"/status");onValue(o,l=>{const u=l.val();e(f=>f.map(d=>{var p;return{...d,online:((p=u==null?void 0:u[d.id])==null?void 0:p.state)==="online"}}))})},[]),jsxRuntimeExports.jsxs("div",{className:"social-sidebar",children:[jsxRuntimeExports.jsxs("h3",{className:"social-section-title",children:[jsxRuntimeExports.jsx(Users,{size:20})," 學習夥伴"]}),jsxRuntimeExports.jsx("div",{className:"friends-list",children:t.map((n,i)=>jsxRuntimeExports.jsxs("div",{className:"friend-item",children:[jsxRuntimeExports.jsx("img",{src:n.avatarUrl?n.avatarUrl:AvatarImg,className:"friend-avatar"}),jsxRuntimeExports.jsxs("div",{className:"friend-info",children:[jsxRuntimeExports.jsxs("div",{className:"friend-name",children:[n.name,n.online&&jsxRuntimeExports.jsx("span",{className:"online-dot"})]}),jsxRuntimeExports.jsx("div",{className:"friend-level",children:n.identity})]})]},i))})]})},Post=({avatarUrl:t})=>{const[e,n]=reactExports.useState("all"),i=[{id:"all",label:"所有",icon:jsxRuntimeExports.jsx(TableOfContents,{size:18})},{id:"social",label:"動態",icon:jsxRuntimeExports.jsx(LayoutDashboard,{size:20})},{id:"note",label:"筆記分享",icon:jsxRuntimeExports.jsx(NotebookText,{size:20})}],o=[{id:"likes",label:"喜歡",icon:jsxRuntimeExports.jsx(Heart,{size:20})},{id:"comments",label:"留言",icon:jsxRuntimeExports.jsx(MessageCircle,{size:20})},{id:"shares",label:"分享",icon:jsxRuntimeExports.jsx(Share2,{size:20})},{id:"saves",label:"收藏",icon:jsxRuntimeExports.jsx(Bookmark,{size:20})}],l=[{id:1,user:{name:"Yaya Umin",avatar:"雅",tribe:"123部落"},time:"2小時前",text:"請問分享分享分享分享呢？分享分享分享分享分享？",tayal:"abcde分享",actions:{likes:12,comments:8,shares:0,saves:0}},{id:2,user:{name:"Batu Nomin",avatar:"明",tribe:"0000部落"},time:"4小時前",text:"分享分享分享分享分享分享！分享分享分享",tayal:"分享分享分享分享分享分享",actions:{likes:24,comments:15,shares:0,saves:0}},{id:3,user:{name:"Watan Diro",avatar:"文",tribe:"泰雅部落",badge:"部落達人"},time:"1天前",text:"為什麼分享分享分享分享？分享分享分享...",tayal:"分享分享分享分享分享分享",actions:{likes:45,comments:28,shares:0,saves:0}}];return jsxRuntimeExports.jsxs("div",{className:"main-content",children:[jsxRuntimeExports.jsx("div",{className:"community-nav",children:i.map(({id:u,label:f,icon:d})=>jsxRuntimeExports.jsxs("button",{className:`nav-btn ${e===u?"active":""}`,onClick:()=>n(u),children:[d,jsxRuntimeExports.jsx("span",{className:"ml-1",children:f})]},u))}),jsxRuntimeExports.jsxs("div",{className:"post-composer",children:[jsxRuntimeExports.jsxs("div",{className:"composer-header",children:[jsxRuntimeExports.jsx("img",{src:t,className:"user-avatar",alt:"頭像"}),jsxRuntimeExports.jsx("textarea",{className:"composer-input",placeholder:"史努比，在想些什麼?"})]}),jsxRuntimeExports.jsxs("div",{className:"composer-actions",children:[jsxRuntimeExports.jsxs("div",{className:"composer-options",children:[jsxRuntimeExports.jsxs("button",{className:"option-btn",children:[jsxRuntimeExports.jsx(Images,{size:24,stroke:"green"}),"圖片 / 影片"]}),jsxRuntimeExports.jsxs("button",{className:"option-btn",children:[jsxRuntimeExports.jsx(Laugh,{size:24,stroke:"orange"}),"感受"]})]}),jsxRuntimeExports.jsx("button",{className:"post-btn",children:"發布"})]})]}),jsxRuntimeExports.jsx("div",{className:"posts-feed",children:l.map(({id:u,user:f,time:d,text:p,tayal:g,actions:E})=>jsxRuntimeExports.jsxs("div",{className:"post",children:[jsxRuntimeExports.jsxs("div",{className:"post-header",children:[jsxRuntimeExports.jsx("div",{className:"post-avatar",children:f.avatar}),jsxRuntimeExports.jsxs("div",{className:"post-user-info",children:[jsxRuntimeExports.jsx("h4",{children:f.name}),jsxRuntimeExports.jsxs("div",{className:"post-meta",children:[jsxRuntimeExports.jsx("span",{className:"tribe-badge",children:f.tribe}),jsxRuntimeExports.jsx("span",{children:d}),f.badge&&jsxRuntimeExports.jsx("span",{style:{background:"#00b894",color:"white",padding:"2px 6px",borderRadius:"8px",fontSize:"0.7rem"},children:f.badge})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"post-content",children:[jsxRuntimeExports.jsx("div",{className:"post-text",children:p}),jsxRuntimeExports.jsx("div",{className:"post-tayal",children:g})]}),jsxRuntimeExports.jsx("div",{className:"post-actions",children:o.map(A=>jsxRuntimeExports.jsxs("button",{className:"action-btn",children:[A.icon," ",jsxRuntimeExports.jsx("span",{children:E[A.id]===0?A.label:E[A.id]})]},A.id))})]},u))})]})},Challenge=({})=>{const t=[{title:"活動活動活動",date:"週三 整天",participants:"已有 123 人報名"},{title:"活動活動活動",date:"週六 晚上 8:00",participants:"已有 123 人報名"},{title:"活動活動活動",date:"進行中...",participants:"已有 123 人報名"}];return jsxRuntimeExports.jsxs("div",{className:"social-sidebar",children:[jsxRuntimeExports.jsxs("div",{className:"",children:[jsxRuntimeExports.jsxs("h3",{className:"section-title",children:[jsxRuntimeExports.jsx("span",{className:"icon",children:jsxRuntimeExports.jsx(Trophy,{})}),"社群活動"]}),t.map((e,n)=>jsxRuntimeExports.jsxs("div",{className:"activity-card",children:[jsxRuntimeExports.jsx("div",{className:"activity-title",children:e.title}),jsxRuntimeExports.jsx("div",{className:"activity-date",children:e.date}),jsxRuntimeExports.jsx("div",{className:"activity-participants",children:e.participants})]},n))]}),jsxRuntimeExports.jsxs("div",{className:"stats-section",children:[jsxRuntimeExports.jsxs("h3",{className:"section-title",children:[jsxRuntimeExports.jsx("span",{className:"icon",children:jsxRuntimeExports.jsx(ChartColumn,{})}),"學習統計"]}),jsxRuntimeExports.jsxs("div",{className:"stats-card",children:[jsxRuntimeExports.jsxs("div",{className:"stat-item",children:[jsxRuntimeExports.jsx("div",{className:"stat-label",children:"本週活躍學習者"}),jsxRuntimeExports.jsx("div",{className:"stat-value active",children:"321人"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-item",children:[jsxRuntimeExports.jsx("div",{className:"stat-label",children:"新學單詞"}),jsxRuntimeExports.jsx("div",{className:"stat-value words",children:"1,234個"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-item",children:[jsxRuntimeExports.jsx("div",{className:"stat-label",children:"互助問答"}),jsxRuntimeExports.jsx("div",{className:"stat-value qa",children:"99則"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"recommend-section",children:[jsxRuntimeExports.jsxs("h3",{className:"section-title",children:[jsxRuntimeExports.jsx("span",{className:"icon",children:jsxRuntimeExports.jsx(Star,{})}),"推薦學習"]}),jsxRuntimeExports.jsxs("div",{className:"recommend-card",children:[jsxRuntimeExports.jsx("div",{className:"recommend-title",children:"今日推薦"}),jsxRuntimeExports.jsx("div",{className:"recommend-content",children:"學習「天氣」相關詞彙"}),jsxRuntimeExports.jsx("button",{className:"recommend-btn",children:"開始學習"})]})]})]})},Index=({})=>{const e=useLocation().state;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"social-title",children:"首頁 ＞ 社群"}),jsxRuntimeExports.jsxs("div",{className:"social-container",children:[jsxRuntimeExports.jsx(Friends,{}),jsxRuntimeExports.jsx(Post,{avatarUrl:e.firestoreData.avatarUrl?e.firestoreData.avatarUrl:AvatarImg}),jsxRuntimeExports.jsx(Challenge,{})]})]})},StarRating=({frequency:t})=>{if(!t)return null;const e=(t.match(/★/g)||[]).length,n=t.match(/\((\d+)\)/);return n&&n[1],jsxRuntimeExports.jsx("div",{className:"star-rating",children:[...Array(e)].map((i,o)=>jsxRuntimeExports.jsx("span",{className:"star",children:"⭐"},o))})},AudioButton=({audioUrl:t,onPlay:e,size:n})=>t?jsxRuntimeExports.jsx(Button,{variant:"link",className:"audio-button",onClick:i=>{i.stopPropagation(),e(t)},children:jsxRuntimeExports.jsx(FaPlayCircle,{size:n,className:"text-warning"})}):null,WordCardImage=({imageUrl:t,word:e,isFavorited:n,onToggleFavorite:i})=>jsxRuntimeExports.jsxs("div",{className:"word-image-wrapper",children:[jsxRuntimeExports.jsx("img",{src:t||"https://www.shutterstock.com/image-vector/no-image-vector-symbol-missing-260nw-2151420819.jpg",alt:e,className:"word-image"}),jsxRuntimeExports.jsx(Button,{variant:"link",className:"favorite-btn",onClick:l=>{l.stopPropagation(),i()},children:n?jsxRuntimeExports.jsx(FaHeart,{color:"#dc2626"}):jsxRuntimeExports.jsx(FaRegHeart,{color:"#6b7280"})})]}),WordCardInfo=({result:t,word:e,playAudio:n,category:i})=>jsxRuntimeExports.jsxs("div",{className:"favorite-word-info",children:[jsxRuntimeExports.jsxs("h3",{className:"tayal-word",children:[t.word_tayal||"無資料",jsxRuntimeExports.jsx(AudioButton,{audioUrl:t.word_audio,onPlay:n,size:18})]}),jsxRuntimeExports.jsx("h5",{className:"chinese-word",children:e}),jsxRuntimeExports.jsxs("div",{className:"word-meta",children:[t.word_fre&&jsxRuntimeExports.jsxs("div",{className:"word-frequency-label",children:["詞頻：",jsxRuntimeExports.jsx(StarRating,{frequency:t.word_fre})]}),t.word_str&&jsxRuntimeExports.jsx("div",{className:"word-category-label",children:i})]})]}),ExampleItem=({example:t,playAudio:e})=>{var i,o;return((i=t.ex_tay)==null?void 0:i.trim())||((o=t.ex_ch)==null?void 0:o.trim())?jsxRuntimeExports.jsxs("div",{className:"example-item",children:[jsxRuntimeExports.jsxs("div",{className:"example-tayal",children:[t.ex_tay,jsxRuntimeExports.jsx(AudioButton,{audioUrl:t.ex_tay_audio,onPlay:e,size:14})]}),jsxRuntimeExports.jsx("div",{className:"example-ch",children:t.ex_ch})]}):null},DefinitionDetails=({definitions:t,playAudio:e})=>t!=null&&t.length?jsxRuntimeExports.jsx("div",{className:"definitions-container",children:t.map((n,i)=>{var o;return jsxRuntimeExports.jsxs("div",{className:"definition-item",children:[n.word_cate&&jsxRuntimeExports.jsx("h6",{className:"definition-category",children:jsxRuntimeExports.jsx("strong",{children:"例句"})}),((o=n.examples)==null?void 0:o.length)>0&&jsxRuntimeExports.jsx("div",{className:"examples-container",children:n.examples.map((l,u)=>jsxRuntimeExports.jsx(ExampleItem,{example:l,playAudio:e},u))})]},i)})}):null,WordCardWithImg=({word:t,category:e,result:n,keyName:i,expandedWord:o,toggleExpand:l,toggleFavorite:u,playAudio:f,isFavorited:d})=>{const p=o===i;return jsxRuntimeExports.jsx("div",{className:"word-card-container",children:jsxRuntimeExports.jsxs("div",{className:`word-card ${p?"flipped":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"word-card-front",onClick:()=>l(i),children:[jsxRuntimeExports.jsx(WordCardImage,{imageUrl:n.word_img,word:n.word_tayal,isFavorited:d,onToggleFavorite:u}),jsxRuntimeExports.jsx("div",{className:"word-card-header",children:jsxRuntimeExports.jsx(WordCardInfo,{result:n,word:t,playAudio:f,category:e})})]}),jsxRuntimeExports.jsxs("div",{className:"word-card-back",onClick:()=>l(i),children:[jsxRuntimeExports.jsxs("div",{className:"word-card-back-header",children:[jsxRuntimeExports.jsxs("h4",{className:"tayal-word-back",children:[n.word_tayal||"無資料",jsxRuntimeExports.jsx(AudioButton,{audioUrl:n.word_audio,onPlay:g=>{g.stopPropagation(),f(n.word_audio)},size:18})]}),jsxRuntimeExports.jsx("h5",{className:"chinese-word-back",children:t})]}),jsxRuntimeExports.jsx("div",{className:"word-card-details",children:jsxRuntimeExports.jsx(DefinitionDetails,{definitions:n.defins,playAudio:g=>{f(g)}})}),jsxRuntimeExports.jsx("div",{className:"flip-back-btn",children:jsxRuntimeExports.jsx("small",{className:"text-muted",children:"點擊返回"})})]})]})},i)},SearchAndFilterControls=({tab:t,state:e,onStateChange:n,alphabet:i})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(InputGroup$1,{className:"mb-3",children:[jsxRuntimeExports.jsx(Form$1.Control,{placeholder:"請輸入查詢內容",value:e.inputValue||"",onChange:o=>n("inputValue",o.target.value),onKeyDown:o=>{o.key==="Enter"&&n("activeQuery",e.inputValue)}}),jsxRuntimeExports.jsx(Button,{variant:"danger",onClick:()=>n("activeQuery",e.inputValue),children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:jsxRuntimeExports.jsx("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})})})]}),jsxRuntimeExports.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline-secondary",size:"sm",onClick:()=>n("sortOrder",e.sortOrder==="asc"?"desc":"asc"),children:["排序：",e.sortOrder==="asc"?"A→Z":"Z→A"]}),jsxRuntimeExports.jsxs(Dropdown$1,{onSelect:o=>n("filterLetter",o),children:[jsxRuntimeExports.jsxs(Dropdown$1.Toggle,{variant:"outline-secondary",size:"sm",children:["開頭：",e.filterLetter||"全部"]}),jsxRuntimeExports.jsxs(Dropdown$1.Menu,{children:[jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:"",children:"全部"}),i.map(o=>jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:o,children:o},o))]})]}),jsxRuntimeExports.jsxs(Dropdown$1,{onSelect:o=>n("frequencyFilter",o),children:[jsxRuntimeExports.jsxs(Dropdown$1.Toggle,{variant:"outline-secondary",size:"sm",children:["詞頻：",e.frequencyFilter?`${e.frequencyFilter}★`:"全部"]}),jsxRuntimeExports.jsxs(Dropdown$1.Menu,{children:[jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:"",children:"全部"}),[4,3,2,1].map(o=>jsxRuntimeExports.jsx(Dropdown$1.Item,{eventKey:o,children:`${o}★`},o))]})]})]})]}),useTabState=t=>{const[e,n]=reactExports.useState({});return reactExports.useEffect(()=>{const o={};t.forEach(l=>{e[l.id]?o[l.id]=e[l.id]:o[l.id]={inputValue:"",activeQuery:"",sortOrder:"asc",filterLetter:"",frequencyFilter:""}}),n(o)},[t]),[e,(o,l,u)=>{n(f=>({...f,[o]:{...f[o],[l]:u}}))}]},useFilterAndSort=t=>{const e=(i,o)=>{if(!o)return!0;const l=o.toLowerCase(),u=(i.word_tayal||"").toLowerCase(),f=(i.word_ch||"").toLowerCase(),d=i.defins||[];return u.includes(l)||f.includes(l)||d.some(p=>(p.word_ch||"").toLowerCase().includes(l))};return(i,o)=>t.filter(l=>{var A;const u=(l.word_tayal||"").toLowerCase(),f=i.includes(l.word_tayal),d=!o.filterLetter||u.startsWith(o.filterLetter),p=(((A=l.word_fre)==null?void 0:A.match(/★/g))||[]).length,g=!o.frequencyFilter||p===parseInt(o.frequencyFilter),E=e(l,o.activeQuery);return f&&d&&g&&E}).sort((l,u)=>{const f=(l.word_tayal||"").toLowerCase(),d=(u.word_tayal||"").toLowerCase();return o.sortOrder==="asc"?f.localeCompare(d):d.localeCompare(f)})},App$1=()=>{const[t,e]=reactExports.useState(null),[n,i]=reactExports.useState([]),[o,l]=reactExports.useState(1),[u,f]=reactExports.useState([]),[d,p]=reactExports.useState(null),[g,E]=reactExports.useState(null),[A,R]=reactExports.useState(!1),[I,j]=reactExports.useState(!1),q=se=>p(ue=>ue===se?null:se),[L,z]=useTabState(n),U=useFilterAndSort(u),W=useLocation(),H=[...Array(26)].map((se,ue)=>String.fromCharCode(97+ue)).concat("'");reactExports.useEffect(()=>{var se;(se=W.state)!=null&&se.tabId&&l(W.state.tabId)},[W.state]),reactExports.useEffect(()=>{R(!0),axios.post("http://127.0.0.1:8001/dictionary/all/").then(fe=>{f(Object.values(fe.data.all_results).flat()),R(!1)}).catch(fe=>{console.error("載入單字失敗：",fe),R(!1)});const se=authChanges(fe=>{fe&&(e(fe),i(fe.firestoreData.favorites||[]))}),ue=setTimeout(()=>j(!0),1500);return()=>{se(),clearTimeout(ue),g&&g.pause()}},[]);const Z=se=>{if(se){g&&g.pause();const ue=new Audio(se);ue.play().catch(fe=>console.error("音頻播放失敗：",fe)),E(ue)}},Y=async(se,ue)=>{try{const fe=n.map(ge=>{if(ge.id!==ue)return ge;const me=ge.content.includes(se)?ge.content.filter(ee=>ee!==se):[...ge.content,se];return{...ge,content:me}}),_e=doc(db,"users",t.uid);await updateDoc(_e,{favorites:fe}),i(fe)}catch(fe){console.error("收藏操作失敗：",fe)}};if(!t&&I)return jsxRuntimeExports.jsx(permission_protect,{});const J=n.find(se=>se.id===o),ne=L[o]||{},ae=J?U(J.content,ne):[];return jsxRuntimeExports.jsxs(Container,{className:"p-2 word-library-container",children:[jsxRuntimeExports.jsxs("div",{style:{position:"sticky",top:0,zIndex:900,backgroundColor:"white",paddingTop:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #e5e7eb"},children:[jsxRuntimeExports.jsxs("h2",{className:"fw-bold d-flex align-items-center mb-3",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",className:"bi bi-heart me-2",viewBox:"0 0 16 16",children:jsxRuntimeExports.jsx("path",{d:"M8 2.748L7.283 2.01C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 3.905C2.634 8.313 4.548 10.13 8 12.343c3.452-2.213 5.365-4.03 6.286-5.385.955-1.405.838-2.882.314-3.905C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171.057-.059.116-.115.176-.17C12.72-3.042 23.333 4.867 8 15z"})}),"個人詞語庫"]}),J&&jsxRuntimeExports.jsx(SearchAndFilterControls,{tab:J,state:ne,onStateChange:(se,ue)=>z(o,se,ue),alphabet:H})]}),A?jsxRuntimeExports.jsx("div",{className:"text-center py-5",children:jsxRuntimeExports.jsx("div",{className:"text-muted",children:"載入中..."})}):jsxRuntimeExports.jsx("div",{className:"word-cards-grid",children:ae.map((se,ue)=>{var fe,_e,ge,ce;return jsxRuntimeExports.jsx(WordCardWithImg,{keyName:se.word_tayal+ue,word:se.word_ch||((_e=(fe=se.defins)==null?void 0:fe[0])==null?void 0:_e.word_ch)||"",category:((ce=(ge=se.defins)==null?void 0:ge[0])==null?void 0:ce.word_cate)||"",result:se,expandedWord:d,toggleExpand:q,toggleFavorite:()=>Y(se.word_tayal,J.id),playAudio:Z,isFavorited:J==null?void 0:J.content.includes(se.word_tayal)},se.word_tayal+ue)})})]})},copyProperty=(t,e,n,i)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const o=Object.getOwnPropertyDescriptor(t,n),l=Object.getOwnPropertyDescriptor(e,n);!canCopyProperty(o,l)&&i||Object.defineProperty(t,n,l)},canCopyProperty=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},changePrototype=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},wrappedToString=(t,e)=>`/* Wrapped ${t}*/
${e}`,toStringDescriptor=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),toStringName=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),changeToString=(t,e,n)=>{const i=n===""?"":`with ${n.trim()}() `,o=wrappedToString.bind(null,i,e.toString());Object.defineProperty(o,"name",toStringName);const{writable:l,enumerable:u,configurable:f}=toStringDescriptor;Object.defineProperty(t,"toString",{value:o,writable:l,enumerable:u,configurable:f})};function mimicFunction(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:i}=t;for(const o of Reflect.ownKeys(e))copyProperty(t,e,o,n);return changePrototype(t,e),changeToString(t,e,i),t}const cacheStore=new WeakMap,cacheTimerStore=new WeakMap;function memoize(t,{cacheKey:e,cache:n=new Map,maxAge:i}={}){if(i===0)return t;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...l){var g;const u=e?e(l):l[0],f=n.get(u);if(f)return f.data;const d=t.apply(this,l),p=typeof i=="function"?i(...l):i;if(n.set(u,{data:d,maxAge:p?Date.now()+p:Number.POSITIVE_INFINITY}),p&&p>0&&p!==Number.POSITIVE_INFINITY){const E=setTimeout(()=>{n.delete(u)},p);(g=E.unref)==null||g.call(E);const A=cacheTimerStore.get(t)??new Set;A.add(E),cacheTimerStore.set(t,A)}return d};return mimicFunction(o,t,{ignoreNonConfigurable:!0}),cacheStore.set(o,n),o}function isString(t){return typeof t=="string"}function isUnique(t,e,n){return n.indexOf(t)===e}function isAllLowerCase(t){return t.toLowerCase()===t}function fixCommas(t){return t.indexOf(",")===-1?t:t.split(",")}function normalizeLocale(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return normalizeLocale(n)}if(t.indexOf("@")!==-1){var i=t.split("@")[0],n=i===void 0?"":i;return normalizeLocale(n)}if(t.indexOf("-")===-1||!isAllLowerCase(t))return t;var o=t.split("-"),l=o[0],u=o[1],f=u===void 0?"":u;return"".concat(l,"-").concat(f.toUpperCase())}function getUserLocalesInternal(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,i=n===void 0?!0:n,o=e.fallbackLocale,l=o===void 0?"en-US":o,u=[];if(typeof navigator<"u"){for(var f=navigator.languages||[],d=[],p=0,g=f;p<g.length;p++){var E=g[p];d=d.concat(fixCommas(E))}var A=navigator.language,R=A&&fixCommas(A);u=u.concat(d,R)}return i&&u.push(l),u.filter(isString).map(normalizeLocale).filter(isUnique)}var getUserLocales=memoize(getUserLocalesInternal,{cacheKey:JSON.stringify});function getUserLocaleInternal(t){return getUserLocales(t)[0]||null}var getUserLocale=memoize(getUserLocaleInternal,{cacheKey:JSON.stringify});function makeGetEdgeOfNeighbor(t,e,n){return function(o,l=n){const u=t(o)+l;return e(u)}}function makeGetEnd(t){return function(n){return new Date(t(n).getTime()-1)}}function makeGetRange(t,e){return function(i){return[t(i),e(i)]}}function getYear(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function getMonth(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function getDate(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function getCenturyStart(t){const e=getYear(t),n=e+(-e+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const getPreviousCenturyStart=makeGetEdgeOfNeighbor(getYear,getCenturyStart,-100),getNextCenturyStart=makeGetEdgeOfNeighbor(getYear,getCenturyStart,100),getCenturyEnd=makeGetEnd(getNextCenturyStart),getPreviousCenturyEnd=makeGetEdgeOfNeighbor(getYear,getCenturyEnd,-100),getCenturyRange=makeGetRange(getCenturyStart,getCenturyEnd);function getDecadeStart(t){const e=getYear(t),n=e+(-e+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const getPreviousDecadeStart=makeGetEdgeOfNeighbor(getYear,getDecadeStart,-10),getNextDecadeStart=makeGetEdgeOfNeighbor(getYear,getDecadeStart,10),getDecadeEnd=makeGetEnd(getNextDecadeStart),getPreviousDecadeEnd=makeGetEdgeOfNeighbor(getYear,getDecadeEnd,-10),getDecadeRange=makeGetRange(getDecadeStart,getDecadeEnd);function getYearStart(t){const e=getYear(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const getPreviousYearStart=makeGetEdgeOfNeighbor(getYear,getYearStart,-1),getNextYearStart=makeGetEdgeOfNeighbor(getYear,getYearStart,1),getYearEnd=makeGetEnd(getNextYearStart),getPreviousYearEnd=makeGetEdgeOfNeighbor(getYear,getYearEnd,-1),getYearRange=makeGetRange(getYearStart,getYearEnd);function makeGetEdgeOfNeighborMonth(t,e){return function(i,o=e){const l=getYear(i),u=getMonth(i)+o,f=new Date;return f.setFullYear(l,u,1),f.setHours(0,0,0,0),t(f)}}function getMonthStart(t){const e=getYear(t),n=getMonth(t),i=new Date;return i.setFullYear(e,n,1),i.setHours(0,0,0,0),i}const getPreviousMonthStart=makeGetEdgeOfNeighborMonth(getMonthStart,-1),getNextMonthStart=makeGetEdgeOfNeighborMonth(getMonthStart,1),getMonthEnd=makeGetEnd(getNextMonthStart),getPreviousMonthEnd=makeGetEdgeOfNeighborMonth(getMonthEnd,-1),getMonthRange=makeGetRange(getMonthStart,getMonthEnd);function makeGetEdgeOfNeighborDay(t,e){return function(i,o=e){const l=getYear(i),u=getMonth(i),f=getDate(i)+o,d=new Date;return d.setFullYear(l,u,f),d.setHours(0,0,0,0),t(d)}}function getDayStart(t){const e=getYear(t),n=getMonth(t),i=getDate(t),o=new Date;return o.setFullYear(e,n,i),o.setHours(0,0,0,0),o}const getNextDayStart=makeGetEdgeOfNeighborDay(getDayStart,1),getDayEnd=makeGetEnd(getNextDayStart),getDayRange=makeGetRange(getDayStart,getDayEnd);function getDaysInMonth(t){return getDate(getMonthEnd(t))}var CALENDAR_TYPES={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},CALENDAR_TYPE_LOCALES={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},WEEKDAYS=[0,1,2,3,4,5,6],formatterCache=new Map;function getFormatter(t){return function(n,i){var o=n||getUserLocale();formatterCache.has(o)||formatterCache.set(o,new Map);var l=formatterCache.get(o);return l.has(t)||l.set(t,new Intl.DateTimeFormat(o||void 0,t).format),l.get(t)(i)}}function toSafeHour(t){var e=new Date(t);return new Date(e.setHours(12))}function getSafeFormatter(t){return function(e,n){return getFormatter(t)(e,toSafeHour(n))}}var formatDayOptions={day:"numeric"},formatLongDateOptions={day:"numeric",month:"long",year:"numeric"},formatMonthOptions={month:"long"},formatMonthYearOptions={month:"long",year:"numeric"},formatShortWeekdayOptions={weekday:"short"},formatWeekdayOptions={weekday:"long"},formatYearOptions={year:"numeric"},formatDay=getSafeFormatter(formatDayOptions),formatLongDate=getSafeFormatter(formatLongDateOptions),formatMonth=getSafeFormatter(formatMonthOptions),formatMonthYear=getSafeFormatter(formatMonthYearOptions),formatShortWeekday=getSafeFormatter(formatShortWeekdayOptions),formatWeekday=getSafeFormatter(formatWeekdayOptions),formatYear=getSafeFormatter(formatYearOptions),SUNDAY=WEEKDAYS[0],FRIDAY=WEEKDAYS[5],SATURDAY=WEEKDAYS[6];function getDayOfWeek(t,e){e===void 0&&(e=CALENDAR_TYPES.ISO_8601);var n=t.getDay();switch(e){case CALENDAR_TYPES.ISO_8601:return(n+6)%7;case CALENDAR_TYPES.ISLAMIC:return(n+1)%7;case CALENDAR_TYPES.HEBREW:case CALENDAR_TYPES.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function getBeginOfCenturyYear(t){var e=getCenturyStart(t);return getYear(e)}function getBeginOfDecadeYear(t){var e=getDecadeStart(t);return getYear(e)}function getBeginOfWeek(t,e){e===void 0&&(e=CALENDAR_TYPES.ISO_8601);var n=getYear(t),i=getMonth(t),o=t.getDate()-getDayOfWeek(t,e);return new Date(n,i,o)}function getWeekNumber(t,e){e===void 0&&(e=CALENDAR_TYPES.ISO_8601);var n=e===CALENDAR_TYPES.GREGORY?CALENDAR_TYPES.GREGORY:CALENDAR_TYPES.ISO_8601,i=getBeginOfWeek(t,e),o=getYear(t)+1,l,u;do l=new Date(o,0,n===CALENDAR_TYPES.ISO_8601?4:1),u=getBeginOfWeek(l,e),o-=1;while(t<u);return Math.round((i.getTime()-u.getTime())/(864e5*7))+1}function getBegin(t,e){switch(t){case"century":return getCenturyStart(e);case"decade":return getDecadeStart(e);case"year":return getYearStart(e);case"month":return getMonthStart(e);case"day":return getDayStart(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function getBeginPrevious(t,e){switch(t){case"century":return getPreviousCenturyStart(e);case"decade":return getPreviousDecadeStart(e);case"year":return getPreviousYearStart(e);case"month":return getPreviousMonthStart(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function getBeginNext(t,e){switch(t){case"century":return getNextCenturyStart(e);case"decade":return getNextDecadeStart(e);case"year":return getNextYearStart(e);case"month":return getNextMonthStart(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function getBeginPrevious2(t,e){switch(t){case"decade":return getPreviousDecadeStart(e,-100);case"year":return getPreviousYearStart(e,-10);case"month":return getPreviousMonthStart(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function getBeginNext2(t,e){switch(t){case"decade":return getNextDecadeStart(e,100);case"year":return getNextYearStart(e,10);case"month":return getNextMonthStart(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function getEnd(t,e){switch(t){case"century":return getCenturyEnd(e);case"decade":return getDecadeEnd(e);case"year":return getYearEnd(e);case"month":return getMonthEnd(e);case"day":return getDayEnd(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function getEndPrevious(t,e){switch(t){case"century":return getPreviousCenturyEnd(e);case"decade":return getPreviousDecadeEnd(e);case"year":return getPreviousYearEnd(e);case"month":return getPreviousMonthEnd(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function getEndPrevious2(t,e){switch(t){case"decade":return getPreviousDecadeEnd(e,-100);case"year":return getPreviousYearEnd(e,-10);case"month":return getPreviousMonthEnd(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function getRange(t,e){switch(t){case"century":return getCenturyRange(e);case"decade":return getDecadeRange(e);case"year":return getYearRange(e);case"month":return getMonthRange(e);case"day":return getDayRange(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function getValueRange(t,e,n){var i=[e,n].sort(function(o,l){return o.getTime()-l.getTime()});return[getBegin(t,i[0]),getEnd(t,i[1])]}function toYearLabel(t,e,n){return n.map(function(i){return(e||formatYear)(t,i)}).join(" – ")}function getCenturyLabel(t,e,n){return toYearLabel(t,e,getCenturyRange(n))}function getDecadeLabel(t,e,n){return toYearLabel(t,e,getDecadeRange(n))}function isCurrentDayOfWeek(t){return t.getDay()===new Date().getDay()}function isWeekend(t,e){e===void 0&&(e=CALENDAR_TYPES.ISO_8601);var n=t.getDay();switch(e){case CALENDAR_TYPES.ISLAMIC:case CALENDAR_TYPES.HEBREW:return n===FRIDAY||n===SATURDAY;case CALENDAR_TYPES.ISO_8601:case CALENDAR_TYPES.GREGORY:return n===SATURDAY||n===SUNDAY;default:throw new Error("Unsupported calendar type.")}}var className$6="react-calendar__navigation";function Navigation(t){var e=t.activeStartDate,n=t.drillUp,i=t.formatMonthYear,o=i===void 0?formatMonthYear:i,l=t.formatYear,u=l===void 0?formatYear:l,f=t.locale,d=t.maxDate,p=t.minDate,g=t.navigationAriaLabel,E=g===void 0?"":g,A=t.navigationAriaLive,R=t.navigationLabel,I=t.next2AriaLabel,j=I===void 0?"":I,q=t.next2Label,L=q===void 0?"»":q,z=t.nextAriaLabel,U=z===void 0?"":z,W=t.nextLabel,H=W===void 0?"›":W,Z=t.prev2AriaLabel,Y=Z===void 0?"":Z,J=t.prev2Label,ne=J===void 0?"«":J,ae=t.prevAriaLabel,se=ae===void 0?"":ae,ue=t.prevLabel,fe=ue===void 0?"‹":ue,_e=t.setActiveStartDate,ge=t.showDoubleView,ce=t.view,me=t.views,ee=me.indexOf(ce)>0,ie=ce!=="century",oe=getBeginPrevious(ce,e),de=ie?getBeginPrevious2(ce,e):void 0,xe=getBeginNext(ce,e),Ee=ie?getBeginNext2(ce,e):void 0,Ae=function(){if(oe.getFullYear()<0)return!0;var ke=getEndPrevious(ce,e);return p&&p>=ke}(),Ce=ie&&function(){if(de.getFullYear()<0)return!0;var ke=getEndPrevious2(ce,e);return p&&p>=ke}(),Oe=d&&d<xe,We=ie&&d&&d<Ee;function qe(){_e(oe,"prev")}function Ne(){_e(de,"prev2")}function Me(){_e(xe,"next")}function Be(){_e(Ee,"next2")}function je(ke){var Ge=function(){switch(ce){case"century":return getCenturyLabel(f,u,ke);case"decade":return getDecadeLabel(f,u,ke);case"year":return u(f,ke);case"month":return o(f,ke);default:throw new Error("Invalid view: ".concat(ce,"."))}}();return R?R({date:ke,label:Ge,locale:f||getUserLocale()||void 0,view:ce}):Ge}function ze(){var ke="".concat(className$6,"__label");return jsxRuntimeExports.jsxs("button",{"aria-label":E,"aria-live":A,className:ke,disabled:!ee,onClick:n,style:{flexGrow:1},type:"button",children:[jsxRuntimeExports.jsx("span",{className:"".concat(ke,"__labelText ").concat(ke,"__labelText--from"),children:je(e)}),ge?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"".concat(ke,"__divider"),children:" – "}),jsxRuntimeExports.jsx("span",{className:"".concat(ke,"__labelText ").concat(ke,"__labelText--to"),children:je(xe)})]}):null]})}return jsxRuntimeExports.jsxs("div",{className:className$6,children:[ne!==null&&ie?jsxRuntimeExports.jsx("button",{"aria-label":Y,className:"".concat(className$6,"__arrow ").concat(className$6,"__prev2-button"),disabled:Ce,onClick:Ne,type:"button",children:ne}):null,fe!==null&&jsxRuntimeExports.jsx("button",{"aria-label":se,className:"".concat(className$6,"__arrow ").concat(className$6,"__prev-button"),disabled:Ae,onClick:qe,type:"button",children:fe}),ze(),H!==null&&jsxRuntimeExports.jsx("button",{"aria-label":U,className:"".concat(className$6,"__arrow ").concat(className$6,"__next-button"),disabled:Oe,onClick:Me,type:"button",children:H}),L!==null&&ie?jsxRuntimeExports.jsx("button",{"aria-label":j,className:"".concat(className$6,"__arrow ").concat(className$6,"__next2-button"),disabled:We,onClick:Be,type:"button",children:L}):null]})}var __assign$e=function(){return __assign$e=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$e.apply(this,arguments)},__rest$a=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function toPercent(t){return"".concat(t,"%")}function Flex(t){var e=t.children,n=t.className,i=t.count,o=t.direction,l=t.offset,u=t.style,f=t.wrap,d=__rest$a(t,["children","className","count","direction","offset","style","wrap"]);return jsxRuntimeExports.jsx("div",__assign$e({className:n,style:__assign$e({display:"flex",flexDirection:o,flexWrap:f?"wrap":"nowrap"},u)},d,{children:reactExports.Children.map(e,function(p,g){var E=l&&g===0?toPercent(100*l/i):null;return reactExports.cloneElement(p,__assign$e(__assign$e({},p.props),{style:{flexBasis:toPercent(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:E,marginInlineStart:E,marginInlineEnd:0}}))})}))}function between(t,e,n){return e&&e>t?e:n&&n<t?n:t}function isValueWithinRange(t,e){return e[0]<=t&&e[1]>=t}function isRangeWithinRange(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function doRangesOverlap(t,e){return isValueWithinRange(t[0],e)||isValueWithinRange(t[1],e)}function getRangeClassNames(t,e,n){var i=doRangesOverlap(e,t),o=[];if(i){o.push(n);var l=isValueWithinRange(t[0],e),u=isValueWithinRange(t[1],e);l&&o.push("".concat(n,"Start")),u&&o.push("".concat(n,"End")),l&&u&&o.push("".concat(n,"BothEnds"))}return o}function isCompleteValue(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function getTileClasses(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,i=t.hover,o="react-calendar__tile",l=[o];if(!n)return l;var u=new Date,f=function(){if(Array.isArray(n))return n;var R=t.dateType;if(!R)throw new Error("dateType is required when date is not an array of two dates");return getRange(R,n)}();if(isValueWithinRange(u,f)&&l.push("".concat(o,"--now")),!e||!isCompleteValue(e))return l;var d=function(){if(Array.isArray(e))return e;var R=t.valueType;if(!R)throw new Error("valueType is required when value is not an array of two dates");return getRange(R,e)}();isRangeWithinRange(d,f)?l.push("".concat(o,"--active")):doRangesOverlap(d,f)&&l.push("".concat(o,"--hasActive"));var p=getRangeClassNames(d,f,"".concat(o,"--range"));l.push.apply(l,p);var g=Array.isArray(e)?e:[e];if(i&&g.length===1){var E=i>d[0]?[d[0],i]:[i,d[0]],A=getRangeClassNames(E,f,"".concat(o,"--hover"));l.push.apply(l,A)}return l}function TileGroup(t){for(var e=t.className,n=t.count,i=n===void 0?3:n,o=t.dateTransform,l=t.dateType,u=t.end,f=t.hover,d=t.offset,p=t.renderTile,g=t.start,E=t.step,A=E===void 0?1:E,R=t.value,I=t.valueType,j=[],q=g;q<=u;q+=A){var L=o(q);j.push(p({classes:getTileClasses({date:L,dateType:l,hover:f,value:R,valueType:I}),date:L}))}return jsxRuntimeExports.jsx(Flex,{className:e,count:i,offset:d,wrap:!0,children:j})}function Tile(t){var e=t.activeStartDate,n=t.children,i=t.classes,o=t.date,l=t.formatAbbr,u=t.locale,f=t.maxDate,d=t.maxDateTransform,p=t.minDate,g=t.minDateTransform,E=t.onClick,A=t.onMouseOver,R=t.style,I=t.tileClassName,j=t.tileContent,q=t.tileDisabled,L=t.view,z=reactExports.useMemo(function(){var W={activeStartDate:e,date:o,view:L};return typeof I=="function"?I(W):I},[e,o,I,L]),U=reactExports.useMemo(function(){var W={activeStartDate:e,date:o,view:L};return typeof j=="function"?j(W):j},[e,o,j,L]);return jsxRuntimeExports.jsxs("button",{className:clsx(i,z),disabled:p&&g(p)>o||f&&d(f)<o||(q==null?void 0:q({activeStartDate:e,date:o,view:L})),onClick:E?function(W){return E(o,W)}:void 0,onFocus:A?function(){return A(o)}:void 0,onMouseOver:A?function(){return A(o)}:void 0,style:R,type:"button",children:[l?jsxRuntimeExports.jsx("abbr",{"aria-label":l(u,o),children:n}):n,U]})}var __assign$d=function(){return __assign$d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$d.apply(this,arguments)},__rest$9=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n},className$5="react-calendar__century-view__decades__decade";function Decade(t){var e=t.classes,n=e===void 0?[]:e,i=t.currentCentury,o=t.formatYear,l=o===void 0?formatYear:o,u=__rest$9(t,["classes","currentCentury","formatYear"]),f=u.date,d=u.locale,p=[];return n&&p.push.apply(p,n),p.push(className$5),getCenturyStart(f).getFullYear()!==i&&p.push("".concat(className$5,"--neighboringCentury")),jsxRuntimeExports.jsx(Tile,__assign$d({},u,{classes:p,maxDateTransform:getDecadeEnd,minDateTransform:getDecadeStart,view:"century",children:getDecadeLabel(d,l,f)}))}var __assign$c=function(){return __assign$c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$c.apply(this,arguments)},__rest$8=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function Decades(t){var e=t.activeStartDate,n=t.hover,i=t.showNeighboringCentury,o=t.value,l=t.valueType,u=__rest$8(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),f=getBeginOfCenturyYear(e),d=f+(i?119:99);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__century-view__decades",dateTransform:getDecadeStart,dateType:"decade",end:d,hover:n,renderTile:function(p){var g=p.date,E=__rest$8(p,["date"]);return jsxRuntimeExports.jsx(Decade,__assign$c({},u,E,{activeStartDate:e,currentCentury:f,date:g}),g.getTime())},start:f,step:10,value:o,valueType:l})}var __assign$b=function(){return __assign$b=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$b.apply(this,arguments)};function CenturyView(t){function e(){return jsxRuntimeExports.jsx(Decades,__assign$b({},t))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__century-view",children:e()})}var __assign$a=function(){return __assign$a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$a.apply(this,arguments)},__rest$7=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n},className$4="react-calendar__decade-view__years__year";function Year(t){var e=t.classes,n=e===void 0?[]:e,i=t.currentDecade,o=t.formatYear,l=o===void 0?formatYear:o,u=__rest$7(t,["classes","currentDecade","formatYear"]),f=u.date,d=u.locale,p=[];return n&&p.push.apply(p,n),p.push(className$4),getDecadeStart(f).getFullYear()!==i&&p.push("".concat(className$4,"--neighboringDecade")),jsxRuntimeExports.jsx(Tile,__assign$a({},u,{classes:p,maxDateTransform:getYearEnd,minDateTransform:getYearStart,view:"decade",children:l(d,f)}))}var __assign$9=function(){return __assign$9=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$9.apply(this,arguments)},__rest$6=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function Years(t){var e=t.activeStartDate,n=t.hover,i=t.showNeighboringDecade,o=t.value,l=t.valueType,u=__rest$6(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),f=getBeginOfDecadeYear(e),d=f+(i?11:9);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__decade-view__years",dateTransform:getYearStart,dateType:"year",end:d,hover:n,renderTile:function(p){var g=p.date,E=__rest$6(p,["date"]);return jsxRuntimeExports.jsx(Year,__assign$9({},u,E,{activeStartDate:e,currentDecade:f,date:g}),g.getTime())},start:f,value:o,valueType:l})}var __assign$8=function(){return __assign$8=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$8.apply(this,arguments)};function DecadeView(t){function e(){return jsxRuntimeExports.jsx(Years,__assign$8({},t))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__decade-view",children:e()})}var __assign$7=function(){return __assign$7=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$7.apply(this,arguments)},__rest$5=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n},__spreadArray=function(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))},className$3="react-calendar__year-view__months__month";function Month(t){var e=t.classes,n=e===void 0?[]:e,i=t.formatMonth,o=i===void 0?formatMonth:i,l=t.formatMonthYear,u=l===void 0?formatMonthYear:l,f=__rest$5(t,["classes","formatMonth","formatMonthYear"]),d=f.date,p=f.locale;return jsxRuntimeExports.jsx(Tile,__assign$7({},f,{classes:__spreadArray(__spreadArray([],n,!0),[className$3],!1),formatAbbr:u,maxDateTransform:getMonthEnd,minDateTransform:getMonthStart,view:"year",children:o(p,d)}))}var __assign$6=function(){return __assign$6=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$6.apply(this,arguments)},__rest$4=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function Months(t){var e=t.activeStartDate,n=t.hover,i=t.value,o=t.valueType,l=__rest$4(t,["activeStartDate","hover","value","valueType"]),u=0,f=11,d=getYear(e);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__year-view__months",dateTransform:function(p){var g=new Date;return g.setFullYear(d,p,1),getMonthStart(g)},dateType:"month",end:f,hover:n,renderTile:function(p){var g=p.date,E=__rest$4(p,["date"]);return jsxRuntimeExports.jsx(Month,__assign$6({},l,E,{activeStartDate:e,date:g}),g.getTime())},start:u,value:i,valueType:o})}var __assign$5=function(){return __assign$5=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$5.apply(this,arguments)};function YearView(t){function e(){return jsxRuntimeExports.jsx(Months,__assign$5({},t))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__year-view",children:e()})}var __assign$4=function(){return __assign$4=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$4.apply(this,arguments)},__rest$3=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n},className$2="react-calendar__month-view__days__day";function Day(t){var e=t.calendarType,n=t.classes,i=n===void 0?[]:n,o=t.currentMonthIndex,l=t.formatDay,u=l===void 0?formatDay:l,f=t.formatLongDate,d=f===void 0?formatLongDate:f,p=__rest$3(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),g=p.date,E=p.locale,A=[];return i&&A.push.apply(A,i),A.push(className$2),isWeekend(g,e)&&A.push("".concat(className$2,"--weekend")),g.getMonth()!==o&&A.push("".concat(className$2,"--neighboringMonth")),jsxRuntimeExports.jsx(Tile,__assign$4({},p,{classes:A,formatAbbr:d,maxDateTransform:getDayEnd,minDateTransform:getDayStart,view:"month",children:u(E,g)}))}var __assign$3=function(){return __assign$3=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$3.apply(this,arguments)},__rest$2=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function Days(t){var e=t.activeStartDate,n=t.calendarType,i=t.hover,o=t.showFixedNumberOfWeeks,l=t.showNeighboringMonth,u=t.value,f=t.valueType,d=__rest$2(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),p=getYear(e),g=getMonth(e),E=o||l,A=getDayOfWeek(e,n),R=E?0:A,I=(E?-A:0)+1,j=function(){if(o)return I+6*7-1;var q=getDaysInMonth(e);if(l){var L=new Date;L.setFullYear(p,g,q),L.setHours(0,0,0,0);var z=7-getDayOfWeek(L,n)-1;return q+z}return q}();return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__month-view__days",count:7,dateTransform:function(q){var L=new Date;return L.setFullYear(p,g,q),getDayStart(L)},dateType:"day",hover:i,end:j,renderTile:function(q){var L=q.date,z=__rest$2(q,["date"]);return jsxRuntimeExports.jsx(Day,__assign$3({},d,z,{activeStartDate:e,calendarType:n,currentMonthIndex:g,date:L}),L.getTime())},offset:R,start:I,value:u,valueType:f})}var className$1="react-calendar__month-view__weekdays",weekdayClassName="".concat(className$1,"__weekday");function Weekdays(t){for(var e=t.calendarType,n=t.formatShortWeekday,i=n===void 0?formatShortWeekday:n,o=t.formatWeekday,l=o===void 0?formatWeekday:o,u=t.locale,f=t.onMouseLeave,d=new Date,p=getMonthStart(d),g=getYear(p),E=getMonth(p),A=[],R=1;R<=7;R+=1){var I=new Date(g,E,R-getDayOfWeek(p,e)),j=l(u,I);A.push(jsxRuntimeExports.jsx("div",{className:clsx(weekdayClassName,isCurrentDayOfWeek(I)&&"".concat(weekdayClassName,"--current"),isWeekend(I,e)&&"".concat(weekdayClassName,"--weekend")),children:jsxRuntimeExports.jsx("abbr",{"aria-label":j,title:j,children:i(u,I).replace(".","")})},R))}return jsxRuntimeExports.jsx(Flex,{className:className$1,count:7,onFocus:f,onMouseOver:f,children:A})}var __assign$2=function(){return __assign$2=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$2.apply(this,arguments)},__rest$1=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n},className="react-calendar__tile";function WeekNumber(t){var e=t.onClickWeekNumber,n=t.weekNumber,i=jsxRuntimeExports.jsx("span",{children:n});if(e){var o=t.date,l=t.onClickWeekNumber,u=t.weekNumber,f=__rest$1(t,["date","onClickWeekNumber","weekNumber"]);return jsxRuntimeExports.jsx("button",__assign$2({},f,{className,onClick:function(d){return l(u,o,d)},type:"button",children:i}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var f=__rest$1(t,["date","onClickWeekNumber","weekNumber"]);return jsxRuntimeExports.jsx("div",__assign$2({},f,{className,children:i}))}}function WeekNumbers(t){var e=t.activeStartDate,n=t.calendarType,i=t.onClickWeekNumber,o=t.onMouseLeave,l=t.showFixedNumberOfWeeks,u=function(){if(l)return 6;var p=getDaysInMonth(e),g=getDayOfWeek(e,n),E=p-(7-g);return 1+Math.ceil(E/7)}(),f=function(){for(var p=getYear(e),g=getMonth(e),E=getDate(e),A=[],R=0;R<u;R+=1)A.push(getBeginOfWeek(new Date(p,g,E+R*7),n));return A}(),d=f.map(function(p){return getWeekNumber(p,n)});return jsxRuntimeExports.jsx(Flex,{className:"react-calendar__month-view__weekNumbers",count:u,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:d.map(function(p,g){var E=f[g];if(!E)throw new Error("date is not defined");return jsxRuntimeExports.jsx(WeekNumber,{date:E,onClickWeekNumber:i,weekNumber:p},p)})})}var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$1.apply(this,arguments)},__rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function getCalendarTypeFromLocale(t){if(t)for(var e=0,n=Object.entries(CALENDAR_TYPE_LOCALES);e<n.length;e++){var i=n[e],o=i[0],l=i[1];if(l.includes(t))return o}return CALENDAR_TYPES.ISO_8601}function MonthView(t){var e=t.activeStartDate,n=t.locale,i=t.onMouseLeave,o=t.showFixedNumberOfWeeks,l=t.calendarType,u=l===void 0?getCalendarTypeFromLocale(n):l,f=t.formatShortWeekday,d=t.formatWeekday,p=t.onClickWeekNumber,g=t.showWeekNumbers,E=__rest(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function A(){return jsxRuntimeExports.jsx(Weekdays,{calendarType:u,formatShortWeekday:f,formatWeekday:d,locale:n,onMouseLeave:i})}function R(){return g?jsxRuntimeExports.jsx(WeekNumbers,{activeStartDate:e,calendarType:u,onClickWeekNumber:p,onMouseLeave:i,showFixedNumberOfWeeks:o}):null}function I(){return jsxRuntimeExports.jsx(Days,__assign$1({calendarType:u},E))}var j="react-calendar__month-view";return jsxRuntimeExports.jsx("div",{className:clsx(j,g?"".concat(j,"--weekNumbers"):""),children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[R(),jsxRuntimeExports.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[A(),I()]})]})})}var __assign=function(){return __assign=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign.apply(this,arguments)},baseClassName="react-calendar",allViews=["century","decade","year","month"],allValueTypes=["decade","year","month","day"],defaultMinDate=new Date;defaultMinDate.setFullYear(1,0,1);defaultMinDate.setHours(0,0,0,0);var defaultMaxDate=new Date(864e13);function toDate(t){return t instanceof Date?t:new Date(t)}function getLimitedViews(t,e){return allViews.slice(allViews.indexOf(t),allViews.indexOf(e)+1)}function isViewAllowed(t,e,n){var i=getLimitedViews(e,n);return i.indexOf(t)!==-1}function getView(t,e,n){return t&&isViewAllowed(t,e,n)?t:n}function getValueType(t){var e=allViews.indexOf(t);return allValueTypes[e]}function getValue(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var i=toDate(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(t));return i}function getDetailValue(t,e){var n=t.value,i=t.minDate,o=t.maxDate,l=t.maxDetail,u=getValue(n,e);if(!u)return null;var f=getValueType(l),d=function(){switch(e){case 0:return getBegin(f,u);case 1:return getEnd(f,u);default:throw new Error("Invalid index value: ".concat(e))}}();return between(d,i,o)}var getDetailValueFrom=function(t){return getDetailValue(t,0)},getDetailValueTo=function(t){return getDetailValue(t,1)},getDetailValueArray=function(t){return[getDetailValueFrom,getDetailValueTo].map(function(e){return e(t)})};function getActiveStartDate(t){var e=t.maxDate,n=t.maxDetail,i=t.minDate,o=t.minDetail,l=t.value,u=t.view,f=getView(u,o,n),d=getDetailValueFrom({value:l,minDate:i,maxDate:e,maxDetail:n})||new Date;return getBegin(f,d)}function getInitialActiveStartDate(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,i=t.defaultValue,o=t.defaultView,l=t.maxDate,u=t.maxDetail,f=t.minDate,d=t.minDetail,p=t.value,g=t.view,E=getView(g,d,u),A=e||n;return A?getBegin(E,A):getActiveStartDate({maxDate:l,maxDetail:u,minDate:f,minDetail:d,value:p||i,view:g||o})}function getIsSingleValue(t){return t&&(!Array.isArray(t)||t.length===1)}function areDatesEqual(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var Calendar=reactExports.forwardRef(function t(e,n){var i=e.activeStartDate,o=e.allowPartialRange,l=e.calendarType,u=e.className,f=e.defaultActiveStartDate,d=e.defaultValue,p=e.defaultView,g=e.formatDay,E=e.formatLongDate,A=e.formatMonth,R=e.formatMonthYear,I=e.formatShortWeekday,j=e.formatWeekday,q=e.formatYear,L=e.goToRangeStartOnSelect,z=L===void 0?!0:L,U=e.inputRef,W=e.locale,H=e.maxDate,Z=H===void 0?defaultMaxDate:H,Y=e.maxDetail,J=Y===void 0?"month":Y,ne=e.minDate,ae=ne===void 0?defaultMinDate:ne,se=e.minDetail,ue=se===void 0?"century":se,fe=e.navigationAriaLabel,_e=e.navigationAriaLive,ge=e.navigationLabel,ce=e.next2AriaLabel,me=e.next2Label,ee=e.nextAriaLabel,ie=e.nextLabel,oe=e.onActiveStartDateChange,de=e.onChange,xe=e.onClickDay,Ee=e.onClickDecade,Ae=e.onClickMonth,Ce=e.onClickWeekNumber,Oe=e.onClickYear,We=e.onDrillDown,qe=e.onDrillUp,Ne=e.onViewChange,Me=e.prev2AriaLabel,Be=e.prev2Label,je=e.prevAriaLabel,ze=e.prevLabel,ke=e.returnValue,Ge=ke===void 0?"start":ke,He=e.selectRange,ct=e.showDoubleView,tr=e.showFixedNumberOfWeeks,ar=e.showNavigation,vt=ar===void 0?!0:ar,xt=e.showNeighboringCentury,ur=e.showNeighboringDecade,yr=e.showNeighboringMonth,Mt=yr===void 0?!0:yr,Sr=e.showWeekNumbers,Lt=e.tileClassName,Ft=e.tileContent,_r=e.tileDisabled,Wr=e.value,mn=e.view,_n=reactExports.useState(f),Ln=_n[0],xn=_n[1],$r=reactExports.useState(null),ti=$r[0],gn=$r[1],Br=reactExports.useState(Array.isArray(d)?d.map(function(gt){return gt!==null?toDate(gt):null}):d!=null?toDate(d):null),Vn=Br[0],Ki=Br[1],bi=reactExports.useState(p),Rn=bi[0],pr=bi[1],Ct=i||Ln||getInitialActiveStartDate({activeStartDate:i,defaultActiveStartDate:f,defaultValue:d,defaultView:p,maxDate:Z,maxDetail:J,minDate:ae,minDetail:ue,value:Wr,view:mn}),At=function(){var gt=function(){return He&&getIsSingleValue(Vn)?Vn:Wr!==void 0?Wr:Vn}();return gt?Array.isArray(gt)?gt.map(function(sr){return sr!==null?toDate(sr):null}):gt!==null?toDate(gt):null:null}(),Ir=getValueType(J),pt=getView(mn||Rn,ue,J),dr=getLimitedViews(ue,J),Lr=He?ti:null,un=dr.indexOf(pt)<dr.length-1,yt=dr.indexOf(pt)>0,yn=reactExports.useCallback(function(gt){var sr=function(){switch(Ge){case"start":return getDetailValueFrom;case"end":return getDetailValueTo;case"range":return getDetailValueArray;default:throw new Error("Invalid returnValue.")}}();return sr({maxDate:Z,maxDetail:J,minDate:ae,value:gt})},[Z,J,ae,Ge]),Tr=reactExports.useCallback(function(gt,sr){xn(gt);var Er={action:sr,activeStartDate:gt,value:At,view:pt};oe&&!areDatesEqual(Ct,gt)&&oe(Er)},[Ct,oe,At,pt]),Rr=reactExports.useCallback(function(gt,sr){var Er=function(){switch(pt){case"century":return Ee;case"decade":return Oe;case"year":return Ae;case"month":return xe;default:throw new Error("Invalid view: ".concat(pt,"."))}}();Er&&Er(gt,sr)},[xe,Ee,Ae,Oe,pt]),wn=reactExports.useCallback(function(gt,sr){if(un){Rr(gt,sr);var Er=dr[dr.indexOf(pt)+1];if(!Er)throw new Error("Attempted to drill down from the lowest view.");xn(gt),pr(Er);var qr={action:"drillDown",activeStartDate:gt,value:At,view:Er};oe&&!areDatesEqual(Ct,gt)&&oe(qr),Ne&&pt!==Er&&Ne(qr),We&&We(qr)}},[Ct,un,oe,Rr,We,Ne,At,pt,dr]),Pn=reactExports.useCallback(function(){if(yt){var gt=dr[dr.indexOf(pt)-1];if(!gt)throw new Error("Attempted to drill up from the highest view.");var sr=getBegin(gt,Ct);xn(sr),pr(gt);var Er={action:"drillUp",activeStartDate:sr,value:At,view:gt};oe&&!areDatesEqual(Ct,sr)&&oe(Er),Ne&&pt!==gt&&Ne(Er),qe&&qe(Er)}},[Ct,yt,oe,qe,Ne,At,pt,dr]),Vr=reactExports.useCallback(function(gt,sr){var Er=At;Rr(gt,sr);var qr=He&&!getIsSingleValue(Er),Hr;if(He)if(qr)Hr=getBegin(Ir,gt);else{if(!Er)throw new Error("previousValue is required");if(Array.isArray(Er))throw new Error("previousValue must not be an array");Hr=getValueRange(Ir,Er,gt)}else Hr=yn(gt);var En=!He||qr||z?getActiveStartDate({maxDate:Z,maxDetail:J,minDate:ae,minDetail:ue,value:Hr,view:pt}):null;sr.persist(),xn(En),Ki(Hr);var ni={action:"onChange",activeStartDate:En,value:Hr,view:pt};if(oe&&!areDatesEqual(Ct,En)&&oe(ni),de)if(He){var li=getIsSingleValue(Hr);if(!li)de(Hr||null,sr);else if(o){if(Array.isArray(Hr))throw new Error("value must not be an array");de([Hr||null,null],sr)}}else de(Hr||null,sr)},[Ct,o,yn,z,Z,J,ae,ue,oe,de,Rr,He,At,Ir,pt]);function Jr(gt){gn(gt)}function xr(){gn(null)}reactExports.useImperativeHandle(n,function(){return{activeStartDate:Ct,drillDown:wn,drillUp:Pn,onChange:Vr,setActiveStartDate:Tr,value:At,view:pt}},[Ct,wn,Pn,Vr,Tr,At,pt]);function Or(gt){var sr=gt?getBeginNext(pt,Ct):getBegin(pt,Ct),Er=un?wn:Vr,qr={activeStartDate:sr,hover:Lr,locale:W,maxDate:Z,minDate:ae,onClick:Er,onMouseOver:He?Jr:void 0,tileClassName:Lt,tileContent:Ft,tileDisabled:_r,value:At,valueType:Ir};switch(pt){case"century":return jsxRuntimeExports.jsx(CenturyView,__assign({formatYear:q,showNeighboringCentury:xt},qr));case"decade":return jsxRuntimeExports.jsx(DecadeView,__assign({formatYear:q,showNeighboringDecade:ur},qr));case"year":return jsxRuntimeExports.jsx(YearView,__assign({formatMonth:A,formatMonthYear:R},qr));case"month":return jsxRuntimeExports.jsx(MonthView,__assign({calendarType:l,formatDay:g,formatLongDate:E,formatShortWeekday:I,formatWeekday:j,onClickWeekNumber:Ce,onMouseLeave:He?xr:void 0,showFixedNumberOfWeeks:typeof tr<"u"?tr:ct,showNeighboringMonth:Mt,showWeekNumbers:Sr},qr));default:throw new Error("Invalid view: ".concat(pt,"."))}}function ri(){return vt?jsxRuntimeExports.jsx(Navigation,{activeStartDate:Ct,drillUp:Pn,formatMonthYear:R,formatYear:q,locale:W,maxDate:Z,minDate:ae,navigationAriaLabel:fe,navigationAriaLive:_e,navigationLabel:ge,next2AriaLabel:ce,next2Label:me,nextAriaLabel:ee,nextLabel:ie,prev2AriaLabel:Me,prev2Label:Be,prevAriaLabel:je,prevLabel:ze,setActiveStartDate:Tr,showDoubleView:ct,view:pt,views:dr}):null}var Ai=Array.isArray(At)?At:[At];return jsxRuntimeExports.jsxs("div",{className:clsx(baseClassName,He&&Ai.length===1&&"".concat(baseClassName,"--selectRange"),ct&&"".concat(baseClassName,"--doubleView"),u),ref:U,children:[ri(),jsxRuntimeExports.jsxs("div",{className:"".concat(baseClassName,"__viewContainer"),onBlur:He?xr:void 0,onMouseLeave:He?xr:void 0,children:[Or(),ct?Or(!0):null]})]})});const userCalendar=({})=>{const[t,e]=reactExports.useState(new Date),[n,i]=reactExports.useState({}),[o,l]=reactExports.useState(""),u=t.toISOString().split("T")[0],[f,d]=reactExports.useState(new Date().toISOString().split("T")[0]),p=A=>{e(A),d(A.toISOString().split("T")[0])},g=()=>{o.trim()&&(i(A=>({...A,[u]:[...A[u]||[],o]})),l(""))},E=A=>{i(R=>{const I=[...R[u]||[]];return I.splice(A,1),{...R,[u]:I}})};return jsxRuntimeExports.jsxs("div",{className:"calendar-wrapper",children:[jsxRuntimeExports.jsx("div",{className:"calendar-left",children:jsxRuntimeExports.jsx(Calendar,{onChange:p,value:t,locale:"zh-TW",calendarType:"gregory",formatDay:(A,R)=>R.getDate().toString(),tileClassName:({date:A,view:R})=>R==="month"&&A.toDateString()===new Date().toDateString()?"today":null,tileContent:({date:A,view:R})=>{var q;const I=A.toISOString().split("T")[0],j=I===f;return R==="month"&&((q=n[I])==null?void 0:q.length)>0?jsxRuntimeExports.jsx("div",{className:"dot-indicator",style:{backgroundColor:j?"white":"#9b1b30"}}):null}})}),jsxRuntimeExports.jsxs("div",{className:"calendar-right",children:[jsxRuntimeExports.jsxs("h2",{children:[u," 的行程"]}),jsxRuntimeExports.jsxs("div",{className:"event-list-scroll",children:[(n[u]||[]).map((A,R)=>jsxRuntimeExports.jsxs("div",{className:"event-card",children:[jsxRuntimeExports.jsx("span",{children:A}),jsxRuntimeExports.jsx("button",{onClick:()=>E(R),title:"刪除",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]},R)),(n[u]||[]).length===0&&jsxRuntimeExports.jsx("div",{className:"no-event",children:"尚無紀錄"})]}),jsxRuntimeExports.jsxs("div",{className:"event-input-bar",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"新增事件...",value:o,onChange:A=>l(A.target.value)}),jsxRuntimeExports.jsx("button",{onClick:g,children:"新增"})]})]})]})},App=()=>jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(App$a,{})}),jsxRuntimeExports.jsx(Route,{path:"/test",element:jsxRuntimeExports.jsx(QuizPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/search",element:jsxRuntimeExports.jsx(App$4,{})}),jsxRuntimeExports.jsx(Route,{path:"/camera",element:jsxRuntimeExports.jsx(App$7,{})}),jsxRuntimeExports.jsx(Route,{path:"/camera/label",element:jsxRuntimeExports.jsx(App$6,{})}),jsxRuntimeExports.jsx(Route,{path:"/camera/result",element:jsxRuntimeExports.jsx(App$5,{})}),jsxRuntimeExports.jsx(Route,{path:"/favorite",element:jsxRuntimeExports.jsx(App$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/game",element:jsxRuntimeExports.jsx(App$3,{})}),jsxRuntimeExports.jsxs(Route,{path:"/quiz",element:jsxRuntimeExports.jsx(App$2,{}),children:[jsxRuntimeExports.jsxs(Route,{path:"",element:jsxRuntimeExports.jsx(Quiz,{}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(Panel_Start,{})}),jsxRuntimeExports.jsx(Route,{path:":level",element:jsxRuntimeExports.jsx(Panel,{})}),jsxRuntimeExports.jsx(Route,{path:":level/submit",element:jsxRuntimeExports.jsx(Panel_Submit,{})})]}),jsxRuntimeExports.jsx(Route,{path:"recommon",element:jsxRuntimeExports.jsx(Recommon,{})}),jsxRuntimeExports.jsx(Route,{path:"situation",element:jsxRuntimeExports.jsx(Situation,{})}),jsxRuntimeExports.jsx(Route,{path:"review",element:jsxRuntimeExports.jsx(Review,{})})]}),jsxRuntimeExports.jsx(Route,{path:"/bot",element:jsxRuntimeExports.jsx(Advice,{})}),jsxRuntimeExports.jsx(Route,{path:"/note",element:jsxRuntimeExports.jsx(NotePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/share/:id",element:jsxRuntimeExports.jsx(NoteShare,{})}),jsxRuntimeExports.jsx(Route,{path:"/note/share",element:jsxRuntimeExports.jsx(NoteShare,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(App$9,{})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(App$8,{})}),jsxRuntimeExports.jsx(Route,{path:"/edit",element:jsxRuntimeExports.jsx(Edit,{})}),jsxRuntimeExports.jsx(Route,{path:"/forgot",element:jsxRuntimeExports.jsx(Forgot$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/reset",element:jsxRuntimeExports.jsx(Forgot,{})}),jsxRuntimeExports.jsx(Route,{path:"/calendar",element:jsxRuntimeExports.jsx(userCalendar,{})}),jsxRuntimeExports.jsx(Route,{path:"/social",element:jsxRuntimeExports.jsx(Index,{})})]}),userSidebar=({userData:t,closeSidebar:e})=>{const n=useNavigate(),[i,o]=reactExports.useState(!1),l=[{id:"social",label:"社群",icon:jsxRuntimeExports.jsx(Users,{size:20})},{id:"favorites",label:"個人詞語庫",icon:jsxRuntimeExports.jsx(Heart,{size:20})},{id:"progress",label:"學習進度",icon:jsxRuntimeExports.jsx(Award,{size:20})},{id:"bot",label:"泰雅助手",icon:jsxRuntimeExports.jsx(Bot,{size:20})},{id:"calendar",label:"行事曆",icon:jsxRuntimeExports.jsx(Calendar$1,{size:20})}],u=()=>{signOut(),n("/")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"sidebar-container",children:[jsxRuntimeExports.jsxs("div",{className:"sidebar-profile",children:[jsxRuntimeExports.jsxs("div",{className:"profile-avatar-container",children:[jsxRuntimeExports.jsx("img",{src:t.firestoreData.avatarUrl?t.firestoreData.avatarUrl:AvatarImg,alt:"頭像"}),jsxRuntimeExports.jsxs("div",{className:"profile-info",children:[jsxRuntimeExports.jsx("h3",{children:t.firestoreData.name}),jsxRuntimeExports.jsx("p",{children:t.firestoreData.email}),jsxRuntimeExports.jsx("span",{children:t.firestoreData.identity})]})]}),jsxRuntimeExports.jsxs("div",{className:"profile-actions",children:[jsxRuntimeExports.jsxs("button",{className:"profile-btn edit-btn",onClick:()=>{e(),n("/edit",{state:t})},children:[jsxRuntimeExports.jsx(SquarePen,{size:14,className:"icon"})," 編輯資料"]}),jsxRuntimeExports.jsxs("button",{className:"profile-btn logout-btn",onClick:u,children:[jsxRuntimeExports.jsx(LogOut,{size:14,className:"icon"})," 登出"]})]})]}),jsxRuntimeExports.jsx("div",{style:{background:"#F9F5F0"},children:jsxRuntimeExports.jsx("nav",{className:"sidebar-nav",children:l.map(({id:f,label:d,icon:p})=>jsxRuntimeExports.jsxs("button",{className:"nav-button",onClick:()=>{f=="calendar"?n("/"+f):f=="bot"?o(!0):f=="favorites"?n("/favorite",{state:{tabId:1}}):f=="social"&&n("/social",{state:t}),e()},children:[jsxRuntimeExports.jsxs("div",{className:"nav-content",children:[jsxRuntimeExports.jsx("span",{className:"nav-icon",children:p}),jsxRuntimeExports.jsx("span",{className:"nav-label",children:d})]}),jsxRuntimeExports.jsx(ChevronDown,{size:18,className:"nav-chevron"})]},f))})}),jsxRuntimeExports.jsx("div",{className:"p-3 border-t text-center text-sm",style:{borderColor:"rgba(232, 195, 158, 0.314)",color:"#543729"},children:"ⓘ 泰雅族語學習平台"})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:i&&jsxRuntimeExports.jsx(Advice,{onClose:()=>o(!1)})})]})},Navbar=({})=>{var I;const[t,e]=reactExports.useState(!1),n=useLocation(),i=useNavigate(),{userData:o}=useAuth(),[l,u]=reactExports.useState(!1),f=reactExports.useRef(null),[d,p]=reactExports.useState(!1),g=[{id:"home",label:"首頁",route:"/"},{id:"search",label:"單詞查詢",icon:jsxRuntimeExports.jsx(TextSearch,{size:24}),route:"/search"},{id:"camera",label:"影像辨識",icon:jsxRuntimeExports.jsx(Camera,{size:20}),route:"/camera"},{id:"game",label:"詞彙遊戲",icon:jsxRuntimeExports.jsx(Gamepad2,{size:20}),route:"/game"},{id:"quiz",label:"測驗",icon:jsxRuntimeExports.jsx(BookOpenCheck,{size:24}),route:"/quiz"}],E=j=>{i(j),p(!1)},A=j=>{i(j),e(!1)},R=()=>{u(!l)};return jsxRuntimeExports.jsxs("nav",{className:"navbar",children:[jsxRuntimeExports.jsxs("div",{className:"navbar-container",children:[jsxRuntimeExports.jsx("div",{className:"logo",onClick:()=>{i("/")},children:"源·語"}),jsxRuntimeExports.jsxs("div",{className:"menu",children:[g.map(({id:j,label:q,icon:L,route:z})=>{const U=n.pathname===z||z!=="/"&&n.pathname.startsWith(z);return jsxRuntimeExports.jsxs("div",{className:`menu-item ${U?"active":""}`,onClick:()=>i(z),children:[L,jsxRuntimeExports.jsx("span",{children:q})]},j)}),jsxRuntimeExports.jsxs("div",{className:`menu-item note-dropdown ${n.pathname.startsWith("/note")?"active":""}`,onClick:()=>p(!d),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(NotebookPen,{size:20}),jsxRuntimeExports.jsx("span",{children:"筆記"}),jsxRuntimeExports.jsx(ChevronDown,{size:16})]}),jsxRuntimeExports.jsxs("div",{className:`dropdown-content ${d?"active":""}`,onMouseLeave:()=>p(!1),children:[jsxRuntimeExports.jsx("div",{className:"dropdown-item",onClick:()=>E("/note"),children:"寫筆記"}),jsxRuntimeExports.jsx("div",{className:"dropdown-item",onClick:()=>E("/note/share"),children:"筆記分享區"})]})]}),o==null?jsxRuntimeExports.jsxs("div",{className:"menu-item",onClick:()=>i("/login"),children:[jsxRuntimeExports.jsx(User$1,{size:24,style:{marginRight:"5px"}}),jsxRuntimeExports.jsx("span",{children:"登入"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"auth-container",children:jsxRuntimeExports.jsxs("div",{className:"auth-container-user",onClick:R,children:[jsxRuntimeExports.jsx("img",{src:((I=o==null?void 0:o.firestoreData)==null?void 0:I.avatarUrl)||AvatarImg,className:"auth-image"}),jsxRuntimeExports.jsx("p",{children:o.firestoreData.name})]})}),l&&jsxRuntimeExports.jsx("div",{className:"overlay",onClick:()=>u(!1)}),jsxRuntimeExports.jsxs("div",{ref:f,className:`sidebar ${l?"open":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"sidebar-header",children:[jsxRuntimeExports.jsx("h3",{children:"個人資料"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>u(!1),children:"×"})]}),jsxRuntimeExports.jsx(userSidebar,{userData:o,closeSidebar:()=>u(!1)})]})]})]}),jsxRuntimeExports.jsx("button",{className:"menu-toggle",onClick:()=>e(!t),children:t?jsxRuntimeExports.jsx(X,{size:28}):jsxRuntimeExports.jsx(Menu,{size:28})})]}),jsxRuntimeExports.jsxs("div",{className:`menu-mobile ${t?"active":""}`,children:[o==null?jsxRuntimeExports.jsxs("div",{className:"menu-mobile-item",onClick:()=>i("/login"),children:[jsxRuntimeExports.jsx(User$1,{size:20}),jsxRuntimeExports.jsx("span",{children:"登入"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"auth-container",children:jsxRuntimeExports.jsxs("div",{className:"mobile-container-user",onClick:R,children:[jsxRuntimeExports.jsx("img",{src:AvatarImg,className:"mobile-image"}),jsxRuntimeExports.jsx("p",{children:o.firestoreData.name})]})}),l&&jsxRuntimeExports.jsx("div",{className:"overlay",onClick:()=>u(!1)}),jsxRuntimeExports.jsxs("div",{ref:f,className:`sidebar ${l?"open":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"sidebar-header",children:[jsxRuntimeExports.jsx("h3",{children:" 個人資料"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>u(!1),children:"×"})]}),jsxRuntimeExports.jsx(userSidebar,{userData:o,closeSidebar:()=>u(!1)})]})]}),g.map(({id:j,label:q,icon:L,route:z})=>jsxRuntimeExports.jsxs("div",{className:"menu-mobile-item",onClick:()=>A(z),children:[L,jsxRuntimeExports.jsx("span",{children:q})]},j)),jsxRuntimeExports.jsxs("div",{className:"menu-mobile-item",onClick:()=>A("/note"),children:[jsxRuntimeExports.jsx(NotebookPen,{size:20}),jsxRuntimeExports.jsx("span",{children:"筆記"})]})]})]})};clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(AuthProvider,{children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx(App,{})]})}));
